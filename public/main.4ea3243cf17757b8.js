(self.webpackChunkasta_pixi=self.webpackChunkasta_pixi||[]).push([[179],{2011:(ke,Ie,P)=>{"use strict";P.d(Ie,{Dh:()=>Y,GT:()=>te,cc:()=>Se,hO:()=>me,on:()=>$,pX:()=>W,xv:()=>oe});var d=P(4650),K=P(127),F=P(2680);ke=P.hmd(ke);const H=["ngOnDestroy"],W=(be,qe,Je,Pe={})=>new Proxy(be,{get:(fe,Te)=>Je.runOutsideAngular(()=>{var Qe;if(be[Te])return!(null===(Qe=Pe?.spy)||void 0===Qe)&&Qe.get&&Pe.spy.get(Te,be[Te]),be[Te];if(H.indexOf(Te)>-1)return()=>{};const X=qe.toPromise().then(Q=>{const we=Q&&Q[Te];return"function"==typeof we?we.bind(Q):we&&we.then?we.then(ne=>Je.run(()=>ne)):Je.run(()=>we)});return new Proxy(()=>{},{get:(Q,we)=>X[we],apply:(Q,we,ne)=>X.then(de=>{var ae;const Ee=de&&de(...ne);return!(null===(ae=Pe?.spy)||void 0===ae)&&ae.apply&&Pe.spy.apply(Te,ne,Ee),Ee})})})}),te=(be,qe)=>{qe.forEach(Je=>{Object.getOwnPropertyNames(Je.prototype||Je).forEach(Pe=>{Object.defineProperty(be.prototype,Pe,Object.getOwnPropertyDescriptor(Je.prototype||Je,Pe))})})};class J{constructor(qe){return qe}}const Y=new d.OlP("angularfire2.app.options"),oe=new d.OlP("angularfire2.app.name");function $(be,qe,Je){const fe="object"==typeof Je&&Je||{};fe.name=fe.name||"string"==typeof Je&&Je||"[DEFAULT]";const Qe=K.Z.apps.filter(X=>X&&X.name===fe.name)[0]||qe.runOutsideAngular(()=>K.Z.initializeApp(be,fe));try{JSON.stringify(be)!==JSON.stringify(Qe.options)&&V("error",`${Qe.name} Firebase App already initialized with different options${ke.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new J(Qe)}const V=(be,...qe)=>{(0,d.X6Q)()&&typeof console<"u"&&console[be](...qe)},j={provide:J,useFactory:$,deps:[Y,d.R0b,[new d.FiY,oe]]};let me=(()=>{class be{constructor(Je){K.Z.registerVersion("angularfire",F.q4.full,"core"),K.Z.registerVersion("angularfire",F.q4.full,"app-compat"),K.Z.registerVersion("angular",d.q4F.full,Je.toString())}static initializeApp(Je,Pe){return{ngModule:be,providers:[{provide:Y,useValue:Je},{provide:oe,useValue:Pe}]}}}return be.\u0275fac=function(Je){return new(Je||be)(d.LFG(d.Lbi))},be.\u0275mod=d.oAB({type:be}),be.\u0275inj=d.cJS({providers:[j]}),be})();function Se(be,qe,Je,Pe,fe){const[,Te,Qe]=globalThis.\u0275AngularfireInstanceCache.find(X=>X[0]===be)||[];if(Te)return function Me(be,qe){try{return be.toString()===qe.toString()}catch{return be===qe}}(fe,Qe)||(_e("error",`${qe} was already initialized on the ${Je} Firebase App with different settings.${Ue?" You may need to reload as Firebase is not HMR aware.":""}`),_e("warn",{is:fe,was:Qe})),Te;{const X=Pe();return globalThis.\u0275AngularfireInstanceCache.push([be,X,fe]),X}}const Ue=!!ke.hot,_e=(be,...qe)=>{(0,d.X6Q)()&&typeof console<"u"&&console[be](...qe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2680:(ke,Ie,P)=>{"use strict";P.d(Ie,{q4:()=>fn,iC:()=>Vl,HU:()=>_u,vb:()=>Ll,JM:()=>Fl});var d=P(4650),K=P(5867),F=P(5861),H=P(9681),W=P(2090),te=P(4859),J=P(1877),Y=P(8766);const oe="@firebase/installations",$="0.5.11",j=`w:${$}`,me="FIS_v2",qe=new W.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Je(A){return A instanceof W.ZR&&A.code.includes("request-failed")}function Pe({projectId:A}){return`https://firebaseinstallations.googleapis.com/v1/projects/${A}/installations`}function fe(A){return{token:A.token,requestStatus:2,expiresIn:de(A.expiresIn),creationTime:Date.now()}}function Te(A,T){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,F.Z)(function*(A,T){const G=(yield T.json()).error;return qe.create("request-failed",{requestName:A,serverCode:G.code,serverMessage:G.message,serverStatus:G.status})})).apply(this,arguments)}function X({apiKey:A}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A})}function Q(A,{refreshToken:T}){const R=X(A);return R.append("Authorization",function ae(A){return`${me} ${A}`}(T)),R}function we(A){return ne.apply(this,arguments)}function ne(){return(ne=(0,F.Z)(function*(A){const T=yield A();return T.status>=500&&T.status<600?A():T})).apply(this,arguments)}function de(A){return Number(A.replace("s","000"))}function Ee(A,T){return ve.apply(this,arguments)}function ve(){return(ve=(0,F.Z)(function*({appConfig:A,heartbeatServiceProvider:T},{fid:R}){const G=Pe(A),ce=X(A),ye=T.getImmediate({optional:!0});if(ye){const ft=yield ye.getHeartbeatsHeader();ft&&ce.append("x-firebase-client",ft)}const Xe={method:"POST",headers:ce,body:JSON.stringify({fid:R,authVersion:me,appId:A.appId,sdkVersion:j})},Ke=yield we(()=>fetch(G,Xe));if(Ke.ok){const ft=yield Ke.json();return{fid:ft.fid||R,registrationStatus:2,refreshToken:ft.refreshToken,authToken:fe(ft.authToken)}}throw yield Te("Create Installation",Ke)})).apply(this,arguments)}function se(A){return new Promise(T=>{setTimeout(T,A)})}const it=/^[cdef][\w-]{21}$/;function Be(){try{const A=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(A),A[0]=112+A[0]%16;const R=function _t(A){return function Ge(A){return btoa(String.fromCharCode(...A)).replace(/\+/g,"-").replace(/\//g,"_")}(A).substr(0,22)}(A);return it.test(R)?R:""}catch{return""}}function xn(A){return`${A.appName}!${A.appId}`}const Jt=new Map;function Ut(A,T){const R=xn(A);Ot(R,T),function Qr(A,T){const R=function cr(){return!Jr&&"BroadcastChannel"in self&&(Jr=new BroadcastChannel("[Firebase] FID Change"),Jr.onmessage=A=>{Ot(A.data.key,A.data.fid)}),Jr}();R&&R.postMessage({key:A,fid:T}),function vr(){0===Jt.size&&Jr&&(Jr.close(),Jr=null)}()}(R,T)}function Ot(A,T){const R=Jt.get(A);if(R)for(const G of R)G(T)}let Jr=null;const rr="firebase-installations-store";let En=null;function ut(){return En||(En=(0,Y.X3)("firebase-installations-database",1,{upgrade:(A,T)=>{0===T&&A.createObjectStore(rr)}})),En}function Xr(A,T){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,F.Z)(function*(A,T){const R=xn(A),ce=(yield ut()).transaction(rr,"readwrite"),ye=ce.objectStore(rr),Oe=yield ye.get(R);return yield ye.put(T,R),yield ce.done,(!Oe||Oe.fid!==T.fid)&&Ut(A,T.fid),T})).apply(this,arguments)}function Cn(A){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,F.Z)(function*(A){const T=xn(A),G=(yield ut()).transaction(rr,"readwrite");yield G.objectStore(rr).delete(T),yield G.done})).apply(this,arguments)}function Nr(A,T){return vt.apply(this,arguments)}function vt(){return(vt=(0,F.Z)(function*(A,T){const R=xn(A),ce=(yield ut()).transaction(rr,"readwrite"),ye=ce.objectStore(rr),Oe=yield ye.get(R),Xe=T(Oe);return void 0===Xe?yield ye.delete(R):yield ye.put(Xe,R),yield ce.done,Xe&&(!Oe||Oe.fid!==Xe.fid)&&Ut(A,Xe.fid),Xe})).apply(this,arguments)}function sn(A){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,F.Z)(function*(A){let T;const R=yield Nr(A.appConfig,G=>{const ce=ei(G),ye=bt(A,ce);return T=ye.registrationPromise,ye.installationEntry});return""===R.fid?{installationEntry:yield T}:{installationEntry:R,registrationPromise:T}})).apply(this,arguments)}function ei(A){return Hr(A||{fid:Be(),registrationStatus:0})}function bt(A,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(qe.create("app-offline"))};const R={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},G=function He(A,T){return wt.apply(this,arguments)}(A,R);return{installationEntry:R,registrationPromise:G}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:dr(A)}:{installationEntry:T}}function wt(){return(wt=(0,F.Z)(function*(A,T){try{const R=yield Ee(A,T);return Xr(A.appConfig,R)}catch(R){throw Je(R)&&409===R.customData.serverCode?yield Cn(A.appConfig):yield Xr(A.appConfig,{fid:T.fid,registrationStatus:0}),R}})).apply(this,arguments)}function dr(A){return nn.apply(this,arguments)}function nn(){return(nn=(0,F.Z)(function*(A){let T=yield At(A.appConfig);for(;1===T.registrationStatus;)yield se(100),T=yield At(A.appConfig);if(0===T.registrationStatus){const{installationEntry:R,registrationPromise:G}=yield sn(A);return G||R}return T})).apply(this,arguments)}function At(A){return Nr(A,T=>{if(!T)throw qe.create("installation-not-found");return Hr(T)})}function Hr(A){return function ir(A){return 1===A.registrationStatus&&A.registrationTime+1e4<Date.now()}(A)?{fid:A.fid,registrationStatus:0}:A}function Pr(A,T){return an.apply(this,arguments)}function an(){return(an=(0,F.Z)(function*({appConfig:A,heartbeatServiceProvider:T},R){const G=ue(A,R),ce=Q(A,R),ye=T.getImmediate({optional:!0});if(ye){const ft=yield ye.getHeartbeatsHeader();ft&&ce.append("x-firebase-client",ft)}const Xe={method:"POST",headers:ce,body:JSON.stringify({installation:{sdkVersion:j,appId:A.appId}})},Ke=yield we(()=>fetch(G,Xe));if(Ke.ok)return fe(yield Ke.json());throw yield Te("Generate Auth Token",Ke)})).apply(this,arguments)}function ue(A,{fid:T}){return`${Pe(A)}/${T}/authTokens:generate`}function Z(A){return ie.apply(this,arguments)}function ie(){return(ie=(0,F.Z)(function*(A,T=!1){let R;const G=yield Nr(A.appConfig,ye=>{if(!Ct(ye))throw qe.create("not-registered");const Oe=ye.authToken;if(!T&&un(Oe))return ye;if(1===Oe.requestStatus)return R=he(A,T),ye;{if(!navigator.onLine)throw qe.create("app-offline");const Xe=jt(ye);return R=We(A,Xe),Xe}});return R?yield R:G.authToken})).apply(this,arguments)}function he(A,T){return z.apply(this,arguments)}function z(){return(z=(0,F.Z)(function*(A,T){let R=yield xe(A.appConfig);for(;1===R.authToken.requestStatus;)yield se(100),R=yield xe(A.appConfig);const G=R.authToken;return 0===G.requestStatus?Z(A,T):G})).apply(this,arguments)}function xe(A){return Nr(A,T=>{if(!Ct(T))throw qe.create("not-registered");return function or(A){return 1===A.requestStatus&&A.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function We(A,T){return ot.apply(this,arguments)}function ot(){return(ot=(0,F.Z)(function*(A,T){try{const R=yield Pr(A,T),G=Object.assign(Object.assign({},T),{authToken:R});return yield Xr(A.appConfig,G),R}catch(R){if(!Je(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const G=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Xr(A.appConfig,G)}else yield Cn(A.appConfig);throw R}})).apply(this,arguments)}function Ct(A){return void 0!==A&&2===A.registrationStatus}function un(A){return 2===A.requestStatus&&!function dn(A){const T=Date.now();return T<A.creationTime||A.creationTime+A.expiresIn<T+36e5}(A)}function jt(A){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},A),{authToken:T})}function Gn(){return(Gn=(0,F.Z)(function*(A){const T=A,{installationEntry:R,registrationPromise:G}=yield sn(T);return G?G.catch(console.error):Z(T).catch(console.error),R.fid})).apply(this,arguments)}function Hn(){return(Hn=(0,F.Z)(function*(A,T=!1){const R=A;return yield Rr(R),(yield Z(R,T)).token})).apply(this,arguments)}function Rr(A){return et.apply(this,arguments)}function et(){return(et=(0,F.Z)(function*(A){const{registrationPromise:T}=yield sn(A);T&&(yield T)})).apply(this,arguments)}function gi(A){return qe.create("missing-app-config-values",{valueName:A})}const xt="installations",Mn=A=>{const T=A.getProvider("app").getImmediate(),R=function St(A){if(!A||!A.options)throw gi("App Configuration");if(!A.name)throw gi("App Name");const T=["projectId","apiKey","appId"];for(const R of T)if(!A.options[R])throw gi(R);return{appName:A.name,projectId:A.options.projectId,apiKey:A.options.apiKey,appId:A.options.appId}}(T);return{app:T,appConfig:R,heartbeatServiceProvider:(0,H._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},as=A=>{const T=A.getProvider("app").getImmediate(),R=(0,H._getProvider)(T,xt).getImmediate();return{getId:()=>function zt(A){return Gn.apply(this,arguments)}(R),getToken:ce=>function hr(A){return Hn.apply(this,arguments)}(R,ce)}};(function To(){(0,H._registerComponent)(new te.wA(xt,Mn,"PUBLIC")),(0,H._registerComponent)(new te.wA("installations-internal",as,"PRIVATE"))})(),(0,H.registerVersion)(oe,$),(0,H.registerVersion)(oe,$,"esm2017");const Bn="@firebase/remote-config",br=new W.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Qu{constructor(T,R,G,ce){this.client=T,this.storage=R,this.storageCache=G,this.logger=ce}isCachedDataFresh(T,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const G=Date.now()-R,ce=G<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${G}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${ce}.`),ce}fetch(T){var R=this;return(0,F.Z)(function*(){const[G,ce]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(ce&&R.isCachedDataFresh(T.cacheMaxAgeMillis,G))return ce;T.eTag=ce&&ce.eTag;const ye=yield R.client.fetch(T),Oe=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ye.status&&Oe.push(R.storage.setLastSuccessfulFetchResponse(ye)),yield Promise.all(Oe),ye})()}}function wl(A=navigator){return A.languages&&A.languages[0]||A.language}class Hs{constructor(T,R,G,ce,ye,Oe){this.firebaseInstallations=T,this.sdkVersion=R,this.namespace=G,this.projectId=ce,this.apiKey=ye,this.appId=Oe}fetch(T){var R=this;return(0,F.Z)(function*(){var G,ce,ye;const[Oe,Xe]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),ft=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,Pt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},pt={sdk_version:R.sdkVersion,app_instance_id:Oe,app_instance_id_token:Xe,app_id:R.appId,language_code:wl()},Jn={method:"POST",headers:Pt,body:JSON.stringify(pt)},vi=fetch(ft,Jn),sl=new Promise((xs,Zi)=>{T.signal.addEventListener(()=>{const zo=new Error("The operation was aborted.");zo.name="AbortError",Zi(zo)})});let bu;try{yield Promise.race([vi,sl]),bu=yield vi}catch(xs){let Zi="fetch-client-network";throw"AbortError"===(null===(G=xs)||void 0===G?void 0:G.name)&&(Zi="fetch-timeout"),br.create(Zi,{originalErrorMessage:null===(ce=xs)||void 0===ce?void 0:ce.message})}let Mi=bu.status;const mo=bu.headers.get("ETag")||void 0;let Ss,Ki;if(200===bu.status){let xs;try{xs=yield bu.json()}catch(Zi){throw br.create("fetch-client-parse",{originalErrorMessage:null===(ye=Zi)||void 0===ye?void 0:ye.message})}Ss=xs.entries,Ki=xs.state}if("INSTANCE_STATE_UNSPECIFIED"===Ki?Mi=500:"NO_CHANGE"===Ki?Mi=304:("NO_TEMPLATE"===Ki||"EMPTY_CONFIG"===Ki)&&(Ss={}),304!==Mi&&200!==Mi)throw br.create("fetch-status",{httpStatus:Mi});return{status:Mi,eTag:mo,config:Ss}})()}}class td{constructor(T,R){this.client=T,this.storage=R}fetch(T){var R=this;return(0,F.Z)(function*(){const G=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(T,G)})()}attemptFetch(T,{throttleEndTimeMillis:R,backoffCount:G}){var ce=this;return(0,F.Z)(function*(){yield function xo(A,T){return new Promise((R,G)=>{const ce=Math.max(T-Date.now(),0),ye=setTimeout(R,ce);A.addEventListener(()=>{clearTimeout(ye),G(br.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,R);try{const ye=yield ce.client.fetch(T);return yield ce.storage.deleteThrottleMetadata(),ye}catch(ye){if(!function ti(A){if(!(A instanceof W.ZR&&A.customData))return!1;const T=Number(A.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ye))throw ye;const Oe={throttleEndTimeMillis:Date.now()+(0,W.$s)(G),backoffCount:G+1};return yield ce.storage.setThrottleMetadata(Oe),ce.attemptFetch(T,Oe)}})()}}class iu{constructor(T,R,G,ce,ye){this.app=T,this._client=R,this._storageCache=G,this._storage=ce,this._logger=ye,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Oa(A,T){var R;const G=A.target.error||void 0;return br.create(T,{originalErrorMessage:G&&(null===(R=G)||void 0===R?void 0:R.message)})}const oo="app_namespace_store";class id{constructor(T,R,G,ce=function rd(){return new Promise((A,T)=>{var R;try{const G=indexedDB.open("firebase_remote_config",1);G.onerror=ce=>{T(Oa(ce,"storage-open"))},G.onsuccess=ce=>{A(ce.target.result)},G.onupgradeneeded=ce=>{0===ce.oldVersion&&ce.target.result.createObjectStore(oo,{keyPath:"compositeKey"})}}catch(G){T(br.create("storage-open",{originalErrorMessage:null===(R=G)||void 0===R?void 0:R.message}))}})}()){this.appId=T,this.appName=R,this.namespace=G,this.openDbPromise=ce}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var R=this;return(0,F.Z)(function*(){const G=yield R.openDbPromise;return new Promise((ce,ye)=>{var Oe;const Ke=G.transaction([oo],"readonly").objectStore(oo),ft=R.createCompositeKey(T);try{const Pt=Ke.get(ft);Pt.onerror=pt=>{ye(Oa(pt,"storage-get"))},Pt.onsuccess=pt=>{const Jn=pt.target.result;ce(Jn?Jn.value:void 0)}}catch(Pt){ye(br.create("storage-get",{originalErrorMessage:null===(Oe=Pt)||void 0===Oe?void 0:Oe.message}))}})})()}set(T,R){var G=this;return(0,F.Z)(function*(){const ce=yield G.openDbPromise;return new Promise((ye,Oe)=>{var Xe;const ft=ce.transaction([oo],"readwrite").objectStore(oo),Pt=G.createCompositeKey(T);try{const pt=ft.put({compositeKey:Pt,value:R});pt.onerror=Jn=>{Oe(Oa(Jn,"storage-set"))},pt.onsuccess=()=>{ye()}}catch(pt){Oe(br.create("storage-set",{originalErrorMessage:null===(Xe=pt)||void 0===Xe?void 0:Xe.message}))}})})()}delete(T){var R=this;return(0,F.Z)(function*(){const G=yield R.openDbPromise;return new Promise((ce,ye)=>{var Oe;const Ke=G.transaction([oo],"readwrite").objectStore(oo),ft=R.createCompositeKey(T);try{const Pt=Ke.delete(ft);Pt.onerror=pt=>{ye(Oa(pt,"storage-delete"))},Pt.onsuccess=()=>{ce()}}catch(Pt){ye(br.create("storage-delete",{originalErrorMessage:null===(Oe=Pt)||void 0===Oe?void 0:Oe.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Fa{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,F.Z)(function*(){const R=T.storage.getLastFetchStatus(),G=T.storage.getLastSuccessfulFetchTimestampMillis(),ce=T.storage.getActiveConfig(),ye=yield R;ye&&(T.lastFetchStatus=ye);const Oe=yield G;Oe&&(T.lastSuccessfulFetchTimestampMillis=Oe);const Xe=yield ce;Xe&&(T.activeConfig=Xe)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function La(){return so.apply(this,arguments)}function so(){return(so=(0,F.Z)(function*(){if(!(0,W.hl)())return!1;try{return yield(0,W.eu)()}catch{return!1}})).apply(this,arguments)}!function Hi(){(0,H._registerComponent)(new te.wA("remote-config",function A(T,{instanceIdentifier:R}){const G=T.getProvider("app").getImmediate(),ce=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw br.create("registration-window");if(!(0,W.hl)())throw br.create("indexed-db-unavailable");const{projectId:ye,apiKey:Oe,appId:Xe}=G.options;if(!ye)throw br.create("registration-project-id");if(!Oe)throw br.create("registration-api-key");if(!Xe)throw br.create("registration-app-id");const Ke=new id(Xe,G.name,R=R||"firebase"),ft=new Fa(Ke),Pt=new J.Yd(Bn);Pt.logLevel=J.in.ERROR;const pt=new Hs(ce,H.SDK_VERSION,R,ye,Oe,Xe),Jn=new td(pt,Ke),vi=new Qu(Jn,Ke,ft,Pt),sl=new iu(G,vi,ft,Ke,Pt);return function ru(A){const T=(0,W.m9)(A);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(sl),sl},"PUBLIC").setMultipleInstances(!0)),(0,H.registerVersion)(Bn,"0.3.10"),(0,H.registerVersion)(Bn,"0.3.10","esm2017")}();const Cl="/firebase-messaging-sw.js",ni="/firebase-cloud-messaging-push-scope",ao="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Il="google.c.a.c_id",ps="google.c.a.c_l",$s="google.c.a.ts",su="google.c.a.e";var Mo=(()=>{return(A=Mo||(Mo={})).PUSH_RECEIVED="push-received",A.NOTIFICATION_CLICKED="notification-clicked",Mo;var A})();function An(A){const T=new Uint8Array(A);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $i(A){const R=(A+"=".repeat((4-A.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),G=atob(R),ce=new Uint8Array(G.length);for(let ye=0;ye<G.length;++ye)ce[ye]=G.charCodeAt(ye);return ce}const Va="fcm_token_details_db",ri="fcm_token_object_Store";function Dl(A){return Ba.apply(this,arguments)}function Ba(){return Ba=(0,F.Z)(function*(A){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ye=>ye.name).includes(Va))return null;let T=null;return(yield(0,Y.X3)(Va,5,{upgrade:(G=(0,F.Z)(function*(ce,ye,Oe,Xe){var Ke;if(ye<2||!ce.objectStoreNames.contains(ri))return;const ft=Xe.objectStore(ri),Pt=yield ft.index("fcmSenderId").get(A);if(yield ft.clear(),Pt)if(2===ye){const pt=Pt;if(!pt.auth||!pt.p256dh||!pt.endpoint)return;T={token:pt.fcmToken,createTime:null!==(Ke=pt.createTime)&&void 0!==Ke?Ke:Date.now(),subscriptionOptions:{auth:pt.auth,p256dh:pt.p256dh,endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:"string"==typeof pt.vapidKey?pt.vapidKey:An(pt.vapidKey)}}}else if(3===ye){const pt=Pt;T={token:pt.fcmToken,createTime:pt.createTime,subscriptionOptions:{auth:An(pt.auth),p256dh:An(pt.p256dh),endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:An(pt.vapidKey)}}}else if(4===ye){const pt=Pt;T={token:pt.fcmToken,createTime:pt.createTime,subscriptionOptions:{auth:An(pt.auth),p256dh:An(pt.p256dh),endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:An(pt.vapidKey)}}}}),function(ye,Oe,Xe,Ke){return G.apply(this,arguments)})})).close(),yield(0,Y.Lj)(Va),yield(0,Y.Lj)("fcm_vapid_details_db"),yield(0,Y.Lj)("undefined"),au(T)?T:null;var G}),Ba.apply(this,arguments)}function au(A){if(!A||!A.subscriptionOptions)return!1;const{subscriptionOptions:T}=A;return"number"==typeof A.createTime&&A.createTime>0&&"string"==typeof A.token&&A.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const cn="firebase-messaging-store";let ko=null;function gs(){return ko||(ko=(0,Y.X3)("firebase-messaging-database",1,{upgrade:(A,T)=>{0===T&&A.createObjectStore(cn)}})),ko}function Ws(A){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,F.Z)(function*(A){const T=sr(A),G=yield(yield gs()).transaction(cn).objectStore(cn).get(T);if(G)return G;{const ce=yield Dl(A.appConfig.senderId);if(ce)return yield bn(A,ce),ce}})).apply(this,arguments)}function bn(A,T){return mi.apply(this,arguments)}function mi(){return(mi=(0,F.Z)(function*(A,T){const R=sr(A),ce=(yield gs()).transaction(cn,"readwrite");return yield ce.objectStore(cn).put(T,R),yield ce.done,T})).apply(this,arguments)}function Zs(A){return zi.apply(this,arguments)}function zi(){return(zi=(0,F.Z)(function*(A){const T=sr(A),G=(yield gs()).transaction(cn,"readwrite");yield G.objectStore(cn).delete(T),yield G.done})).apply(this,arguments)}function sr({appConfig:A}){return A.appId}const Tn=new W.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function lo(A,T){return ar.apply(this,arguments)}function ar(){return(ar=(0,F.Z)(function*(A,T){var R;const G=yield ys(A),ce=uo(T),ye={method:"POST",headers:G,body:JSON.stringify(ce)};let Oe;try{Oe=yield(yield fetch(Po(A.appConfig),ye)).json()}catch(Xe){throw Tn.create("token-subscribe-failed",{errorInfo:null===(R=Xe)||void 0===R?void 0:R.toString()})}if(Oe.error)throw Tn.create("token-subscribe-failed",{errorInfo:Oe.error.message});if(!Oe.token)throw Tn.create("token-subscribe-no-token");return Oe.token})).apply(this,arguments)}function Ys(A,T){return ms.apply(this,arguments)}function ms(){return(ms=(0,F.Z)(function*(A,T){var R;const G=yield ys(A),ce=uo(T.subscriptionOptions),ye={method:"PATCH",headers:G,body:JSON.stringify(ce)};let Oe;try{Oe=yield(yield fetch(`${Po(A.appConfig)}/${T.token}`,ye)).json()}catch(Xe){throw Tn.create("token-update-failed",{errorInfo:null===(R=Xe)||void 0===R?void 0:R.toString()})}if(Oe.error)throw Tn.create("token-update-failed",{errorInfo:Oe.error.message});if(!Oe.token)throw Tn.create("token-update-no-token");return Oe.token})).apply(this,arguments)}function No(A,T){return zr.apply(this,arguments)}function zr(){return(zr=(0,F.Z)(function*(A,T){var R;const ce={method:"DELETE",headers:yield ys(A)};try{const Oe=yield(yield fetch(`${Po(A.appConfig)}/${T}`,ce)).json();if(Oe.error)throw Tn.create("token-unsubscribe-failed",{errorInfo:Oe.error.message})}catch(ye){throw Tn.create("token-unsubscribe-failed",{errorInfo:null===(R=ye)||void 0===R?void 0:R.toString()})}})).apply(this,arguments)}function Po({projectId:A}){return`https://fcmregistrations.googleapis.com/v1/projects/${A}/registrations`}function ys(A){return mt.apply(this,arguments)}function mt(){return(mt=(0,F.Z)(function*({appConfig:A,installations:T}){const R=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function uo({p256dh:A,auth:T,endpoint:R,vapidKey:G}){const ce={web:{endpoint:R,auth:T,p256dh:A}};return G!==ao&&(ce.web.applicationPubKey=G),ce}const Ua=6048e5;function qi(A){return ja.apply(this,arguments)}function ja(){return(ja=(0,F.Z)(function*(A){const T=yield _s(A.swRegistration,A.vapidKey),R={vapidKey:A.vapidKey,swScope:A.swRegistration.scope,endpoint:T.endpoint,auth:An(T.getKey("auth")),p256dh:An(T.getKey("p256dh"))},G=yield Ws(A.firebaseDependencies);if(G){if(Sn(G.subscriptionOptions,R))return Date.now()>=G.createTime+Ua?Ro(A,{token:G.token,createTime:Date.now(),subscriptionOptions:R}):G.token;try{yield No(A.firebaseDependencies,G.token)}catch(ce){console.warn(ce)}return Fe(A.firebaseDependencies,R)}return Fe(A.firebaseDependencies,R)})).apply(this,arguments)}function Qs(A){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,F.Z)(function*(A){const T=yield Ws(A.firebaseDependencies);T&&(yield No(A.firebaseDependencies,T.token),yield Zs(A.firebaseDependencies));const R=yield A.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function Ro(A,T){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,F.Z)(function*(A,T){try{const R=yield Ys(A.firebaseDependencies,T),G=Object.assign(Object.assign({},T),{token:R,createTime:Date.now()});return yield bn(A.firebaseDependencies,G),R}catch(R){throw yield Qs(A),R}})).apply(this,arguments)}function Fe(A,T){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,F.Z)(function*(A,T){const G={token:yield lo(A,T),createTime:Date.now(),subscriptionOptions:T};return yield bn(A,G),G.token})).apply(this,arguments)}function _s(A,T){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,F.Z)(function*(A,T){return(yield A.pushManager.getSubscription())||A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$i(T)})})).apply(this,arguments)}function Sn(A,T){return T.vapidKey===A.vapidKey&&T.endpoint===A.endpoint&&T.auth===A.auth&&T.p256dh===A.p256dh}function Js(A){const T={from:A.from,collapseKey:A.collapse_key,messageId:A.fcmMessageId};return function Oo(A,T){if(!T.notification)return;A.notification={};const R=T.notification.title;R&&(A.notification.title=R);const G=T.notification.body;G&&(A.notification.body=G);const ce=T.notification.image;ce&&(A.notification.image=ce)}(T,A),function yi(A,T){!T.data||(A.data=T.data)}(T,A),function $a(A,T){var R,G,ce,ye,Oe;if(!(T.fcmOptions||null!==(R=T.notification)&&void 0!==R&&R.click_action))return;A.fcmOptions={};const Xe=null!==(ce=null===(G=T.fcmOptions)||void 0===G?void 0:G.link)&&void 0!==ce?ce:null===(ye=T.notification)||void 0===ye?void 0:ye.click_action;Xe&&(A.fcmOptions.link=Xe);const Ke=null===(Oe=T.fcmOptions)||void 0===Oe?void 0:Oe.analytics_label;Ke&&(A.fcmOptions.analyticsLabel=Ke)}(T,A),T}function Xs(A){return"object"==typeof A&&!!A&&Il in A}function Ju(A,T){const R=[];for(let G=0;G<A.length;G++)R.push(A.charAt(G)),G<T.length&&R.push(T.charAt(G));return R.join("")}function ea(A){return Tn.create("missing-app-config-values",{valueName:A})}Ju("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ju("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class za{constructor(T,R,G){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ce=function Xu(A){if(!A||!A.options)throw ea("App Configuration Object");if(!A.name)throw ea("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:R}=A;for(const G of T)if(!R[G])throw ea(G);return{appName:A.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:ce,installations:R,analyticsProvider:G}}_delete(){return Promise.resolve()}}function lr(A){return ii.apply(this,arguments)}function ii(){return(ii=(0,F.Z)(function*(A){var T;try{A.swRegistration=yield navigator.serviceWorker.register(Cl,{scope:ni}),A.swRegistration.update().catch(()=>{})}catch(R){throw Tn.create("failed-service-worker-registration",{browserErrorMessage:null===(T=R)||void 0===T?void 0:T.message})}})).apply(this,arguments)}function ta(A,T){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,F.Z)(function*(A,T){if(!T&&!A.swRegistration&&(yield lr(A)),T||!A.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Tn.create("invalid-sw-registration");A.swRegistration=T}})).apply(this,arguments)}function oi(A,T){return na.apply(this,arguments)}function na(){return(na=(0,F.Z)(function*(A,T){T?A.vapidKey=T:A.vapidKey||(A.vapidKey=ao)})).apply(this,arguments)}function lu(){return(lu=(0,F.Z)(function*(A,T){if(!navigator)throw Tn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Tn.create("permission-blocked");return yield oi(A,T?.vapidKey),yield ta(A,T?.serviceWorkerRegistration),qi(A)})).apply(this,arguments)}function Wa(A,T,R){return ra.apply(this,arguments)}function ra(){return(ra=(0,F.Z)(function*(A,T,R){const G=Fo(T);(yield A.firebaseDependencies.analyticsProvider.get()).logEvent(G,{message_id:R[Il],message_name:R[ps],message_time:R[$s],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Fo(A){switch(A){case Mo.NOTIFICATION_CLICKED:return"notification_open";case Mo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function vs(){return(vs=(0,F.Z)(function*(A,T){const R=T.data;if(!R.isFirebaseMessaging)return;A.onMessageHandler&&R.messageType===Mo.PUSH_RECEIVED&&("function"==typeof A.onMessageHandler?A.onMessageHandler(Js(R)):A.onMessageHandler.next(Js(R)));const G=R.data;Xs(G)&&"1"===G[su]&&(yield Wa(A,R.messageType,G))})).apply(this,arguments)}const bs="@firebase/messaging",ia=A=>{const T=new za(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),A.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function Ka(A,T){return vs.apply(this,arguments)}(T,R)),T},Lo=A=>{const T=A.getProvider("messaging").getImmediate();return{getToken:G=>function qa(A,T){return lu.apply(this,arguments)}(T,G)}};function Sl(){return xl.apply(this,arguments)}function xl(){return(xl=(0,F.Z)(function*(){try{yield(0,W.eu)()}catch{return!1}return typeof window<"u"&&(0,W.hl)()&&(0,W.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function oa(){(0,H._registerComponent)(new te.wA("messaging",ia,"PUBLIC")),(0,H._registerComponent)(new te.wA("messaging-internal",Lo,"PRIVATE")),(0,H.registerVersion)(bs,"0.9.15"),(0,H.registerVersion)(bs,"0.9.15","esm2017")}();const Za="analytics",ad="firebase_id",Si="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",co="https://www.googletagmanager.com/gtag/js",Qn=new J.Yd("@firebase/analytics");function Qa(A){return Promise.all(A.map(T=>T.catch(R=>R)))}function ec(A,T){const R=document.createElement("script");R.src=`${co}?l=${A}&id=${T}`,R.async=!0,document.head.appendChild(R)}function Fr(A,T,R,G,ce,ye){return ho.apply(this,arguments)}function ho(){return(ho=(0,F.Z)(function*(A,T,R,G,ce,ye){const Oe=G[ce];try{if(Oe)yield T[Oe];else{const Ke=(yield Qa(R)).find(ft=>ft.measurementId===ce);Ke&&(yield T[Ke.appId])}}catch(Xe){Qn.error(Xe)}A("config",ce,ye)})).apply(this,arguments)}function ld(A,T,R,G,ce){return Es.apply(this,arguments)}function Es(){return(Es=(0,F.Z)(function*(A,T,R,G,ce){try{let ye=[];if(ce&&ce.send_to){let Oe=ce.send_to;Array.isArray(Oe)||(Oe=[Oe]);const Xe=yield Qa(R);for(const Ke of Oe){const ft=Xe.find(pt=>pt.measurementId===Ke),Pt=ft&&T[ft.appId];if(!Pt){ye=[];break}ye.push(Pt)}}0===ye.length&&(ye=Object.values(T)),yield Promise.all(ye),A("event",G,ce||{})}catch(ye){Qn.error(ye)}})).apply(this,arguments)}function ud(){const A=window.document.getElementsByTagName("script");for(const T of Object.values(A))if(T.src&&T.src.includes(co))return T;return null}const Wr=new W.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),q=new class k{constructor(T={},R=1e3){this.throttleMetadata=T,this.intervalMillis=R}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,R){this.throttleMetadata[T]=R}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Re(A){return new Headers({Accept:"application/json","x-goog-api-key":A})}function tt(A){return en.apply(this,arguments)}function en(){return(en=(0,F.Z)(function*(A){var T;const{appId:R,apiKey:G}=A,ce={method:"GET",headers:Re(G)},ye=Si.replace("{app-id}",R),Oe=yield fetch(ye,ce);if(200!==Oe.status&&304!==Oe.status){let Xe="";try{const Ke=yield Oe.json();null!==(T=Ke.error)&&void 0!==T&&T.message&&(Xe=Ke.error.message)}catch{}throw Wr.create("config-fetch-failed",{httpStatus:Oe.status,responseMessage:Xe})}return Oe.json()})).apply(this,arguments)}function Gt(A){return fr.apply(this,arguments)}function fr(){return(fr=(0,F.Z)(function*(A,T=q,R){const{appId:G,apiKey:ce,measurementId:ye}=A.options;if(!G)throw Wr.create("no-app-id");if(!ce){if(ye)return{measurementId:ye,appId:G};throw Wr.create("no-api-key")}const Oe=T.getThrottleMetadata(G)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Xe=new dd;return setTimeout((0,F.Z)(function*(){Xe.abort()}),void 0!==R?R:6e4),Lr({appId:G,apiKey:ce,measurementId:ye},Oe,Xe,T)})).apply(this,arguments)}function Lr(A,T,R){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,F.Z)(function*(A,{throttleEndTimeMillis:T,backoffCount:R},G,ce=q){var ye,Oe;const{appId:Xe,measurementId:Ke}=A;try{yield Ja(G,T)}catch(ft){if(Ke)return Qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ke} provided in the "measurementId" field in the local Firebase config. [${null===(ye=ft)||void 0===ye?void 0:ye.message}]`),{appId:Xe,measurementId:Ke};throw ft}try{const ft=yield tt(A);return ce.deleteThrottleMetadata(Xe),ft}catch(ft){const Pt=ft;if(!eg(Pt)){if(ce.deleteThrottleMetadata(Xe),Ke)return Qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ke} provided in the "measurementId" field in the local Firebase config. [${Pt?.message}]`),{appId:Xe,measurementId:Ke};throw ft}const pt=503===Number(null===(Oe=Pt?.customData)||void 0===Oe?void 0:Oe.httpStatus)?(0,W.$s)(R,ce.intervalMillis,30):(0,W.$s)(R,ce.intervalMillis),Jn={throttleEndTimeMillis:Date.now()+pt,backoffCount:R+1};return ce.setThrottleMetadata(Xe,Jn),Qn.debug(`Calling attemptFetch again in ${pt} millis`),Lr(A,Jn,G,ce)}})).apply(this,arguments)}function Ja(A,T){return new Promise((R,G)=>{const ce=Math.max(T-Date.now(),0),ye=setTimeout(R,ce);A.addEventListener(()=>{clearTimeout(ye),G(Wr.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function eg(A){if(!(A instanceof W.ZR&&A.customData))return!1;const T=Number(A.customData.httpStatus);return 429===T||500===T||503===T||504===T}class dd{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}function Nl(){return la.apply(this,arguments)}function la(){return(la=(0,F.Z)(function*(){var A;if(!(0,W.hl)())return Qn.warn(Wr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,W.eu)()}catch(T){return Qn.warn(Wr.create("indexeddb-unavailable",{errorInfo:null===(A=T)||void 0===A?void 0:A.toString()}).message),!1}return!0})).apply(this,arguments)}function On(){return(On=(0,F.Z)(function*(A,T,R,G,ce,ye,Oe){var Xe;const Ke=Gt(A);Ke.then(vi=>{R[vi.measurementId]=vi.appId,A.options.measurementId&&vi.measurementId!==A.options.measurementId&&Qn.warn(`The measurement ID in the local Firebase config (${A.options.measurementId}) does not match the measurement ID fetched from the server (${vi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(vi=>Qn.error(vi)),T.push(Ke);const ft=Nl().then(vi=>{if(vi)return G.getId()}),[Pt,pt]=yield Promise.all([Ke,ft]);ud()||ec(ye,Pt.measurementId),ce("js",new Date);const Jn=null!==(Xe=Oe?.config)&&void 0!==Xe?Xe:{};return Jn.origin="firebase",Jn.update=!0,null!=pt&&(Jn[ad]=pt),ce("config",Pt.measurementId,Jn),Pt.measurementId})).apply(this,arguments)}class Uo{constructor(T){this.app=T}_delete(){return delete si[this.app.options.appId],Promise.resolve()}}let si={},hu=[];const ua={};let jo,Sr,Cs="dataLayer",Rl=!1;function tc(A,T,R){!function Qh(){const A=[];if((0,W.ru)()&&A.push("This is a browser extension environment."),(0,W.zI)()||A.push("Cookies are not available."),A.length>0){const T=A.map((G,ce)=>`(${ce+1}) ${G}`).join(" "),R=Wr.create("invalid-analytics-context",{errorInfo:T});Qn.warn(R.message)}}();const G=A.options.appId;if(!G)throw Wr.create("no-app-id");if(!A.options.apiKey){if(!A.options.measurementId)throw Wr.create("no-api-key");Qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${A.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=si[G])throw Wr.create("already-exists",{id:G});if(!Rl){!function xi(A){let T=[];Array.isArray(window[A])?T=window[A]:window[A]=T}(Cs);const{wrappedGtag:ye,gtagCore:Oe}=function du(A,T,R,G,ce){let ye=function(...Oe){window[G].push(arguments)};return window[ce]&&"function"==typeof window[ce]&&(ye=window[ce]),window[ce]=function aa(A,T,R,G){function ye(){return(ye=(0,F.Z)(function*(Oe,Xe,Ke){try{"event"===Oe?yield ld(A,T,R,Xe,Ke):"config"===Oe?yield Fr(A,T,R,G,Xe,Ke):A("set",Xe)}catch(ft){Qn.error(ft)}})).apply(this,arguments)}return function ce(Oe,Xe,Ke){return ye.apply(this,arguments)}}(ye,A,T,R),{gtagCore:ye,wrappedGtag:window[ce]}}(si,hu,ua,Cs,"gtag");Sr=ye,jo=Oe,Rl=!0}return si[G]=function Rn(A,T,R,G,ce,ye,Oe){return On.apply(this,arguments)}(A,hu,ua,T,jo,Cs,R),new Uo(A)}function Is(){return(Is=(0,F.Z)(function*(A,T,R,G,ce){if(ce&&ce.global)A("event",R,G);else{const ye=yield T;A("event",R,Object.assign(Object.assign({},G),{send_to:ye}))}})).apply(this,arguments)}function da(){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,F.Z)(function*(){if((0,W.ru)()||!(0,W.zI)()||!(0,W.hl)())return!1;try{return yield(0,W.eu)()}catch{return!1}})).apply(this,arguments)}const pn="@firebase/analytics";!function Jh(){(0,H._registerComponent)(new te.wA(Za,(T,{options:R})=>tc(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,H._registerComponent)(new te.wA("analytics-internal",function A(T){try{const R=T.getProvider(Za).getImmediate();return{logEvent:(G,ce,ye)=>function gd(A,T,R,G){A=(0,W.m9)(A),function po(A,T,R,G,ce){return Is.apply(this,arguments)}(Sr,si[A.app.options.appId],T,R,G).catch(ce=>Qn.error(ce))}(R,G,ce,ye)}}catch(R){throw Wr.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,H.registerVersion)(pn,"0.7.11"),(0,H.registerVersion)(pn,"0.7.11","esm2017")}();var ng=P(4408),ic=P(7565);const oc=new class md extends ic.v{}(class Xh extends ng.o{constructor(T,R){super(T,R),this.scheduler=T,this.work=R}schedule(T,R=0){return R>0?super.schedule(T,R):(this.delay=R,this.state=T,this.scheduler.flush(this),this)}execute(T,R){return R>0||this.closed?super.execute(T,R):this._execute(T,R)}requestAsyncId(T,R,G=0){return null!=G&&G>0||null==G&&this.delay>0?super.requestAsyncId(T,R,G):T.flush(this)}});var sc=P(4986),ep=P(576),qn=P(4482),Ds=P(5403),go=P(4671),fu=P(9468),Er=P(5363);const fn=new d.GfV("7.4.1"),_i="__angularfire_symbol__analyticsIsSupportedValue",ha="__angularfire_symbol__analyticsIsSupported",rl="__angularfire_symbol__remoteConfigIsSupportedValue",ac="__angularfire_symbol__remoteConfigIsSupported",As="__angularfire_symbol__messagingIsSupportedValue",gu="__angularfire_symbol__messagingIsSupported";function Fl(A,T,R){if(T){if(1===T.length)return T[0];const ye=T.filter(Oe=>Oe.app===R);if(1===ye.length)return ye[0]}return R.container.getProvider(A).getImmediate({optional:!0})}globalThis[ha]||(globalThis[ha]=da().then(A=>globalThis[_i]=A).catch(()=>globalThis[_i]=!1)),globalThis[gu]||(globalThis[gu]=Sl().then(A=>globalThis[As]=A).catch(()=>globalThis[As]=!1)),globalThis[ac]||(globalThis[ac]=La().then(A=>globalThis[rl]=A).catch(()=>globalThis[rl]=!1));const Ll=(A,T)=>{const R=T?[T]:(0,K.C6)(),G=[];return R.forEach(ce=>{ce.container.getProvider(A).instances.forEach(Oe=>{G.includes(Oe)||G.push(Oe)})}),G};function il(){}class yu{constructor(T,R=oc){this.zone=T,this.delegate=R}now(){return this.delegate.now()}schedule(T,R,G){const ce=this.zone;return this.delegate.schedule(function(Oe){ce.runGuarded(()=>{T.apply(this,[Oe])})},R,G)}}class rg{constructor(T){this.zone=T,this.task=null}call(T,R){const G=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",il,{},il,il)),R.pipe(function tp(A,T,R){const G=(0,ep.m)(A)||T||R?{next:A,error:T,complete:R}:A;return G?(0,qn.e)((ce,ye)=>{var Oe;null===(Oe=G.subscribe)||void 0===Oe||Oe.call(G);let Xe=!0;ce.subscribe((0,Ds.x)(ye,Ke=>{var ft;null===(ft=G.next)||void 0===ft||ft.call(G,Ke),ye.next(Ke)},()=>{var Ke;Xe=!1,null===(Ke=G.complete)||void 0===Ke||Ke.call(G),ye.complete()},Ke=>{var ft;Xe=!1,null===(ft=G.error)||void 0===ft||ft.call(G,Ke),ye.error(Ke)},()=>{var Ke,ft;Xe&&(null===(Ke=G.unsubscribe)||void 0===Ke||Ke.call(G)),null===(ft=G.finalize)||void 0===ft||ft.call(G)}))}):go.y}({next:G,complete:G,error:G})).subscribe(T).add(G)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _u=(()=>{class A{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new yu(Zone.current)),this.insideAngular=R.run(()=>new yu(Zone.current,sc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return A.\u0275fac=function(R){return new(R||A)(d.LFG(d.R0b))},A.\u0275prov=d.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function ol(){const A=globalThis.\u0275AngularFireScheduler;if(!A)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return A}function Vl(A){return ol(),function _d(A){return function(R){return(R=R.lift(new rg(A.ngZone))).pipe((0,fu.R)(A.outsideAngular),(0,Er.Q)(A.insideAngular))}}(ol())(A)}},2090:(ke,Ie,P)=>{"use strict";P.d(Ie,{$s:()=>Hr,BH:()=>me,DV:()=>Yt,Dv:()=>Ui,G6:()=>X,GJ:()=>Ut,L:()=>Y,LL:()=>ve,Mn:()=>Te,Pz:()=>gt,Sg:()=>Se,UG:()=>_e,UI:()=>Qr,US:()=>te,Wj:()=>sn,Yr:()=>Qe,ZB:()=>V,ZR:()=>Ee,b$:()=>Je,cI:()=>it,d:()=>Pe,dS:()=>ei,eu:()=>we,g5:()=>F,gK:()=>Nr,gQ:()=>rr,h$:()=>J,hl:()=>Q,hu:()=>K,jU:()=>be,lb:()=>Yn,m9:()=>an,ne:()=>En,p$:()=>$,pd:()=>no,r3:()=>nr,ru:()=>qe,tV:()=>oe,uI:()=>Ue,ug:()=>bt,vZ:()=>Jr,w1:()=>fe,w9:()=>Jt,xO:()=>vr,xb:()=>Ot,z$:()=>Me,zI:()=>ne,zd:()=>Gr});const K=function(ue,Z){if(!ue)throw F(Z)},F=function(ue){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+ue)},H=function(ue){const Z=[];let ie=0;for(let he=0;he<ue.length;he++){let z=ue.charCodeAt(he);z<128?Z[ie++]=z:z<2048?(Z[ie++]=z>>6|192,Z[ie++]=63&z|128):55296==(64512&z)&&he+1<ue.length&&56320==(64512&ue.charCodeAt(he+1))?(z=65536+((1023&z)<<10)+(1023&ue.charCodeAt(++he)),Z[ie++]=z>>18|240,Z[ie++]=z>>12&63|128,Z[ie++]=z>>6&63|128,Z[ie++]=63&z|128):(Z[ie++]=z>>12|224,Z[ie++]=z>>6&63|128,Z[ie++]=63&z|128)}return Z},te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ue,Z){if(!Array.isArray(ue))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ie=Z?this.byteToCharMapWebSafe_:this.byteToCharMap_,he=[];for(let z=0;z<ue.length;z+=3){const xe=ue[z],We=z+1<ue.length,ot=We?ue[z+1]:0,Ct=z+2<ue.length,un=Ct?ue[z+2]:0;let or=(15&ot)<<2|un>>6,zt=63&un;Ct||(zt=64,We||(or=64)),he.push(ie[xe>>2],ie[(3&xe)<<4|ot>>4],ie[or],ie[zt])}return he.join("")},encodeString(ue,Z){return this.HAS_NATIVE_SUPPORT&&!Z?btoa(ue):this.encodeByteArray(H(ue),Z)},decodeString(ue,Z){return this.HAS_NATIVE_SUPPORT&&!Z?atob(ue):function(ue){const Z=[];let ie=0,he=0;for(;ie<ue.length;){const z=ue[ie++];if(z<128)Z[he++]=String.fromCharCode(z);else if(z>191&&z<224){const xe=ue[ie++];Z[he++]=String.fromCharCode((31&z)<<6|63&xe)}else if(z>239&&z<365){const Ct=((7&z)<<18|(63&ue[ie++])<<12|(63&ue[ie++])<<6|63&ue[ie++])-65536;Z[he++]=String.fromCharCode(55296+(Ct>>10)),Z[he++]=String.fromCharCode(56320+(1023&Ct))}else{const xe=ue[ie++],We=ue[ie++];Z[he++]=String.fromCharCode((15&z)<<12|(63&xe)<<6|63&We)}}return Z.join("")}(this.decodeStringToByteArray(ue,Z))},decodeStringToByteArray(ue,Z){this.init_();const ie=Z?this.charToByteMapWebSafe_:this.charToByteMap_,he=[];for(let z=0;z<ue.length;){const xe=ie[ue.charAt(z++)],ot=z<ue.length?ie[ue.charAt(z)]:0;++z;const un=z<ue.length?ie[ue.charAt(z)]:64;++z;const jt=z<ue.length?ie[ue.charAt(z)]:64;if(++z,null==xe||null==ot||null==un||null==jt)throw Error();he.push(xe<<2|ot>>4),64!==un&&(he.push(ot<<4&240|un>>2),64!==jt&&he.push(un<<6&192|jt))}return he},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ue=0;ue<this.ENCODED_VALS.length;ue++)this.byteToCharMap_[ue]=this.ENCODED_VALS.charAt(ue),this.charToByteMap_[this.byteToCharMap_[ue]]=ue,this.byteToCharMapWebSafe_[ue]=this.ENCODED_VALS_WEBSAFE.charAt(ue),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ue]]=ue,ue>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ue)]=ue,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ue)]=ue)}}},J=function(ue){const Z=H(ue);return te.encodeByteArray(Z,!0)},Y=function(ue){return J(ue).replace(/\./g,"")},oe=function(ue){try{return te.decodeString(ue,!0)}catch(Z){console.error("base64Decode failed: ",Z)}return null};function $(ue){return V(void 0,ue)}function V(ue,Z){if(!(Z instanceof Object))return Z;switch(Z.constructor){case Date:return new Date(Z.getTime());case Object:void 0===ue&&(ue={});break;case Array:ue=[];break;default:return Z}for(const ie in Z)!Z.hasOwnProperty(ie)||!j(ie)||(ue[ie]=V(ue[ie],Z[ie]));return ue}function j(ue){return"__proto__"!==ue}class me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,ie)=>{this.resolve=Z,this.reject=ie})}wrapCallback(Z){return(ie,he)=>{ie?this.reject(ie):this.resolve(he),"function"==typeof Z&&(this.promise.catch(()=>{}),1===Z.length?Z(ie):Z(ie,he))}}}function Se(ue,Z){if(ue.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const he=Z||"demo-project",z=ue.iat||0,xe=ue.sub||ue.user_id;if(!xe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const We=Object.assign({iss:`https://securetoken.google.com/${he}`,aud:he,iat:z,exp:z+3600,auth_time:z,sub:xe,user_id:xe,firebase:{sign_in_provider:"custom",identities:{}}},ue);return[Y(JSON.stringify({alg:"none",type:"JWT"})),Y(JSON.stringify(We)),""].join(".")}function Me(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())}function _e(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function be(){return"object"==typeof self&&self.self===self}function qe(){const ue="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ue&&void 0!==ue.id}function Je(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pe(){return Me().indexOf("Electron/")>=0}function fe(){const ue=Me();return ue.indexOf("MSIE ")>=0||ue.indexOf("Trident/")>=0}function Te(){return Me().indexOf("MSAppHost/")>=0}function Qe(){return!1}function X(){return!_e()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q(){return"object"==typeof indexedDB}function we(){return new Promise((ue,Z)=>{try{let ie=!0;const he="validate-browser-context-for-indexeddb-analytics-module",z=self.indexedDB.open(he);z.onsuccess=()=>{z.result.close(),ie||self.indexedDB.deleteDatabase(he),ue(!0)},z.onupgradeneeded=()=>{ie=!1},z.onerror=()=>{var xe;Z((null===(xe=z.error)||void 0===xe?void 0:xe.message)||"")}}catch(ie){Z(ie)}})}function ne(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ee extends Error{constructor(Z,ie,he){super(ie),this.code=Z,this.customData=he,this.name="FirebaseError",Object.setPrototypeOf(this,Ee.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ve.prototype.create)}}class ve{constructor(Z,ie,he){this.service=Z,this.serviceName=ie,this.errors=he}create(Z,...ie){const he=ie[0]||{},z=`${this.service}/${Z}`,xe=this.errors[Z],We=xe?function se(ue,Z){return ue.replace(Ge,(ie,he)=>{const z=Z[he];return null!=z?String(z):`<${he}?>`})}(xe,he):"Error";return new Ee(z,`${this.serviceName}: ${We} (${z}).`,he)}}const Ge=/\{\$([^}]+)}/g;function it(ue){return JSON.parse(ue)}function gt(ue){return JSON.stringify(ue)}const Be=function(ue){let Z={},ie={},he={},z="";try{const xe=ue.split(".");Z=it(oe(xe[0])||""),ie=it(oe(xe[1])||""),z=xe[2],he=ie.d||{},delete ie.d}catch{}return{header:Z,claims:ie,data:he,signature:z}},Jt=function(ue){const ie=Be(ue).claims;return!!ie&&"object"==typeof ie&&ie.hasOwnProperty("iat")},Ut=function(ue){const Z=Be(ue).claims;return"object"==typeof Z&&!0===Z.admin};function nr(ue,Z){return Object.prototype.hasOwnProperty.call(ue,Z)}function Yt(ue,Z){if(Object.prototype.hasOwnProperty.call(ue,Z))return ue[Z]}function Ot(ue){for(const Z in ue)if(Object.prototype.hasOwnProperty.call(ue,Z))return!1;return!0}function Qr(ue,Z,ie){const he={};for(const z in ue)Object.prototype.hasOwnProperty.call(ue,z)&&(he[z]=Z.call(ie,ue[z],z,ue));return he}function Jr(ue,Z){if(ue===Z)return!0;const ie=Object.keys(ue),he=Object.keys(Z);for(const z of ie){if(!he.includes(z))return!1;const xe=ue[z],We=Z[z];if(cr(xe)&&cr(We)){if(!Jr(xe,We))return!1}else if(xe!==We)return!1}for(const z of he)if(!ie.includes(z))return!1;return!0}function cr(ue){return null!==ue&&"object"==typeof ue}function vr(ue){const Z=[];for(const[ie,he]of Object.entries(ue))Array.isArray(he)?he.forEach(z=>{Z.push(encodeURIComponent(ie)+"="+encodeURIComponent(z))}):Z.push(encodeURIComponent(ie)+"="+encodeURIComponent(he));return Z.length?"&"+Z.join("&"):""}function Gr(ue){const Z={};return ue.replace(/^\?/,"").split("&").forEach(he=>{if(he){const[z,xe]=he.split("=");Z[decodeURIComponent(z)]=decodeURIComponent(xe)}}),Z}function no(ue){const Z=ue.indexOf("?");if(!Z)return"";const ie=ue.indexOf("#",Z);return ue.substring(Z,ie>0?ie:void 0)}class rr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Z=1;Z<this.blockSize;++Z)this.pad_[Z]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Z,ie){ie||(ie=0);const he=this.W_;if("string"==typeof Z)for(let jt=0;jt<16;jt++)he[jt]=Z.charCodeAt(ie)<<24|Z.charCodeAt(ie+1)<<16|Z.charCodeAt(ie+2)<<8|Z.charCodeAt(ie+3),ie+=4;else for(let jt=0;jt<16;jt++)he[jt]=Z[ie]<<24|Z[ie+1]<<16|Z[ie+2]<<8|Z[ie+3],ie+=4;for(let jt=16;jt<80;jt++){const or=he[jt-3]^he[jt-8]^he[jt-14]^he[jt-16];he[jt]=4294967295&(or<<1|or>>>31)}let un,dn,z=this.chain_[0],xe=this.chain_[1],We=this.chain_[2],ot=this.chain_[3],Ct=this.chain_[4];for(let jt=0;jt<80;jt++){jt<40?jt<20?(un=ot^xe&(We^ot),dn=1518500249):(un=xe^We^ot,dn=1859775393):jt<60?(un=xe&We|ot&(xe|We),dn=2400959708):(un=xe^We^ot,dn=3395469782);const or=(z<<5|z>>>27)+un+Ct+dn+he[jt]&4294967295;Ct=ot,ot=We,We=4294967295&(xe<<30|xe>>>2),xe=z,z=or}this.chain_[0]=this.chain_[0]+z&4294967295,this.chain_[1]=this.chain_[1]+xe&4294967295,this.chain_[2]=this.chain_[2]+We&4294967295,this.chain_[3]=this.chain_[3]+ot&4294967295,this.chain_[4]=this.chain_[4]+Ct&4294967295}update(Z,ie){if(null==Z)return;void 0===ie&&(ie=Z.length);const he=ie-this.blockSize;let z=0;const xe=this.buf_;let We=this.inbuf_;for(;z<ie;){if(0===We)for(;z<=he;)this.compress_(Z,z),z+=this.blockSize;if("string"==typeof Z){for(;z<ie;)if(xe[We]=Z.charCodeAt(z),++We,++z,We===this.blockSize){this.compress_(xe),We=0;break}}else for(;z<ie;)if(xe[We]=Z[z],++We,++z,We===this.blockSize){this.compress_(xe),We=0;break}}this.inbuf_=We,this.total_+=ie}digest(){const Z=[];let ie=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let z=this.blockSize-1;z>=56;z--)this.buf_[z]=255&ie,ie/=256;this.compress_(this.buf_);let he=0;for(let z=0;z<5;z++)for(let xe=24;xe>=0;xe-=8)Z[he]=this.chain_[z]>>xe&255,++he;return Z}}function En(ue,Z){const ie=new ut(ue,Z);return ie.subscribe.bind(ie)}class ut{constructor(Z,ie){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ie,this.task.then(()=>{Z(this)}).catch(he=>{this.error(he)})}next(Z){this.forEachObserver(ie=>{ie.next(Z)})}error(Z){this.forEachObserver(ie=>{ie.error(Z)}),this.close(Z)}complete(){this.forEachObserver(Z=>{Z.complete()}),this.close()}subscribe(Z,ie,he){let z;if(void 0===Z&&void 0===ie&&void 0===he)throw new Error("Missing Observer.");z=function Xt(ue,Z){if("object"!=typeof ue||null===ue)return!1;for(const ie of Z)if(ie in ue&&"function"==typeof ue[ie])return!0;return!1}(Z,["next","error","complete"])?Z:{next:Z,error:ie,complete:he},void 0===z.next&&(z.next=Cn),void 0===z.error&&(z.error=Cn),void 0===z.complete&&(z.complete=Cn);const xe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?z.error(this.finalError):z.complete()}catch{}}),this.observers.push(z),xe}unsubscribeOne(Z){void 0===this.observers||void 0===this.observers[Z]||(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let ie=0;ie<this.observers.length;ie++)this.sendOne(ie,Z)}sendOne(Z,ie){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{ie(this.observers[Z])}catch(he){typeof console<"u"&&console.error&&console.error(he)}})}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cn(){}const Ui=function(ue,Z,ie,he){let z;if(he<Z?z="at least "+Z:he>ie&&(z=0===ie?"none":"no more than "+ie),z)throw new Error(ue+" failed: Was called with "+he+(1===he?" argument.":" arguments.")+" Expects "+z+".")};function Nr(ue,Z){return`${ue} failed: ${Z} argument `}function sn(ue,Z,ie,he){if((!he||ie)&&"function"!=typeof ie)throw new Error(Nr(ue,Z)+"must be a valid function.")}function Yn(ue,Z,ie,he){if((!he||ie)&&("object"!=typeof ie||null===ie))throw new Error(Nr(ue,Z)+"must be a valid context object.")}const ei=function(ue){const Z=[];let ie=0;for(let he=0;he<ue.length;he++){let z=ue.charCodeAt(he);if(z>=55296&&z<=56319){const xe=z-55296;he++,K(he<ue.length,"Surrogate pair missing trail surrogate."),z=65536+(xe<<10)+(ue.charCodeAt(he)-56320)}z<128?Z[ie++]=z:z<2048?(Z[ie++]=z>>6|192,Z[ie++]=63&z|128):z<65536?(Z[ie++]=z>>12|224,Z[ie++]=z>>6&63|128,Z[ie++]=63&z|128):(Z[ie++]=z>>18|240,Z[ie++]=z>>12&63|128,Z[ie++]=z>>6&63|128,Z[ie++]=63&z|128)}return Z},bt=function(ue){let Z=0;for(let ie=0;ie<ue.length;ie++){const he=ue.charCodeAt(ie);he<128?Z++:he<2048?Z+=2:he>=55296&&he<=56319?(Z+=4,ie++):Z+=3}return Z};function Hr(ue,Z=1e3,ie=2){const he=Z*Math.pow(ie,ue),z=Math.round(.5*he*(Math.random()-.5)*2);return Math.min(144e5,he+z)}function an(ue){return ue&&ue._delegate?ue._delegate:ue}},5708:(ke,Ie,P)=>{"use strict";var d=P(4650);let K=null;function F(){return K}const J=new d.OlP("DocumentToken");let Ra=(()=>{class n{constructor(t,r,o,l){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=o,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,d.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,d.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Us{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Or=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,l,c)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new Us(o.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===l?void 0:l);else if(null!==l){const m=r.get(l);r.move(m,c),Un(m,o)}});for(let o=0,l=r.length;o<l;o++){const m=r.get(o).context;m.index=o,m.count=l,m.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{Un(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Un(n,e){n.context.$implicit=e.item}let zn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new $r,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){js("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){js("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class $r{constructor(){this.$implicit=null,this.ngIf=null}}function js(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}class td{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class Gi{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const nd=new Gi,iu=new td;let Oa=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,d.QGY)(t))return nd;if((0,d.F4k)(t))return iu;throw function ti(n,e){return new d.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.sBO,16))},n.\u0275pipe=d.Yjl({name:"async",type:n,pure:!1}),n})(),Mo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function Dl(n){return"server"===n}class mi extends class bn extends class te{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function W(n){K||(K=n)}(new mi)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function zi(){return Zs=Zs||document.querySelector("base"),Zs?Zs.getAttribute("href"):null}();return null==t?null:function Al(n){sr=sr||document.createElement("a"),sr.setAttribute("href",n);const e=sr.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Zs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function nu(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let sr,Zs=null;const Tn=new d.OlP("TRANSITION_ID"),ar=[{provide:d.ip1,useFactory:function lo(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const r=F(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)r.remove(o[l])})}},deps:[Tn,J,d.zs3],multi:!0}];let ms=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const No=new d.OlP("EventManagerPlugins");let zr=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let l=0;l<o.length;l++){const c=o[l];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(No),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Po{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=F().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let ys=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),mt=(()=>{class n extends ys{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(l=>{const c=this._doc.createElement("style");c.textContent=l,o.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(uo),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(uo))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(J))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function uo(n){F().remove(n)}const Ua={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qi=/%COMP%/g;function Nt(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?Nt(n,o,t):(o=o.replace(qi,n),t.push(o))}return t}function _s(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Sn=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Js(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case d.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Xs(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case d.ifc.ShadowDom:return new Ju(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=Nt(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(zr),d.LFG(mt),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Js{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ua[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){($a(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&($a(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const l=Ua[o];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=Ua[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,o&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,_s(r)):this.eventManager.addEventListener(e,t,_s(r))}}function $a(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Xs extends Js{constructor(e,t,r,o){super(e),this.component=r;const l=Nt(o+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function Tl(n){return"_ngcontent-%COMP%".replace(qi,n)}(o+"-"+r.id),this.hostAttr=function Fe(n){return"_nghost-%COMP%".replace(qi,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Ju extends Js{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Nt(o.id,o.styles,[]);for(let c=0;c<l.length;c++){const m=document.createElement("style");m.textContent=l[c],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Xu=(()=>{class n extends Po{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(J))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const ea=["alt","control","meta","shift"],lr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ii={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ta={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ti=(()=>{class n extends Po{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const l=n.parseEventName(r),c=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(t,l.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(r.pop());let c="";if(ea.forEach(v=>{const E=r.indexOf(v);E>-1&&(r.splice(E,1),c+=v+".")}),c+=l,0!=r.length||0===l.length)return null;const m={};return m.domEventName=o,m.fullKey=c,m}static getEventFullKey(t){let r="",o=function oi(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ii.hasOwnProperty(e)&&(e=ii[e]))}return lr[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),ea.forEach(l=>{l!=o&&ta[l](t)&&(r+=l+".")}),r+=o,r}static eventCallback(t,r,o){return l=>{n.getEventFullKey(l)===t&&o.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(J))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const vs=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function Wa(){mi.makeCurrent()},multi:!0},{provide:J,useFactory:function Fo(){return(0,d.RDi)(document),document},deps:[]}]),bs=new d.OlP(""),ws=[{provide:d.rWj,useClass:class Ys{addToWindow(e){d.dqk.getAngularTestability=(r,o=!0)=>{const l=e.findTestabilityInTree(r,o);if(null==l)throw new Error("Could not find testability for element.");return l},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const o=d.dqk.getAllAngularTestabilities();let l=o.length,c=!1;const m=function(v){c=c||v,l--,0==l&&r(c)};o.forEach(function(v){v.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?F().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],ia=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function ra(){return new d.qLn},deps:[]},{provide:No,useClass:Xu,multi:!0,deps:[J,d.R0b,d.Lbi]},{provide:No,useClass:Ti,multi:!0,deps:[J]},{provide:Sn,useClass:Sn,deps:[zr,mt,d.AFp]},{provide:d.FYo,useExisting:Sn},{provide:ys,useExisting:mt},{provide:mt,useClass:mt,deps:[J]},{provide:zr,useClass:zr,deps:[No,d.R0b]},{provide:class Ks{},useClass:ms,deps:[]},[]];let Lo=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:Tn,useExisting:d.AFp},ar]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(bs,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[...ia,...ws],imports:[Mo,d.hGG]}),n})();typeof window<"u"&&window;let D=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):d.LFG(q),r},providedIn:"root"}),n})(),q=(()=>{class n extends D{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case d.q3G.NONE:return r;case d.q3G.HTML:return(0,d.qzn)(r,"HTML")?(0,d.z3N)(r):(0,d.EiD)(this._doc,String(r)).toString();case d.q3G.STYLE:return(0,d.qzn)(r,"Style")?(0,d.z3N)(r):r;case d.q3G.SCRIPT:if((0,d.qzn)(r,"Script"))return(0,d.z3N)(r);throw new Error("unsafe value used in a script context");case d.q3G.URL:return(0,d.qzn)(r,"URL")?(0,d.z3N)(r):(0,d.mCW)(String(r));case d.q3G.RESOURCE_URL:if((0,d.qzn)(r,"ResourceURL"))return(0,d.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,d.JVY)(t)}bypassSecurityTrustStyle(t){return(0,d.L6k)(t)}bypassSecurityTrustScript(t){return(0,d.eBb)(t)}bypassSecurityTrustUrl(t){return(0,d.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,d.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(J))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function k(n){return new q(n.get(J))}(d.LFG(d.zs3)),r},providedIn:"root"}),n})();var tt=P(2011),en=P(8996),Gt=P(8306);const{isArray:fr}=Array,{getPrototypeOf:Lr,prototype:Bo,keys:Ja}=Object;var Nl=P(8421),la=P(7669),Rn=P(5403),On=P(4004);const{isArray:Uo}=Array;function ua(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}let Pl=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),jo=(()=>{class n extends Pl{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const Sr=new d.OlP("NgValueAccessor"),Qh={provide:Sr,useExisting:(0,d.Gpc)(()=>Is),multi:!0},po=new d.OlP("CompositionEventMode");let Is=(()=>{class n extends Pl{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function tc(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(po,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[d._Bn([Qh]),d.qOj]}),n})();function Wi(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const wr=new d.OlP("NgValidators"),fo=new d.OlP("NgAsyncValidators");function fd(n){return null}function gd(n){return null!=n}function pn(n){return(0,d.QGY)(n)?(0,en.D)(n):n}function rc(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Jh(n,e){return e.map(t=>t(n))}function Xh(n){return n.map(e=>function ng(n){return!n.validate}(e)?e:t=>e.validate(t))}function md(n){return null!=n?function ic(n){if(!n)return null;const e=n.filter(gd);return 0==e.length?null:function(t){return rc(Jh(t,e))}}(Xh(n)):null}function oc(n){if(!n)return null;const e=n.filter(gd);return 0==e.length?null:function(t){return function Cs(...n){const e=(0,la.jO)(n),{args:t,keys:r}=function eg(n){if(1===n.length){const e=n[0];if(fr(e))return{args:e,keys:null};if(function dd(n){return n&&"object"==typeof n&&Lr(n)===Bo}(e)){const t=Ja(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n),o=new Gt.y(l=>{const{length:c}=t;if(!c)return void l.complete();const m=new Array(c);let v=c,E=c;for(let S=0;S<c;S++){let N=!1;(0,Nl.Xf)(t[S]).subscribe((0,Rn.x)(l,U=>{N||(N=!0,E--),m[S]=U},()=>v--,void 0,()=>{(!v||!N)&&(E||l.next(r?ua(r,m):m),l.complete())}))}});return e?o.pipe(function hu(n){return(0,On.U)(e=>function si(n,e){return Uo(e)?n(...e):n(e)}(n,e))}(e)):o}(Jh(t,e).map(pn)).pipe((0,On.U)(rc))}}function nl(n){return null!=n?oc(Xh(n)):null}function sc(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ds(n){return n?Array.isArray(n)?n:[n]:[]}function go(n,e){return Array.isArray(n)?n.includes(e):n===e}function tp(n,e){const t=Ds(e);return Ds(n).forEach(o=>{go(t,o)||t.push(o)}),t}function fu(n,e){return Ds(e).filter(t=>!go(n,t))}class Er{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=md(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=nl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class fn extends Er{get formDirective(){return null}get path(){return null}}class _i extends Er{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let As=(()=>{class n extends class ha{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(_i,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[d.qOj]}),n})();const pa="VALID",A="INVALID",T="PENDING",R="DISABLED";function ce(n){return Array.isArray(n)?md(n):n||null}function Oe(n){return Array.isArray(n)?nl(n):n||null}function Xe(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function mo(n,e){(function Zi(n,e){const t=function ep(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(sc(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function qn(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(sc(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Ki(e._rawValidators,o),Ki(e._rawAsyncValidators,o)})(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function vd(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&bd(n,e)})}(n,e),function a_(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function og(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&bd(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function xs(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Ki(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function bd(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function sp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function c_(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const up={provide:_i,useExisting:(0,d.Gpc)(()=>Ul)},al=(()=>Promise.resolve(null))();let Ul=(()=>{class n extends _i{constructor(t,r,o,l,c){super(),this._changeDetectorRef=c,this.control=new class extends class Pt{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=ce(this._rawValidators),this._composedAsyncValidatorFn=Oe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===pa}get invalid(){return this.status===A}get pending(){return this.status==T}get disabled(){return this.status===R}get enabled(){return this.status!==R}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=ce(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Oe(e)}addValidators(e){this.setValidators(tp(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(tp(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(fu(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(fu(e,this._rawAsyncValidators))}hasValidator(e){return go(this._rawValidators,e)}hasAsyncValidator(e){return go(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=T,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=R,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=pa,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pa||this.status===T)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?R:pa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=T,this._hasOwnPendingAsyncValidator=!0;const t=pn(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?R:this.errors?A:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(T)?T:this._anyControlsHaveStatus(A)?A:pa}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xe(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}{constructor(e=null,t,r){super(function G(n){return(Xe(n)?n.validators:n)||null}(t),function ye(n,e){return(Xe(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xe(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=c_(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){sp(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){sp(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){c_(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},this._registered=!1,this.update=new d.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function ip(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(l=>{l.constructor===Is?t=l:function l_(n){return Object.getPrototypeOf(n.constructor)===jo}(l)?r=l:o=l}),o||r||t||null}(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function sg(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){mo(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){al.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=0!==r&&(0,d.D6c)(r);al.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Mi(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(fn,9),d.Y36(wr,10),d.Y36(fo,10),d.Y36(Sr,10),d.Y36(d.sBO,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([up]),d.qOj,d.TTD]}),n})();const dg={provide:Sr,useExisting:(0,d.Gpc)(()=>hc),multi:!0};let hc=(()=>{class n extends jo{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[d._Bn([dg]),d.qOj]}),n})(),jl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const gc={provide:Sr,useExisting:(0,d.Gpc)(()=>Gl),multi:!0};function pp(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Gl=(()=>{class n extends jo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const o=pp(this._getOptionId(t),t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function fp(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&d.NdJ("change",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([gc]),d.qOj]}),n})(),m_=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(pp(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(Gl,9))},n.\u0275dir=d.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const nw={provide:Sr,useExisting:(0,d.Gpc)(()=>yc),multi:!0};function gp(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let yc=(()=>{class n extends jo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const o=t.map(l=>this._getOptionId(l));r=(l,c)=>{l._setSelected(o.indexOf(c.toString())>-1)}}else r=(o,l)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const o=[],l=r.selectedOptions;if(void 0!==l){const c=l;for(let m=0;m<c.length;m++){const E=this._getOptionValue(c[m].value);o.push(E)}}else{const c=r.options;for(let m=0;m<c.length;m++){const v=c[m];if(v.selected){const E=this._getOptionValue(v.value);o.push(E)}}}this.value=o,t(o)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function mc(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&d.NdJ("change",function(l){return r.onChange(l.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([nw]),d.qOj]}),n})(),Id=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(gp(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(gp(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(yc,9))},n.\u0275dir=d.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let Hl=(()=>{class n{constructor(){this._validator=fd}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):fd,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,features:[d.TTD]}),n})();const __={provide:wr,useExisting:(0,d.Gpc)(()=>_c),multi:!0};let _c=(()=>{class n extends Hl{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>function mp(n){return"number"==typeof n?n:parseFloat(n)}(t),this.createValidator=t=>function Ol(n){return e=>{if(Wi(e.value)||Wi(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&d.uIk("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[d._Bn([__]),d.qOj]}),n})(),yo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[jl]}),n})(),fa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[yo]}),n})();var vg=P(4986);function $l(...n){const e=(0,la.yG)(n);return(0,en.D)(n,e)}var Ep=P(6451),bc=P(3099),Xn=P(4482);function Wo(n,e){return(0,Xn.e)((t,r)=>{let o=null,l=0,c=!1;const m=()=>c&&!o&&r.complete();t.subscribe((0,Rn.x)(r,v=>{o?.unsubscribe();let E=0;const S=l++;(0,Nl.Xf)(n(v,S)).subscribe(o=(0,Rn.x)(r,N=>r.next(e?e(v,N,S,E++):N),()=>{o=null,m()}))},()=>{c=!0,m()}))})}function Cp(n,e,t,r,o){return(l,c)=>{let m=t,v=e,E=0;l.subscribe((0,Rn.x)(c,S=>{const N=E++;v=m?n(v,S,N):(m=!0,S),r&&c.next(v)},o&&(()=>{m&&c.next(v),c.complete()})))}}function Tu(n,e){return(0,Xn.e)(Cp(n,e,arguments.length>=2,!0))}var Ko=P(4671);function Su(n,e=Ko.y){return n=n??li,(0,Xn.e)((t,r)=>{let o,l=!0;t.subscribe((0,Rn.x)(r,c=>{const m=e(c);(l||!n(o,m))&&(l=!1,o=m,r.next(c))}))})}function li(n,e){return n===e}var xd=P(5032),qt=P(2680),kd=(P(3677),P(3942)),ga=P(4859),y=P(5861),f=P(9681),p=P(2090),b=P(1877);const M="@firebase/database",L="0.13.2";let le="";function De(n){le=n}class Ze{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,p.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,p.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class at{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,p.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Et=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Ze(e)}}catch{}return new at},dt=Et("localStorage"),Fn=Et("sessionStorage"),Wn=new b.Yd("@firebase/database"),Ec=function(){let n=1;return function(){return n++}}(),wg=function(n){const e=(0,p.dS)(n),t=new p.gQ;t.update(e);const r=t.digest();return p.US.encodeByteArray(r)},xu=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=xu.apply(null,r):e+="object"==typeof r?(0,p.Pz)(r):r,e+=" "}return e};let ma=null,Eg=!0;const Yi=function(n,e){(0,p.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Wn.logLevel=b.in.VERBOSE,ma=Wn.log.bind(Wn),e&&Fn.set("logging_enabled",!0)):"function"==typeof n?ma=n:(ma=null,Fn.remove("logging_enabled"))},mr=function(...n){if(!0===Eg&&(Eg=!1,null===ma&&!0===Fn.get("logging_enabled")&&Yi(!0)),ma){const e=xu.apply(null,n);ma(e)}},dl=function(n){return function(...e){mr(n,...e)}},Cc=function(...n){const e="FIREBASE INTERNAL ERROR: "+xu(...n);Wn.error(e)},_o=function(...n){const e=`FIREBASE FATAL ERROR: ${xu(...n)}`;throw Wn.error(e),new Error(e)},Cr=function(...n){const e="FIREBASE WARNING: "+xu(...n);Wn.warn(e)},Ic=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},ya="[MIN_NAME]",_a="[MAX_NAME]",Pd=function(n,e){if(n===e)return 0;if(n===ya||e===_a)return-1;if(e===ya||n===_a)return 1;{const t=Od(n),r=Od(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},Rd=function(n,e){return n===e?0:n<e?-1:1},Dc=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,p.Pz)(e))},Cg=function(n){if("object"!=typeof n||null===n)return(0,p.Pz)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,p.Pz)(e[r]),t+=":",t+=Cg(n[e[r]]);return t+="}",t},sw=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let o=0;o<t;o+=e)r.push(n.substring(o,o+e>t?t:o+e));return r};function Vr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const aw=function(n){(0,p.hu)(!Ic(n),"Invalid JSON number");const r=1023;let o,l,c,m,v;0===n?(l=0,c=0,o=1/n==-1/0?1:0):(o=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(m=Math.min(Math.floor(Math.log(n)/Math.LN2),r),l=m+r,c=Math.round(n*Math.pow(2,52-m)-Math.pow(2,52))):(l=0,c=Math.round(n/Math.pow(2,-1074))));const E=[];for(v=52;v;v-=1)E.push(c%2?1:0),c=Math.floor(c/2);for(v=11;v;v-=1)E.push(l%2?1:0),l=Math.floor(l/2);E.push(o?1:0),E.reverse();const S=E.join("");let N="";for(v=0;v<64;v+=8){let U=parseInt(S.substr(v,8),2).toString(16);1===U.length&&(U="0"+U),N+=U}return N.toLowerCase()},FD=new RegExp("^-?(0*)\\d{1,10}$"),lw=-2147483648,Ig=2147483647,Od=function(n){if(FD.test(n)){const e=Number(n);if(e>=lw&&e<=Ig)return e}return null},Ac=function(n){try{n()}catch(e){setTimeout(()=>{throw Cr("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Ip=function(n,e){const t=setTimeout(n,e);return"object"==typeof t&&t.unref&&t.unref(),t};class LD{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Cr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class uw{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(mr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Cr(e)}}let Fd=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Dp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,x_="websocket",Ag="long_polling";class Tg{constructor(e,t,r,o,l=!1,c="",m=!1){this.secure=t,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=l,this.persistenceKey=c,this.includeNamespaceInQueryParams=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=dt.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&dt.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Ap(n,e,t){let r;if((0,p.hu)("string"==typeof e,"typeof type must == string"),(0,p.hu)("object"==typeof t,"typeof params must == object"),e===x_)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==Ag)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Sg(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const o=[];return Vr(t,(l,c)=>{o.push(l+"="+c)}),r+o.join("&")}class hw{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,p.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,p.p$)(this.counters_)}}const Tp={},xg={};function Sp(n){const e=n.toString();return Tp[e]||(Tp[e]=new hw),Tp[e]}class VD{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&Ac(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Mu{constructor(e,t,r,o,l,c,m){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=o,this.authToken=l,this.transportSessionId=c,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=dl(e),this.stats_=Sp(t),this.urlFn=v=>(this.appCheckToken&&(v.ac=this.appCheckToken),Ap(t,Ag,v))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new VD(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,p.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new N_((...l)=>{const[c,m,v,E,S]=l;if(this.incrementIncomingBytes_(l),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=m,this.password=v;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_()}},(...l)=>{const[c,m]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(c,m)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Dp.test(location.hostname)&&(r.r="f");const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Mu.forceAllow_=!0}static forceDisallow(){Mu.forceDisallow_=!0}static isAvailable(){return!((0,p.Yr)()||!Mu.forceAllow_&&(Mu.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,p.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,p.h$)(t),o=sw(r,1840);for(let l=0;l<o.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[l]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,p.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,p.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class N_{constructor(e,t,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,p.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Ec(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=N_.createIFrame_();let l="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(l='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(m){mr("frame writing exception"),m.stack&&mr(m.stack),mr(m)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||mr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const c=this.pendingSegs.shift();r=r+"&seg"+o+"="+c.seg+"&ts"+o+"="+c.ts+"&d"+o+"="+c.d,o++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},o=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(o),r()})}addTag(e,t){(0,p.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||"loaded"===o||"complete"===o)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{mr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let kg=null;typeof MozWebSocket<"u"?kg=MozWebSocket:typeof WebSocket<"u"&&(kg=WebSocket);let Ld=(()=>{class n{constructor(t,r,o,l,c,m,v){this.connId=t,this.applicationId=o,this.appCheckToken=l,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=dl(this.connId),this.stats_=Sp(r),this.connURL=n.connectionURL_(r,m,v,l,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,o,l,c){const m={v:"5"};return!(0,p.Yr)()&&typeof location<"u"&&location.hostname&&Dp.test(location.hostname)&&(m.r="f"),r&&(m.s=r),o&&(m.ls=o),l&&(m.ac=l),c&&(m.p=c),Ap(t,x_,m)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,dt.set("previous_websocket_failure",!0);try{let o;if((0,p.Yr)()){const c={headers:{"User-Agent":`Firebase/5/${le}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(c.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(c.headers["X-Firebase-AppCheck"]=this.appCheckToken);const m=process.env,v=0===this.connURL.indexOf("wss://")?m.HTTPS_PROXY||m.https_proxy:m.HTTP_PROXY||m.http_proxy;v&&(c.proxy={origin:v})}this.mySock=new kg(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const l=o.message||o.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const o=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&null!==kg&&!n.forceDisallow_}static previouslyFailed(){return dt.isInMemoryStorage||!0===dt.get("previous_websocket_failure")}markConnectionHealthy(){dt.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=(0,p.cI)(r);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,p.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);null!==o&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const r=(0,p.Pz)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=sw(r,16384);o.length>1&&this.sendString_(String(o.length));for(let l=0;l<o.length;l++)this.sendString_(o[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),Ft=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Mu,Ld]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=Ld&&Ld.isAvailable();let o=r&&!Ld.previouslyFailed();if(t.webSocketOnly&&(r||Cr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Ld];else{const l=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&l.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class V_{constructor(e,t,r,o,l,c,m,v,E,S){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=l,this.onMessage_=c,this.onReady_=m,this.onDisconnect_=v,this.onKill_=E,this.lastSessionId=S,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=dl("c:"+this.id+":"),this.transportManager_=new Ft(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Ip(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Dc("t",e),r=Dc("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Dc("t",e),r=Dc("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Dc("t",e);if("d"in e){const r=e.d;if("h"===t)this.onHandshake_(r);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?Cc("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Cc("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&Cr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Ip(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ip(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(dt.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class B_{put(e,t,r,o){}merge(e,t,r,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class Ng{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,p.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const o=this.getInitialEvent(e);o&&t.apply(r,o)}off(e,t,r){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let l=0;l<o.length;l++)if(o[l].callback===t&&(!r||r===o[l].context))return void o.splice(l,1)}validateEventType_(e){(0,p.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class U_ extends Ng{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,p.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new U_}getInitialEvent(e){return(0,p.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class wn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function gn(){return new wn("")}function Lt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function ku(n){return n.pieces_.length-n.pieceNum_}function kn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new wn(n.pieces_,e)}function Rg(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Nu(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function Iw(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new wn(e,0)}function Kn(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof wn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&t.push(r[o])}return new wn(t,0)}function Wt(n){return n.pieceNum_>=n.pieces_.length}function Kr(n,e){const t=Lt(n),r=Lt(e);if(null===t)return e;if(t===r)return Kr(kn(n),kn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function Dw(n,e){const t=Nu(n,0),r=Nu(e,0);for(let o=0;o<t.length&&o<r.length;o++){const l=Pd(t[o],r[o]);if(0!==l)return l}return t.length===r.length?0:t.length<r.length?-1:1}function Mp(n,e){if(ku(n)!==ku(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function ks(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(ku(n)>ku(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class XD{constructor(e,t){this.errorPrefix_=t,this.parts_=Nu(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,p.ug)(this.parts_[r]);Tw(this)}}function Tw(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Tc(n))}function Tc(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class G_ extends Ng{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new G_}getInitialEvent(e){return(0,p.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const kp=1e3;let W_,Sc=(()=>{class n extends B_{constructor(t,r,o,l,c,m,v,E){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=l,this.onServerInfoUpdate_=c,this.authTokenProvider_=m,this.appCheckTokenProvider_=v,this.authOverride_=E,this.id=n.nextPersistentConnectionId_++,this.log_=dl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=kp,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,E&&!(0,p.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");G_.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&U_.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,o){const l=++this.requestNumber_,c={r:l,a:t,b:r};this.log_((0,p.Pz)(c)),(0,p.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),o&&(this.requestCBHash_[l]=o)}get(t){this.initConnection_();const r=new p.BH,l={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:m=>{const v=m.d;"ok"===m.s?r.resolve(v):r.reject(v)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const m=this.outstandingGets_[c];void 0===m||l!==m||(delete this.outstandingGets_[c],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+c+" timed out on connection"),r.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(c),r.promise}listen(t,r,o,l){this.initConnection_();const c=t._queryIdentifier,m=t._path.toString();this.log_("Listen called for "+m+" "+c),this.listens.has(m)||this.listens.set(m,new Map),(0,p.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,p.hu)(!this.listens.get(m).has(c),"listen() called twice for same path/queryId.");const v={onComplete:l,hashFn:r,query:t,tag:o};this.listens.get(m).set(c,v),this.connected_&&this.sendListen_(v)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(t){const r=t.query,o=r._path.toString(),l=r._queryIdentifier;this.log_("Listen on "+o+" for "+l);const c={p:o};t.tag&&(c.q=r._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest("q",c,v=>{const E=v.d,S=v.s;n.warnOnListenWarnings_(E,r),(this.listens.get(o)&&this.listens.get(o).get(l))===t&&(this.log_("listen response",v),"ok"!==S&&this.removeListen_(o,l),t.onComplete&&t.onComplete(S,E))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,p.r3)(t,"w")){const o=(0,p.DV)(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const l='".indexOn": "'+r._queryParams.getIndex().toString()+'"',c=r._path.toString();Cr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,p.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,p.w9)(t)?"auth":"gauth",o={cred:t};null===this.authOverride_?o.noauth=!0:"object"==typeof this.authOverride_&&(o.authvar=this.authOverride_),this.sendRequest(r,o,l=>{const c=l.s,m=l.d||"error";this.authToken_===t&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,o=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(t,r){const o=t._path.toString(),l=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+l),(0,p.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,l)&&this.connected_&&this.sendUnlisten_(o,l,t._queryObject,r)}sendUnlisten_(t,r,o,l){this.log_("Unlisten on "+t+" for "+r);const c={p:t};l&&(c.q=o,c.t=l),this.sendRequest("n",c)}onDisconnectPut(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:o})}onDisconnectMerge(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:o})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,o,l){const c={p:r,d:o};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,m=>{l&&setTimeout(()=>{l(m.s,m.d)},Math.floor(0))})}put(t,r,o,l){this.putInternal("p",t,r,o,l)}merge(t,r,o,l){this.putInternal("m",t,r,o,l)}putInternal(t,r,o,l,c){this.initConnection_();const m={p:r,d:o};void 0!==c&&(m.h=c),this.outstandingPuts_.push({action:t,request:m,onComplete:l}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,l=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,o,c=>{this.log_(r+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),l&&l(c.s,c.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,o=>{"ok"!==o.s&&this.log_("reportStats","Error sending stats: "+o.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,p.Pz)(t));const r=t.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):Cc("Unrecognized action received from server: "+(0,p.Pz)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,p.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=kp,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=kp,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=kp),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,y.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),o=t.onReady_.bind(t),l=t.onRealtimeDisconnect_.bind(t),c=t.id+":"+n.nextConnectionId_++,m=t.lastSessionId;let v=!1,E=null;const S=function(){E?E.close():(v=!0,l())};t.realtime_={close:S,sendRequest:function(re){(0,p.hu)(E,"sendRequest call when we're not connected not allowed."),E.sendRequest(re)}};const U=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[re,pe]=yield Promise.all([t.authTokenProvider_.getToken(U),t.appCheckTokenProvider_.getToken(U)]);v?mr("getToken() completed but was canceled"):(mr("getToken() completed. Creating connection."),t.authToken_=re&&re.accessToken,t.appCheckToken_=pe&&pe.token,E=new V_(c,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,o,l,Le=>{Cr(Le+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},m))}catch(re){t.log_("Failed to get token: "+re),v||(t.repoInfo_.nodeAdmin&&Cr(re),S())}}})()}interrupt(t){mr("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){mr("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,p.xb)(this.interruptReasons_)&&(this.reconnectDelay_=kp,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let o;o=r?r.map(c=>Cg(c)).join("$"):"default";const l=this.removeListen_(t,o);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(t,r){const o=new wn(t).toString();let l;if(this.listens.has(o)){const c=this.listens.get(o);l=c.get(r),c.delete(r),0===c.size&&this.listens.delete(o)}else l=void 0;return l}onAuthRevoked_(t,r){mr("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){mr("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,p.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+le.replace(/\./g,"-")]=1,(0,p.uI)()?t["framework.cordova"]=1:(0,p.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=U_.getInstance().currentlyOnline();return(0,p.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class tn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new tn(e,t)}}class q_{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new tn(ya,e),o=new tn(ya,t);return 0!==this.compare(r,o)}minPost(){return tn.MIN}}class xw extends q_{static get __EMPTY_NODE(){return W_}static set __EMPTY_NODE(e){W_=e}compare(e,t){return Pd(e.name,t.name)}isDefinedOn(e){throw(0,p.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return tn.MIN}maxPost(){return new tn(_a,W_)}makePost(e,t){return(0,p.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new tn(e,W_)}toString(){return".key"}}const va=new xw;class K_{constructor(e,t,r,o,l=null){this.isReverse_=o,this.resultGenerator_=l,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,o&&(c*=-1),c<0)e=this.isReverse_?e.left:e.right;else{if(0===c){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let Z_,ba=(()=>{class n{constructor(t,r,o,l,c){this.key=t,this.value=r,this.color=o??n.RED,this.left=l??vo.EMPTY_NODE,this.right=c??vo.EMPTY_NODE}copy(t,r,o,l,c){return new n(t??this.key,r??this.value,o??this.color,l??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let l=this;const c=o(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,r,o),null):0===c?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(t,r,o)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return vo.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let o,l;if(o=this,r(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),0===r(t,o.key)){if(o.right.isEmpty())return vo.EMPTY_NODE;l=o.right.min_(),o=o.copy(l.key,l.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class vo{constructor(e,t=vo.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new vo(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ba.BLACK,null,null))}remove(e){return new vo(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ba.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,o=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(o=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new K_(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new K_(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new K_(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new K_(this.root_,null,this.comparator_,!0,e)}}function Mw(n,e){return Pd(n.name,e.name)}function Ud(n,e){return Pd(n,e)}vo.EMPTY_NODE=new class Bd{copy(e,t,r,o,l){return this}insert(e,t,r){return new ba(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Nw=function(n){return"number"==typeof n?"number:"+aw(n):"string:"+n},Pw=function(n){if(n.isLeafNode()){const e=n.val();(0,p.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,p.r3)(e,".sv"),"Priority must be a string or number.")}else(0,p.hu)(n===Z_||n.isEmpty(),"priority of unexpected type.");(0,p.hu)(n===Z_||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Rw,Ow,Y_,jd=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,p.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Pw(this.priorityNode_)}static set __childrenNodeConstructor(t){Rw=t}static get __childrenNodeConstructor(){return Rw}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Wt(t)?this:".priority"===Lt(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const o=Lt(t);return null===o?r:r.isEmpty()&&".priority"!==o?this:((0,p.hu)(".priority"!==o||1===ku(t),".priority must be the last token in a path"),this.updateImmediateChild(o,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(kn(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Nw(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?aw(this.value_):this.value_,this.lazyHash_=wg(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,p.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,o=typeof this.value_,l=n.VALUE_TYPE_ORDER.indexOf(r),c=n.VALUE_TYPE_ORDER.indexOf(o);return(0,p.hu)(l>=0,"Unknown leaf type: "+r),(0,p.hu)(c>=0,"Unknown leaf type: "+o),l===c?"object"===o?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-l}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Ln=new class Lw extends q_{compare(e,t){const r=e.node.getPriority(),o=t.node.getPriority(),l=r.compareTo(o);return 0===l?Pd(e.name,t.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return tn.MIN}maxPost(){return new tn(_a,new jd("[PRIORITY-POST]",Y_))}makePost(e,t){const r=Ow(e);return new tn(t,new jd("[PRIORITY-POST]",r))}toString(){return".priority"}},Nx=Math.log(2);class Q_{constructor(e){this.count=parseInt(Math.log(e+1)/Nx,10),this.current_=this.count-1;const o=(l=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Fg=function(n,e,t,r){n.sort(e);const o=function(v,E){const S=E-v;let N,U;if(0===S)return null;if(1===S)return N=n[v],U=t?t(N):N,new ba(U,N.node,ba.BLACK,null,null);{const re=parseInt(S/2,10)+v,pe=o(v,re),Le=o(re+1,E);return N=n[re],U=t?t(N):N,new ba(U,N.node,ba.BLACK,pe,Le)}},m=function(v){let E=null,S=null,N=n.length;const U=function(pe,Le){const Ye=N-pe,kt=N;N-=pe;const Bt=o(Ye+1,kt),Zt=n[Ye],$t=t?t(Zt):Zt;re(new ba($t,Zt.node,Le,null,Bt))},re=function(pe){E?(E.left=pe,E=pe):(S=pe,E=pe)};for(let pe=0;pe<v.count;++pe){const Le=v.nextBitIsOne(),Ye=Math.pow(2,v.count-(pe+1));Le?U(Ye,ba.BLACK):(U(Ye,ba.BLACK),U(Ye,ba.RED))}return S}(new Q_(n.length));return new vo(r||e,m)};let Vw;const wa={};class zl{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,p.hu)(wa&&Ln,"ChildrenNode.ts has not been loaded"),Vw=Vw||new zl({".priority":wa},{".priority":Ln}),Vw}get(e){const t=(0,p.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof vo?t:null}hasIndex(e){return(0,p.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,p.hu)(e!==va,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const l=t.getIterator(tn.Wrap);let m,c=l.getNext();for(;c;)o=o||e.isDefinedOn(c.node),r.push(c),c=l.getNext();m=o?Fg(r,e.getCompare()):wa;const v=e.toString(),E=Object.assign({},this.indexSet_);E[v]=e;const S=Object.assign({},this.indexes_);return S[v]=m,new zl(S,E)}addToIndexes(e,t){const r=(0,p.UI)(this.indexes_,(o,l)=>{const c=(0,p.DV)(this.indexSet_,l);if((0,p.hu)(c,"Missing index implementation for "+l),o===wa){if(c.isDefinedOn(e.node)){const m=[],v=t.getIterator(tn.Wrap);let E=v.getNext();for(;E;)E.name!==e.name&&m.push(E),E=v.getNext();return m.push(e),Fg(m,c.getCompare())}return wa}{const m=t.get(e.name);let v=o;return m&&(v=v.remove(new tn(e.name,m))),v.insert(e,e.node)}});return new zl(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,p.UI)(this.indexes_,o=>{if(o===wa)return o;{const l=t.get(e.name);return l?o.remove(new tn(e.name,l)):o}});return new zl(r,this.indexSet_)}}let Np,Ht=(()=>{class n{constructor(t,r,o){this.children_=t,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&Pw(this.priorityNode_),this.children_.isEmpty()&&(0,p.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Np||(Np=new n(new vo(Ud),null,zl.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Np}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?Np:r}}getChild(t){const r=Lt(t);return null===r?this:this.getImmediateChild(r).getChild(kn(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,p.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const o=new tn(t,r);let l,c;r.isEmpty()?(l=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(o,this.children_)):(l=this.children_.insert(t,r),c=this.indexMap_.addToIndexes(o,this.children_));const m=l.isEmpty()?Np:this.priorityNode_;return new n(l,m,c)}}updateChild(t,r){const o=Lt(t);if(null===o)return r;{(0,p.hu)(".priority"!==Lt(t)||1===ku(t),".priority must be the last token in a path");const l=this.getImmediateChild(o).updateChild(kn(t),r);return this.updateImmediateChild(o,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let o=0,l=0,c=!0;if(this.forEachChild(Ln,(m,v)=>{r[m]=v.val(t),o++,c&&n.INTEGER_REGEXP_.test(m)?l=Math.max(l,Number(m)):c=!1}),!t&&c&&l<2*o){const m=[];for(const v in r)m[v]=r[v];return m}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+Nw(this.getPriority().val())+":"),this.forEachChild(Ln,(r,o)=>{const l=o.hash();""!==l&&(t+=":"+r+":"+l)}),this.lazyHash_=""===t?"":wg(t)}return this.lazyHash_}getPredecessorChildName(t,r,o){const l=this.resolveIndex_(o);if(l){const c=l.getPredecessorKey(new tn(t,r));return c?c.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.minKey();return o&&o.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new tn(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.maxKey();return o&&o.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new tn(r,this.children_.get(r)):null}forEachChild(t,r){const o=this.resolveIndex_(t);return o?o.inorderTraversal(l=>r(l.name,l.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(t,l=>l);{const l=this.children_.getIteratorFrom(t.name,tn.Wrap);let c=l.peek();for(;null!=c&&r.compare(c,t)<0;)l.getNext(),c=l.peek();return l}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(t,l=>l);{const l=this.children_.getReverseIteratorFrom(t.name,tn.Wrap);let c=l.peek();for(;null!=c&&r.compare(c,t)>0;)l.getNext(),c=l.peek();return l}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Lg?-1:0}withIndex(t){if(t===va||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===va||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const o=this.getIterator(Ln),l=r.getIterator(Ln);let c=o.getNext(),m=l.getNext();for(;c&&m;){if(c.name!==m.name||!c.node.equals(m.node))return!1;c=o.getNext(),m=l.getNext()}return null===c&&null===m}return!1}return!1}}resolveIndex_(t){return t===va?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Lg=new class J_ extends Ht{constructor(){super(new vo(Ud),Ht.EMPTY_NODE,zl.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ht.EMPTY_NODE}isEmpty(){return!1}};function er(n,e=null){if(null===n)return Ht.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,p.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new jd(n,er(e));if(n instanceof Array){let t=Ht.EMPTY_NODE;return Vr(n,(r,o)=>{if((0,p.r3)(n,r)&&"."!==r.substring(0,1)){const l=er(o);(l.isLeafNode()||!l.isEmpty())&&(t=t.updateImmediateChild(r,l))}}),t.updatePriority(er(e))}{const t=[];let r=!1;if(Vr(n,(c,m)=>{if("."!==c.substring(0,1)){const v=er(m);v.isEmpty()||(r=r||!v.getPriority().isEmpty(),t.push(new tn(c,v)))}}),0===t.length)return Ht.EMPTY_NODE;const l=Fg(t,Mw,c=>c.name,Ud);if(r){const c=Fg(t,Ln.getCompare());return new Ht(l,er(e),new zl({".priority":c},{".priority":Ln}))}return new Ht(l,er(e),zl.Default)}}Object.defineProperties(tn,{MIN:{value:new tn(ya,Ht.EMPTY_NODE)},MAX:{value:new tn(_a,Lg)}}),xw.__EMPTY_NODE=Ht.EMPTY_NODE,jd.__childrenNodeConstructor=Ht,function kw(n){Z_=n}(Lg),function Fw(n){Y_=n}(Lg),function t1(n){Ow=n}(er);class Bw extends q_{constructor(e){super(),this.indexPath_=e,(0,p.hu)(!Wt(e)&&".priority"!==Lt(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),o=this.extractChild(t.node),l=r.compareTo(o);return 0===l?Pd(e.name,t.name):l}makePost(e,t){const r=er(e),o=Ht.EMPTY_NODE.updateChild(this.indexPath_,r);return new tn(t,o)}maxPost(){const e=Ht.EMPTY_NODE.updateChild(this.indexPath_,Lg);return new tn(_a,e)}toString(){return Nu(this.indexPath_,0).join("/")}}const Uw=new class Rx extends q_{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?Pd(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return tn.MIN}maxPost(){return tn.MAX}makePost(e,t){const r=er(e);return new tn(t,r)}toString(){return".value"}},Pp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Gw=function(){let n=0;const e=[];return function(t){const r=t===n;let o;n=t;const l=new Array(8);for(o=7;o>=0;o--)l[o]=Pp.charAt(t%64),t=Math.floor(t/64);(0,p.hu)(0===t,"Cannot push at time == 0");let c=l.join("");if(r){for(o=11;o>=0&&63===e[o];o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)c+=Pp.charAt(e[o]);return(0,p.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),Hw=function(n){if(n===""+Ig)return"-";const e=Od(n);if(null!=e)return""+(e+1);const t=new Array(n.length);for(let c=0;c<t.length;c++)t[c]=n.charAt(c);if(t.length<786)return t.push("-"),t.join("");let r=t.length-1;for(;r>=0&&"z"===t[r];)r--;if(-1===r)return _a;const l=Pp.charAt(Pp.indexOf(t[r])+1);return t[r]=l,t.slice(0,r+1).join("")},ev=function(n){if(n===""+lw)return ya;const e=Od(n);if(null!=e)return""+(e-1);const t=new Array(n.length);for(let r=0;r<t.length;r++)t[r]=n.charAt(r);return"-"===t[t.length-1]?1===t.length?""+Ig:(delete t[t.length-1],t.join("")):(t[t.length-1]=Pp.charAt(Pp.indexOf(t[t.length-1])-1),t.join("")+"z".repeat(786-t.length))};function tv(n){return{type:"value",snapshotNode:n}}function ql(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Qi(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Gd(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class Rp{constructor(e){this.index_=e}updateChild(e,t,r,o,l,c){(0,p.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=e.getImmediateChild(t);return m.getChild(o).equals(r.getChild(o))&&m.isEmpty()===r.isEmpty()||(null!=c&&(r.isEmpty()?e.hasChild(t)?c.trackChildChange(Qi(t,m)):(0,p.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?c.trackChildChange(ql(t,r)):c.trackChildChange(Gd(t,r,m))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild(Ln,(o,l)=>{t.hasChild(o)||r.trackChildChange(Qi(o,l))}),t.isLeafNode()||t.forEachChild(Ln,(o,l)=>{if(e.hasChild(o)){const c=e.getImmediateChild(o);c.equals(l)||r.trackChildChange(Gd(o,l,c))}else r.trackChildChange(ql(o,l))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Ht.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Zo{constructor(e){this.indexedFilter_=new Rp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Zo.getStartPost_(e),this.endPost_=Zo.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,r,o,l,c){return this.matches(new tn(t,r))||(r=Ht.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,o,l,c)}updateFullNode(e,t,r){t.isLeafNode()&&(t=Ht.EMPTY_NODE);let o=t.withIndex(this.index_);o=o.updatePriority(Ht.EMPTY_NODE);const l=this;return t.forEachChild(Ln,(c,m)=>{l.matches(new tn(c,m))||(o=o.updateImmediateChild(c,Ht.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class nv{constructor(e){this.rangedFilter_=new Zo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,r,o,l,c){return this.rangedFilter_.matches(new tn(t,r))||(r=Ht.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,o,l,c):this.fullLimitUpdateChild_(e,t,r,l,c)}updateFullNode(e,t,r){let o;if(t.isLeafNode()||t.isEmpty())o=Ht.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let l;o=Ht.EMPTY_NODE.withIndex(this.index_),l=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;l.hasNext()&&c<this.limit_;){const m=l.getNext();let v;if(v=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),m)<=0:this.index_.compare(m,this.rangedFilter_.getEndPost())<=0,!v)break;o=o.updateImmediateChild(m.name,m.node),c++}}else{let l,c,m,v;if(o=t.withIndex(this.index_),o=o.updatePriority(Ht.EMPTY_NODE),this.reverse_){v=o.getReverseIterator(this.index_),l=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const N=this.index_.getCompare();m=(U,re)=>N(re,U)}else v=o.getIterator(this.index_),l=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),m=this.index_.getCompare();let E=0,S=!1;for(;v.hasNext();){const N=v.getNext();!S&&m(l,N)<=0&&(S=!0),S&&E<this.limit_&&m(N,c)<=0?E++:o=o.updateImmediateChild(N.name,Ht.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,o,l){let c;if(this.reverse_){const N=this.index_.getCompare();c=(U,re)=>N(re,U)}else c=this.index_.getCompare();const m=e;(0,p.hu)(m.numChildren()===this.limit_,"");const v=new tn(t,r),E=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),S=this.rangedFilter_.matches(v);if(m.hasChild(t)){const N=m.getImmediateChild(t);let U=o.getChildAfterChild(this.index_,E,this.reverse_);for(;null!=U&&(U.name===t||m.hasChild(U.name));)U=o.getChildAfterChild(this.index_,U,this.reverse_);const re=null==U?1:c(U,v);if(S&&!r.isEmpty()&&re>=0)return l?.trackChildChange(Gd(t,r,N)),m.updateImmediateChild(t,r);{l?.trackChildChange(Qi(t,N));const Le=m.updateImmediateChild(t,Ht.EMPTY_NODE);return null!=U&&this.rangedFilter_.matches(U)?(l?.trackChildChange(ql(U.name,U.node)),Le.updateImmediateChild(U.name,U.node)):Le}}return r.isEmpty()?e:S&&c(E,v)>=0?(null!=l&&(l.trackChildChange(Qi(E.name,E.node)),l.trackChildChange(ql(t,r))),m.updateImmediateChild(t,r).updateImmediateChild(E.name,Ht.EMPTY_NODE)):e}}class Op{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ln}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,p.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,p.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ya}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,p.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,p.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:_a}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,p.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ln}copy(){const e=new Op;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function zw(n,e,t){const r=n.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=t?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function Hd(n,e,t){const r=n.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==t?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function $d(n,e){const t=n.copy();return t.index_=e,t}function Ug(n){const e={};if(n.isDefault())return e;let t;return n.index_===Ln?t="$priority":n.index_===Uw?t="$value":n.index_===va?t="$key":((0,p.hu)(n.index_ instanceof Bw,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,p.Pz)(t),n.startSet_&&(e.startAt=(0,p.Pz)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,p.Pz)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,p.Pz)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,p.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function r1(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Ln&&(e.i=n.index_.toString()),e}class jg extends B_{constructor(e,t,r,o){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=dl("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,p.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,o){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const c=jg.getListenId_(e,r),m={};this.listens_[c]=m;const v=Ug(e._queryParams);this.restRequest_(l+".json",v,(E,S)=>{let N=S;if(404===E&&(N=null,E=null),null===E&&this.onDataUpdate_(l,N,!1,r),(0,p.DV)(this.listens_,c)===m){let U;U=E?401===E?"permission_denied":"rest_error:"+E:"ok",o(U,null)}})}unlisten(e,t){const r=jg.getListenId_(e,t);delete this.listens_[r]}get(e){const t=Ug(e._queryParams),r=e._path.toString(),o=new p.BH;return this.restRequest_(r+".json",t,(l,c)=>{let m=c;404===l&&(m=null,l=null),null===l?(this.onDataUpdate_(r,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,l])=>{o&&o.accessToken&&(t.auth=o.accessToken),l&&l.token&&(t.ac=l.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,p.xO)(t);this.log_("Sending REST request for "+c);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(r&&4===m.readyState){this.log_("REST Response for "+c+" received. status:",m.status,"response:",m.responseText);let v=null;if(m.status>=200&&m.status<300){try{v=(0,p.cI)(m.responseText)}catch{Cr("Failed to parse JSON response for "+c+": "+m.responseText)}r(null,v)}else 401!==m.status&&404!==m.status&&Cr("Got unsuccessful REST response for "+c+" Status: "+m.status),r(m.status);r=null}},m.open("GET",c,!0),m.send()})}}class o1{constructor(){this.rootNode_=Ht.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Gg(){return{value:null,children:new Map}}function zd(n,e,t){if(Wt(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=Lt(e);n.children.has(r)||n.children.set(r,Gg()),zd(n.children.get(r),e=kn(e),t)}}function Hg(n,e){if(Wt(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(Ln,(r,o)=>{zd(n,new wn(r),o)}),Hg(n,e)}}if(n.children.size>0){const t=Lt(e);return e=kn(e),n.children.has(t)&&Hg(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function qw(n,e,t){null!==n.value?t(e,n.value):function s1(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,o)=>{qw(o,new wn(e.toString()+"/"+r),t)})}class Fx{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Vr(this.last_,(r,o)=>{t[r]=t[r]-o}),this.last_=e,t}}class sv{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Fx(e);const r=1e4+2e4*Math.random();Ip(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Vr(e,(o,l)=>{l>0&&(0,p.r3)(this.statsToReport_,o)&&(t[o]=l,r=!0)}),r&&this.server_.reportStats(t),Ip(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ea=(()=>{return(n=Ea||(Ea={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Ea;var n})();function Yw(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class av{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Ea.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Wt(this.path)){if(null!=this.affectedTree.value)return(0,p.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new wn(e));return new av(gn(),t,this.revert)}}return(0,p.hu)(Lt(this.path)===e,"operationForChild called for unrelated child."),new av(kn(this.path),this.affectedTree,this.revert)}}class $g{constructor(e,t){this.source=e,this.path=t,this.type=Ea.LISTEN_COMPLETE}operationForChild(e){return Wt(this.path)?new $g(this.source,gn()):new $g(this.source,kn(this.path))}}class qd{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Ea.OVERWRITE}operationForChild(e){return Wt(this.path)?new qd(this.source,gn(),this.snap.getImmediateChild(e)):new qd(this.source,kn(this.path),this.snap)}}class Fp{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Ea.MERGE}operationForChild(e){if(Wt(this.path)){const t=this.children.subtree(new wn(e));return t.isEmpty()?null:t.value?new qd(this.source,gn(),t.value):new Fp(this.source,gn(),t)}return(0,p.hu)(Lt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Fp(this.source,kn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class xc{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Wt(e))return this.isFullyInitialized()&&!this.filtered_;const t=Lt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Lx{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Mc(n,e,t,r,o,l){const c=r.filter(m=>m.type===t);c.sort((m,v)=>function Qw(n,e,t){if(null==e.childName||null==t.childName)throw(0,p.g5)("Should only compare child_ events.");const r=new tn(e.childName,e.snapshotNode),o=new tn(t.childName,t.snapshotNode);return n.index_.compare(r,o)}(n,m,v)),c.forEach(m=>{const v=function l1(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,m,l);o.forEach(E=>{E.respondsTo(m.type)&&e.push(E.createEvent(v,n.query_))})})}function Wd(n,e){return{eventCache:n,serverCache:e}}function Kd(n,e,t,r){return Wd(new xc(e,t,r),n.serverCache)}function zg(n,e,t,r){return Wd(n.eventCache,new xc(e,t,r))}function qg(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function bo(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Wg;class Vn{constructor(e,t=(()=>(Wg||(Wg=new vo(Rd)),Wg))()){this.value=e,this.children=t}static fromObject(e){let t=new Vn(null);return Vr(e,(r,o)=>{t=t.set(new wn(r),o)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:gn(),value:this.value};if(Wt(e))return null;{const r=Lt(e),o=this.children.get(r);if(null!==o){const l=o.findRootMostMatchingPathAndValue(kn(e),t);return null!=l?{path:Kn(new wn(r),l.path),value:l.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Wt(e))return this;{const t=Lt(e),r=this.children.get(t);return null!==r?r.subtree(kn(e)):new Vn(null)}}set(e,t){if(Wt(e))return new Vn(t,this.children);{const r=Lt(e),l=(this.children.get(r)||new Vn(null)).set(kn(e),t),c=this.children.insert(r,l);return new Vn(this.value,c)}}remove(e){if(Wt(e))return this.children.isEmpty()?new Vn(null):new Vn(null,this.children);{const t=Lt(e),r=this.children.get(t);if(r){const o=r.remove(kn(e));let l;return l=o.isEmpty()?this.children.remove(t):this.children.insert(t,o),null===this.value&&l.isEmpty()?new Vn(null):new Vn(this.value,l)}return this}}get(e){if(Wt(e))return this.value;{const t=Lt(e),r=this.children.get(t);return r?r.get(kn(e)):null}}setTree(e,t){if(Wt(e))return t;{const r=Lt(e),l=(this.children.get(r)||new Vn(null)).setTree(kn(e),t);let c;return c=l.isEmpty()?this.children.remove(r):this.children.insert(r,l),new Vn(this.value,c)}}fold(e){return this.fold_(gn(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((o,l)=>{r[o]=l.fold_(Kn(e,o),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,gn(),t)}findOnPath_(e,t,r){const o=!!this.value&&r(t,this.value);if(o)return o;if(Wt(e))return null;{const l=Lt(e),c=this.children.get(l);return c?c.findOnPath_(kn(e),Kn(t,l),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,gn(),t)}foreachOnPath_(e,t,r){if(Wt(e))return this;{this.value&&r(t,this.value);const o=Lt(e),l=this.children.get(o);return l?l.foreachOnPath_(kn(e),Kn(t,o),r):new Vn(null)}}foreach(e){this.foreach_(gn(),e)}foreach_(e,t){this.children.inorderTraversal((r,o)=>{o.foreach_(Kn(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class Ca{constructor(e){this.writeTree_=e}static empty(){return new Ca(new Vn(null))}}function Zd(n,e,t){if(Wt(e))return new Ca(new Vn(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const o=r.path;let l=r.value;const c=Kr(o,e);return l=l.updateChild(c,t),new Ca(n.writeTree_.set(o,l))}{const o=new Vn(t),l=n.writeTree_.setTree(e,o);return new Ca(l)}}}function lv(n,e,t){let r=n;return Vr(t,(o,l)=>{r=Zd(r,Kn(e,o),l)}),r}function Jw(n,e){if(Wt(e))return Ca.empty();{const t=n.writeTree_.setTree(e,new Vn(null));return new Ca(t)}}function kc(n,e){return null!=Ns(n,e)}function Ns(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Kr(t.path,e)):null}function Kg(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Ln,(r,o)=>{e.push(new tn(r,o))}):n.writeTree_.children.inorderTraversal((r,o)=>{null!=o.value&&e.push(new tn(r,o.value))}),e}function Yo(n,e){if(Wt(e))return n;{const t=Ns(n,e);return new Ca(null!=t?new Vn(t):n.writeTree_.subtree(e))}}function Nc(n){return n.writeTree_.isEmpty()}function Ia(n,e){return Xw(gn(),n.writeTree_,e)}function Xw(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((o,l)=>{".priority"===o?((0,p.hu)(null!==l.value,"Priority writes must always be leaf nodes"),r=l.value):t=Xw(Kn(n,o),l,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(Kn(n,".priority"),r)),t}}function Lp(n,e){return sE(e,n)}function Zg(n,e){if(n.snap)return ks(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&ks(Kn(n.path,t),e))return!0;return!1}function nE(n){return n.visible}function d1(n,e,t){let r=Ca.empty();for(let o=0;o<n.length;++o){const l=n[o];if(e(l)){const c=l.path;let m;if(l.snap)ks(t,c)?(m=Kr(t,c),r=Zd(r,m,l.snap)):ks(c,t)&&(m=Kr(c,t),r=Zd(r,gn(),l.snap.getChild(m)));else{if(!l.children)throw(0,p.g5)("WriteRecord should have .snap or .children");if(ks(t,c))m=Kr(t,c),r=lv(r,m,l.children);else if(ks(c,t))if(m=Kr(c,t),Wt(m))r=lv(r,gn(),l.children);else{const v=(0,p.DV)(l.children,Lt(m));if(v){const E=v.getChild(kn(m));r=Zd(r,gn(),E)}}}}}return r}function dv(n,e,t,r,o){if(r||o){const l=Yo(n.visibleWrites,e);return!o&&Nc(l)?t:o||null!=t||kc(l,gn())?Ia(d1(n.allWrites,function(E){return(E.visible||o)&&(!r||!~r.indexOf(E.writeId))&&(ks(E.path,e)||ks(e,E.path))},e),t||Ht.EMPTY_NODE):null}{const l=Ns(n.visibleWrites,e);if(null!=l)return l;{const c=Yo(n.visibleWrites,e);return Nc(c)?t:null!=t||kc(c,gn())?Ia(c,t||Ht.EMPTY_NODE):null}}}function Yg(n,e,t,r){return dv(n.writeTree,n.treePath,e,t,r)}function hv(n,e){return function rE(n,e,t){let r=Ht.EMPTY_NODE;const o=Ns(n.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(Ln,(l,c)=>{r=r.updateImmediateChild(l,c)}),r;if(t){const l=Yo(n.visibleWrites,e);return t.forEachChild(Ln,(c,m)=>{const v=Ia(Yo(l,new wn(c)),m);r=r.updateImmediateChild(c,v)}),Kg(l).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}return Kg(Yo(n.visibleWrites,e)).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}(n.writeTree,n.treePath,e)}function g1(n,e,t,r){return function h1(n,e,t,r,o){(0,p.hu)(r||o,"Either existingEventSnap or existingServerSnap must exist");const l=Kn(e,t);if(kc(n.visibleWrites,l))return null;{const c=Yo(n.visibleWrites,l);return Nc(c)?o.getChild(t):Ia(c,o.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function Qg(n,e){return function p1(n,e){return Ns(n.visibleWrites,e)}(n.writeTree,Kn(n.treePath,e))}function Jg(n,e,t){return function iE(n,e,t,r){const o=Kn(e,t),l=Ns(n.visibleWrites,o);return null!=l?l:r.isCompleteForChild(t)?Ia(Yo(n.visibleWrites,o),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function oE(n,e){return sE(Kn(n.treePath,e),n.writeTree)}function sE(n,e){return{treePath:n,writeTree:e}}class m1{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,p.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,p.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const l=o.type;if("child_added"===t&&"child_removed"===l)this.changeMap.set(r,Gd(r,e.snapshotNode,o.snapshotNode));else if("child_removed"===t&&"child_added"===l)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===l)this.changeMap.set(r,Qi(r,o.oldSnap));else if("child_changed"===t&&"child_added"===l)this.changeMap.set(r,ql(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==l)throw(0,p.g5)("Illegal combination of changes: "+e+" occurred after "+o);this.changeMap.set(r,Gd(r,e.snapshotNode,o.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const lE=new class aE{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class Xg{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new xc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Jg(this.writes_,e,r)}}getChildAfterChild(e,t,r){const o=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:bo(this.viewCache_),l=function pv(n,e,t,r,o,l){return function f1(n,e,t,r,o,l,c){let m;const v=Yo(n.visibleWrites,e),E=Ns(v,gn());if(null!=E)m=E;else{if(null==t)return[];m=Ia(v,t)}if(m=m.withIndex(c),m.isEmpty()||m.isLeafNode())return[];{const S=[],N=c.getCompare(),U=l?m.getReverseIteratorFrom(r,c):m.getIteratorFrom(r,c);let re=U.getNext();for(;re&&S.length<o;)0!==N(re,r)&&S.push(re),re=U.getNext();return S}}(n.writeTree,n.treePath,e,t,r,o,l)}(this.writes_,o,t,1,r,e);return 0===l.length?null:l[0]}}function dE(n,e,t,r,o,l){const c=e.eventCache;if(null!=Qg(r,t))return e;{let m,v;if(Wt(t))if((0,p.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const E=bo(e),N=hv(r,E instanceof Ht?E:Ht.EMPTY_NODE);m=n.filter.updateFullNode(e.eventCache.getNode(),N,l)}else{const E=Yg(r,bo(e));m=n.filter.updateFullNode(e.eventCache.getNode(),E,l)}else{const E=Lt(t);if(".priority"===E){(0,p.hu)(1===ku(t),"Can't have a priority with additional path components");const S=c.getNode();v=e.serverCache.getNode();const N=g1(r,t,S,v);m=null!=N?n.filter.updatePriority(S,N):c.getNode()}else{const S=kn(t);let N;if(c.isCompleteForChild(E)){v=e.serverCache.getNode();const U=g1(r,t,c.getNode(),v);N=null!=U?c.getNode().getImmediateChild(E).updateChild(S,U):c.getNode().getImmediateChild(E)}else N=Jg(r,E,e.serverCache);m=null!=N?n.filter.updateChild(c.getNode(),E,N,S,o,l):c.getNode()}}return Kd(e,m,c.isFullyInitialized()||Wt(t),n.filter.filtersNodes())}}function Jo(n,e,t,r,o,l,c,m){const v=e.serverCache;let E;const S=c?n.filter:n.filter.getIndexedFilter();if(Wt(t))E=S.updateFullNode(v.getNode(),r,null);else if(S.filtersNodes()&&!v.isFiltered()){const re=v.getNode().updateChild(t,r);E=S.updateFullNode(v.getNode(),re,null)}else{const re=Lt(t);if(!v.isCompleteForPath(t)&&ku(t)>1)return e;const pe=kn(t),Ye=v.getNode().getImmediateChild(re).updateChild(pe,r);E=".priority"===re?S.updatePriority(v.getNode(),Ye):S.updateChild(v.getNode(),re,Ye,pe,lE,null)}const N=zg(e,E,v.isFullyInitialized()||Wt(t),S.filtersNodes());return dE(n,N,t,o,new Xg(o,N,l),m)}function Vp(n,e,t,r,o,l,c){const m=e.eventCache;let v,E;const S=new Xg(o,e,l);if(Wt(t))E=n.filter.updateFullNode(e.eventCache.getNode(),r,c),v=Kd(e,E,!0,n.filter.filtersNodes());else{const N=Lt(t);if(".priority"===N)E=n.filter.updatePriority(e.eventCache.getNode(),r),v=Kd(e,E,m.isFullyInitialized(),m.isFiltered());else{const U=kn(t),re=m.getNode().getImmediateChild(N);let pe;if(Wt(U))pe=r;else{const Le=S.getCompleteChild(N);pe=null!=Le?".priority"===Rg(U)&&Le.getChild(Iw(U)).isEmpty()?Le:Le.updateChild(U,r):Ht.EMPTY_NODE}v=re.equals(pe)?e:Kd(e,n.filter.updateChild(m.getNode(),N,pe,U,S,c),m.isFullyInitialized(),n.filter.filtersNodes())}}return v}function hE(n,e){return n.eventCache.isCompleteForChild(e)}function b1(n,e,t){return t.foreach((r,o)=>{e=e.updateChild(r,o)}),e}function em(n,e,t,r,o,l,c,m){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let E,v=e;E=Wt(t)?r:new Vn(null).setTree(t,r);const S=e.serverCache.getNode();return E.children.inorderTraversal((N,U)=>{if(S.hasChild(N)){const pe=b1(0,e.serverCache.getNode().getImmediateChild(N),U);v=Jo(n,v,new wn(N),pe,o,l,c,m)}}),E.children.inorderTraversal((N,U)=>{const re=!e.serverCache.isCompleteForChild(N)&&void 0===U.value;if(!S.hasChild(N)&&!re){const Le=b1(0,e.serverCache.getNode().getImmediateChild(N),U);v=Jo(n,v,new wn(N),Le,o,l,c,m)}}),v}class fv{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Rp(r.getIndex()),l=function rv(n){return n.loadsAllData()?new Rp(n.getIndex()):n.hasLimit()?new nv(n):new Zo(n)}(r);this.processor_=function y1(n){return{filter:n}}(l);const c=t.serverCache,m=t.eventCache,v=o.updateFullNode(Ht.EMPTY_NODE,c.getNode(),null),E=l.updateFullNode(Ht.EMPTY_NODE,m.getNode(),null),S=new xc(v,c.isFullyInitialized(),o.filtersNodes()),N=new xc(E,m.isFullyInitialized(),l.filtersNodes());this.viewCache_=Wd(N,S),this.eventGenerator_=new Lx(this.query_)}get query(){return this.query_}}function tm(n,e){const t=bo(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Wt(e)&&!t.getImmediateChild(Lt(e)).isEmpty())?t.getChild(e):null}function nm(n){return 0===n.eventRegistrations_.length}function rm(n,e,t){const r=[];if(t){(0,p.hu)(null==e,"A cancel should cancel all event registrations.");const o=n.query._path;n.eventRegistrations_.forEach(l=>{const c=l.createCancelEvent(t,o);c&&r.push(c)})}if(e){let o=[];for(let l=0;l<n.eventRegistrations_.length;++l){const c=n.eventRegistrations_[l];if(c.matches(e)){if(e.hasAnyCallback()){o=o.concat(n.eventRegistrations_.slice(l+1));break}}else o.push(c)}n.eventRegistrations_=o}else n.eventRegistrations_=[];return r}function im(n,e,t,r){e.type===Ea.MERGE&&null!==e.source.queryId&&((0,p.hu)(bo(n.viewCache_),"We should always have a full cache before handling merges"),(0,p.hu)(qg(n.viewCache_),"Missing event cache, even though we have a server cache"));const o=n.viewCache_,l=function uE(n,e,t,r,o){const l=new m1;let c,m;if(t.type===Ea.OVERWRITE){const E=t;E.source.fromUser?c=Vp(n,e,E.path,E.snap,r,o,l):((0,p.hu)(E.source.fromServer,"Unknown source."),m=E.source.tagged||e.serverCache.isFiltered()&&!Wt(E.path),c=Jo(n,e,E.path,E.snap,r,o,m,l))}else if(t.type===Ea.MERGE){const E=t;E.source.fromUser?c=function v1(n,e,t,r,o,l,c){let m=e;return r.foreach((v,E)=>{const S=Kn(t,v);hE(e,Lt(S))&&(m=Vp(n,m,S,E,o,l,c))}),r.foreach((v,E)=>{const S=Kn(t,v);hE(e,Lt(S))||(m=Vp(n,m,S,E,o,l,c))}),m}(n,e,E.path,E.children,r,o,l):((0,p.hu)(E.source.fromServer,"Unknown source."),m=E.source.tagged||e.serverCache.isFiltered(),c=em(n,e,E.path,E.children,r,o,m,l))}else if(t.type===Ea.ACK_USER_WRITE){const E=t;c=E.revert?function C1(n,e,t,r,o,l){let c;if(null!=Qg(r,t))return e;{const m=new Xg(r,e,o),v=e.eventCache.getNode();let E;if(Wt(t)||".priority"===Lt(t)){let S;if(e.serverCache.isFullyInitialized())S=Yg(r,bo(e));else{const N=e.serverCache.getNode();(0,p.hu)(N instanceof Ht,"serverChildren would be complete if leaf node"),S=hv(r,N)}E=n.filter.updateFullNode(v,S,l)}else{const S=Lt(t);let N=Jg(r,S,e.serverCache);null==N&&e.serverCache.isCompleteForChild(S)&&(N=v.getImmediateChild(S)),E=null!=N?n.filter.updateChild(v,S,N,kn(t),m,l):e.eventCache.getNode().hasChild(S)?n.filter.updateChild(v,S,Ht.EMPTY_NODE,kn(t),m,l):v,E.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=Yg(r,bo(e)),c.isLeafNode()&&(E=n.filter.updateFullNode(E,c,l)))}return c=e.serverCache.isFullyInitialized()||null!=Qg(r,gn()),Kd(e,E,c,n.filter.filtersNodes())}}(n,e,E.path,r,o,l):function w1(n,e,t,r,o,l,c){if(null!=Qg(o,t))return e;const m=e.serverCache.isFiltered(),v=e.serverCache;if(null!=r.value){if(Wt(t)&&v.isFullyInitialized()||v.isCompleteForPath(t))return Jo(n,e,t,v.getNode().getChild(t),o,l,m,c);if(Wt(t)){let E=new Vn(null);return v.getNode().forEachChild(va,(S,N)=>{E=E.set(new wn(S),N)}),em(n,e,t,E,o,l,m,c)}return e}{let E=new Vn(null);return r.foreach((S,N)=>{const U=Kn(t,S);v.isCompleteForPath(U)&&(E=E.set(S,v.getNode().getChild(U)))}),em(n,e,t,E,o,l,m,c)}}(n,e,E.path,E.affectedTree,r,o,l)}else{if(t.type!==Ea.LISTEN_COMPLETE)throw(0,p.g5)("Unknown operation type: "+t.type);c=function E1(n,e,t,r,o){const l=e.serverCache;return dE(n,zg(e,l.getNode(),l.isFullyInitialized()||Wt(t),l.isFiltered()),t,r,lE,o)}(n,e,t.path,r,l)}const v=l.getChanges();return function cE(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),l=qg(n);(t.length>0||!n.eventCache.isFullyInitialized()||o&&!r.getNode().equals(l)||!r.getNode().getPriority().equals(l.getPriority()))&&t.push(tv(qg(e)))}}(e,c,v),{viewCache:c,changes:v}}(n.processor_,o,e,t,r);return function _1(n,e){(0,p.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,p.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,l.viewCache),(0,p.hu)(l.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=l.viewCache,T1(n,l.changes,l.viewCache.eventCache.getNode(),null)}function T1(n,e,t,r){return function Pu(n,e,t,r){const o=[],l=[];return e.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&l.push(function n1(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(c.childName,c.snapshotNode))}),Mc(n,o,"child_removed",e,r,t),Mc(n,o,"child_added",e,r,t),Mc(n,o,"child_moved",l,r,t),Mc(n,o,"child_changed",e,r,t),Mc(n,o,"value",e,r,t),o}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}let gv,Bp;class om{constructor(){this.views=new Map}}function sm(n,e,t,r){const o=e.source.queryId;if(null!==o){const l=n.views.get(o);return(0,p.hu)(null!=l,"SyncTree gave us an op for an invalid query."),im(l,e,t,r)}{let l=[];for(const c of n.views.values())l=l.concat(im(c,e,t,r));return l}}function am(n,e,t,r,o){const c=n.views.get(e._queryIdentifier);if(!c){let m=Yg(t,o?r:null),v=!1;m?v=!0:r instanceof Ht?(m=hv(t,r),v=!1):(m=Ht.EMPTY_NODE,v=!1);const E=Wd(new xc(m,v,!1),new xc(r,o,!1));return new fv(e,E)}return c}function fl(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Da(n,e){let t=null;for(const r of n.views.values())t=t||tm(r,e);return t}function yE(n,e){return e._queryParams.loadsAllData()?Yd(n):n.views.get(e._queryIdentifier)}function _E(n,e){return null!=yE(n,e)}function Pc(n){return null!=Yd(n)}function Yd(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let wE=1;class EE{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Vn(null),this.pendingWriteTree_=function Qo(){return{visibleWrites:Ca.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function mv(n,e,t,r,o){return function eE(n,e,t,r,o){(0,p.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:o}),o&&(n.visibleWrites=Zd(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,o),o?ki(n,new qd({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Ru(n,e,t=!1){const r=function cv(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function tE(n,e){const t=n.allWrites.findIndex(m=>m.writeId===e);(0,p.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let o=r.visible,l=!1,c=n.allWrites.length-1;for(;o&&c>=0;){const m=n.allWrites[c];m.visible&&(c>=t&&Zg(m,r.path)?o=!1:ks(r.path,m.path)&&(l=!0)),c--}return!!o&&(l?(function c1(n){n.visibleWrites=d1(n.allWrites,nE,gn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=Jw(n.visibleWrites,r.path):Vr(r.children,v=>{n.visibleWrites=Jw(n.visibleWrites,Kn(r.path,v))}),!0))}(n.pendingWriteTree_,e)){let l=new Vn(null);return null!=r.snap?l=l.set(gn(),!0):Vr(r.children,c=>{l=l.set(new wn(c),!0)}),ki(n,new av(r.path,l,t))}return[]}function Qd(n,e,t){return ki(n,new qd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function lm(n,e,t,r){const o=e._path,l=n.syncPointTree_.get(o);let c=[];if(l&&("default"===e._queryIdentifier||_E(l,e))){const m=function mE(n,e,t,r){const o=e._queryIdentifier,l=[];let c=[];const m=Pc(n);if("default"===o)for(const[v,E]of n.views.entries())c=c.concat(rm(E,t,r)),nm(E)&&(n.views.delete(v),E.query._queryParams.loadsAllData()||l.push(E.query));else{const v=n.views.get(o);v&&(c=c.concat(rm(v,t,r)),nm(v)&&(n.views.delete(o),v.query._queryParams.loadsAllData()||l.push(v.query)))}return m&&!Pc(n)&&l.push(new(function S1(){return(0,p.hu)(gv,"Reference.ts has not been loaded"),gv}())(e._repo,e._path)),{removed:l,events:c}}(l,e,t,r);(function fE(n){return 0===n.views.size})(l)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const v=m.removed;c=m.events;const E=-1!==v.findIndex(N=>N._queryParams.loadsAllData()),S=n.syncPointTree_.findOnPath(o,(N,U)=>Pc(U));if(E&&!S){const N=n.syncPointTree_.subtree(o);if(!N.isEmpty()){const U=function bv(n){return n.fold((e,t,r)=>{if(t&&Pc(t))return[Yd(t)];{let o=[];return t&&(o=fl(t)),Vr(r,(l,c)=>{o=o.concat(c)}),o}})}(N);for(let re=0;re<U.length;++re){const pe=U[re],Le=pe.query,Ye=_v(n,pe);n.listenProvider_.startListening(Gp(Le),Jd(n,Le),Ye.hashFn,Ye.onComplete)}}}!S&&v.length>0&&!r&&(E?n.listenProvider_.stopListening(Gp(e),null):v.forEach(N=>{const U=n.queryToTagMap.get(jp(N));n.listenProvider_.stopListening(Gp(N),U)})),function wv(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const o=jp(r),l=n.queryToTagMap.get(o);n.queryToTagMap.delete(o),n.tagToQueryMap.delete(l)}}}(n,v)}return c}function k1(n,e,t,r){const o=vv(n,r);if(null!=o){const l=DE(o),c=l.path,m=l.queryId,v=Kr(c,e);return um(n,c,new qd(Yw(m),v,t))}return[]}function IE(n,e){const t=n._path;let r=null,o=!1;e.syncPointTree_.foreachOnPath(t,(E,S)=>{const N=Kr(E,t);r=r||Da(S,N),o=o||Pc(S)});let c,l=e.syncPointTree_.get(t);l?(o=o||Pc(l),r=r||Da(l,gn())):(l=new om,e.syncPointTree_=e.syncPointTree_.set(t,l)),null!=r?c=!0:(c=!1,r=Ht.EMPTY_NODE,e.syncPointTree_.subtree(t).foreachChild((S,N)=>{const U=Da(N,gn());U&&(r=r.updateImmediateChild(S,U))}));const m=_E(l,n);if(!m&&!n._queryParams.loadsAllData()){const E=jp(n);(0,p.hu)(!e.queryToTagMap.has(E),"View does not exist, but we have a tag");const S=function O1(){return wE++}();e.queryToTagMap.set(E,S),e.tagToQueryMap.set(S,E)}return{syncPoint:l,writesCache:Lp(e.pendingWriteTree_,t),serverCache:r,serverCacheComplete:c,foundAncestorDefaultView:o,viewAlreadyExists:m}}function yv(n,e,t){const{syncPoint:r,serverCache:o,writesCache:l,serverCacheComplete:c,viewAlreadyExists:m,foundAncestorDefaultView:v}=IE(e,n);let E=function gE(n,e,t,r,o,l){const c=am(n,e,r,o,l);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),function A1(n,e){n.eventRegistrations_.push(e)}(c,t),function pE(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Ln,(l,c)=>{r.push(ql(l,c))}),t.isFullyInitialized()&&r.push(tv(t.getNode())),T1(n,r,t.getNode(),e)}(c,t)}(r,e,t,l,o,c);if(!m&&!v){const S=yE(r,e);E=E.concat(function F1(n,e,t){const r=e._path,o=Jd(n,e),l=_v(n,t),c=n.listenProvider_.startListening(Gp(e),o,l.hashFn,l.onComplete),m=n.syncPointTree_.subtree(r);if(o)(0,p.hu)(!Pc(m.value),"If we're adding a query, it shouldn't be shadowed");else{const v=m.fold((E,S,N)=>{if(!Wt(E)&&S&&Pc(S))return[Yd(S).query];{let U=[];return S&&(U=U.concat(fl(S).map(re=>re.query))),Vr(N,(re,pe)=>{U=U.concat(pe)}),U}});for(let E=0;E<v.length;++E){const S=v[E];n.listenProvider_.stopListening(Gp(S),Jd(n,S))}}return c}(n,e,S))}return E}function Up(n,e,t){const o=n.pendingWriteTree_,l=n.syncPointTree_.findOnPath(e,(c,m)=>{const E=Da(m,Kr(c,e));if(E)return E});return dv(o,e,l,t,!0)}function ki(n,e){return P1(e,n.syncPointTree_,null,Lp(n.pendingWriteTree_,gn()))}function P1(n,e,t,r){if(Wt(n.path))return R1(n,e,t,r);{const o=e.get(gn());null==t&&null!=o&&(t=Da(o,gn()));let l=[];const c=Lt(n.path),m=n.operationForChild(c),v=e.children.get(c);if(v&&m){const E=t?t.getImmediateChild(c):null,S=oE(r,c);l=l.concat(P1(m,v,E,S))}return o&&(l=l.concat(sm(o,n,r,t))),l}}function R1(n,e,t,r){const o=e.get(gn());null==t&&null!=o&&(t=Da(o,gn()));let l=[];return e.children.inorderTraversal((c,m)=>{const v=t?t.getImmediateChild(c):null,E=oE(r,c),S=n.operationForChild(c);S&&(l=l.concat(R1(S,m,v,E)))}),o&&(l=l.concat(sm(o,n,r,t))),l}function _v(n,e){const t=e.query,r=Jd(n,t);return{hashFn:()=>(function I1(n){return n.viewCache_.serverCache.getNode()}(e)||Ht.EMPTY_NODE).hash(),onComplete:o=>{if("ok"===o)return r?function M1(n,e,t){const r=vv(n,t);if(r){const o=DE(r),l=o.path,c=o.queryId,m=Kr(l,e);return um(n,l,new $g(Yw(c),m))}return[]}(n,t._path,r):function CE(n,e){return ki(n,new $g({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const l=function OD(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}(o,t);return lm(n,t,null,l)}}}}function Jd(n,e){const t=jp(e);return n.queryToTagMap.get(t)}function jp(n){return n._path.toString()+"$"+n._queryIdentifier}function vv(n,e){return n.tagToQueryMap.get(e)}function DE(n){const e=n.indexOf("$");return(0,p.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new wn(n.substr(0,e))}}function um(n,e,t){const r=n.syncPointTree_.get(e);return(0,p.hu)(r,"Missing sync point for query tag that we're tracking"),sm(r,t,Lp(n.pendingWriteTree_,e),null)}function Gp(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function bE(){return(0,p.hu)(Bp,"Reference.ts has not been loaded"),Bp}())(n._repo,n._path):n}class Ev{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Ev(t)}node(){return this.node_}}class Cv{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Kn(this.path_,e);return new Cv(this.syncTree_,t)}node(){return Up(this.syncTree_,this.path_)}}const AE=function(n,e,t){return n&&"object"==typeof n?((0,p.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?cm(n[".sv"],e,t):"object"==typeof n[".sv"]?Rc(n[".sv"],e):void(0,p.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},cm=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,p.hu)(!1,"Unexpected server value: "+n)},Rc=function(n,e,t){n.hasOwnProperty("increment")||(0,p.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,p.hu)(!1,"Unexpected increment value: "+r);const o=e.node();if((0,p.hu)(null!==o&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const c=o.getValue();return"number"!=typeof c?r:c+r},V1=function(n,e,t,r){return Iv(e,new Cv(t,n),r)},Oc=function(n,e,t){return Iv(n,new Ev(e),t)};function Iv(n,e,t){const r=n.getPriority().val(),o=AE(r,e.getImmediateChild(".priority"),t);let l;if(n.isLeafNode()){const c=n,m=AE(c.getValue(),e,t);return m!==c.getValue()||o!==c.getPriority().val()?new jd(m,er(o)):n}{const c=n;return l=c,o!==c.getPriority().val()&&(l=l.updatePriority(new jd(o))),c.forEachChild(Ln,(m,v)=>{const E=Iv(v,e.getImmediateChild(m),t);E!==v&&(l=l.updateImmediateChild(m,E))}),l}}class Dv{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function Xd(n,e){let t=e instanceof wn?e:new wn(e),r=n,o=Lt(t);for(;null!==o;){const l=(0,p.DV)(r.node.children,o)||{children:{},childCount:0};r=new Dv(o,r,l),t=kn(t),o=Lt(t)}return r}function Fc(n){return n.node.value}function Ps(n,e){n.node.value=e,Ou(n)}function eh(n){return n.node.childCount>0}function gl(n,e){Vr(n.node.children,(t,r)=>{e(new Dv(t,n,r))})}function Hp(n,e,t,r){t&&!r&&e(n),gl(n,o=>{Hp(o,e,!0,r)}),t&&r&&e(n)}function Lc(n){return new wn(null===n.parent?n.name:Lc(n.parent)+"/"+n.name)}function Ou(n){null!==n.parent&&function th(n,e,t){const r=function Ni(n){return void 0===Fc(n)&&!eh(n)}(t),o=(0,p.r3)(n.node.children,e);r&&o?(delete n.node.children[e],n.node.childCount--,Ou(n)):!r&&!o&&(n.node.children[e]=t.node,n.node.childCount++,Ou(n))}(n.parent,n.name,n)}const nh=/[\[\].#$\/\u0000-\u001F\u007F]/,rh=/[\[\].#$\u0000-\u001F\u007F]/,Fu=10485760,Wl=function(n){return"string"==typeof n&&0!==n.length&&!nh.test(n)},Vc=function(n){return"string"==typeof n&&0!==n.length&&!rh.test(n)},ml=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Ic(n)||n&&"object"==typeof n&&(0,p.r3)(n,".sv")},Aa=function(n,e,t,r){r&&void 0===e||oh((0,p.gK)(n,"value"),e,t)},oh=function(n,e,t){const r=t instanceof wn?new XD(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Tc(r));if("function"==typeof e)throw new Error(n+"contains a function "+Tc(r)+" with contents = "+e.toString());if(Ic(e))throw new Error(n+"contains "+e.toString()+" "+Tc(r));if("string"==typeof e&&e.length>Fu/3&&(0,p.ug)(e)>Fu)throw new Error(n+"contains a string greater than "+Fu+" utf8 bytes "+Tc(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let o=!1,l=!1;if(Vr(e,(c,m)=>{if(".value"===c)o=!0;else if(".priority"!==c&&".sv"!==c&&(l=!0,!Wl(c)))throw new Error(n+" contains an invalid key ("+c+") "+Tc(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Aw(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,p.ug)(e),Tw(n)})(r,c),oh(n,m,r),function Vd(n){const e=n.parts_.pop();n.byteLength_-=(0,p.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),o&&l)throw new Error(n+' contains ".value" child '+Tc(r)+" in addition to actual children.")}},Av=function(n,e,t,r){if(r&&void 0===e)return;const o=(0,p.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const l=[];Vr(e,(c,m)=>{const v=new wn(c);if(oh(o,m,Kn(t,v)),".priority"===Rg(v)&&!ml(m))throw new Error(o+"contains an invalid value for '"+v.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(v)}),function(n,e){let t,r;for(t=0;t<e.length;t++){r=e[t];const l=Nu(r);for(let c=0;c<l.length;c++)if((".priority"!==l[c]||c!==l.length-1)&&!Wl(l[c]))throw new Error(n+"contains an invalid key ("+l[c]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(Dw);let o=null;for(t=0;t<e.length;t++){if(r=e[t],null!==o&&ks(o,r))throw new Error(n+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(o,l)},dm=function(n,e,t){if(!t||void 0!==e){if(Ic(e))throw new Error((0,p.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ml(e))throw new Error((0,p.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},sh=function(n,e,t,r){if(!(r&&void 0===t||Wl(t)))throw new Error((0,p.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ah=function(n,e,t,r){if(!(r&&void 0===t||Vc(t)))throw new Error((0,p.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Xo=function(n,e){if(".info"===Lt(e))throw new Error(n+" failed = Can't modify data under /.info/")},xE=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Wl(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Vc(n)}(t))throw new Error((0,p.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class ME{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function hm(n,e){let t=null;for(let r=0;r<e.length;r++){const o=e[r],l=o.getPath();null!==t&&!Mp(l,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:l}),t.events.push(o)}t&&n.eventLists_.push(t)}function Tv(n,e,t){hm(n,t),pm(n,r=>Mp(r,e))}function wo(n,e,t){hm(n,t),pm(n,r=>ks(r,e)||ks(e,r))}function pm(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const o=n.eventLists_[r];o&&(e(o.path)?(B1(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function B1(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();ma&&mr("event: "+t.toString()),Ac(r)}}}const $p="repo_interrupt";class Sv{constructor(e,t,r,o){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ME,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Gg(),this.transactionQueueTree_=new Dv,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function zp(n){const t=n.infoData_.getNode(new wn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Lu(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:zp(n)})}function xv(n,e,t,r,o){n.dataUpdateCount++;const l=new wn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let c=[];if(o)if(r){const v=(0,p.UI)(t,E=>er(E));c=function N1(n,e,t,r){const o=vv(n,r);if(o){const l=DE(o),c=l.path,m=l.queryId,v=Kr(c,e),E=Vn.fromObject(t);return um(n,c,new Fp(Yw(m),v,E))}return[]}(n.serverSyncTree_,l,v,o)}else{const v=er(t);c=k1(n.serverSyncTree_,l,v,o)}else if(r){const v=(0,p.UI)(t,E=>er(E));c=function Bx(n,e,t){const r=Vn.fromObject(t);return ki(n,new Fp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,l,v)}else{const v=er(t);c=Qd(n.serverSyncTree_,l,v)}let m=l;c.length>0&&(m=Bc(n,l)),wo(n.eventQueue_,m,c)}function Mv(n,e){gm(n,"connected",e),!1===e&&function kE(n){Vu(n,"onDisconnectEvents");const e=Lu(n),t=Gg();qw(n.onDisconnect_,gn(),(o,l)=>{const c=V1(o,l,n.serverSyncTree_,e);zd(t,o,c)});let r=[];qw(t,gn(),(o,l)=>{r=r.concat(Qd(n.serverSyncTree_,o,l));const c=Fv(n,o);Bc(n,c)}),n.onDisconnect_=Gg(),wo(n.eventQueue_,gn(),r)}(n)}function gm(n,e,t){const r=new wn("/.info/"+e),o=er(t);n.infoData_.updateSnapshot(r,o);const l=Qd(n.infoSyncTree_,r,o);wo(n.eventQueue_,r,l)}function qp(n){return n.nextWriteId_++}function Nv(n,e){const t=function jx(n,e){const t=e._path;let r=null;n.syncPointTree_.foreachOnPath(t,(E,S)=>{const N=Kr(E,t);r=r||Da(S,N)});let o=n.syncPointTree_.get(t);o?r=r||Da(o,gn()):(o=new om,n.syncPointTree_=n.syncPointTree_.set(t,o));const l=null!=r,c=l?new xc(r,!0,!1):null;return function D1(n){return qg(n.viewCache_)}(am(o,e,Lp(n.pendingWriteTree_,e._path),l?c.getNode():Ht.EMPTY_NODE,l))}(n.serverSyncTree_,e);return null!=t?Promise.resolve(t):n.server_.get(e).then(r=>{const o=er(r).withIndex(e._queryParams.getIndex());if(e._queryParams.loadsAllData())Qd(n.serverSyncTree_,e._path,o);else{const c=function Ux(n,e){const{syncPoint:t,serverCache:r,writesCache:o,serverCacheComplete:l}=IE(e,n),c=am(t,e,o,r,l);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,c),e._queryParams.loadsAllData()?null:Jd(n,e)}(n.serverSyncTree_,e);k1(n.serverSyncTree_,e._path,o,c)}return lm(n.serverSyncTree_,e,null).length>0&&Vu(n,"unexpected cancel events in repoGetValue"),o},r=>(Vu(n,"get for query "+(0,p.Pz)(e)+" failed: "+r),Promise.reject(new Error(r))))}function mm(n,e,t,r,o){Vu(n,"set",{path:e.toString(),value:t,priority:r});const l=Lu(n),c=er(t,r),m=Up(n.serverSyncTree_,e),v=Oc(c,m,l),E=qp(n),S=mv(n.serverSyncTree_,e,v,E,!0);hm(n.eventQueue_,S),n.server_.put(e.toString(),c.val(!0),(U,re)=>{const pe="ok"===U;pe||Cr("set at "+e+" failed: "+U);const Le=Ru(n.serverSyncTree_,E,!pe);wo(n.eventQueue_,e,Le),Kl(0,o,U,re)});const N=Fv(n,e);Bc(n,N),wo(n.eventQueue_,N,[])}function NE(n,e,t){n.server_.onDisconnectCancel(e.toString(),(r,o)=>{"ok"===r&&Hg(n.onDisconnect_,e),Kl(0,t,r,o)})}function ym(n,e,t,r){const o=er(t);n.server_.onDisconnectPut(e.toString(),o.val(!0),(l,c)=>{"ok"===l&&zd(n.onDisconnect_,e,o),Kl(0,r,l,c)})}function Pv(n,e,t){let r;r=".info"===Lt(e._path)?lm(n.infoSyncTree_,e,t):lm(n.serverSyncTree_,e,t),Tv(n.eventQueue_,e._path,r)}function Rv(n){n.persistentConnection_&&n.persistentConnection_.interrupt($p)}function Vu(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),mr(t,...e)}function Kl(n,e,t,r){e&&Ac(()=>{if("ok"===t)e(null);else{const o=(t||"error").toUpperCase();let l=o;r&&(l+=": "+r);const c=new Error(l);c.code=o,e(c)}})}function _m(n,e,t){return Up(n.serverSyncTree_,e,t)||Ht.EMPTY_NODE}function Wp(n,e=n.transactionQueueTree_){if(e||Kp(n,e),Fc(e)){const t=LE(n,e);(0,p.hu)(t.length>0,"Sending zero length transaction queue"),t.every(o=>0===o.status)&&function OE(n,e,t){const r=t.map(E=>E.currentWriteId),o=_m(n,e,r);let l=o;const c=o.hash();for(let E=0;E<t.length;E++){const S=t[E];(0,p.hu)(0===S.status,"tryToSendTransactionQueue_: items in queue should all be run."),S.status=1,S.retryCount++;const N=Kr(e,S.path);l=l.updateChild(N,S.currentOutputSnapshotRaw)}const m=l.val(!0),v=e;n.server_.put(v.toString(),m,E=>{Vu(n,"transaction put response",{path:v.toString(),status:E});let S=[];if("ok"===E){const N=[];for(let U=0;U<t.length;U++)t[U].status=2,S=S.concat(Ru(n.serverSyncTree_,t[U].currentWriteId)),t[U].onComplete&&N.push(()=>t[U].onComplete(null,!0,t[U].currentOutputSnapshotResolved)),t[U].unwatcher();Kp(n,Xd(n.transactionQueueTree_,e)),Wp(n,n.transactionQueueTree_),wo(n.eventQueue_,e,S);for(let U=0;U<N.length;U++)Ac(N[U])}else{if("datastale"===E)for(let N=0;N<t.length;N++)t[N].status=3===t[N].status?4:0;else{Cr("transaction at "+v.toString()+" failed: "+E);for(let N=0;N<t.length;N++)t[N].status=4,t[N].abortReason=E}Bc(n,e)}},c)}(n,Lc(e),t)}else eh(e)&&gl(e,t=>{Wp(n,t)})}function Bc(n,e){const t=$1(n,e),r=Lc(t);return function FE(n,e,t){if(0===e.length)return;const r=[];let o=[];const c=e.filter(m=>0===m.status).map(m=>m.currentWriteId);for(let m=0;m<e.length;m++){const v=e[m],E=Kr(t,v.path);let N,S=!1;if((0,p.hu)(null!==E,"rerunTransactionsUnderNode_: relativePath should not be null."),4===v.status)S=!0,N=v.abortReason,o=o.concat(Ru(n.serverSyncTree_,v.currentWriteId,!0));else if(0===v.status)if(v.retryCount>=25)S=!0,N="maxretry",o=o.concat(Ru(n.serverSyncTree_,v.currentWriteId,!0));else{const U=_m(n,v.path,c);v.currentInputSnapshot=U;const re=e[m].update(U.val());if(void 0!==re){oh("transaction failed: Data returned ",re,v.path);let pe=er(re);"object"==typeof re&&null!=re&&(0,p.r3)(re,".priority")||(pe=pe.updatePriority(U.getPriority()));const Ye=v.currentWriteId,kt=Lu(n),Bt=Oc(pe,U,kt);v.currentOutputSnapshotRaw=pe,v.currentOutputSnapshotResolved=Bt,v.currentWriteId=qp(n),c.splice(c.indexOf(Ye),1),o=o.concat(mv(n.serverSyncTree_,v.path,Bt,v.currentWriteId,v.applyLocally)),o=o.concat(Ru(n.serverSyncTree_,Ye,!0))}else S=!0,N="nodata",o=o.concat(Ru(n.serverSyncTree_,v.currentWriteId,!0))}wo(n.eventQueue_,t,o),o=[],S&&(e[m].status=2,setTimeout(e[m].unwatcher,Math.floor(0)),e[m].onComplete&&r.push("nodata"===N?()=>e[m].onComplete(null,!1,e[m].currentInputSnapshot):()=>e[m].onComplete(new Error(N),!1,null)))}Kp(n,n.transactionQueueTree_);for(let m=0;m<r.length;m++)Ac(r[m]);Wp(n,n.transactionQueueTree_)}(n,LE(n,t),r),r}function $1(n,e){let t,r=n.transactionQueueTree_;for(t=Lt(e);null!==t&&void 0===Fc(r);)r=Xd(r,t),t=Lt(e=kn(e));return r}function LE(n,e){const t=[];return VE(n,e,t),t.sort((r,o)=>r.order-o.order),t}function VE(n,e,t){const r=Fc(e);if(r)for(let o=0;o<r.length;o++)t.push(r[o]);gl(e,o=>{VE(n,o,t)})}function Kp(n,e){const t=Fc(e);if(t){let r=0;for(let o=0;o<t.length;o++)2!==t[o].status&&(t[r]=t[o],r++);t.length=r,Ps(e,t.length>0?t:void 0)}gl(e,r=>{Kp(n,r)})}function Fv(n,e){const t=Lc($1(n,e)),r=Xd(n.transactionQueueTree_,e);return function Rs(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,o=>{xr(n,o)}),xr(n,r),Hp(r,o=>{xr(n,o)}),t}function xr(n,e){const t=Fc(e);if(t){const r=[];let o=[],l=-1;for(let c=0;c<t.length;c++)3===t[c].status||(1===t[c].status?((0,p.hu)(l===c-1,"All SENT items should be at beginning of queue."),l=c,t[c].status=3,t[c].abortReason="set"):((0,p.hu)(0===t[c].status,"Unexpected transaction status in abort"),t[c].unwatcher(),o=o.concat(Ru(n.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&r.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));-1===l?Ps(e,void 0):t.length=l+1,wo(n.eventQueue_,Lc(e),o);for(let c=0;c<r.length;c++)Ac(r[c])}}const Lv=function(n,e){const t=UE(n),r=t.namespace;return"firebase.com"===t.domain&&_o(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&_o("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Cr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Tg(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new wn(t.pathString)}},UE=function(n){let e="",t="",r="",o="",l="",c=!0,m="https",v=443;if("string"==typeof n){let E=n.indexOf("//");E>=0&&(m=n.substring(0,E-1),n=n.substring(E+2));let S=n.indexOf("/");-1===S&&(S=n.length);let N=n.indexOf("?");-1===N&&(N=n.length),e=n.substring(0,Math.min(S,N)),S<N&&(o=function BE(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let o=t[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}(n.substring(S,N)));const U=function z1(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Cr(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,N)));E=e.indexOf(":"),E>=0?(c="https"===m||"wss"===m,v=parseInt(e.substring(E+1),10)):E=e.length;const re=e.slice(0,E);if("localhost"===re.toLowerCase())t="localhost";else if(re.split(".").length<=2)t=re;else{const pe=e.indexOf(".");r=e.substring(0,pe).toLowerCase(),t=e.substring(pe+1),l=r}"ns"in U&&(l=U.ns)}return{host:e,port:v,domain:t,subdomain:r,secure:c,scheme:m,pathString:o,namespace:l}};class jE{constructor(e,t,r,o){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=o}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,p.Pz)(this.snapshot.exportVal())}}class Vv{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Bv{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,p.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Uc{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new p.BH;return NE(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Xo("OnDisconnect.remove",this._path);const e=new p.BH;return ym(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Xo("OnDisconnect.set",this._path),Aa("OnDisconnect.set",e,this._path,!1);const t=new p.BH;return ym(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){Xo("OnDisconnect.setWithPriority",this._path),Aa("OnDisconnect.setWithPriority",e,this._path,!1),dm("OnDisconnect.setWithPriority",t,!1);const r=new p.BH;return function PE(n,e,t,r,o){const l=er(t,r);n.server_.onDisconnectPut(e.toString(),l.val(!0),(c,m)=>{"ok"===c&&zd(n.onDisconnect_,e,l),Kl(0,o,c,m)})}(this._repo,this._path,e,t,r.wrapCallback(()=>{})),r.promise}update(e){Xo("OnDisconnect.update",this._path),Av("OnDisconnect.update",e,this._path,!1);const t=new p.BH;return function G1(n,e,t,r){if((0,p.xb)(t))return mr("onDisconnect().update() called with empty data.  Don't do anything."),void Kl(0,r,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(o,l)=>{"ok"===o&&Vr(t,(c,m)=>{const v=er(m);zd(n.onDisconnect_,Kn(e,c),v)}),Kl(0,r,o,l)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Eo{constructor(e,t,r,o){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=o}get key(){return Wt(this._path)?null:Rg(this._path)}get ref(){return new es(this._repo,this._path)}get _queryIdentifier(){const e=r1(this._queryParams),t=Cg(e);return"{}"===t?"default":t}get _queryObject(){return r1(this._queryParams)}isEqual(e){if(!((e=(0,p.m9)(e))instanceof Eo))return!1;const t=this._repo===e._repo,r=Mp(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function j_(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function vm(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Zl(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===va){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==ya)throw new Error(r);if("string"!=typeof e)throw new Error(o)}if(n.hasEnd()){if(n.getIndexEndName()!==_a)throw new Error(r);if("string"!=typeof t)throw new Error(o)}}else if(n.getIndex()===Ln){if(null!=e&&!ml(e)||null!=t&&!ml(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,p.hu)(n.getIndex()instanceof Bw||n.getIndex()===Uw,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function bm(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class es extends Eo{constructor(e,t){super(e,t,new Op,!1)}get parent(){const e=Iw(this._path);return null===e?null:new es(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class lh{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new wn(e),r=Pi(this.ref,e);return new lh(this._node.getChild(t),r,Ln)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,o)=>e(new lh(o,Pi(this.ref,r),Ln)))}hasChild(e){const t=new wn(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Uv(n,e){return(n=(0,p.m9)(n))._checkNotDeleted("ref"),void 0!==e?Pi(n._root,e):n._root}function wm(n,e){(n=(0,p.m9)(n))._checkNotDeleted("refFromURL");const t=Lv(e,n._repo.repoInfo_.nodeAdmin);xE("refFromURL",t);const r=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&_o("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),Uv(n,t.path.toString())}function Pi(n,e){return null===Lt((n=(0,p.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ah("child","path",t,!1)):ah("child","path",e,!1),new es(n._repo,Kn(n._path,e));var t}function ts(n,e){n=(0,p.m9)(n),Xo("set",n._path),Aa("set",e,n._path,!1);const t=new p.BH;return mm(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function HE(n,e){Av("update",e,n._path,!1);const t=new p.BH;return function j1(n,e,t,r){Vu(n,"update",{path:e.toString(),value:t});let o=!0;const l=Lu(n),c={};if(Vr(t,(m,v)=>{o=!1,c[m]=V1(Kn(e,m),er(v),n.serverSyncTree_,l)}),o)mr("update() called with empty data.  Don't do anything."),Kl(0,r,"ok",void 0);else{const m=qp(n),v=function x1(n,e,t,r){!function uv(n,e,t,r){(0,p.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=lv(n.visibleWrites,e,t),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r);const o=Vn.fromObject(t);return ki(n,new Fp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,o))}(n.serverSyncTree_,e,c,m);hm(n.eventQueue_,v),n.server_.merge(e.toString(),t,(E,S)=>{const N="ok"===E;N||Cr("update at "+e+" failed: "+E);const U=Ru(n.serverSyncTree_,m,!N),re=U.length>0?Bc(n,e):e;wo(n.eventQueue_,re,U),Kl(0,r,E,S)}),Vr(t,E=>{const S=Fv(n,Kn(e,E));Bc(n,S)}),wo(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}class Em{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const r=t._queryParams.getIndex();return new jE("value",this,new lh(e.snapshotNode,new es(t._repo,t._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Vv(this,e,t):null}matches(e){return e instanceof Em&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Cm{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Vv(this,e,t):null}createEvent(e,t){(0,p.hu)(null!=e.childName,"Child events should have a childName.");const r=Pi(new es(t._repo,t._path),e.childName),o=t._queryParams.getIndex();return new jE(e.type,this,new lh(e.snapshotNode,r,o),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Cm&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Zp(n,e,t,r,o){let l;if("object"==typeof r&&(l=void 0,o=r),"function"==typeof r&&(l=r),o&&o.onlyOnce){const v=t,E=(S,N)=>{Pv(n._repo,n,m),v(S,N)};E.userCallback=t.userCallback,E.context=t.context,t=E}const c=new Bv(t,l||void 0),m="value"===e?new Em(c):new Cm(e,c);return function H1(n,e,t){let r;r=".info"===Lt(e._path)?yv(n.infoSyncTree_,e,t):yv(n.serverSyncTree_,e,t),Tv(n.eventQueue_,e._path,r)}(n._repo,n,m),()=>Pv(n._repo,n,m)}function Yp(n,e,t,r){return Zp(n,"value",e,t,r)}function uh(n,e,t,r){return Zp(n,"child_added",e,t,r)}function $E(n,e,t,r){return Zp(n,"child_changed",e,t,r)}function jv(n,e,t,r){return Zp(n,"child_moved",e,t,r)}function zE(n,e,t,r){return Zp(n,"child_removed",e,t,r)}function Gv(n,e,t){let r=null;const o=t?new Bv(t):null;"value"===e?r=new Em(o):e&&(r=new Cm(e,o)),Pv(n._repo,n,r)}class Os{}class Qp extends Os{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Aa("endAt",this._value,e._path,!0);const t=Hd(e._queryParams,this._value,this._key);if(bm(t),Zl(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Eo(e._repo,e._path,t,e._orderByCalled)}}class qE extends Os{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Aa("endBefore",this._value,e._path,!1);const t=function iv(n,e,t){let r,o;return n.index_===va?("string"==typeof e&&(e=ev(e)),o=Hd(n,e,t)):(r=null==t?ya:ev(t),o=Hd(n,e,r)),o.endBeforeSet_=!0,o}(e._queryParams,this._value,this._key);if(bm(t),Zl(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Eo(e._repo,e._path,t,e._orderByCalled)}}class Im extends Os{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Aa("startAt",this._value,e._path,!0);const t=zw(e._queryParams,this._value,this._key);if(bm(t),Zl(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Eo(e._repo,e._path,t,e._orderByCalled)}}class KE extends Os{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Aa("startAfter",this._value,e._path,!1);const t=function Bg(n,e,t){let r;if(n.index_===va)"string"==typeof e&&(e=Hw(e)),r=zw(n,e,t);else{let o;o=null==t?_a:Hw(t),r=zw(n,e,o)}return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(bm(t),Zl(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Eo(e._repo,e._path,t,e._orderByCalled)}}class YE extends Os{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Eo(e._repo,e._path,function Ox(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class JE extends Os{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Eo(e._repo,e._path,function $w(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class eC extends Os{constructor(e){super(),this._path=e}_apply(e){vm(e,"orderByChild");const t=new wn(this._path);if(Wt(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Bw(t),o=$d(e._queryParams,r);return Zl(o),new Eo(e._repo,e._path,o,!0)}}class Z1 extends Os{_apply(e){vm(e,"orderByKey");const t=$d(e._queryParams,va);return Zl(t),new Eo(e._repo,e._path,t,!0)}}class Q1 extends Os{_apply(e){vm(e,"orderByPriority");const t=$d(e._queryParams,Ln);return Zl(t),new Eo(e._repo,e._path,t,!0)}}class X1 extends Os{_apply(e){vm(e,"orderByValue");const t=$d(e._queryParams,Uw);return Zl(t),new Eo(e._repo,e._path,t,!0)}}class tA extends Os{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(Aa("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Qp(this._value,this._key)._apply(new Im(this._value,this._key)._apply(e))}}function Sa(n,...e){let t=(0,p.m9)(n);for(const r of e)t=r._apply(t);return t}(function Vx(n){(0,p.hu)(!gv,"__referenceConstructor has already been defined"),gv=n})(es),function vE(n){(0,p.hu)(!Bp,"__referenceConstructor has already been defined"),Bp=n}(es);const Hv={};function rC(n,e,t,r,o){let l=r||n.options.databaseURL;void 0===l&&(n.options.projectId||_o("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),mr("Using default host for project ",n.options.projectId),l=`${n.options.projectId}-default-rtdb.firebaseio.com`);let v,E,c=Lv(l,o),m=c.repoInfo;typeof process<"u"&&process.env&&(E=process.env.FIREBASE_DATABASE_EMULATOR_HOST),E?(v=!0,l=`http://${E}?ns=${m.namespace}`,c=Lv(l,o),m=c.repoInfo):v=!c.repoInfo.secure;const S=o&&v?new Fd(Fd.OWNER):new uw(n.name,n.options,e);xE("Invalid Firebase Database URL",c),Wt(c.path)||_o("Database URL must point to the root of a Firebase Database (not including a child path).");const N=function sA(n,e,t,r){let o=Hv[e.name];o||(o={},Hv[e.name]=o);let l=o[n.toURLString()];return l&&_o("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new Sv(n,false,t,r),o[n.toURLString()]=l,l}(m,n,S,new LD(n.name,t));return new lA(N,n)}class lA{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function U1(n,e,t){if(n.stats_=Sp(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new jg(n.repoInfo_,(r,o,l,c)=>{xv(n,r,o,l,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Mv(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,p.Pz)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Sc(n.repoInfo_,e,(r,o,l,c)=>{xv(n,r,o,l,c)},r=>{Mv(n,r)},r=>{!function kv(n,e){Vr(e,(t,r)=>{gm(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function xp(n,e){const t=n.toString();return xg[t]||(xg[t]=e()),xg[t]}(n.repoInfo_,()=>new sv(n.stats_,n.server_)),n.infoData_=new o1,n.infoSyncTree_=new EE({startListening:(r,o,l,c)=>{let m=[];const v=n.infoData_.getNode(r._path);return v.isEmpty()||(m=Qd(n.infoSyncTree_,r._path,v),setTimeout(()=>{c("ok")},0)),m},stopListening:()=>{}}),gm(n,"connected",!1),n.serverSyncTree_=new EE({startListening:(r,o,l,c)=>(n.server_.listen(r,l,o,(m,v)=>{const E=c(m,v);wo(n.eventQueue_,r._path,E)}),[]),stopListening:(r,o)=>{n.server_.unlisten(r,o)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new es(this._repo,gn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function oA(n,e){const t=Hv[e];(!t||t[n.key]!==n)&&_o(`Database ${e}(${n.repoInfo_}) has already been deleted.`),Rv(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&_o("Cannot call "+e+" on a deleted database.")}}function $v(){Ft.IS_TRANSPORT_INITIALIZED&&Cr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function iC(){$v(),Mu.forceDisallow()}function oC(){$v(),Ld.forceDisallow(),Mu.forceAllow()}function uC(n,e){Yi(n,e)}const dC={".sv":"timestamp"};class cA{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Sc.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Sc.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function cC(n){De(f.SDK_VERSION),(0,f._registerComponent)(new ga.wA("database",(e,{instanceIdentifier:t})=>rC(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,f.registerVersion)(M,L,n),(0,f.registerVersion)(M,L,"esm2017")}();const pC=new b.Yd("@firebase/database-compat"),qv=function(n){pC.warn("FIREBASE WARNING: "+n)};class hA{constructor(e){this._delegate=e}cancel(e){(0,p.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,p.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),r=>e(r)),t}remove(e){(0,p.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,p.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),r=>e(r)),t}set(e,t){(0,p.Dv)("OnDisconnect.set",1,2,arguments.length),(0,p.Wj)("OnDisconnect.set","onComplete",t,!0);const r=this._delegate.set(e);return t&&r.then(()=>t(null),o=>t(o)),r}setWithPriority(e,t,r){(0,p.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,p.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const o=this._delegate.setWithPriority(e,t);return r&&o.then(()=>r(null),l=>r(l)),o}update(e,t){if((0,p.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const o={};for(let l=0;l<e.length;++l)o[""+l]=e[l];e=o,qv("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,p.Wj)("OnDisconnect.update","onComplete",t,!0);const r=this._delegate.update(e);return t&&r.then(()=>t(null),o=>t(o)),r}}class pA{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,p.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Bu{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,p.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,p.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,p.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,p.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,p.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),ah("DataSnapshot.child","path",e,!1),new Bu(this._database,this._delegate.child(e))}hasChild(e){return(0,p.Dv)("DataSnapshot.hasChild",1,1,arguments.length),ah("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,p.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,p.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,p.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Bu(this._database,t)))}hasChildren(){return(0,p.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,p.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,p.Dv)("DataSnapshot.ref",0,0,arguments.length),new ns(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ir{constructor(e,t){this.database=e,this._delegate=t}on(e,t,r,o){var l;(0,p.Dv)("Query.on",2,4,arguments.length),(0,p.Wj)("Query.on","callback",t,!1);const c=Ir.getCancelAndContextArgs_("Query.on",r,o),m=(E,S)=>{t.call(c.context,new Bu(this.database,E),S)};m.userCallback=t,m.context=c.context;const v=null===(l=c.cancel)||void 0===l?void 0:l.bind(c.context);switch(e){case"value":return Yp(this._delegate,m,v),t;case"child_added":return uh(this._delegate,m,v),t;case"child_removed":return zE(this._delegate,m,v),t;case"child_changed":return $E(this._delegate,m,v),t;case"child_moved":return jv(this._delegate,m,v),t;default:throw new Error((0,p.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,r){if((0,p.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,p.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,p.Wj)("Query.off","callback",t,!0),(0,p.lb)("Query.off","context",r,!0),t){const o=()=>{};o.userCallback=t,o.context=r,Gv(this._delegate,e,o)}else Gv(this._delegate,e)}get(){return function W1(n){return Nv((n=(0,p.m9)(n))._repo,n).then(e=>new lh(e,new es(n._repo,n._path),n._queryParams.getIndex()))}(this._delegate).then(e=>new Bu(this.database,e))}once(e,t,r,o){(0,p.Dv)("Query.once",1,4,arguments.length),(0,p.Wj)("Query.once","callback",t,!0);const l=Ir.getCancelAndContextArgs_("Query.once",r,o),c=new p.BH,m=(E,S)=>{const N=new Bu(this.database,E);t&&t.call(l.context,N,S),c.resolve(N)};m.userCallback=t,m.context=l.context;const v=E=>{l.cancel&&l.cancel.call(l.context,E),c.reject(E)};switch(e){case"value":Yp(this._delegate,m,v,{onlyOnce:!0});break;case"child_added":uh(this._delegate,m,v,{onlyOnce:!0});break;case"child_removed":zE(this._delegate,m,v,{onlyOnce:!0});break;case"child_changed":$E(this._delegate,m,v,{onlyOnce:!0});break;case"child_moved":jv(this._delegate,m,v,{onlyOnce:!0});break;default:throw new Error((0,p.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(e){return(0,p.Dv)("Query.limitToFirst",1,1,arguments.length),new Ir(this.database,Sa(this._delegate,function QE(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new YE(n)}(e)))}limitToLast(e){return(0,p.Dv)("Query.limitToLast",1,1,arguments.length),new Ir(this.database,Sa(this._delegate,function XE(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new JE(n)}(e)))}orderByChild(e){return(0,p.Dv)("Query.orderByChild",1,1,arguments.length),new Ir(this.database,Sa(this._delegate,function tC(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ah("orderByChild","path",n,!1),new eC(n)}(e)))}orderByKey(){return(0,p.Dv)("Query.orderByKey",0,0,arguments.length),new Ir(this.database,Sa(this._delegate,function Y1(){return new Z1}()))}orderByPriority(){return(0,p.Dv)("Query.orderByPriority",0,0,arguments.length),new Ir(this.database,Sa(this._delegate,function J1(){return new Q1}()))}orderByValue(){return(0,p.Dv)("Query.orderByValue",0,0,arguments.length),new Ir(this.database,Sa(this._delegate,function eA(){return new X1}()))}startAt(e=null,t){return(0,p.Dv)("Query.startAt",0,2,arguments.length),new Ir(this.database,Sa(this._delegate,function Dm(n=null,e){return sh("startAt","key",e,!0),new Im(n,e)}(e,t)))}startAfter(e=null,t){return(0,p.Dv)("Query.startAfter",0,2,arguments.length),new Ir(this.database,Sa(this._delegate,function ZE(n,e){return sh("startAfter","key",e,!0),new KE(n,e)}(e,t)))}endAt(e=null,t){return(0,p.Dv)("Query.endAt",0,2,arguments.length),new Ir(this.database,Sa(this._delegate,function K1(n,e){return sh("endAt","key",e,!0),new Qp(n,e)}(e,t)))}endBefore(e=null,t){return(0,p.Dv)("Query.endBefore",0,2,arguments.length),new Ir(this.database,Sa(this._delegate,function WE(n,e){return sh("endBefore","key",e,!0),new qE(n,e)}(e,t)))}equalTo(e,t){return(0,p.Dv)("Query.equalTo",1,2,arguments.length),new Ir(this.database,Sa(this._delegate,function nA(n,e){return sh("equalTo","key",e,!0),new tA(n,e)}(e,t)))}toString(){return(0,p.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,p.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,p.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof Ir))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,r){const o={cancel:void 0,context:void 0};if(t&&r)o.cancel=t,(0,p.Wj)(e,"cancel",o.cancel,!0),o.context=r,(0,p.lb)(e,"context",o.context,!0);else if(t)if("object"==typeof t&&null!==t)o.context=t;else{if("function"!=typeof t)throw new Error((0,p.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");o.cancel=t}return o}get ref(){return new ns(this.database,new es(this._delegate._repo,this._delegate._path))}}class ns extends Ir{constructor(e,t){super(e,new Eo(t._repo,t._path,new Op,!1)),this.database=e,this._delegate=t}getKey(){return(0,p.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,p.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new ns(this.database,Pi(this._delegate,e))}getParent(){(0,p.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new ns(this.database,e):null}getRoot(){return(0,p.Dv)("Reference.root",0,0,arguments.length),new ns(this.database,this._delegate.root)}set(e,t){(0,p.Dv)("Reference.set",1,2,arguments.length),(0,p.Wj)("Reference.set","onComplete",t,!0);const r=ts(this._delegate,e);return t&&r.then(()=>t(null),o=>t(o)),r}update(e,t){if((0,p.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const o={};for(let l=0;l<e.length;++l)o[""+l]=e[l];e=o,qv("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Xo("Reference.update",this._delegate._path),(0,p.Wj)("Reference.update","onComplete",t,!0);const r=HE(this._delegate,e);return t&&r.then(()=>t(null),o=>t(o)),r}setWithPriority(e,t,r){(0,p.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,p.Wj)("Reference.setWithPriority","onComplete",r,!0);const o=function GE(n,e,t){if(Xo("setWithPriority",n._path),Aa("setWithPriority",e,n._path,!1),dm("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new p.BH;return mm(n._repo,n._path,e,t,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,t);return r&&o.then(()=>r(null),l=>r(l)),o}remove(e){(0,p.Dv)("Reference.remove",0,1,arguments.length),(0,p.Wj)("Reference.remove","onComplete",e,!0);const t=function yl(n){return Xo("remove",n._path),ts(n,null)}(this._delegate);return e&&t.then(()=>e(null),r=>e(r)),t}transaction(e,t,r){(0,p.Dv)("Reference.transaction",1,3,arguments.length),(0,p.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,p.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,r){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,p.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const o=function dA(n,e,t){var r;if(n=(0,p.m9)(n),Xo("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const o=null===(r=t?.applyLocally)||void 0===r||r,l=new p.BH,m=Yp(n,()=>{});return function RE(n,e,t,r,o,l){Vu(n,"transaction on "+e);const c={path:e,update:t,onComplete:r,status:null,order:Ec(),applyLocally:l,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},m=_m(n,e,void 0);c.currentInputSnapshot=m;const v=c.update(m.val());if(void 0===v)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{oh("transaction failed: Data returned ",v,c.path),c.status=0;const E=Xd(n.transactionQueueTree_,e),S=Fc(E)||[];let N;S.push(c),Ps(E,S),"object"==typeof v&&null!==v&&(0,p.r3)(v,".priority")?(N=(0,p.DV)(v,".priority"),(0,p.hu)(ml(N),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):N=(Up(n.serverSyncTree_,e)||Ht.EMPTY_NODE).getPriority().val();const U=Lu(n),re=er(v,N),pe=Oc(re,m,U);c.currentOutputSnapshotRaw=re,c.currentOutputSnapshotResolved=pe,c.currentWriteId=qp(n);const Le=mv(n.serverSyncTree_,e,pe,c.currentWriteId,c.applyLocally);wo(n.eventQueue_,e,Le),Wp(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(v,E,S)=>{let N=null;v?l.reject(v):(N=new lh(S,new es(n._repo,n._path),Ln),l.resolve(new cA(E,N)))},m,o),l.promise}(this._delegate,e,{applyLocally:r}).then(l=>new pA(l.committed,new Bu(this.database,l.snapshot)));return t&&o.then(l=>t(null,l.committed,l.snapshot),l=>t(l,!1,null)),o}setPriority(e,t){(0,p.Dv)("Reference.setPriority",1,2,arguments.length),(0,p.Wj)("Reference.setPriority","onComplete",t,!0);const r=function Ta(n,e){n=(0,p.m9)(n),Xo("setPriority",n._path),dm("setPriority",e,!1);const t=new p.BH;return mm(n._repo,Kn(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&r.then(()=>t(null),o=>t(o)),r}push(e,t){(0,p.Dv)("Reference.push",0,2,arguments.length),(0,p.Wj)("Reference.push","onComplete",t,!0);const r=function q1(n,e){n=(0,p.m9)(n),Xo("push",n._path),Aa("push",e,n._path,!0);const t=zp(n._repo),r=Gw(t),o=Pi(n,r),l=Pi(n,r);let c;return c=null!=e?ts(l,e).then(()=>l):Promise.resolve(l),o.then=c.then.bind(c),o.catch=c.then.bind(c,void 0),o}(this._delegate,e),o=r.then(c=>new ns(this.database,c));t&&o.then(()=>t(null),c=>t(c));const l=new ns(this.database,r);return l.then=o.then.bind(o),l.catch=o.catch.bind(o,void 0),l}onDisconnect(){return Xo("Reference.onDisconnect",this._delegate._path),new hA(new Uc(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Uu{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:iC,forceLongPolling:oC}}useEmulator(e,t,r={}){!function sC(n,e,t,r={}){(n=(0,p.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&_o("Cannot call useEmulator() after instance has already been initialized.");const o=n._repoInternal;let l;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&_o('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new Fd(Fd.OWNER);else if(r.mockUserToken){const c="string"==typeof r.mockUserToken?r.mockUserToken:(0,p.Sg)(r.mockUserToken,n.app.options.projectId);l=new Fd(c)}!function iA(n,e,t,r){n.repoInfo_=new Tg(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(o,e,t,l)}(this._delegate,e,t,r)}ref(e){if((0,p.Dv)("database.ref",0,1,arguments.length),e instanceof ns){const t=wm(this._delegate,e.toString());return new ns(this,t)}{const t=Uv(this._delegate,e);return new ns(this,t)}}refFromURL(e){(0,p.Dv)("database.refFromURL",1,1,arguments.length);const r=wm(this._delegate,e);return new ns(this,r)}goOffline(){return(0,p.Dv)("database.goOffline",0,0,arguments.length),function aC(n){(n=(0,p.m9)(n))._checkNotDeleted("goOffline"),Rv(n._repo)}(this._delegate)}goOnline(){return(0,p.Dv)("database.goOnline",0,0,arguments.length),function lC(n){(n=(0,p.m9)(n))._checkNotDeleted("goOnline"),function Ov(n){n.persistentConnection_&&n.persistentConnection_.resume($p)}(n._repo)}(this._delegate)}}Uu.ServerValue={TIMESTAMP:function hC(){return dC}(),increment:n=>function jc(n){return{".sv":{increment:n}}}(n)};var Dr=Object.freeze({__proto__:null,initStandalone:function Am({app:n,url:e,version:t,customAuthImpl:r,namespace:o,nodeAdmin:l=!1}){De(t);const c=new ga.zt("auth-internal",new ga.H0("database-standalone"));return c.setComponent(new ga.wA("auth-internal",()=>r,"PRIVATE")),{instance:new Uu(rC(n,c,void 0,e,l),n),namespace:o}}});const zx=Uu.ServerValue;!function fC(n){n.INTERNAL.registerComponent(new ga.wA("database-compat",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app-compat").getImmediate(),o=e.getProvider("database").getImmediate({identifier:t});return new Uu(o,r)},"PUBLIC").setServiceProps({Reference:ns,Query:Ir,Database:Uu,DataSnapshot:Bu,enableLogging:uC,INTERNAL:Dr,ServerValue:zx}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.2")}(kd.Z);var Tm=P(7579),Sm=P(5363),gC=P(6063);class mC extends Tm.x{constructor(e=1/0,t=1/0,r=gC.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:l,_windowTime:c}=this;t||(r.push(e),!o&&r.push(l.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,l=o.slice();for(let c=0;c<l.length&&!e.closed;c+=r?1:2)e.next(l[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,l=(o?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!o){const c=t.now();let m=0;for(let v=1;v<r.length&&r[v]<=c;v+=2)m=v;m&&r.splice(0,m+1)}}}function Wv(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,(0,bc.B)({connector:()=>new mC(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}const _C=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Xp(n,e){return(0,Xn.e)((t,r)=>{let o=0;t.subscribe((0,Rn.x)(r,l=>n.call(e,l,o++)&&r.next(l)))})}var fA=P(5698);function ef(n){return(0,Xn.e)((e,t)=>{let r=!1;e.subscribe((0,Rn.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function gA(n=mA){return(0,Xn.e)((e,t)=>{let r=!1;e.subscribe((0,Rn.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function mA(){return new _C}var xm=P(576);function Kv(n,e){return(0,xm.m)(e)?Wo(()=>n,e):Wo(()=>n)}var Mm=P(9468);P(5867);const Qv=new Map,Pm={activated:!1,tokenObservers:[]},wA={initialized:!1,enabled:!1};function ui(n){return Qv.get(n)||Pm}function Fs(n,e){Qv.set(n,e)}function ju(){return wA}class DA{constructor(e,t,r,o,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,y.Z)(function*(){t.stop();try{t.pending=new p.BH,yield function AA(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new p.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ji=new p.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function CC(n){if(!ui(n).activated)throw Ji.create("use-before-activation",{appName:n.name})}function Fm(n,e){return Xv.apply(this,arguments)}function Xv(){return(Xv=(0,y.Z)(function*({url:n,body:e},t){var r,o;const l={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const re=yield c.getHeartbeatsHeader();re&&(l["X-Firebase-Client"]=re)}const m={method:"POST",body:JSON.stringify(e),headers:l};let v,E;try{v=yield fetch(n,m)}catch(re){throw Ji.create("fetch-network-error",{originalErrorMessage:null===(r=re)||void 0===r?void 0:r.message})}if(200!==v.status)throw Ji.create("fetch-status-error",{httpStatus:v.status});try{E=yield v.json()}catch(re){throw Ji.create("fetch-parse-error",{originalErrorMessage:null===(o=re)||void 0===o?void 0:o.message})}const S=E.ttl.match(/^([\d.]+)(s)$/);if(!S||!S[2]||isNaN(Number(S[1])))throw Ji.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${E.ttl}`});const N=1e3*Number(S[1]),U=Date.now();return{token:E.token,expireTimeMillis:U+N,issuedAtTimeMillis:U}})).apply(this,arguments)}function IC(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const rf="firebase-app-check-store";let dh=null;function TC(){return dh||(dh=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=o=>{n(o.target.result)},r.onerror=o=>{var l;e(Ji.create("storage-open",{originalErrorMessage:null===(l=o.target.error)||void 0===l?void 0:l.message}))},r.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(rf,{keyPath:"compositeKey"})}}catch(r){e(Ji.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),dh)}function t0(){return(t0=(0,y.Z)(function*(n,e){const r=(yield TC()).transaction(rf,"readwrite"),l=r.objectStore(rf).put({compositeKey:n,value:e});return new Promise((c,m)=>{l.onsuccess=v=>{c()},r.onerror=v=>{var E;m(Ji.create("storage-set",{originalErrorMessage:null===(E=v.target.error)||void 0===E?void 0:E.message}))}})})).apply(this,arguments)}const hh=new b.Yd("@firebase/app-check");function PC(n,e){return(0,p.hl)()?function xA(n,e){return function xC(n,e){return t0.apply(this,arguments)}(function kC(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{hh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function OC(){return ju().enabled}function FC(){return of.apply(this,arguments)}function of(){return(of=(0,y.Z)(function*(){const n=ju();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const LC={error:"UNKNOWN_ERROR"};function a0(n){return p.US.encodeString(JSON.stringify(n),!1)}function Lm(n){return l0.apply(this,arguments)}function l0(){return(l0=(0,y.Z)(function*(n,e=!1){const t=n.app;CC(t);const r=ui(t);let l,o=r.token;if(!o){const v=yield r.cachedTokenPromise;v&&h0(v)&&(o=v)}if(!e&&o&&h0(o))return{token:o.token};let m,c=!1;if(OC()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Fm(IC(t,yield FC()),n.heartbeatServiceProvider).then(E=>(r.exchangeTokenPromise=void 0,E)),c=!0);const v=yield r.exchangeTokenPromise;return yield PC(t,v),Fs(t,Object.assign(Object.assign({},r),{token:v})),{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(v=>(r.exchangeTokenPromise=void 0,v)),c=!0),o=yield r.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?hh.warn(v.message):hh.error(v),l=v}return o?(m={token:o.token},Fs(t,Object.assign(Object.assign({},r),{token:o})),yield PC(t,o)):m=PA(l),c&&d0(t,m),m})).apply(this,arguments)}function u0(n,e){const t=ui(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Fs(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function c0(n){const{app:e}=n,t=ui(e);let r=t.tokenRefresher;r||(r=function NA(n){const{app:e}=n;return new DA((0,y.Z)(function*(){let r;if(r=ui(e).token?yield Lm(n,!0):yield Lm(n),r.error)throw r.error}),()=>!0,()=>{const t=ui(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Fs(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function d0(n,e){const t=ui(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function h0(n){return n.expireTimeMillis-Date.now()>0}function PA(n){return{token:a0(LC),error:n}}class Vm{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ui(this.app);for(const t of e)u0(this.app,t.next);return Promise.resolve()}}const $C="app-check-internal";!function UA(){(0,f._registerComponent)(new ga.wA("app-check",n=>function Gc(n,e){return new Vm(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider($C).initialize()})),(0,f._registerComponent)(new ga.wA($C,n=>function RA(n){return{getToken:e=>Lm(n,e),addTokenListener:e=>function sf(n,e,t,r){const{app:o}=n,l=ui(o),c={next:t,error:r,type:e};if(Fs(o,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,c]})),l.token&&h0(l.token)){const m=l.token;Promise.resolve().then(()=>{t({token:m.token}),c0(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>c0(n))}(n,"INTERNAL",e),removeTokenListener:e=>u0(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,f.registerVersion)("@firebase/app-check","0.5.10")}();class Um{constructor(){return(0,qt.vb)("app-check")}}typeof window<"u"&&window;var qC=P(127);const Gm=new d.OlP("angularfire2.auth.use-emulator"),Hm=new d.OlP("angularfire2.auth.settings"),$m=new d.OlP("angularfire2.auth.tenant-id"),zm=new d.OlP("angularfire2.auth.langugage-code"),v0=new d.OlP("angularfire2.auth.use-device-language"),KC=new d.OlP("angularfire.auth.persistence"),qm=(n,e,t,r,o,l,c,m)=>(0,tt.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=o,l&&v.useDeviceLanguage(),c)for(const[E,S]of Object.entries(c))v.settings[E]=S;return m&&v.setPersistence(m),v},[t,r,o,l,c,m]);let df=(()=>{class n{constructor(t,r,o,l,c,m,v,E,S,N,U,re){const pe=new Tm.x,Le=$l(void 0).pipe((0,Sm.Q)(c.outsideAngular),Wo(()=>l.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,3677)))),(0,On.U)(()=>(0,tt.on)(t,l,r)),(0,On.U)(Ye=>qm(Ye,l,m,E,S,N,v,U)),Wv({bufferSize:1,refCount:!1}));if(Dl(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=$l(null);else{Le.pipe(function yA(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Xp((o,l)=>n(o,l,r)):Ko.y,(0,fA.q)(1),t?ef(e):gA(()=>new _C))}()).subscribe();const kt=Le.pipe(Wo($t=>$t.getRedirectResult().then(on=>on,()=>null)),qt.iC,Wv({bufferSize:1,refCount:!1})),Bt=Le.pipe(Wo($t=>new Gt.y(on=>({unsubscribe:l.runOutsideAngular(()=>$t.onAuthStateChanged(Nn=>on.next(Nn),Nn=>on.error(Nn),()=>on.complete()))})))),Zt=Le.pipe(Wo($t=>new Gt.y(on=>({unsubscribe:l.runOutsideAngular(()=>$t.onIdTokenChanged(Nn=>on.next(Nn),Nn=>on.error(Nn),()=>on.complete()))}))));this.authState=kt.pipe(Kv(Bt),(0,Mm.R)(c.outsideAngular),(0,Sm.Q)(c.insideAngular)),this.user=kt.pipe(Kv(Zt),(0,Mm.R)(c.outsideAngular),(0,Sm.Q)(c.insideAngular)),this.idToken=this.user.pipe(Wo($t=>$t?(0,en.D)($t.getIdToken()):$l(null))),this.idTokenResult=this.user.pipe(Wo($t=>$t?(0,en.D)($t.getIdTokenResult()):$l(null))),this.credential=(0,Ep.T)(kt,pe,this.authState.pipe(Xp($t=>!$t))).pipe((0,On.U)($t=>$t?.user?$t:null),(0,Mm.R)(c.outsideAngular),(0,Sm.Q)(c.insideAngular))}return(0,tt.pX)(this,Le,l,{spy:{apply:(Ye,kt,Bt)=>{(Ye.startsWith("signIn")||Ye.startsWith("createUser"))&&Bt.then(Zt=>pe.next(Zt))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(tt.Dh),d.LFG(tt.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(qt.HU),d.LFG(Gm,8),d.LFG(Hm,8),d.LFG($m,8),d.LFG(zm,8),d.LFG(v0,8),d.LFG(KC,8),d.LFG(Um,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function gh(n){return null==n}function ZC(n){return"function"==typeof n.set}function Wm(n,e){return ZC(e)?e:n.ref(e)}function xa(n,e){if(function zA(n){return"string"==typeof n}(n))return e.stringCase();if(ZC(n))return e.firebaseCase();if(function qA(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function hf(n,e,t="on",r=vg.z){return new Gt.y(o=>{let l=null;return l=n[t](e,(c,m)=>{r.schedule(()=>{o.next({snapshot:c,prevKey:m})}),"once"===t&&r.schedule(()=>o.complete())},c=>{r.schedule(()=>o.error(c))}),"on"===t?{unsubscribe(){null!=l&&n.off(e,l)}}:{unsubscribe(){}}}).pipe((0,On.U)(o=>{const{snapshot:l,prevKey:c}=o;let m=null;return l.exists()&&(m=l.key),{type:e,payload:l,prevKey:c,key:m}}),(0,bc.B)())}function mh(n,e){const t=n.length;for(let r=0;r<t;r++)if(n[r].payload.key===e)return r;return-1}function KA(n,e){const{payload:t,prevKey:r,key:o}=e,l=mh(n,o),c=function WA(n,e){if(gh(e))return 0;{const t=mh(n,e);return-1===t?n.length:t+1}}(n,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let m=null;e.payload.forEach(v=>{const E={payload:v,type:"value",prevKey:m,key:v.key};return m=v.key,n=[...n,E],!1})}return n;case"child_added":if(l>-1){const m=n[l-1];(m&&m.key||null)!==r&&(n=n.filter(v=>v.payload.key!==t.key)).splice(c,0,e)}else{if(null==r)return[e,...n];(n=n.slice()).splice(c,0,e)}return n;case"child_removed":return n.filter(m=>m.payload.key!==t.key);case"child_changed":return n.map(m=>m.payload.key===o?e:m);case"child_moved":if(l>-1){const m=n.splice(l,1)[0];return(n=n.slice()).splice(c,0,m),n}return n;default:return n}}function YC(n){return(gh(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function pf(n,e,t){return function b0(n,e,t){return hf(n,"value","once",t).pipe(Wo(r=>{const o=[$l(r)];return e.forEach(l=>o.push(hf(n,l,"on",t))),(0,Ep.T)(...o).pipe(Tu(KA,[]))}),Su())}(n,e=YC(e),t)}function ff(n,e,t){const r=(e=YC(e)).map(o=>hf(n,o,"on",t));return(0,Ep.T)(...r)}function w0(n,e){return function(r,o){return xa(r,{stringCase:()=>n.child(r)[e](o),firebaseCase:()=>r[e](o),snapshotCase:()=>r.ref[e](o)})}}function E0(n){return function(t){return t?xa(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function XC(n,e){return function(){return hf(n,"value","on",e)}}const uM=new d.OlP("angularfire2.realtimeDatabaseURL"),C0=new d.OlP("angularfire2.database.use-emulator");let I0=(()=>{class n{constructor(t,r,o,l,c,m,v,E,S,N,U,re,pe,Le,Ye){this.schedulers=m;const kt=v,Bt=(0,tt.on)(t,c,r);E&&qm(Bt,c,S,U,re,pe,N,Le),this.database=(0,tt.cc)(`${Bt.name}.database.${o}`,"AngularFireDatabase",Bt.name,()=>{const Zt=c.runOutsideAngular(()=>Bt.database(o||void 0));return kt&&Zt.useEmulator(...kt),Zt},[kt])}list(t,r){const o=this.schedulers.ngZone.runOutsideAngular(()=>Wm(this.database,t));let l=o;return r&&(l=r(o)),function JC(n,e){const t=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:w0(r,"update"),set:w0(r,"set"),push:o=>r.push(o),remove:E0(r),snapshotChanges:o=>pf(n,o,t).pipe(qt.iC),stateChanges:o=>ff(n,o,t).pipe(qt.iC),auditTrail:o=>function ZA(n,e,t){return function QC(n,e,t){return function YA(n,e){return hf(n,"value","on",e).pipe((0,On.U)(t=>{let r;return t.payload.forEach(o=>(r=o.key,!1)),{data:t,lastKeyToLoad:r}}))}(n,t).pipe(function bg(...n){const e=(0,la.jO)(n);return(0,Xn.e)((t,r)=>{const o=n.length,l=new Array(o);let c=n.map(()=>!1),m=!1;for(let v=0;v<o;v++)(0,Nl.Xf)(n[v]).subscribe((0,Rn.x)(r,E=>{l[v]=E,!m&&!c[v]&&(c[v]=!0,(m=c.every(Ko.y))&&(c=null))},xd.Z));t.subscribe((0,Rn.x)(r,v=>{if(m){const E=[v,...l];r.next(e?e(...E):E)}}))})}(e),(0,On.U)(([o,l])=>{const c=o.lastKeyToLoad,m=l.map(v=>v.key);return{actions:l,lastKeyToLoad:c,loadedKeys:m}}),function wc(n){return(0,Xn.e)((e,t)=>{let r=!1,o=0;e.subscribe((0,Rn.x)(t,l=>(r||(r=!n(l,o++)))&&t.next(l)))})}(o=>-1===o.loadedKeys.indexOf(o.lastKeyToLoad)),(0,On.U)(o=>o.actions))}(n,ff(n,e).pipe(Tu((o,l)=>[...o,l],[])),t)}(n,o,t).pipe(qt.iC),valueChanges:(o,l)=>pf(n,o,t).pipe((0,On.U)(m=>m.map(v=>l&&l.idField?Object.assign(Object.assign({},v.payload.val()),{[l.idField]:v.key}):v.payload.val())),qt.iC)}}(l,this)}object(t){return function QA(n,e){return{query:n,snapshotChanges:()=>XC(n,e.schedulers.outsideAngular)().pipe(qt.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>XC(n,e.schedulers.outsideAngular)().pipe(qt.iC,(0,On.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Wm(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(tt.Dh),d.LFG(tt.xv,8),d.LFG(uM,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(qt.HU),d.LFG(C0,8),d.LFG(df,8),d.LFG(Gm,8),d.LFG(Hm,8),d.LFG($m,8),d.LFG(zm,8),d.LFG(v0,8),d.LFG(KC,8),d.LFG(Um,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),eI=(()=>{class n{constructor(){qC.Z.registerVersion("angularfire",qt.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[I0]}),n})();const Km_firebaseConfig={apiKey:"AIzaSyBkymfM7VtYzWRiSNui_59Ph5lRvL0DV_Q",authDomain:"astapixi.firebaseapp.com",projectId:"astapixi",storageBucket:"astapixi.appspot.com",messagingSenderId:"742749180152",appId:"1:742749180152:web:2d1d26fe44169b71f5eb0d",measurementId:"G-5YKLNXF3HE"};let Zm=(()=>{class n{constructor(){this.isGenSquad=!1,this.isEstraz=!1,this.isPanSquad=!0}SwitchPage(t){switch(t){case"panSquad":this.isPanSquad=!0,this.isGenSquad=!1,this.isEstraz=!1;break;case"genSquad":this.isGenSquad=!0,this.isEstraz=!1,this.isPanSquad=!1;break;case"estr":this.isEstraz=!0,this.isGenSquad=!1,this.isPanSquad=!1}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JA=(()=>{class n{constructor(t,r){this.switchPage=t,this.auth=r,this.email="",this.password=""}ngOnInit(){}logout(){this.auth.signOut()}login(){this.auth.signInWithEmailAndPassword(this.email,this.password)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Zm),d.Y36(df))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-header"]],decls:17,vars:0,consts:[[2,"text-align","center"],[1,"menuItems",2,"margin","0 auto","width","fit-content"],["href","#",3,"click"],["type","button",1,"bg-slate-500","hover:bg-slate-700","text-white","font-bold","p-1","rounded",3,"click"]],template:function(t,r){1&t&&(d.TgZ(0,"section")(1,"nav")(2,"p",0),d._uU(3,"Asta-PIXI"),d.qZA(),d.TgZ(4,"ul",1)(5,"li")(6,"a",2),d.NdJ("click",function(){return r.switchPage.SwitchPage("panSquad")}),d._uU(7,"Home"),d.qZA()(),d.TgZ(8,"li")(9,"a",2),d.NdJ("click",function(){return r.switchPage.SwitchPage("genSquad")}),d._uU(10,"Impostazioni"),d.qZA()(),d.TgZ(11,"li")(12,"a",2),d.NdJ("click",function(){return r.switchPage.SwitchPage("estr")}),d._uU(13,"Estrazione"),d.qZA()(),d.TgZ(14,"li")(15,"button",3),d.NdJ("click",function(){return r.logout()}),d._uU(16,"LogOut"),d.qZA()()()()())},styles:["body[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;position:relative;min-height:100vh;font-family:Hack,monospace}nav[_ngcontent-%COMP%]{display:flex;width:90%;margin:0 auto}nav[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#727272;text-align:center}nav[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:16px;font-size:96px;color:#a7a7a7;text-transform:uppercase;font-weight:600;transition:all 1s ease-in-out;position:relative}nav[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{color:#fff;transition:1s}nav[_ngcontent-%COMP%]   .menuItems[_ngcontent-%COMP%]{list-style:none;display:flex}nav[_ngcontent-%COMP%]   .menuItems[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;margin:50px;align-items:center}nav[_ngcontent-%COMP%]   .menuItems[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#a7a7a7;font-size:24px;font-weight:400;transition:all .5s ease-in-out;position:relative;text-transform:uppercase}nav[_ngcontent-%COMP%]   .menuItems[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}footer[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;height:60px;line-height:60px;font-size:14px;background-color:#f1f1f1;color:#000;text-align:center}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:inherit;border-bottom:1px solid}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{border-bottom:1px transparent}"]}),n})();class XA{constructor(){this.nome="",this.crediti=0,this.logo="",this.players=[]}}var eT=P(5226),Co=P.n(eT),tI=P(6131);function A0(...n){return function D0(){return(0,tI.J)(1)}()((0,en.D)(n,(0,la.yG)(n)))}function Ym(...n){const e=(0,la.yG)(n);return(0,Xn.e)((t,r)=>{(e?A0(n,t,e):A0(n,t)).subscribe(r)})}function T0(){return(0,Xn.e)((n,e)=>{let t,r=!1;n.subscribe((0,Rn.x)(e,o=>{const l=t;t=o,r&&e.next([l,o]),r=!0}))})}var ct,nI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yl={},Qm=Qm||{},Vt=nI||self;function gf(){}function Jm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Zr(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var S0="closure_uid_"+(1e9*Math.random()>>>0),tT=0;function cM(n,e,t){return n.call.apply(n.bind,arguments)}function dM(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function ci(n,e,t){return(ci=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?cM:dM).apply(null,arguments)}function mf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Mr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,l){for(var c=Array(arguments.length-2),m=2;m<arguments.length;m++)c[m-2]=arguments[m];return e.prototype[o].apply(r,c)}}function Gu(){this.s=this.s,this.o=this.o}var nT={};Gu.prototype.s=!1,Gu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function yh(n){return Object.prototype.hasOwnProperty.call(n,S0)&&n[S0]||(n[S0]=++tT)}(this);delete nT[n]}},Gu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const M0=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},rI=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in o&&e.call(t,o[l],l,n)};function _h(n){return Array.prototype.concat.apply([],arguments)}function k0(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function vh(n){return/^[\s\xa0]*$/.test(n)}var bi,N0=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ri(n,e){return-1!=n.indexOf(e)}function bh(n,e){return n<e?-1:n>e?1:0}e:{var iT=Vt.navigator;if(iT){var P0=iT.userAgent;if(P0){bi=P0;break e}}bi=""}function R0(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function O0(n){const e={};for(const t in n)e[t]=n[t];return e}var Hc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function iI(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let l=0;l<Hc.length;l++)t=Hc[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Xm(n){return Xm[" "](n),n}Xm[" "]=gf;var yf,n,hM=Ri(bi,"Opera"),wh=Ri(bi,"Trident")||Ri(bi,"MSIE"),oT=Ri(bi,"Edge"),L0=oT||wh,oI=Ri(bi,"Gecko")&&!(Ri(bi.toLowerCase(),"webkit")&&!Ri(bi,"Edge"))&&!(Ri(bi,"Trident")||Ri(bi,"MSIE"))&&!Ri(bi,"Edge"),sT=Ri(bi.toLowerCase(),"webkit")&&!Ri(bi,"Edge");function V0(){var n=Vt.document;return n?n.documentMode:void 0}e:{var B0="",ey=(n=bi,oI?/rv:([^\);]+)(\)|;)/.exec(n):oT?/Edge\/([\d\.]+)/.exec(n):wh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):sT?/WebKit\/(\S+)/.exec(n):hM?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(ey&&(B0=ey?ey[1]:""),wh){var ty=V0();if(null!=ty&&ty>parseFloat(B0)){yf=String(ty);break e}}yf=B0}var aT={};var aI=Vt.document&&wh&&(V0()||parseInt(yf,10))||void 0,lI=function(){if(!Vt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Vt.addEventListener("test",gf,e),Vt.removeEventListener("test",gf,e)}catch{}return n}();function wi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Eh(n,e){if(wi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(oI){e:{try{Xm(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:uT[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Eh.Z.h.call(this)}}wi.prototype.h=function(){this.defaultPrevented=!0},Mr(Eh,wi);var uT={2:"touch",3:"pen",4:"mouse"};Eh.prototype.h=function(){Eh.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var _f="closure_listenable_"+(1e6*Math.random()|0),pM=0;function uI(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++pM,this.ca=this.fa=!1}function U0(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function j0(n){this.src=n,this.g={},this.h=0}function cI(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],o=M0(r,e);(l=0<=o)&&Array.prototype.splice.call(r,o,1),l&&(U0(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function dI(n,e,t,r){for(var o=0;o<n.length;++o){var l=n[o];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return o}return-1}j0.prototype.add=function(n,e,t,r,o){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var c=dI(n,e,r,o);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new uI(e,this.src,l,!!r,o)).fa=t,n.push(e)),e};var hI="closure_lm_"+(1e6*Math.random()|0),pI={};function cT(n,e,t,r,o){if(r&&r.once)return hT(n,e,t,r,o);if(Array.isArray(e)){for(var l=0;l<e.length;l++)cT(n,e[l],t,r,o);return null}return t=iy(t),n&&n[_f]?n.N(e,t,Zr(r)?!!r.capture:!!r,o):dT(n,e,t,!1,r,o)}function dT(n,e,t,r,o,l){if(!e)throw Error("Invalid event type");var c=Zr(o)?!!o.capture:!!o,m=gI(n);if(m||(n[hI]=m=new j0(n)),(t=m.add(e,t,r,c,l)).proxy)return t;if(r=function ry(){var e=fI;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)lI||(o=c),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(H0(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function hT(n,e,t,r,o){if(Array.isArray(e)){for(var l=0;l<e.length;l++)hT(n,e[l],t,r,o);return null}return t=iy(t),n&&n[_f]?n.O(e,t,Zr(r)?!!r.capture:!!r,o):dT(n,e,t,!0,r,o)}function G0(n,e,t,r,o){if(Array.isArray(e))for(var l=0;l<e.length;l++)G0(n,e[l],t,r,o);else r=Zr(r)?!!r.capture:!!r,t=iy(t),n&&n[_f]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=dI(l=n.g[e],t,r,o))&&(U0(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=gI(n))&&(e=n.g[e.toString()],n=-1,e&&(n=dI(e,t,r,o)),(t=-1<n?e[n]:null)&&Ch(t))}function Ch(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[_f])cI(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(H0(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=gI(e))?(cI(t,n),0==t.h&&(t.src=null,e[hI]=null)):U0(n)}}}function H0(n){return n in pI?pI[n]:pI[n]="on"+n}function fI(n,e){if(n.ca)n=!0;else{e=new Eh(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Ch(n),n=t.call(r,e)}return n}function gI(n){return(n=n[hI])instanceof j0?n:null}var vf="__closure_events_fn_"+(1e9*Math.random()>>>0);function iy(n){return"function"==typeof n?n:(n[vf]||(n[vf]=function(e){return n.handleEvent(e)}),n[vf])}function di(){Gu.call(this),this.i=new j0(this),this.P=this,this.I=null}function Ei(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new wi(e,n);else if(e instanceof wi)e.target=e.target||n;else{var o=e;iI(e=new wi(r,n),o)}if(o=!0,t)for(var l=t.length-1;0<=l;l--){var c=e.g=t[l];o=$0(c,r,!0,e)&&o}if(o=$0(c=e.g=n,r,!0,e)&&o,o=$0(c,r,!1,e)&&o,t)for(l=0;l<t.length;l++)o=$0(c=e.g=t[l],r,!1,e)&&o}function $0(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,l=0;l<e.length;++l){var c=e[l];if(c&&!c.ca&&c.capture==t){var m=c.listener,v=c.ia||c.src;c.fa&&cI(n.i,c),o=!1!==m.call(v,r)&&o}}return o&&!r.defaultPrevented}Mr(di,Gu),di.prototype[_f]=!0,di.prototype.removeEventListener=function(n,e,t,r){G0(this,n,e,t,r)},di.prototype.M=function(){if(di.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)U0(t[r]);delete n.g[e],n.h--}}this.I=null},di.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},di.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var mI=Vt.JSON.stringify;function fM(){var n=bI;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var _I,bf=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new fT,n=>n.reset());class fT{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function gM(n){Vt.setTimeout(()=>{throw n},0)}function yI(n,e){_I||function gT(){var n=Vt.Promise.resolve(void 0);_I=function(){n.then(mM)}}(),vI||(_I(),vI=!0),bI.add(n,e)}var vI=!1,bI=new class pT{constructor(){this.h=this.g=null}add(e,t){const r=bf.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function mM(){for(var n;n=fM();){try{n.h.call(n.g)}catch(t){gM(t)}var e=bf;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}vI=!1}function oy(n,e){di.call(this),this.h=n||1,this.g=e||Vt,this.j=ci(this.kb,this),this.l=Date.now()}function wf(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function z0(n,e,t){if("function"==typeof n)t&&(n=ci(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ci(n.handleEvent,n)}return 2147483647<Number(e)?-1:Vt.setTimeout(n,e||0)}function Io(n){n.g=z0(()=>{n.g=null,n.i&&(n.i=!1,Io(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Mr(oy,di),(ct=oy.prototype).da=!1,ct.S=null,ct.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ei(this,"tick"),this.da&&(wf(this),this.start()))}},ct.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ct.M=function(){oy.Z.M.call(this),wf(this),delete this.g};class mT extends Gu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Io(this)}M(){super.M(),this.g&&(Vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $c(n){Gu.call(this),this.h=n,this.g={}}Mr($c,Gu);var wI=[];function EI(n,e,t,r){Array.isArray(t)||(t&&(wI[0]=t.toString()),t=wI);for(var o=0;o<t.length;o++){var l=cT(e,t[o],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function sy(n){R0(n.g,function(e,t){this.g.hasOwnProperty(t)&&Ch(e)},n),n.g={}}function Ef(){this.g=!0}function zc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function _T(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var c=1;c<o.length;c++)o[c]=""}}}return mI(t)}catch{return e}}(n,t)+(r?" "+r:"")})}$c.prototype.M=function(){$c.Z.M.call(this),sy(this)},$c.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ef.prototype.Aa=function(){this.g=!1},Ef.prototype.info=function(){};var Hu={},DI=null;function Ih(){return DI=DI||new di}function Ql(n){wi.call(this,Hu.Ma,n)}function Dh(n){const e=Ih();Ei(e,new Ql(e,n))}function ay(n,e){wi.call(this,Hu.STAT_EVENT,n),this.stat=e}function yr(n){const e=Ih();Ei(e,new ay(e,n))}function AI(n,e){wi.call(this,Hu.Na,n),this.size=e}function ly(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Vt.setTimeout(function(){n()},e)}Hu.Ma="serverreachability",Mr(Ql,wi),Hu.STAT_EVENT="statevent",Mr(ay,wi),Hu.Na="timingevent",Mr(AI,wi);var uy={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},vT={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function q0(){}function W0(){}q0.prototype.h=null;var hy,cy={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function dy(){wi.call(this,"d")}function K0(){wi.call(this,"c")}function Z0(){}function qc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new $c(this),this.P=SI,this.W=new oy(n=L0?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Y0}function Y0(){this.i=null,this.g="",this.h=!1}Mr(dy,wi),Mr(K0,wi),Mr(Z0,q0),Z0.prototype.g=function(){return new XMLHttpRequest},Z0.prototype.i=function(){return{}},hy=new Z0;var SI=45e3,Q0={},Cf={};function py(n,e,t){n.K=1,n.v=_l($u(e)),n.s=t,n.U=!0,fy(n,null)}function fy(n,e){n.F=Date.now(),Ah(n),n.A=$u(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),OI(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Y0,n.g=ky(n.l,t?e:null,!n.s),0<n.O&&(n.L=new mT(ci(n.Ia,n,n.g),n.O)),EI(n.V,n.g,"readystatechange",n.gb),e=n.H?O0(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Dh(1),function CI(n,e,t,r,o,l){n.info(function(){if(n.g)if(l)for(var c="",m=l.split("&"),v=0;v<m.length;v++){var E=m[v].split("=");if(1<E.length){var S=E[0];E=E[1];var N=S.split("_");c=2<=N.length&&"type"==N[1]?c+(S+"=")+E+"&":c+(S+"=redacted&")}}else c=null;else c=l;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function If(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function J0(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=bT(n,t),o==Cf){4==e&&(n.o=4,yr(14),r=!1),zc(n.j,n.m,null,"[Incomplete Response]");break}if(o==Q0){n.o=4,yr(15),zc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}zc(n.j,n.m,o,null),xI(n,o)}If(n)&&o!=Cf&&o!=Q0&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,yr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Xl(e),e.L=!0,yr(11))):(zc(n.j,n.m,t,"[Invalid Chunked Response]"),Th(n),Df(n))}function bT(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Cf:(t=Number(e.substring(t,r)),isNaN(t)?Q0:(r+=1)+t>e.length?Cf:(e=e.substr(r,t),n.C=r+t,e))}function Ah(n){n.Y=Date.now()+n.P,X0(n,n.P)}function X0(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ly(ci(n.eb,n),e)}function gy(n){n.B&&(Vt.clearTimeout(n.B),n.B=null)}function Df(n){0==n.l.G||n.I||Ty(n.l,n)}function Th(n){gy(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,wf(n.W),sy(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function xI(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Tf(t.i,n)))if(t.I=n.N,!n.J&&Tf(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Nh(t),ge(t)}jn(t),yr(18)}}else t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=ly(ci(t.ab,t),6e3));if(1>=ob(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else eu(t,11)}else if((n.J||t.g==n)&&Nh(t),!vh(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let E=o[e];if(t.U=E[0],E=E[1],2==t.G)if("c"==E[0]){t.J=E[1],t.la=E[2];const S=E[3];null!=S&&(t.ma=S,t.h.info("VER="+t.ma));const N=E[4];null!=N&&(t.za=N,t.h.info("SVER="+t.za));const U=E[5];null!=U&&"number"==typeof U&&0<U&&(t.K=r=1.5*U,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const re=n.g;if(re){const pe=re.g?re.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pe){var l=r.i;!l.g&&(Ri(pe,"spdy")||Ri(pe,"quic")||Ri(pe,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(BI(l,l.h),l.h=null))}if(r.D){const Le=re.g?re.g.getResponseHeader("X-HTTP-Session-Id"):null;Le&&(r.sa=Le,tr(r.F,r.D,Le))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=My(r,r.H?r.la:null,r.W),c.J){sb(r.i,c);var m=c,v=r.K;v&&m.setTimeout(v),m.B&&(gy(m),Ah(m)),r.g=c}else ln(r);0<t.l.length&&nt(t)}else"stop"!=E[0]&&"close"!=E[0]||eu(t,7);else 3==t.G&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?eu(t,7):ee(t):"noop"!=E[0]&&t.j&&t.j.wa(E),t.A=0)}Dh(4)}catch{}}function eb(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Jm(n)||"string"==typeof n)rI(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Jm(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function MI(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Jm(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var l=0;l<o;l++)e.call(void 0,r[l],t&&t[l],n)}}function Sh(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Sh)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function tb(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];xh(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)xh(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function xh(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ct=qc.prototype).setTimeout=function(n){this.P=n},ct.gb=function(n){n=n.target;const e=this.L;e&&3==_(n)?e.l():this.Ia(n)},ct.Ia=function(n){try{if(n==this.g)e:{const S=_(this.g);var e=this.g.Da();const N=this.g.ba();if(!(3>S)&&(3!=S||L0||this.g&&(this.h.h||this.g.ga()||w(this.g)))){this.I||4!=S||7==e||Dh(8==e||0>=N?3:2),gy(this);var t=this.g.ba();this.N=t;t:if(If(this)){var r=w(this.g);n="";var o=r.length,l=4==_(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Th(this),Df(this);var c="";break t}this.h.i=new Vt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function yT(n,e,t,r,o,l,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+l+" "+c})}(this.j,this.u,this.A,this.m,this.X,S,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,v=this.g;if((m=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vh(m)){var E=m;break t}}E=null}if(!(t=E)){this.i=!1,this.o=3,yr(12),Th(this),Df(this);break e}zc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,xI(this,t)}this.U?(J0(this,S,c),L0&&this.i&&3==S&&(EI(this.V,this.W,"tick",this.fb),this.W.start())):(zc(this.j,this.m,c,null),xI(this,c)),4==S&&Th(this),this.i&&!this.I&&(4==S?Ty(this.l,this):(this.i=!1,Ah(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,yr(12)):(this.o=0,yr(13)),Th(this),Df(this)}}}catch{}},ct.fb=function(){if(this.g){var n=_(this.g),e=this.g.ga();this.C<e.length&&(gy(this),J0(this,n,e),this.i&&4!=n&&Ah(this))}},ct.cancel=function(){this.I=!0,Th(this)},ct.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function II(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Dh(3),yr(17)),Th(this),this.o=2,Df(this)):X0(this,this.Y-n)},(ct=Sh.prototype).R=function(){tb(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ct.T=function(){return tb(this),this.g.concat()},ct.get=function(n,e){return xh(this.h,n)?this.h[n]:e},ct.set=function(n,e){xh(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ct.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],l=this.get(o);n.call(e,l,o,this)}};var wT=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Mh(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Mh){this.g=void 0!==e?e:n.g,my(this,n.j),this.s=n.s,Wc(this,n.i),yy(this,n.m),this.l=n.l,e=n.h;var t=new by;t.i=e.i,e.g&&(t.g=new Sh(e.g),t.h=e.h),kI(this,t),this.o=n.o}else n&&(t=String(n).match(wT))?(this.g=!!e,my(this,t[1]||"",!0),this.s=Kc(t[2]||""),Wc(this,t[3]||"",!0),yy(this,t[4]),this.l=Kc(t[5]||"",!0),kI(this,t[6]||"",!0),this.o=Kc(t[7]||"")):(this.g=!!e,this.h=new by(null,this.g))}function $u(n){return new Mh(n)}function my(n,e,t){n.j=t?Kc(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Wc(n,e,t){n.i=t?Kc(e,!0):e}function yy(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function kI(n,e,t){e instanceof by?(n.h=e,function FI(n,e){e&&!n.j&&(Jl(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(PI(this,r),OI(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Af(e,vM)),n.h=new by(e,n.g))}function tr(n,e,t){n.h.set(e,t)}function _l(n){return tr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Kc(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Af(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,rb),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function rb(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Mh.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Af(e,_y,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Af(e,_y,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Af(t,"/"==t.charAt(0)?_M:vy,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Af(t,bM)),n.join("")};var _y=/[#\/\?@]/g,vy=/[#\?:]/g,_M=/[#\?]/g,vM=/[#\?@]/g,bM=/#/g;function by(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Jl(n){n.g||(n.g=new Sh,n.h=0,n.i&&function yM(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var l=n[t].substring(0,r);o=n[t].substring(r+1)}else l=n[t];e(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function PI(n,e){Jl(n),e=kh(n,e),xh(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,xh((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&tb(n)))}function RI(n,e){return Jl(n),e=kh(n,e),xh(n.g.h,e)}function OI(n,e,t){PI(n,e),0<t.length&&(n.i=null,n.g.set(kh(n,e),k0(t)),n.h+=t.length)}function kh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function ib(n){this.l=n||ET,n=Vt.PerformanceNavigationTiming?0<(n=Vt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Vt.g&&Vt.g.Ea&&Vt.g.Ea()&&Vt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ct=by.prototype).add=function(n,e){Jl(this),this.i=null,n=kh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ct.forEach=function(n,e){Jl(this),this.g.forEach(function(t,r){rI(t,function(o){n.call(e,o,r,this)},this)},this)},ct.T=function(){Jl(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],l=0;l<o.length;l++)t.push(e[r]);return t},ct.R=function(n){Jl(this);var e=[];if("string"==typeof n)RI(this,n)&&(e=_h(e,this.g.get(kh(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=_h(e,n[t])}return e},ct.set=function(n,e){return Jl(this),this.i=null,RI(this,n=kh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ct.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ct.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var c=o;""!==r[l]&&(c+="="+encodeURIComponent(String(r[l]))),n.push(c)}}return this.i=n.join("&")};var ET=10;function VI(n){return!!n.h||!!n.g&&n.g.size>=n.j}function ob(n){return n.h?1:n.g?n.g.size:0}function Tf(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function BI(n,e){n.g?n.g.add(e):n.h=e}function sb(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function wy(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return k0(n.i)}function ab(){}function CT(){this.g=new ab}function wM(n,e,t){const r=t||"";try{eb(n,function(o,l){let c=o;Zr(o)&&(c=mI(o)),e.push(r+l+"="+encodeURIComponent(c))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Ey(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function Sf(n){this.l=n.$b||null,this.j=n.ib||!1}function Cy(n,e){di.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=UI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ib.prototype.cancel=function(){if(this.i=wy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},ab.prototype.stringify=function(n){return Vt.JSON.stringify(n,void 0)},ab.prototype.parse=function(n){return Vt.JSON.parse(n,void 0)},Mr(Sf,q0),Sf.prototype.g=function(){return new Cy(this.l,this.j)},Sf.prototype.i=function(n){return function(){return n}}({}),Mr(Cy,di);var UI=0;function IT(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Iy(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Dy(n)}function Dy(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ct=Cy.prototype).open=function(n,e){if(this.readyState!=UI)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Dy(this)},ct.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Vt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ct.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Iy(this)),this.readyState=UI},ct.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Dy(this)),this.g&&(this.readyState=3,Dy(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Vt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;IT(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ct.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Iy(this):Dy(this),3==this.readyState&&IT(this)}},ct.Ua=function(n){this.g&&(this.response=this.responseText=n,Iy(this))},ct.Ta=function(n){this.g&&(this.response=n,Iy(this))},ct.ha=function(){this.g&&Iy(this)},ct.setRequestHeader=function(n,e){this.v.append(n,e)},ct.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ct.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Cy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var CM=Vt.JSON.parse;function Br(n){di.call(this),this.headers=new Sh,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=DT,this.K=this.L=!1}Mr(Br,di);var DT="",IM=/^https?$/i,DM=["POST","PUT"];function i(n){return"content-type"==n.toLowerCase()}function s(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,a(n),h(n)}function a(n){n.D||(n.D=!0,Ei(n,"complete"),Ei(n,"error"))}function u(n){if(n.h&&typeof Qm<"u"&&(!n.C[1]||4!=_(n)||2!=n.ba()))if(n.v&&4==_(n))z0(n.Fa,0,n);else if(Ei(n,"readystatechange"),4==_(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(wT)[1]||null;if(!o&&Vt.self&&Vt.self.location){var l=Vt.self.location.protocol;o=l.substr(0,l.length-1)}r=!IM.test(o?o.toLowerCase():"")}t=r}if(t)Ei(n,"complete"),Ei(n,"success");else{n.m=6;try{var c=2<_(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.ba()+"]",a(n)}}finally{h(n)}}}function h(n,e){if(n.g){g(n);const t=n.g,r=n.C[0]?gf:null;n.g=null,n.C=null,e||Ei(n,"ready");try{t.onreadystatechange=r}catch{}}}function g(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Vt.clearTimeout(n.A),n.A=null)}function _(n){return n.g?n.g.readyState:0}function w(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case DT:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function x(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function I(n){let e="";return R0(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):tr(n,e,t))}function O(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function B(n){this.za=0,this.l=[],this.h=new Ef,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=O("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=O("baseRetryDelayMs",5e3,n),this.$a=O("retryDelaySeedMs",1e4,n),this.Ya=O("forwardChannelMaxRetries",2,n),this.ra=O("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new ib(n&&n.concurrentRequestLimit),this.Ca=new CT,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function ee(n){if(Ne(n),3==n.G){var e=n.V++,t=$u(n.F);tr(t,"SID",n.J),tr(t,"RID",e),tr(t,"TYPE","terminate"),Ve(n,t),(e=new qc(n,n.h,e,void 0)).K=2,e.v=_l($u(t)),t=!1,Vt.navigator&&Vt.navigator.sendBeacon&&(t=Vt.navigator.sendBeacon(e.v.toString(),"")),!t&&Vt.Image&&((new Image).src=e.v,t=!0),t||(e.g=ky(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ah(e)}xy(n)}function ge(n){n.g&&(Xl(n),n.g.cancel(),n.g=null)}function Ne(n){ge(n),n.u&&(Vt.clearTimeout(n.u),n.u=null),Nh(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Vt.clearTimeout(n.m),n.m=null)}function $e(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&nt(n)}function nt(n){VI(n.i)||n.m||(n.m=!0,yI(n.Ha,n),n.C=0)}function It(n,e){var t;t=e?e.m:n.V++;const r=$u(n.F);tr(r,"SID",n.J),tr(r,"RID",t),tr(r,"AID",n.U),Ve(n,r),n.o&&n.s&&x(r,n.o,n.s),t=new qc(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=yt(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),BI(n.i,t),py(t,r,e)}function Ve(n,e){n.j&&eb({},function(t,r){tr(e,r,t)})}function yt(n,e,t){t=Math.min(n.l.length,t);var r=n.j?ci(n.j.Oa,n.j,n):null;e:{var o=n.l;let l=-1;for(;;){const c=["count="+t];-1==l?0<t?(l=o[0].h,c.push("ofs="+l)):l=0:c.push("ofs="+l);let m=!0;for(let v=0;v<t;v++){let E=o[v].h;const S=o[v].g;if(E-=l,0>E)l=Math.max(0,o[v].h-100),m=!1;else try{wM(S,c,"req"+E+"_")}catch{r&&r(S)}}if(m){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function ln(n){n.g||n.u||(n.Y=1,yI(n.Ga,n),n.A=0)}function jn(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=ly(ci(n.Ga,n),Sy(n,n.A)),n.A++,0))}function Xl(n){null!=n.B&&(Vt.clearTimeout(n.B),n.B=null)}function Ay(n){n.g=new qc(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=$u(n.oa);tr(e,"RID","rpc"),tr(e,"SID",n.J),tr(e,"CI",n.N?"0":"1"),tr(e,"AID",n.U),Ve(n,e),tr(e,"TYPE","xmlhttp"),n.o&&n.s&&x(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=_l($u(e)),t.s=null,t.U=!0,fy(t,n)}function Nh(n){null!=n.v&&(Vt.clearTimeout(n.v),n.v=null)}function Ty(n,e){var t=null;if(n.g==e){Nh(n),Xl(n),n.g=null;var r=2}else{if(!Tf(n.i,e))return;t=e.D,sb(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;Ei(r=Ih(),new AI(r,t,e,o)),nt(n)}else ln(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function lt(n,e){return!(ob(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=ly(ci(n.Ha,n,e),Sy(n,n.C)),n.C++,0)))}(n,e)||2==r&&jn(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:eu(n,5);break;case 4:eu(n,10);break;case 3:eu(n,6);break;default:eu(n,2)}}function Sy(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function eu(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=ci(n.jb,n);t||(t=new Mh("//www.google.com/images/cleardot.gif"),Vt.location&&"http"==Vt.location.protocol||my(t,"https"),_l(t)),function EM(n,e){const t=new Ef;if(Vt.Image){const r=new Image;r.onload=mf(Ey,t,r,"TestLoadImage: loaded",!0,e),r.onerror=mf(Ey,t,r,"TestLoadImage: error",!1,e),r.onabort=mf(Ey,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=mf(Ey,t,r,"TestLoadImage: timeout",!1,e),Vt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else yr(2);n.G=0,n.j&&n.j.va(e),xy(n),Ne(n)}function xy(n){n.G=0,n.I=-1,n.j&&((0!=wy(n.i).length||0!=n.l.length)&&(n.i.i.length=0,k0(n.l),n.l.length=0),n.j.ua())}function My(n,e,t){let r=function NI(n){return n instanceof Mh?$u(n):new Mh(n,void 0)}(t);if(""!=r.i)e&&Wc(r,e+"."+r.i),yy(r,r.m);else{const o=Vt.location;r=function nb(n,e,t,r){var o=new Mh(null,void 0);return n&&my(o,n),e&&Wc(o,e),t&&yy(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&R0(n.aa,function(o,l){tr(r,l,o)}),t=n.sa,(e=n.D)&&t&&tr(r,e,t),tr(r,"VER",n.ma),Ve(n,r),r}function ky(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Br(t&&n.Ba&&!n.qa?new Sf({ib:!0}):n.qa)).L=n.H,e}function Ny(){}function jI(){if(wh&&!(10<=Number(aI)))throw Error("Environmental error: no available transport.")}function Ma(n,e){di.call(this),this.g=new B(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!vh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!vh(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Py(this)}function TM(n){dy.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function SM(){K0.call(this),this.status=1}function Py(n){this.g=n}(ct=Br.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():hy.g(),this.C=function TI(n){return n.h||(n.h=n.i())}(this.u?this.u:hy),this.g.onreadystatechange=ci(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void s(this,l)}n=t||"";const o=new Sh(this.headers);r&&eb(r,function(l,c){o.set(c,l)}),r=function rT(n){e:{var e=i;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=Vt.FormData&&n instanceof Vt.FormData,!(0<=M0(DM,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(l,c){this.g.setRequestHeader(c,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{g(this),0<this.B&&((this.K=function AM(n){return wh&&function lT(){return function F0(n){var e=aT;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=N0(String(yf)).split("."),t=N0("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var o=e[c]||"",l=t[c]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==o[0].length&&0==l[0].length)break;n=bh(0==o[1].length?0:parseInt(o[1],10),0==l[1].length?0:parseInt(l[1],10))||bh(0==o[2].length,0==l[2].length)||bh(o[2],l[2]),o=o[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ci(this.pa,this)):this.A=z0(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){s(this,l)}},ct.pa=function(){typeof Qm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ei(this,"timeout"),this.abort(8))},ct.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ei(this,"complete"),Ei(this,"abort"),h(this))},ct.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),h(this,!0)),Br.Z.M.call(this)},ct.Fa=function(){this.s||(this.F||this.v||this.l?u(this):this.cb())},ct.cb=function(){u(this)},ct.ba=function(){try{return 2<_(this)?this.g.status:-1}catch{return-1}},ct.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},ct.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),CM(e)}},ct.Da=function(){return this.m},ct.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ct=B.prototype).ma=8,ct.G=1,ct.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},ct.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new qc(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=O0(l),iI(l,this.P)):l=this.P),null===this.o&&(o.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=yt(this,o,e),tr(t=$u(this.F),"RID",n),tr(t,"CVER",22),this.D&&tr(t,"X-HTTP-Session-Id",this.D),Ve(this,t),this.o&&l&&x(t,this.o,l),BI(this.i,o),this.Ra&&tr(t,"TYPE","init"),this.ja?(tr(t,"$req",e),tr(t,"SID","null"),o.$=!0,py(o,t,null)):py(o,t,e),this.G=2}}else 3==this.G&&(n?It(this,n):0==this.l.length||VI(this.i)||It(this))},ct.Ga=function(){if(this.u=null,Ay(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=ly(ci(this.bb,this),n)}},ct.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,yr(10),ge(this),Ay(this))},ct.ab=function(){null!=this.v&&(this.v=null,ge(this),jn(this),yr(19))},ct.jb=function(n){n?(this.h.info("Successfully pinged google.com"),yr(2)):(this.h.info("Failed to ping google.com"),yr(1))},(ct=Ny.prototype).xa=function(){},ct.wa=function(){},ct.va=function(){},ct.ua=function(){},ct.Oa=function(){},jI.prototype.g=function(n,e){return new Ma(n,e)},Mr(Ma,di),Ma.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),yI(ci(n.hb,n,e))),yr(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=My(n,null,n.W),nt(n)},Ma.prototype.close=function(){ee(this.g)},Ma.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,$e(this.g,e)}else this.v?((e={}).__data__=mI(n),$e(this.g,e)):$e(this.g,n)},Ma.prototype.M=function(){this.g.j=null,delete this.j,ee(this.g),delete this.g,Ma.Z.M.call(this)},Mr(TM,dy),Mr(SM,K0),Mr(Py,Ny),Py.prototype.xa=function(){Ei(this.g,"a")},Py.prototype.wa=function(n){Ei(this.g,new TM(n))},Py.prototype.va=function(n){Ei(this.g,new SM(n))},Py.prototype.ua=function(){Ei(this.g,"b")},jI.prototype.createWebChannel=jI.prototype.g,Ma.prototype.send=Ma.prototype.u,Ma.prototype.open=Ma.prototype.m,Ma.prototype.close=Ma.prototype.close,uy.NO_ERROR=0,uy.TIMEOUT=8,uy.HTTP_ERROR=6,vT.COMPLETE="complete",W0.EventType=cy,cy.OPEN="a",cy.CLOSE="b",cy.ERROR="c",cy.MESSAGE="d",di.prototype.listen=di.prototype.N,Br.prototype.listenOnce=Br.prototype.O,Br.prototype.getLastError=Br.prototype.La,Br.prototype.getLastErrorCode=Br.prototype.Da,Br.prototype.getStatus=Br.prototype.ba,Br.prototype.getResponseJson=Br.prototype.Qa,Br.prototype.getResponseText=Br.prototype.ga,Br.prototype.send=Br.prototype.ea;var oP=Yl.createWebChannelTransport=function(){return new jI},sP=Yl.getStatEventTarget=function(){return Ih()},AT=Yl.ErrorCode=uy,aP=Yl.EventType=vT,lP=Yl.Event=Hu,xM=Yl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},uP=Yl.FetchXmlHttpFactory=Sf,GI=Yl.WebChannel=W0,cP=Yl.XhrIo=Br;const MM="@firebase/firestore";class Oi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Oi.UNAUTHENTICATED=new Oi(null),Oi.GOOGLE_CREDENTIALS=new Oi("google-credentials-uid"),Oi.FIRST_PARTY=new Oi("first-party-uid"),Oi.MOCK_USER=new Oi("mock-user");let Ry="9.8.4";const Ph=new b.Yd("@firebase/firestore");function TT(){return Ph.logLevel}function ze(n,...e){if(Ph.logLevel<=b.in.DEBUG){const t=e.map(ST);Ph.debug(`Firestore (${Ry}): ${n}`,...t)}}function hi(n,...e){if(Ph.logLevel<=b.in.ERROR){const t=e.map(ST);Ph.error(`Firestore (${Ry}): ${n}`,...t)}}function lb(n,...e){if(Ph.logLevel<=b.in.WARN){const t=e.map(ST);Ph.warn(`Firestore (${Ry}): ${n}`,...t)}}function ST(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ht(n="Unexpected state"){const e=`FIRESTORE (${Ry}) INTERNAL ASSERTION FAILED: `+n;throw hi(e),new Error(e)}function Rt(n,e){n||ht()}function st(n,e){return n}const Ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends p.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class kM{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Oi.UNAUTHENTICATED))}shutdown(){}}class fP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class gP{constructor(e){this.t=e,this.currentUser=Oi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const l=E=>this.i!==o?(o=this.i,t(E)):Promise.resolve();let c=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Fi,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const E=c;e.enqueueRetryable((0,y.Z)(function*(){yield E.promise,yield l(r.currentUser)}))},v=E=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(E=>v(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?v(E):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Fi)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Rt("string"==typeof r.accessToken),new kM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Rt(null===e||"string"==typeof e),new Oi(e)}}class mP{constructor(e,t,r){this.type="FirstParty",this.user=Oi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class yP{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new mP(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Oi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _P{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=l=>{null!=l.error&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.p;return this.p=l.token,ze("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const o=l=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?o(l):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Rt("string"==typeof t.token),this.p=t.token,new NM(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function vP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class PM{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=vP(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+=e.charAt(o[l]%e.length))}return r}}function Kt(n,e){return n<e?-1:n>e?1:0}function Oy(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function RM(n){return n+"\0"}class Ar{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new je(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new je(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new je(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ar.fromMillis(Date.now())}static fromDate(e){return Ar.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ar(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Mt(e)}static min(){return new Mt(new Ar(0,0))}static max(){return new Mt(new Ar(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ub{constructor(e,t,r){void 0===t?t=0:t>e.length&&ht(),void 0===r?r=e.length-t:r>e.length-t&&ht(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===ub.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ub?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=e.get(o),c=t.get(o);if(l<c)return-1;if(l>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class yn extends ub{construct(e,t,r){return new yn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new je(Ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new yn(t)}static emptyPath(){return new yn([])}}const bP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yr extends ub{construct(e,t,r){return new Yr(e,t,r)}static isValidIdentifier(e){return bP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Yr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(0===r.length)throw new je(Ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new je(Ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new je(Ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else"`"===m?(c=!c,o++):"."!==m||c?(r+=m,o++):(l(),o++)}if(l(),c)throw new je(Ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yr(t)}static emptyPath(){return new Yr([])}}class rt{constructor(e){this.path=e}static fromPath(e){return new rt(yn.fromString(e))}static fromName(e){return new rt(yn.fromString(e).popFirst(5))}static empty(){return new rt(yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===yn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return yn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rt(new yn(e.slice()))}}class HI{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function xT(n){return n.fields.find(e=>2===e.kind)}function xf(n){return n.fields.filter(e=>2!==e.kind)}HI.UNKNOWN_ID=-1;class $I{constructor(e,t){this.fieldPath=e,this.kind=t}}class cb{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new cb(0,ka.min())}}function OM(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Mt.fromTimestamp(1e9===r?new Ar(t+1,0):new Ar(t,r));return new ka(o,rt.empty(),e)}function FM(n){return new ka(n.readTime,n.key,-1)}class ka{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ka(Mt.min(),rt.empty(),-1)}static max(){return new ka(Mt.max(),rt.empty(),-1)}}function MT(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=rt.comparator(n.documentKey,e.documentKey),0!==t?t:Kt(n.largestBatchId,e.largestBatchId))}const LM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Rh(n){return kT.apply(this,arguments)}function kT(){return kT=(0,y.Z)(function*(n){if(n.code!==Ae.FAILED_PRECONDITION||n.message!==LM)throw n;ze("LocalStore","Unexpectedly lost primary lease")}),kT.apply(this,arguments)}class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ce((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ce?t:Ce.resolve(t)}catch(t){return Ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.reject(t)}static resolve(e){return new Ce((t,r)=>{t(e)})}static reject(e){return new Ce((t,r)=>{r(e)})}static waitFor(e){return new Ce((t,r)=>{let o=0,l=0,c=!1;e.forEach(m=>{++o,m.next(()=>{++l,c&&l===o&&t()},v=>r(v))}),c=!0,l===o&&t()})}static or(e){let t=Ce.resolve(!1);for(const r of e)t=t.next(o=>o?Ce.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,l)=>{r.push(t.call(this,o,l))}),this.waitFor(r)}static mapArray(e,t){return new Ce((r,o)=>{const l=e.length,c=new Array(l);let m=0;for(let v=0;v<l;v++){const E=v;t(e[E]).next(S=>{c[E]=S,++m,m===l&&r(c)},S=>o(S))}})}static doWhile(e,t){return new Ce((r,o)=>{const l=()=>{!0===e()?t().next(()=>{l()},o):r()};l()})}}class zI{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new Fi,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new db(e,t.error)):this.T.resolve()},this.transaction.onerror=r=>{const o=NT(r.target.error);this.T.reject(new db(e,o))}}static open(e,t,r,o){try{return new zI(t,e.transaction(o,r))}catch(l){throw new db(t,l)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(ze("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new EP(t)}}class tu{constructor(e,t,r){this.name=e,this.version=t,this.P=r,12.2===tu.v((0,p.z$)())&&hi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ze("SimpleDb","Removing database:",e),Mf(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,p.hl)())return!1;if(tu.S())return!0;const e=(0,p.z$)(),t=tu.v(e),r=0<t&&t<10,o=tu.D(e),l=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static S(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static D(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}k(e){var t=this;return(0,y.Z)(function*(){return t.db||(ze("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=c=>{r(c.target.result)},l.onblocked=()=>{o(new db(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=c=>{const m=c.target.error;o("VersionError"===m.name?new je(Ae.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new je(Ae.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new db(e,m))},l.onupgradeneeded=c=>{ze("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.P.O(c.target.result,l.transaction,c.oldVersion,t.version).next(()=>{ze("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.M&&(t.db.onversionchange=r=>t.M(r)),t.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var l=this;return(0,y.Z)(function*(){const c="readonly"===t;let m=0;for(;;){++m;try{l.db=yield l.k(e);const v=zI.open(l.db,e,c?"readonly":"readwrite",r),E=o(v).next(S=>(v.R(),S)).catch(S=>(v.abort(S),Ce.reject(S))).toPromise();return E.catch(()=>{}),yield v.A,E}catch(v){const E=v,S="FirebaseError"!==E.name&&m<3;if(ze("SimpleDb","Transaction failed with error:",E.message,"Retrying:",S),l.close(),!S)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class wP{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return Mf(this.$.delete())}}class db extends je{constructor(e,t){super(Ae.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Oh(n){return"IndexedDbTransactionError"===n.name}class EP{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ze("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ze("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Mf(r)}add(e){return ze("SimpleDb","ADD",this.store.name,e,e),Mf(this.store.add(e))}get(e){return Mf(this.store.get(e)).next(t=>(void 0===t&&(t=null),ze("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ze("SimpleDb","DELETE",this.store.name,e),Mf(this.store.delete(e))}count(){return ze("SimpleDb","COUNT",this.store.name),Mf(this.store.count())}K(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),l=[];return this.G(o,(c,m)=>{l.push(m)}).next(()=>l)}{const o=this.store.getAll(r.range);return new Ce((l,c)=>{o.onerror=m=>{c(m.target.error)},o.onsuccess=m=>{l(m.target.result)}})}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Ce((o,l)=>{r.onerror=c=>{l(c.target.error)},r.onsuccess=c=>{o(c.target.result)}})}W(e,t){ze("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const o=this.cursor(r);return this.G(o,(l,c,m)=>m.delete())}J(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.G(o,t)}Y(e){const t=this.cursor({});return new Ce((r,o)=>{t.onerror=l=>{const c=NT(l.target.error);o(c)},t.onsuccess=l=>{const c=l.target.result;c?e(c.primaryKey,c.value).next(m=>{m?c.continue():r()}):r()}})}G(e,t){const r=[];return new Ce((o,l)=>{e.onerror=c=>{l(c.target.error)},e.onsuccess=c=>{const m=c.target.result;if(!m)return void o();const v=new wP(m),E=t(m.primaryKey,m.value,v);if(E instanceof Ce){const S=E.catch(N=>(v.done(),Ce.reject(N)));r.push(S)}v.isDone?o():null===v.U?m.continue():m.continue(v.U)}}).next(()=>Ce.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Mf(n){return new Ce((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=NT(r.target.error);t(o)}})}let BM=!1;function NT(n){const e=tu.v((0,p.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new je("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return BM||(BM=!0,setTimeout(()=>{throw r},0)),r}}return n}class CP{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;ze("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,y.Z)(function*(){t.task=null;try{ze("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(r){Oh(r)?ze("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Rh(r)}yield t.Z(1)}))}}class IP{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,y.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.et(r,e))})()}et(e,t){const r=new Set;let o=t,l=!0;return Ce.doWhile(()=>!0===l&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return ze("IndexBackiller",`Processing collection: ${c}`),this.nt(e,c,o).next(m=>{o-=m,r.add(c)});l=!1})).next(()=>t-o)}nt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.st(o,l)).next(m=>(ze("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>c.size)}))}st(e,t){let r=e;return t.changes.forEach((o,l)=>{const c=FM(l);MT(c,r)>0&&(r=c)}),new ka(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Ls{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.it(r),this.rt=r=>t.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function UM(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function kf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function jM(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Ls.ot=-1;class Ur{constructor(e,t){this.comparator=e,this.root=t||Xi.EMPTY}insert(e,t){return new Ur(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xi.BLACK,null,null))}remove(e){return new Ur(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qI(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qI(this.root,e,this.comparator,!1)}getReverseIterator(){return new qI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qI(this.root,e,this.comparator,!0)}}class qI{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xi{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=r??Xi.RED,this.left=o??Xi.EMPTY,this.right=l??Xi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new Xi(e??this.key,t??this.value,r??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===l?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Xi.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ht();const e=this.left.check();if(e!==this.right.check())throw ht();return e+(this.isRed()?0:1)}}Xi.EMPTY=null,Xi.RED=!0,Xi.BLACK=!1,Xi.EMPTY=new class{constructor(){this.size=0}get key(){throw ht()}get value(){throw ht()}get color(){throw ht()}get left(){throw ht()}get right(){throw ht()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Xi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zn{constructor(e){this.comparator=e,this.data=new Ur(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new GM(this.data.getIterator())}getIteratorFrom(e){return new GM(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Zn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(o,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Zn(this.comparator);return t.data=e,t}}class GM{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Fy(n){return n.hasNext()?n.getNext():void 0}class Na{constructor(e){this.fields=e,e.sort(Yr.comparator)}static empty(){return new Na([])}unionWith(e){let t=new Zn(Yr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Na(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Oy(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Ci{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ci(t)}static fromUint8Array(e){const t=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new Ci(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ci.EMPTY_BYTE_STRING=new Ci("");const AP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fh(n){if(Rt(!!n),"string"==typeof n){let e=0;const t=AP.exec(n);if(Rt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:jr(n.seconds),nanos:jr(n.nanos)}}function jr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Nf(n){return"string"==typeof n?Ci.fromBase64String(n):Ci.fromUint8Array(n)}function PT(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function HM(n){const e=n.mapValue.fields.__previous_value__;return PT(e)?HM(e):e}function hb(n){const e=Fh(n.mapValue.fields.__local_write_time__.timestampValue);return new Ar(e.seconds,e.nanos)}class TP{constructor(e,t,r,o,l,c,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.useFetchStreams=v}}class Zc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Zc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Zc&&e.projectId===this.projectId&&e.database===this.database}}function pb(n){return null==n}function fb(n){return 0===n&&1/n==-1/0}function $M(n){return"number"==typeof n&&Number.isInteger(n)&&!fb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Lh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},WI={nullValue:"NULL_VALUE"};function Pf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?PT(n)?4:KM(n)?9007199254740991:10:ht()}function zu(n,e){if(n===e)return!0;const t=Pf(n);if(t!==Pf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hb(n).isEqual(hb(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=Fh(r.timestampValue),c=Fh(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Nf(n.bytesValue).isEqual(Nf(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return jr(r.geoPointValue.latitude)===jr(o.geoPointValue.latitude)&&jr(r.geoPointValue.longitude)===jr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return jr(r.integerValue)===jr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=jr(r.doubleValue),c=jr(o.doubleValue);return l===c?fb(l)===fb(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return Oy(n.arrayValue.values||[],e.arrayValue.values||[],zu);case 10:return function(r,o){const l=r.mapValue.fields||{},c=o.mapValue.fields||{};if(UM(l)!==UM(c))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===c[m]||!zu(l[m],c[m])))return!1;return!0}(n,e);default:return ht()}var o}function gb(n,e){return void 0!==(n.values||[]).find(t=>zu(t,e))}function Vh(n,e){if(n===e)return 0;const t=Pf(n),r=Pf(e);if(t!==r)return Kt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Kt(n.booleanValue,e.booleanValue);case 2:return function(o,l){const c=jr(o.integerValue||o.doubleValue),m=jr(l.integerValue||l.doubleValue);return c<m?-1:c>m?1:c===m?0:isNaN(c)?isNaN(m)?0:-1:1}(n,e);case 3:return zM(n.timestampValue,e.timestampValue);case 4:return zM(hb(n),hb(e));case 5:return Kt(n.stringValue,e.stringValue);case 6:return function(o,l){const c=Nf(o),m=Nf(l);return c.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),m=l.split("/");for(let v=0;v<c.length&&v<m.length;v++){const E=Kt(c[v],m[v]);if(0!==E)return E}return Kt(c.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const c=Kt(jr(o.latitude),jr(l.latitude));return 0!==c?c:Kt(jr(o.longitude),jr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,l){const c=o.values||[],m=l.values||[];for(let v=0;v<c.length&&v<m.length;++v){const E=Vh(c[v],m[v]);if(E)return E}return Kt(c.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,l){if(o===Lh.mapValue&&l===Lh.mapValue)return 0;if(o===Lh.mapValue)return 1;if(l===Lh.mapValue)return-1;const c=o.fields||{},m=Object.keys(c),v=l.fields||{},E=Object.keys(v);m.sort(),E.sort();for(let S=0;S<m.length&&S<E.length;++S){const N=Kt(m[S],E[S]);if(0!==N)return N;const U=Vh(c[m[S]],v[E[S]]);if(0!==U)return U}return Kt(m.length,E.length)}(n.mapValue,e.mapValue);default:throw ht()}}function zM(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Kt(n,e);const t=Fh(n),r=Fh(e),o=Kt(t.seconds,r.seconds);return 0!==o?o:Kt(t.nanos,r.nanos)}function Ly(n){return RT(n)}function RT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Fh(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Nf(n.bytesValue).toBase64():"referenceValue"in n?rt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",l=!0;for(const c of r.values||[])l?l=!1:o+=",",o+=RT(c);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",c=!0;for(const m of o)c?c=!1:l+=",",l+=`${m}:${RT(r.fields[m])}`;return l+"}"}(n.mapValue):ht();var e}function Rf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function OT(n){return!!n&&"integerValue"in n}function mb(n){return!!n&&"arrayValue"in n}function qM(n){return!!n&&"nullValue"in n}function WM(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function KI(n){return!!n&&"mapValue"in n}function yb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return kf(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=yb(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yb(n.arrayValue.values[t]);return e}return Object.assign({},n)}function KM(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function SP(n){return"nullValue"in n?WI:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Rf(Zc.empty(),rt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ht()}function xP(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Rf(Zc.empty(),rt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Lh:ht()}function ZM(n,e){const t=Vh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function YM(n,e){const t=Vh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class eo{constructor(e){this.value=e}static empty(){return new eo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!KI(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yb(t)}setAll(e){let t=Yr.emptyPath(),r={},o=[];e.forEach((c,m)=>{if(!t.isImmediateParentOf(m)){const v=this.getFieldsMap(t);this.applyChanges(v,r,o),r={},o=[],t=m.popLast()}c?r[m.lastSegment()]=yb(c):o.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());KI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];KI(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){kf(t,(o,l)=>e[o]=l);for(const o of r)delete e[o]}clone(){return new eo(yb(this.value))}}function QM(n){const e=[];return kf(n.fields,(t,r)=>{const o=new Yr([t]);if(KI(r)){const l=QM(r.mapValue).fields;if(0===l.length)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new Na(e)}class ur{constructor(e,t,r,o,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new ur(e,0,Mt.min(),Mt.min(),eo.empty(),0)}static newFoundDocument(e,t,r){return new ur(e,1,t,Mt.min(),r,0)}static newNoDocument(e,t){return new ur(e,2,t,Mt.min(),eo.empty(),0)}static newUnknownDocument(e,t){return new ur(e,3,t,Mt.min(),eo.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=eo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=eo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ur&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ur(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class MP{constructor(e,t=null,r=[],o=[],l=null,c=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=c,this.endAt=m,this.ut=null}}function JM(n,e=null,t=[],r=[],o=null,l=null,c=null){return new MP(n,e,t,r,o,l,c)}function Of(n){const e=st(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+Ly(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),pb(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ly(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ly(r)).join(",")),e.ut=t}return e.ut}function _b(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!BP(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!zu(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!r2(n.startAt,e.startAt)&&r2(n.endAt,e.endAt)}function ZI(n){return rt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function YI(n,e){return n.filters.filter(t=>t instanceof to&&t.field.isEqual(e))}function XM(n,e,t){let r=WI,o=!0;for(const l of YI(n,e)){let c=WI,m=!0;switch(l.op){case"<":case"<=":c=SP(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,m=!1;break;case"!=":case"not-in":c=WI}ZM({value:r,inclusive:o},{value:c,inclusive:m})<0&&(r=c,o=m)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const c=t.position[l];ZM({value:r,inclusive:o},{value:c,inclusive:t.inclusive})<0&&(r=c,o=t.inclusive);break}return{value:r,inclusive:o}}function e2(n,e,t){let r=Lh,o=!0;for(const l of YI(n,e)){let c=Lh,m=!0;switch(l.op){case">=":case">":c=xP(l.value),m=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,m=!1;break;case"!=":case"not-in":c=Lh}YM({value:r,inclusive:o},{value:c,inclusive:m})>0&&(r=c,o=m)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const c=t.position[l];YM({value:r,inclusive:o},{value:c,inclusive:t.inclusive})>0&&(r=c,o=t.inclusive);break}return{value:r,inclusive:o}}class to extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new NP(e,t,r):"array-contains"===t?new OP(e,r):"in"===t?new FP(e,r):"not-in"===t?new LP(e,r):"array-contains-any"===t?new VP(e,r):new to(e,t,r)}static ct(e,t,r){return"in"===t?new PP(e,r):new RP(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Vh(t,this.value)):null!==t&&Pf(this.value)===Pf(t)&&this.at(Vh(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ht()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class NP extends to{constructor(e,t,r){super(e,t,r),this.key=rt.fromName(r.referenceValue)}matches(e){const t=rt.comparator(e.key,this.key);return this.at(t)}}class PP extends to{constructor(e,t){super(e,"in",t),this.keys=t2(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class RP extends to{constructor(e,t){super(e,"not-in",t),this.keys=t2(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function t2(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>rt.fromName(r.referenceValue))}class OP extends to{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return mb(t)&&gb(t.arrayValue,this.value)}}class FP extends to{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&gb(this.value.arrayValue,t)}}class LP extends to{constructor(e,t){super(e,"not-in",t)}matches(e){if(gb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!gb(this.value.arrayValue,t)}}class VP extends to{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!mb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>gb(this.value.arrayValue,r))}}class Bh{constructor(e,t){this.position=e,this.inclusive=t}}class Vy{constructor(e,t="asc"){this.field=e,this.dir=t}}function BP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function n2(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(r=l.field.isKeyField()?rt.comparator(rt.fromName(c.referenceValue),t.key):Vh(c,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function r2(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!zu(n.position[t],e.position[t]))return!1;return!0}class Yc{constructor(e,t=null,r=[],o=[],l=null,c="F",m=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=c,this.startAt=m,this.endAt=v,this.lt=null,this.ft=null}}function o2(n,e,t,r,o,l,c,m){return new Yc(n,e,t,r,o,l,c,m)}function By(n){return new Yc(n)}function FT(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function LT(n){for(const e of n.filters)if(e.ht())return e.field;return null}function VT(n){return null!==n.collectionGroup}function Uy(n){const e=st(n);if(null===e.lt){e.lt=[];const t=LT(e),r=FT(e);if(null!==t&&null===r)t.isKeyField()||e.lt.push(new Vy(t)),e.lt.push(new Vy(Yr.keyField(),"asc"));else{let o=!1;for(const l of e.explicitOrderBy)e.lt.push(l),l.field.isKeyField()&&(o=!0);if(!o){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new Vy(Yr.keyField(),l))}}}return e.lt}function vl(n){const e=st(n);if(!e.ft)if("F"===e.limitType)e.ft=JM(e.path,e.collectionGroup,Uy(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Uy(e))t.push(new Vy(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Bh(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new Bh(e.startAt.position,e.startAt.inclusive):null;e.ft=JM(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.ft}function s2(n,e,t){return new Yc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function vb(n,e){return _b(vl(n),vl(e))&&n.limitType===e.limitType}function a2(n){return`${Of(vl(n))}|lt:${n.limitType}`}function BT(n){return`Query(target=${function kP(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Ly(r.value)}`;var r}).join(", ")}]`),pb(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Ly(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Ly(t)).join(",")),`Target(${e})`}(vl(n))}; limitType=${n.limitType})`}function UT(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):rt.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,l,c){const m=n2(o,l,c);return o.inclusive?m<=0:m<0}(t.startAt,Uy(t),r)||t.endAt&&!function(o,l,c){const m=n2(o,l,c);return o.inclusive?m>=0:m>0}(t.endAt,Uy(t),r)));var t,r}function l2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function u2(n){return(e,t)=>{let r=!1;for(const o of Uy(n)){const l=jP(o,e,t);if(0!==l)return l;r=r||o.field.isKeyField()}return 0}}function jP(n,e,t){const r=n.field.isKeyField()?rt.comparator(e.key,t.key):function(o,l,c){const m=l.data.field(o),v=c.data.field(o);return null!==m&&null!==v?Vh(m,v):ht()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ht()}}function c2(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fb(e)?"-0":e}}function d2(n){return{integerValue:""+n}}function h2(n,e){return $M(e)?d2(e):c2(n,e)}class QI{constructor(){this._=void 0}}function GP(n,e,t){return n instanceof jy?function(r,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):n instanceof Ff?f2(n,e):n instanceof Lf?g2(n,e):function(r,o){const l=p2(r,o),c=m2(l)+m2(r._t);return OT(l)&&OT(r._t)?d2(c):c2(r.wt,c)}(n,e)}function HP(n,e,t){return n instanceof Ff?f2(n,e):n instanceof Lf?g2(n,e):t}function p2(n,e){return n instanceof Gy?OT(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class jy extends QI{}class Ff extends QI{constructor(e){super(),this.elements=e}}function f2(n,e){const t=y2(e);for(const r of n.elements)t.some(o=>zu(o,r))||t.push(r);return{arrayValue:{values:t}}}class Lf extends QI{constructor(e){super(),this.elements=e}}function g2(n,e){let t=y2(e);for(const r of n.elements)t=t.filter(o=>!zu(o,r));return{arrayValue:{values:t}}}class Gy extends QI{constructor(e,t){super(),this.wt=e,this._t=t}}function m2(n){return jr(n.integerValue||n.doubleValue)}function y2(n){return mb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class bb{constructor(e,t){this.field=e,this.transform=t}}class zP{constructor(e,t){this.version=e,this.transformResults=t}}class kr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new kr}static exists(e){return new kr(void 0,e)}static updateTime(e){return new kr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function JI(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class XI{}function _2(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new $y(n.key,kr.none()):new Hy(n.key,n.data,kr.none());{const t=n.data,r=eo.empty();let o=new Zn(Yr.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);null===c&&l.length>1&&(l=l.popLast(),c=t.field(l)),null===c?r.delete(l):r.set(l,c),o=o.add(l)}return new Qc(n.key,r,new Na(o.toArray()),kr.none())}}function qP(n,e,t){n instanceof Hy?function(r,o,l){const c=r.value.clone(),m=w2(r.fieldTransforms,o,l.transformResults);c.setAll(m),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Qc?function(r,o,l){if(!JI(r.precondition,o))return void o.convertToUnknownDocument(l.version);const c=w2(r.fieldTransforms,o,l.transformResults),m=o.data;m.setAll(b2(r)),m.setAll(c),o.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function wb(n,e,t,r){return n instanceof Hy?function(o,l,c,m){if(!JI(o.precondition,l))return c;const v=o.value.clone(),E=E2(o.fieldTransforms,m,l);return v.setAll(E),l.convertToFoundDocument(l.version,v).setHasLocalMutations(),null}(n,e,t,r):n instanceof Qc?function(o,l,c,m){if(!JI(o.precondition,l))return c;const v=E2(o.fieldTransforms,m,l),E=l.data;return E.setAll(b2(o)),E.setAll(v),l.convertToFoundDocument(l.version,E).setHasLocalMutations(),null===c?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(S=>S.field))}(n,e,t,r):(c=t,JI(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c);var l,c}function WP(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),l=p2(r.transform,o||null);null!=l&&(null===t&&(t=eo.empty()),t.set(r.field,l))}return t||null}function v2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Oy(t,r,(o,l)=>function $P(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ff&&r instanceof Ff||t instanceof Lf&&r instanceof Lf?Oy(t.elements,r.elements,zu):t instanceof Gy&&r instanceof Gy?zu(t._t,r._t):t instanceof jy&&r instanceof jy);var t,r}(o,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Hy extends XI{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Qc extends XI{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function b2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function w2(n,e,t){const r=new Map;Rt(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,m=e.data.field(l.field);r.set(l.field,HP(c,m,t[o]))}return r}function E2(n,e,t){const r=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);r.set(o.field,GP(l,c,e))}return r}class $y extends XI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jT extends XI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class KP{constructor(e){this.count=e}}var pi,_n;function C2(n){switch(n){default:return ht();case Ae.CANCELLED:case Ae.UNKNOWN:case Ae.DEADLINE_EXCEEDED:case Ae.RESOURCE_EXHAUSTED:case Ae.INTERNAL:case Ae.UNAVAILABLE:case Ae.UNAUTHENTICATED:return!1;case Ae.INVALID_ARGUMENT:case Ae.NOT_FOUND:case Ae.ALREADY_EXISTS:case Ae.PERMISSION_DENIED:case Ae.FAILED_PRECONDITION:case Ae.ABORTED:case Ae.OUT_OF_RANGE:case Ae.UNIMPLEMENTED:case Ae.DATA_LOSS:return!0}}function I2(n){if(void 0===n)return hi("GRPC error has no .code"),Ae.UNKNOWN;switch(n){case pi.OK:return Ae.OK;case pi.CANCELLED:return Ae.CANCELLED;case pi.UNKNOWN:return Ae.UNKNOWN;case pi.DEADLINE_EXCEEDED:return Ae.DEADLINE_EXCEEDED;case pi.RESOURCE_EXHAUSTED:return Ae.RESOURCE_EXHAUSTED;case pi.INTERNAL:return Ae.INTERNAL;case pi.UNAVAILABLE:return Ae.UNAVAILABLE;case pi.UNAUTHENTICATED:return Ae.UNAUTHENTICATED;case pi.INVALID_ARGUMENT:return Ae.INVALID_ARGUMENT;case pi.NOT_FOUND:return Ae.NOT_FOUND;case pi.ALREADY_EXISTS:return Ae.ALREADY_EXISTS;case pi.PERMISSION_DENIED:return Ae.PERMISSION_DENIED;case pi.FAILED_PRECONDITION:return Ae.FAILED_PRECONDITION;case pi.ABORTED:return Ae.ABORTED;case pi.OUT_OF_RANGE:return Ae.OUT_OF_RANGE;case pi.UNIMPLEMENTED:return Ae.UNIMPLEMENTED;case pi.DATA_LOSS:return Ae.DATA_LOSS;default:return ht()}}(_n=pi||(pi={}))[_n.OK=0]="OK",_n[_n.CANCELLED=1]="CANCELLED",_n[_n.UNKNOWN=2]="UNKNOWN",_n[_n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_n[_n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_n[_n.NOT_FOUND=5]="NOT_FOUND",_n[_n.ALREADY_EXISTS=6]="ALREADY_EXISTS",_n[_n.PERMISSION_DENIED=7]="PERMISSION_DENIED",_n[_n.UNAUTHENTICATED=16]="UNAUTHENTICATED",_n[_n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_n[_n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_n[_n.ABORTED=10]="ABORTED",_n[_n.OUT_OF_RANGE=11]="OUT_OF_RANGE",_n[_n.UNIMPLEMENTED=12]="UNIMPLEMENTED",_n[_n.INTERNAL=13]="INTERNAL",_n[_n.UNAVAILABLE=14]="UNAVAILABLE",_n[_n.DATA_LOSS=15]="DATA_LOSS";class Uh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,l]of r)if(this.equalsFn(o,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){kf(this.inner,(t,r)=>{for(const[o,l]of r)e(o,l)})}isEmpty(){return jM(this.inner)}size(){return this.innerSize}}const ZP=new Ur(rt.comparator);function Vs(){return ZP}const D2=new Ur(rt.comparator);function Eb(...n){let e=D2;for(const t of n)e=e.insert(t.key,t);return e}function A2(n){let e=D2;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function qu(){return Cb()}function T2(){return Cb()}function Cb(){return new Uh(n=>n.toString(),(n,e)=>n.isEqual(e))}const YP=new Ur(rt.comparator),QP=new Zn(rt.comparator);function Qt(...n){let e=QP;for(const t of n)e=e.add(t);return e}const JP=new Zn(Kt);function eD(){return JP}class Ib{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Db.createSynthesizedTargetChangeForCurrentChange(e,t)),new Ib(Mt.min(),r,eD(),Vs(),Qt())}}class Db{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Db(Ci.EMPTY_BYTE_STRING,t,Qt(),Qt(),Qt())}}class tD{constructor(e,t,r,o){this.gt=e,this.removedTargetIds=t,this.key=r,this.yt=o}}class S2{constructor(e,t){this.targetId=e,this.It=t}}class x2{constructor(e,t,r=Ci.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class M2{constructor(){this.Tt=0,this.Et=N2(),this.At=Ci.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Qt(),t=Qt(),r=Qt();return this.Et.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:ht()}}),new Db(this.At,this.Rt,e,t,r)}Dt(){this.bt=!1,this.Et=N2()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class XP{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=Vs(),this.Bt=k2(),this.Lt=new Zn(Kt)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const r=this.Qt(t);switch(e.state){case 0:this.jt(t)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),r.Vt(e.resumeToken));break;default:ht()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((r,o)=>{this.jt(o)&&t(o)})}zt(e){const t=e.targetId,r=e.It.count,o=this.Ht(t);if(o){const l=o.target;if(ZI(l))if(0===r){const c=new rt(l.path);this.Kt(t,c,ur.newNoDocument(c,Mt.min()))}else Rt(1===r);else this.Jt(t)!==r&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((l,c)=>{const m=this.Ht(c);if(m){if(l.current&&ZI(m.target)){const v=new rt(m.target.path);null!==this.$t.get(v)||this.Xt(c,v)||this.Kt(c,v,ur.newNoDocument(v,e))}l.vt&&(t.set(c,l.St()),l.Dt())}});let r=Qt();this.Bt.forEach((l,c)=>{let m=!0;c.forEachWhile(v=>{const E=this.Ht(v);return!E||2===E.purpose||(m=!1,!1)}),m&&(r=r.add(l))}),this.$t.forEach((l,c)=>c.setReadTime(e));const o=new Ib(e,t,this.Lt,this.$t,r);return this.$t=Vs(),this.Bt=k2(),this.Lt=new Zn(Kt),o}qt(e,t){if(!this.jt(e))return;const r=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,r),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,r){if(!this.jt(e))return;const o=this.Qt(e);this.Xt(e,t)?o.Ct(t,1):o.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),r&&(this.$t=this.$t.insert(t,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new M2,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new Zn(Kt),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||ze("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new M2),this.Mt.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function k2(){return new Ur(rt.comparator)}function N2(){return new Ur(rt.comparator)}const eR={asc:"ASCENDING",desc:"DESCENDING"},tR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class nR{constructor(e,t){this.databaseId=e,this.dt=t}}function Ab(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function P2(n,e){return n.dt?e.toBase64():e.toUint8Array()}function rR(n,e){return Ab(n,e.toTimestamp())}function Li(n){return Rt(!!n),Mt.fromTimestamp(function(e){const t=Fh(e);return new Ar(t.seconds,t.nanos)}(n))}function GT(n,e){return(t=n,new yn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function R2(n){const e=yn.fromString(n);return Rt(H2(e)),e}function Tb(n,e){return GT(n.databaseId,e.path)}function Wu(n,e){const t=R2(e);if(t.get(1)!==n.databaseId.projectId)throw new je(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new je(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new rt(F2(t))}function HT(n,e){return GT(n.databaseId,e)}function O2(n){const e=R2(n);return 4===e.length?yn.emptyPath():F2(e)}function Sb(n){return new yn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function F2(n){return Rt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function L2(n,e,t){return{name:Tb(n,e),fields:t.value.mapValue.fields}}function V2(n,e,t){const r=Wu(n,e.name),o=Li(e.updateTime),l=new eo({mapValue:{fields:e.fields}}),c=ur.newFoundDocument(r,o,l);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function xb(n,e){let t;if(e instanceof Hy)t={update:L2(n,e.key,e.value)};else if(e instanceof $y)t={delete:Tb(n,e.key)};else if(e instanceof Qc)t={update:L2(n,e.key,e.data),updateMask:hR(e.fieldMask)};else{if(!(e instanceof jT))return ht();t={verify:Tb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const c=l.transform;if(c instanceof jy)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ff)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Lf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Gy)return{fieldPath:l.field.canonicalString(),increment:c._t};throw ht()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:rR(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:ht()),t;var o}function $T(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?kr.updateTime(Li(o.updateTime)):void 0!==o.exists?kr.exists(o.exists):kr.none():kr.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(l,c){let m=null;"setToServerValue"in c?(Rt("REQUEST_TIME"===c.setToServerValue),m=new jy):"appendMissingElements"in c?m=new Ff(c.appendMissingElements.values||[]):"removeAllFromArray"in c?m=new Lf(c.removeAllFromArray.values||[]):"increment"in c?m=new Gy(l,c.increment):ht();const v=Yr.fromServerFormat(c.fieldPath);return new bb(v,m)}(n,o)):[];var o;if(e.update){const o=Wu(n,e.update.name),l=new eo({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Na((e.updateMask.fieldPaths||[]).map(E=>Yr.fromServerFormat(E)));return new Qc(o,l,c,t,r)}return new Hy(o,l,t,r)}if(e.delete){const o=Wu(n,e.delete);return new $y(o,t)}if(e.verify){const o=Wu(n,e.verify);return new jT(o,t)}return ht()}function B2(n,e){return{documents:[HT(n,e.path)]}}function U2(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=HT(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=HT(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(v){if(0===v.length)return;const E=v.map(S=>function(N){if("=="===N.op){if(WM(N.value))return{unaryFilter:{field:zy(N.field),op:"IS_NAN"}};if(qM(N.value))return{unaryFilter:{field:zy(N.field),op:"IS_NULL"}}}else if("!="===N.op){if(WM(N.value))return{unaryFilter:{field:zy(N.field),op:"IS_NOT_NAN"}};if(qM(N.value))return{unaryFilter:{field:zy(N.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zy(N.field),op:uR(N.op),value:N.value}}}(S));return 1===E.length?E[0]:{compositeFilter:{op:"AND",filters:E}}}(e.filters);o&&(t.structuredQuery.where=o);const l=function(v){if(0!==v.length)return v.map(E=>{return{field:zy((S=E).field),direction:lR(S.dir)};var S})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=(E=e.limit,n.dt||pb(E)?E:{value:E});var E,m,v;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function j2(n){let e=O2(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Rt(1===r);const S=t.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let l=[];t.where&&(l=G2(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(S=>{return new Vy(qy((N=S).field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction));var N}));let m=null;t.limit&&(m=function(S){let N;return N="object"==typeof S?S.value:S,pb(N)?null:N}(t.limit));let v=null;var S;t.startAt&&(v=new Bh((S=t.startAt).values||[],!!S.before));let E=null;return t.endAt&&(E=function(S){return new Bh(S.values||[],!S.before)}(t.endAt)),o2(e,o,c,l,m,"F",v,E)}function G2(n){return n?void 0!==n.unaryFilter?[dR(n)]:void 0!==n.fieldFilter?[cR(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>G2(e)).reduce((e,t)=>e.concat(t)):ht():[]}function lR(n){return eR[n]}function uR(n){return tR[n]}function zy(n){return{fieldPath:n.canonicalString()}}function qy(n){return Yr.fromServerFormat(n.fieldPath)}function cR(n){return to.create(qy(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ht()}}(n.fieldFilter.op),n.fieldFilter.value)}function dR(n){switch(n.unaryFilter.op){case"IS_NAN":const e=qy(n.unaryFilter.field);return to.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=qy(n.unaryFilter.field);return to.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=qy(n.unaryFilter.field);return to.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=qy(n.unaryFilter.field);return to.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ht()}}function hR(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function H2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function rs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=$2(e)),e=pR(n.get(t),e);return $2(e)}function pR(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const l=n.charAt(o);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function $2(n){return n+"\x01\x01"}function Ku(n){const e=n.length;if(Rt(e>=2),2===e)return Rt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),yn.emptyPath();const t=e-2,r=[];let o="";for(let l=0;l<e;){const c=n.indexOf("\x01",l);switch((c<0||c>t)&&ht(),n.charAt(c+1)){case"\x01":const m=n.substring(l,c);let v;0===o.length?v=m:(o+=m,v=o,o=""),r.push(v);break;case"\x10":o+=n.substring(l,c),o+="\0";break;case"\x11":o+=n.substring(l,c+1);break;default:ht()}l=c+2}return new yn(r)}const z2=["userId","batchId"];function nD(n,e){return[n,rs(e)]}function q2(n,e,t){return[n,rs(e),t]}const fR={},gR=["prefixPath","collectionGroup","readTime","documentId"],mR=["prefixPath","collectionGroup","documentId"],yR=["collectionGroup","readTime","prefixPath","documentId"],_R=["canonicalId","targetId"],vR=["targetId","path"],bR=["path","targetId"],wR=["collectionId","parent"],ER=["indexId","uid"],CR=["uid","sequenceNumber"],IR=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],DR=["indexId","uid","orderedDocumentKey"],AR=["userId","collectionPath","documentId"],TR=["userId","collectionPath","largestBatchId"],SR=["userId","collectionGroup","largestBatchId"],W2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],xR=[...W2,"documentOverlays"],K2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Z2=K2,MR=[...Z2,"indexConfiguration","indexState","indexEntries"];class zT extends VM{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function Vi(n,e){const t=st(n);return tu.N(t.ee,e)}class qT{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&qP(l,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=wb(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=wb(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=T2();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let m=this.applyToLocalView(c,l.mutatedFields);m=t.has(o.key)?null:m;const v=_2(c,m);null!==v&&r.set(o.key,v),c.isValidDocument()||c.convertToNoDocument(Mt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Qt())}isEqual(e){return this.batchId===e.batchId&&Oy(this.mutations,e.mutations,(t,r)=>v2(t,r))&&Oy(this.baseMutations,e.baseMutations,(t,r)=>v2(t,r))}}class WT{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Rt(e.mutations.length===r.length);let o=YP;const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,r[c].version);return new WT(e,t,r,o)}}class KT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class jh{constructor(e,t,r,o,l=Mt.min(),c=Mt.min(),m=Ci.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m}withSequenceNumber(e){return new jh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new jh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new jh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Y2{constructor(e){this.ne=e}}function Q2(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:rD(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Tb(o=n.ne,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:Ab(o,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Vf(e.version)};else{if(!e.isUnknownDocument())return ht();r.unknownDocument={path:t.path.toArray(),version:Vf(e.version)}}var o,l;return r}function rD(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Vf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Bf(n){const e=new Ar(n.seconds,n.nanoseconds);return Mt.fromTimestamp(e)}function Uf(n,e){const t=(e.baseMutations||[]).map(l=>$T(n.ne,l));for(let l=0;l<e.mutations.length-1;++l){const c=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(c.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>$T(n.ne,l)),o=Ar.fromMillis(e.localWriteTimeMs);return new qT(e.batchId,o,t,r)}function Mb(n){const e=Bf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Bf(n.lastLimboFreeSnapshotVersion):Mt.min();let r;var o;return void 0!==n.query.documents?(Rt(1===(o=n.query).documents.length),r=vl(By(O2(o.documents[0])))):r=vl(j2(n.query)),new jh(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Ci.fromBase64String(n.resumeToken))}function J2(n,e){const t=Vf(e.snapshotVersion),r=Vf(e.lastLimboFreeSnapshotVersion);let o;o=ZI(e.target)?B2(n.ne,e.target):U2(n.ne,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Of(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function ZT(n){const e=j2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?s2(e,e.limit,"L"):e}function YT(n,e){return new KT(e.largestBatchId,$T(n.ne,e.overlayMutation))}function X2(n,e){const t=e.path.lastSegment();return[n,rs(e.path.popLast()),t]}function ek(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Vf(r.readTime),documentKey:rs(r.documentKey.path),largestBatchId:r.largestBatchId}}class NR{getBundleMetadata(e,t){return tk(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Bf(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return tk(e).put({bundleId:(r=t).id,createTime:Vf(Li(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return nk(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:ZT(o.bundledQuery),readTime:Bf(o.readTime)};var o})}saveNamedQuery(e,t){return nk(e).put({name:(r=t).name,readTime:Vf(Li(r.readTime)),bundledQuery:r.bundledQuery});var r}}function tk(n){return Vi(n,"bundles")}function nk(n){return Vi(n,"namedQueries")}class iD{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new iD(e,t.uid||"")}getOverlay(e,t){return kb(e).get(X2(this.userId,t)).next(r=>r?YT(this.wt,r):null)}getOverlays(e,t){const r=qu();return Ce.forEach(t,o=>this.getOverlay(e,o).next(l=>{null!==l&&r.set(o,l)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((l,c)=>{const m=new KT(t,c);o.push(this.ie(e,m))}),Ce.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(c=>o.add(rs(c.getCollectionPath())));const l=[];return o.forEach(c=>{const m=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);l.push(kb(e).W("collectionPathOverlayIndex",m))}),Ce.waitFor(l)}getOverlaysForCollection(e,t,r){const o=qu(),l=rs(t),c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return kb(e).K("collectionPathOverlayIndex",c).next(m=>{for(const v of m){const E=YT(this.wt,v);o.set(E.getKey(),E)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const l=qu();let c;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return kb(e).J({index:"collectionGroupOverlayIndex",range:m},(v,E,S)=>{const N=YT(this.wt,E);l.size()<o||N.largestBatchId===c?(l.set(N.getKey(),N),c=N.largestBatchId):S.done()}).next(()=>l)}ie(e,t){return kb(e).put(function(r,o,l){const[c,m,v]=X2(o,l.mutation.key);return{userId:o,collectionPath:m,documentId:v,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:xb(r.ne,l.mutation)}}(this.wt,this.userId,t))}}function kb(n){return Vi(n,"documentOverlays")}class jf{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(jr(e.integerValue));else if("doubleValue"in e){const r=jr(e.doubleValue);isNaN(r)?this.ce(t,13):(this.ce(t,15),fb(r)?t.ae(0):t.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he(`${r.seconds||""}`),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Nf(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(t,45),t.ae(r.latitude||0),t.ae(r.longitude||0)}else"mapValue"in e?KM(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):ht()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const r=e.fields||{};this.ce(t,55);for(const o of Object.keys(r))this.le(o,t),this.oe(r[o],t)}me(e,t){const r=e.values||[];this.ce(t,50);for(const o of r)this.oe(o,t)}_e(e,t){this.ce(t,37),rt.fromName(e).path.forEach(r=>{this.ce(t,60),this.ge(r,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function PR(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function rk(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const l=PR(255&t[o]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}jf.ye=new jf;class RR{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ie(r.value),r=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ie(r);else if(r<2048)this.Ie(960|r>>>6),this.Ie(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r);else{const o=t.codePointAt(0);this.Ie(240|o>>>18),this.Ie(128|63&o>>>12),this.Ie(128|63&o>>>6),this.Ie(128|63&o)}}this.Te()}Pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const o=t.codePointAt(0);this.Ae(240|o>>>18),this.Ae(128|63&o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o)}}this.Re()}ve(e){const t=this.Ve(e),r=rk(t);this.Se(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}De(e){const t=this.Ve(e),r=rk(t);this.Se(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(o){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,o,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class OR{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class FR{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class Nb{constructor(){this.Me=new RR,this.Fe=new OR(this.Me),this.$e=new FR(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class Gf{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Gf(this.indexId,this.documentKey,this.arrayValue,r)}}function Hf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=ik(n.arrayValue,e.arrayValue),0!==t?t:(t=ik(n.directionalValue,e.directionalValue),0!==t?t:rt.comparator(n.documentKey,e.documentKey)))}function ik(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class LR{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const r=t;r.ht()?this.Ke=r:this.qe.push(r)}}Ge(e){const t=xT(e);if(void 0!==t&&!this.Qe(t))return!1;const r=xf(e);let o=0,l=0;for(;o<r.length&&this.Qe(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.Ke){const c=r[o];if(!this.je(this.Ke,c)||!this.We(this.Ue[l++],c))return!1;++o}for(;o<r.length;++o){const c=r[o];if(l>=this.Ue.length||!this.We(this.Ue[l++],c))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class VR{constructor(){this.ze=new QT}addToCollectionParentIndex(e,t){return this.ze.add(t),Ce.resolve()}getCollectionParents(e,t){return Ce.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return Ce.resolve()}deleteFieldIndex(e,t){return Ce.resolve()}getDocumentsMatchingTarget(e,t){return Ce.resolve(null)}getIndexType(e,t){return Ce.resolve(0)}getFieldIndexes(e,t){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,t){return Ce.resolve(ka.min())}getMinOffsetFromCollectionGroup(e,t){return Ce.resolve(ka.min())}updateCollectionGroup(e,t,r){return Ce.resolve()}updateIndexEntries(e,t){return Ce.resolve()}}class QT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Zn(yn.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Zn(yn.comparator)).toArray()}}const oD=new Uint8Array(0);class BR{constructor(e,t){this.user=e,this.databaseId=t,this.He=new QT,this.Je=new Uh(r=>Of(r),(r,o)=>_b(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const l={collectionId:r,parent:rs(o)};return ok(e).put(l)}return Ce.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[RM(t),""],!1,!0);return ok(e).K(o).next(l=>{for(const c of l){if(c.collectionId!==t)break;r.push(Ku(c.parent))}return r})}addFieldIndex(e,t){const r=sD(e),o={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var c;delete o.indexId;const l=r.add(o);if(t.indexState){const c=Rb(e);return l.next(m=>{c.put(ek(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const r=sD(e),o=Rb(e),l=Pb(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Pb(e);let o=!0;const l=new Map;return Ce.forEach(this.Ye(t),c=>this.Xe(e,c).next(m=>{o&&(o=!!m),l.set(c,m)})).next(()=>{if(o){let c=Qt();const m=[];return Ce.forEach(l,(v,E)=>{var S;ze("IndexedDbIndexManager",`Using index ${S=v,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(Zt=>`${Zt.fieldPath}:${Zt.kind}`).join(",")}`} to execute ${Of(t)}`);const N=function(Zt,$t){const on=xT($t);if(void 0===on)return null;for(const Nn of YI(Zt,on.fieldPath))switch(Nn.op){case"array-contains-any":return Nn.value.arrayValue.values||[];case"array-contains":return[Nn.value]}return null}(E,v),U=function(Zt,$t){const on=new Map;for(const Nn of xf($t))for(const Ao of YI(Zt,Nn.fieldPath))switch(Ao.op){case"==":case"in":on.set(Nn.fieldPath.canonicalString(),Ao.value);break;case"not-in":case"!=":return on.set(Nn.fieldPath.canonicalString(),Ao.value),Array.from(on.values())}return null}(E,v),re=function(Zt,$t){const on=[];let Nn=!0;for(const Ao of xf($t)){const Yb=0===Ao.kind?XM(Zt,Ao.fieldPath,Zt.startAt):e2(Zt,Ao.fieldPath,Zt.startAt);on.push(Yb.value),Nn&&(Nn=Yb.inclusive)}return new Bh(on,Nn)}(E,v),pe=function(Zt,$t){const on=[];let Nn=!0;for(const Ao of xf($t)){const Yb=0===Ao.kind?e2(Zt,Ao.fieldPath,Zt.endAt):XM(Zt,Ao.fieldPath,Zt.endAt);on.push(Yb.value),Nn&&(Nn=Yb.inclusive)}return new Bh(on,Nn)}(E,v),Le=this.Ze(v,E,re),Ye=this.Ze(v,E,pe),kt=this.tn(v,E,U),Bt=this.en(v.indexId,N,Le,re.inclusive,Ye,pe.inclusive,kt);return Ce.forEach(Bt,Zt=>r.j(Zt,t.limit).next($t=>{$t.forEach(on=>{const Nn=rt.fromSegments(on.documentKey);c.has(Nn)||(c=c.add(Nn),m.push(Nn))})}))}).next(()=>m)}return Ce.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,r,o,l,c,m){const v=(null!=t?t.length:1)*Math.max(r.length,l.length),E=v/(null!=t?t.length:1),S=[];for(let N=0;N<v;++N){const U=t?this.nn(t[N/E]):oD,re=this.sn(e,U,r[N%E],o),pe=this.rn(e,U,l[N%E],c),Le=m.map(Ye=>this.sn(e,U,Ye,!0));S.push(...this.createRange(re,pe,Le))}return S}sn(e,t,r,o){const l=new Gf(e,rt.empty(),t,r);return o?l:l.Le()}rn(e,t,r,o){const l=new Gf(e,rt.empty(),t,r);return o?l.Le():l}Xe(e,t){const r=new LR(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(l=>{let c=null;for(const m of l)r.Ge(m)&&(!c||m.fields.length>c.fields.length)&&(c=m);return c})}getIndexType(e,t){let r=2;return Ce.forEach(this.Ye(t),o=>this.Xe(e,o).next(l=>{l?0!==r&&l.fields.length<function(c){let m=new Zn(Yr.comparator),v=!1;for(const E of c.filters){const S=E;S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?v=!0:m=m.add(S.field))}for(const E of c.orderBy)E.field.isKeyField()||(m=m.add(E.field));return m.size+(v?1:0)}(o)&&(r=1):r=0})).next(()=>r)}on(e,t){const r=new Nb;for(const o of xf(e)){const l=t.data.field(o.fieldPath);if(null==l)return null;const c=r.Be(o.kind);jf.ye.re(l,c)}return r.Oe()}nn(e){const t=new Nb;return jf.ye.re(e,t.Be(0)),t.Oe()}un(e,t){const r=new Nb;return jf.ye.re(Rf(this.databaseId,t),r.Be(function(o){const l=xf(o);return 0===l.length?0:l[l.length-1].kind}(e))),r.Oe()}tn(e,t,r){if(null===r)return[];let o=[];o.push(new Nb);let l=0;for(const c of xf(e)){const m=r[l++];for(const v of o)if(this.cn(t,c.fieldPath)&&mb(m))o=this.an(o,c,m);else{const E=v.Be(c.kind);jf.ye.re(m,E)}}return this.hn(o)}Ze(e,t,r){return this.tn(e,t,r.position)}hn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Oe();return t}an(e,t,r){const o=[...e],l=[];for(const c of r.arrayValue.values||[])for(const m of o){const v=new Nb;v.seed(m.Oe()),jf.ye.re(c,v.Be(t.kind)),l.push(v)}return l}cn(e,t){return!!e.filters.find(r=>r instanceof to&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=sD(e),o=Rb(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next(l=>{const c=[];return Ce.forEach(l,m=>o.get([m.indexId,this.uid]).next(v=>{c.push(function(E,S){const N=S?new cb(S.sequenceNumber,new ka(Bf(S.readTime),new rt(Ku(S.documentKey)),S.largestBatchId)):cb.empty(),U=E.fields.map(([re,pe])=>new $I(Yr.fromServerFormat(re),pe));return new HI(E.indexId,E.collectionGroup,U,N)}(m,v))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const l=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==l?l:Kt(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=sD(e),l=Rb(e);return this.ln(e).next(c=>o.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>Ce.forEach(m,v=>l.put(ek(v.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return Ce.forEach(t,(o,l)=>{const c=r.get(o.collectionGroup);return(c?Ce.resolve(c):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),Ce.forEach(m,v=>this.fn(e,o,v).next(E=>{const S=this.dn(l,v);return E.isEqual(S)?Ce.resolve():this._n(e,l,v,E,S)}))))})}wn(e,t,r,o){return Pb(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.un(r,t.key),documentKey:t.key.path.toArray()})}mn(e,t,r,o){return Pb(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.un(r,t.key),t.key.path.toArray()])}fn(e,t,r){const o=Pb(e);let l=new Zn(Hf);return o.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.un(r,t)])},(c,m)=>{l=l.add(new Gf(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>l)}dn(e,t){let r=new Zn(Hf);const o=this.on(t,e);if(null==o)return r;const l=xT(t);if(null!=l){const c=e.data.field(l.fieldPath);if(mb(c))for(const m of c.arrayValue.values||[])r=r.add(new Gf(t.indexId,e.key,this.nn(m),o))}else r=r.add(new Gf(t.indexId,e.key,oD,o));return r}_n(e,t,r,o,l){ze("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(m,v,E,S,N){const U=m.getIterator(),re=v.getIterator();let pe=Fy(U),Le=Fy(re);for(;pe||Le;){let Ye=!1,kt=!1;if(pe&&Le){const Bt=E(pe,Le);Bt<0?kt=!0:Bt>0&&(Ye=!0)}else null!=pe?kt=!0:Ye=!0;Ye?(S(Le),Le=Fy(re)):kt?(N(pe),pe=Fy(U)):(pe=Fy(U),Le=Fy(re))}}(o,l,Hf,m=>{c.push(this.wn(e,t,r,m))},m=>{c.push(this.mn(e,t,r,m))}),Ce.waitFor(c)}ln(e){let t=1;return Rb(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,l)=>{l.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,m)=>Hf(c,m)).filter((c,m,v)=>!m||0!==Hf(c,v[m-1]));const o=[];o.push(e);for(const c of r){const m=Hf(c,e),v=Hf(c,t);if(0===m)o[0]=e.Le();else if(m>0&&v<0)o.push(c),o.push(c.Le());else if(v>0)break}o.push(t);const l=[];for(let c=0;c<o.length;c+=2)l.push(IDBKeyRange.bound([o[c].indexId,this.uid,o[c].arrayValue,o[c].directionalValue,oD,[]],[o[c+1].indexId,this.uid,o[c+1].arrayValue,o[c+1].directionalValue,oD,[]]));return l}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(sk)}getMinOffset(e,t){return Ce.mapArray(this.Ye(t),r=>this.Xe(e,r).next(o=>o||ht())).next(sk)}}function ok(n){return Vi(n,"collectionParents")}function Pb(n){return Vi(n,"indexEntries")}function sD(n){return Vi(n,"indexConfiguration")}function Rb(n){return Vi(n,"indexState")}function sk(n){Rt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;MT(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new ka(e.readTime,e.documentKey,t)}const ak={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Bs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Bs(e,Bs.DEFAULT_COLLECTION_PERCENTILE,Bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function lk(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),l=[],c=IDBKeyRange.only(t.batchId);let m=0;const v=r.J({range:c},(S,N,U)=>(m++,U.delete()));l.push(v.next(()=>{Rt(1===m)}));const E=[];for(const S of t.mutations){const N=q2(e,S.key.path,t.batchId);l.push(o.delete(N)),E.push(S.key)}return Ce.waitFor(l).next(()=>E)}function aD(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ht();e=n.noDocument}return JSON.stringify(e).length}Bs.DEFAULT_COLLECTION_PERCENTILE=10,Bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bs.DEFAULT=new Bs(41943040,Bs.DEFAULT_COLLECTION_PERCENTILE,Bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bs.DISABLED=new Bs(-1,0,0);class lD{constructor(e,t,r,o){this.userId=e,this.wt=t,this.indexManager=r,this.referenceDelegate=o,this.gn={}}static se(e,t,r,o){Rt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new lD(l,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gh(e).J({index:"userMutationsIndex",range:r},(o,l,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const l=Wy(e),c=Gh(e);return c.add({}).next(m=>{Rt("number"==typeof m);const v=new qT(m,t,r,o),E=function(U,re,pe){const Le=pe.baseMutations.map(kt=>xb(U.ne,kt)),Ye=pe.mutations.map(kt=>xb(U.ne,kt));return{userId:re,batchId:pe.batchId,localWriteTimeMs:pe.localWriteTime.toMillis(),baseMutations:Le,mutations:Ye}}(this.wt,this.userId,v),S=[];let N=new Zn((U,re)=>Kt(U.canonicalString(),re.canonicalString()));for(const U of o){const re=q2(this.userId,U.key.path,m);N=N.add(U.key.path.popLast()),S.push(c.put(E)),S.push(l.put(re,fR))}return N.forEach(U=>{S.push(this.indexManager.addToCollectionParentIndex(e,U))}),e.addOnCommittedListener(()=>{this.gn[m]=v.keys()}),Ce.waitFor(S).next(()=>v)})}lookupMutationBatch(e,t){return Gh(e).get(t).next(r=>r?(Rt(r.userId===this.userId),Uf(this.wt,r)):null)}yn(e,t){return this.gn[t]?Ce.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.gn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Gh(e).J({index:"userMutationsIndex",range:o},(c,m,v)=>{m.userId===this.userId&&(Rt(m.batchId>=r),l=Uf(this.wt,m)),v.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Gh(e).J({index:"userMutationsIndex",range:t,reverse:!0},(o,l,c)=>{r=l.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gh(e).K("userMutationsIndex",t).next(r=>r.map(o=>Uf(this.wt,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=nD(this.userId,t.path),o=IDBKeyRange.lowerBound(r),l=[];return Wy(e).J({range:o},(c,m,v)=>{const[E,S,N]=c,U=Ku(S);if(E===this.userId&&t.path.isEqual(U))return Gh(e).get(N).next(re=>{if(!re)throw ht();Rt(re.userId===this.userId),l.push(Uf(this.wt,re))});v.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Zn(Kt);const o=[];return t.forEach(l=>{const c=nD(this.userId,l.path),m=IDBKeyRange.lowerBound(c),v=Wy(e).J({range:m},(E,S,N)=>{const[U,re,pe]=E,Le=Ku(re);U===this.userId&&l.path.isEqual(Le)?r=r.add(pe):N.done()});o.push(v)}),Ce.waitFor(o).next(()=>this.pn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,l=nD(this.userId,r),c=IDBKeyRange.lowerBound(l);let m=new Zn(Kt);return Wy(e).J({range:c},(v,E,S)=>{const[N,U,re]=v,pe=Ku(U);N===this.userId&&r.isPrefixOf(pe)?pe.length===o&&(m=m.add(re)):S.done()}).next(()=>this.pn(e,m))}pn(e,t){const r=[],o=[];return t.forEach(l=>{o.push(Gh(e).get(l).next(c=>{if(null===c)throw ht();Rt(c.userId===this.userId),r.push(Uf(this.wt,c))}))}),Ce.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return lk(e.ee,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),Ce.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ce.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Wy(e).J({range:r},(l,c,m)=>{if(l[0]===this.userId){const v=Ku(l[1]);o.push(v)}else m.done()}).next(()=>{Rt(0===o.length)})})}containsKey(e,t){return uk(e,this.userId,t)}Tn(e){return ck(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function uk(n,e,t){const r=nD(e,t.path),o=r[1],l=IDBKeyRange.lowerBound(r);let c=!1;return Wy(n).J({range:l,H:!0},(m,v,E)=>{const[S,N,U]=m;S===e&&N===o&&(c=!0),E.done()}).next(()=>c)}function Gh(n){return Vi(n,"mutations")}function Wy(n){return Vi(n,"documentMutations")}function ck(n){return Vi(n,"mutationQueues")}class $f{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new $f(0)}static Rn(){return new $f(-1)}}class UR{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const r=new $f(t.highestTargetId);return t.highestTargetId=r.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>Mt.fromTimestamp(new Ar(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.bn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.Pn(e,o)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(r=>(r.targetCount+=1,this.Vn(t,r),this.Pn(e,r))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ky(e).delete(t.targetId)).next(()=>this.bn(e)).next(r=>(Rt(r.targetCount>0),r.targetCount-=1,this.Pn(e,r)))}removeTargets(e,t,r){let o=0;const l=[];return Ky(e).J((c,m)=>{const v=Mb(m);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(o++,l.push(this.removeTargetData(e,v)))}).next(()=>Ce.waitFor(l)).next(()=>o)}forEachTarget(e,t){return Ky(e).J((r,o)=>{const l=Mb(o);t(l)})}bn(e){return dk(e).get("targetGlobalKey").next(t=>(Rt(null!==t),t))}Pn(e,t){return dk(e).put("targetGlobalKey",t)}vn(e,t){return Ky(e).put(J2(this.wt,t))}Vn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Of(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Ky(e).J({range:o,index:"queryTargetsIndex"},(c,m,v)=>{const E=Mb(m);_b(t,E.target)&&(l=E,v.done())}).next(()=>l)}addMatchingKeys(e,t,r){const o=[],l=Hh(e);return t.forEach(c=>{const m=rs(c.path);o.push(l.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,c))}),Ce.waitFor(o)}removeMatchingKeys(e,t,r){const o=Hh(e);return Ce.forEach(t,l=>{const c=rs(l.path);return Ce.waitFor([o.delete([r,c]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Hh(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Hh(e);let l=Qt();return o.J({range:r,H:!0},(c,m,v)=>{const E=Ku(c[1]),S=new rt(E);l=l.add(S)}).next(()=>l)}containsKey(e,t){const r=rs(t.path),o=IDBKeyRange.bound([r],[RM(r)],!1,!0);let l=0;return Hh(e).J({index:"documentTargetsIndex",H:!0,range:o},([c,m],v,E)=>{0!==c&&(l++,E.done())}).next(()=>l>0)}te(e,t){return Ky(e).get(t).next(r=>r?Mb(r):null)}}function Ky(n){return Vi(n,"targets")}function dk(n){return Vi(n,"targetGlobal")}function Hh(n){return Vi(n,"targetDocuments")}function hk([n,e],[t,r]){const o=Kt(n,t);return 0===o?Kt(e,r):o}class jR{constructor(e){this.Sn=e,this.buffer=new Zn(hk),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();hk(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class GR{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;ze("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,y.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Oh(r)?ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Rh(r)}yield t.kn(3e5)}))}}class HR{constructor(e,t){this.On=e,this.params=t}calculateTargetCount(e,t){return this.On.Mn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Ce.resolve(Ls.ot);const r=new jR(t);return this.On.forEachTarget(e,o=>r.xn(o.sequenceNumber)).next(()=>this.On.Fn(e,o=>r.xn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.On.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.On.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve(ak)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ak):this.$n(e,t))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,t){let r,o,l,c,m,v,E;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),o=this.params.maximumSequenceNumbersToCollect):o=N,c=Date.now(),this.nthSequenceNumber(e,o))).next(N=>(r=N,m=Date.now(),this.removeTargets(e,r,t))).next(N=>(l=N,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(N=>(E=Date.now(),TT()<=b.in.DEBUG&&ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-S}ms\n\tDetermined least recently used ${o} in `+(m-c)+`ms\n\tRemoved ${l} targets in `+(v-m)+`ms\n\tRemoved ${N} documents in `+(E-v)+`ms\nTotal Duration: ${E-S}ms`),Ce.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:N})))}}class $R{constructor(e,t){this.db=e,this.garbageCollector=new HR(this,t)}Mn(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Bn(e){let t=0;return this.Fn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(r,o)=>t(o))}addReference(e,t,r){return uD(e,r)}removeReference(e,t,r){return uD(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return uD(e,t)}Un(e,t){return function(r,o){let l=!1;return ck(r).Y(c=>uk(r,c,o).next(m=>(m&&(l=!0),Ce.resolve(!m)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let l=0;return this.Ln(e,(c,m)=>{if(m<=t){const v=this.Un(e,c).next(E=>{if(!E)return l++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Mt.min()),Hh(e).delete([0,rs(c.path)])))});o.push(v)}}).next(()=>Ce.waitFor(o)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return uD(e,t)}Ln(e,t){const r=Hh(e);let o,l=Ls.ot;return r.J({index:"documentTargetsIndex"},([c,m],{path:v,sequenceNumber:E})=>{0===c?(l!==Ls.ot&&t(new rt(Ku(o)),l),l=E,o=v):l=Ls.ot}).next(()=>{l!==Ls.ot&&t(new rt(Ku(o)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function uD(n,e){return Hh(n).put((r=n.currentSequenceNumber,{targetId:0,path:rs(e.path),sequenceNumber:r}));var r}class pk{constructor(){this.changes=new Uh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ur.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ce.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class zR{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return zf(e).put(r)}removeEntry(e,t,r){return zf(e).delete(function(o,l){const c=o.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],rD(l),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.qn(e,r)))}getEntry(e,t){let r=ur.newInvalidDocument(t);return zf(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ob(t))},(o,l)=>{r=this.Kn(t,l)}).next(()=>r)}Gn(e,t){let r={size:0,document:ur.newInvalidDocument(t)};return zf(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ob(t))},(o,l)=>{r={document:this.Kn(t,l),size:aD(l)}}).next(()=>r)}getEntries(e,t){let r=Vs();return this.Qn(e,t,(o,l)=>{const c=this.Kn(o,l);r=r.insert(o,c)}).next(()=>r)}jn(e,t){let r=Vs(),o=new Ur(rt.comparator);return this.Qn(e,t,(l,c)=>{const m=this.Kn(l,c);r=r.insert(l,m),o=o.insert(l,aD(c))}).next(()=>({documents:r,Wn:o}))}Qn(e,t,r){if(t.isEmpty())return Ce.resolve();let o=new Zn(yk);t.forEach(v=>o=o.add(v));const l=IDBKeyRange.bound(Ob(o.first()),Ob(o.last())),c=o.getIterator();let m=c.getNext();return zf(e).J({index:"documentKeyIndex",range:l},(v,E,S)=>{const N=rt.fromSegments([...E.prefixPath,E.collectionGroup,E.documentId]);for(;m&&yk(m,N)<0;)r(m,null),m=c.getNext();m&&m.isEqual(N)&&(r(m,E),m=c.hasNext()?c.getNext():null),m?S.q(Ob(m)):S.done()}).next(()=>{for(;m;)r(m,null),m=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),rD(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return zf(e).K(IDBKeyRange.bound(o,l,!0)).next(c=>{let m=Vs();for(const v of c){const E=this.Kn(rt.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);m=m.insert(E.key,E)}return m})}getAllFromCollectionGroup(e,t,r,o){let l=Vs();const c=mk(t,r),m=mk(t,ka.max());return zf(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,m,!0)},(v,E,S)=>{const N=this.Kn(rt.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);l=l.insert(N.key,N),l.size===o&&S.done()}).next(()=>l)}newChangeBuffer(e){return new qR(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return gk(e).get("remoteDocumentGlobalKey").next(t=>(Rt(!!t),t))}qn(e,t){return gk(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const r=function kR(n,e){let t;if(e.document)t=V2(n.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=rt.fromSegments(e.noDocument.path),o=Bf(e.noDocument.readTime);t=ur.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ht();{const r=rt.fromSegments(e.unknownDocument.path),o=Bf(e.unknownDocument.version);t=ur.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new Ar(r[0],r[1]);return Mt.fromTimestamp(o)}(e.readTime)),t}(this.wt,t);if(!r.isNoDocument()||!r.version.isEqual(Mt.min()))return r}return ur.newInvalidDocument(e)}}function fk(n){return new zR(n)}class qR extends pk{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new Uh(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new Zn((l,c)=>Kt(l.canonicalString(),c.canonicalString()));return this.changes.forEach((l,c)=>{const m=this.Hn.get(l);if(t.push(this.zn.removeEntry(e,l,m.readTime)),c.isValidDocument()){const v=Q2(this.zn.wt,c);o=o.add(l.path.popLast()),r+=aD(v)-m.size,t.push(this.zn.addEntry(e,l,v))}else if(r-=m.size,this.trackRemovals){const v=Q2(this.zn.wt,c.convertToNoDocument(Mt.min()));t.push(this.zn.addEntry(e,l,v))}}),o.forEach(l=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.zn.updateMetadata(e,r)),Ce.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(r=>(this.Hn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:r,Wn:o})=>(o.forEach((l,c)=>{this.Hn.set(l,{size:c,readTime:r.get(l).readTime})}),r))}}function gk(n){return Vi(n,"remoteDocumentGlobal")}function zf(n){return Vi(n,"remoteDocumentsV14")}function Ob(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function mk(n,e){const t=e.documentKey.path.toArray();return[n,rD(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function yk(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(o=Kt(t[l],r[l]),o)return o;return o=Kt(t.length,r.length),o||(o=Kt(t[t.length-2],r[r.length-2]),o||Kt(t[t.length-1],r[r.length-1]))}class WR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class _k{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.getBaseDocument(e,t,r))).next(o=>(null!==r&&wb(r.mutation,o,Na.empty(),Ar.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Qt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Qt()){const o=qu();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(l=>{let c=Eb();return l.forEach((m,v)=>{c=c.insert(m,v.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=qu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Qt()))}populateOverlays(e,t,r){const o=[];return r.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,m)=>{t.set(c,m)})})}computeViews(e,t,r,o){let l=Vs();const c=Cb(),m=Cb();return t.forEach((v,E)=>{const S=r.get(E.key);o.has(E.key)&&(void 0===S||S.mutation instanceof Qc)?l=l.insert(E.key,E):void 0!==S&&(c.set(E.key,S.mutation.getFieldMask()),wb(S.mutation,E,S.mutation.getFieldMask(),Ar.now()))}),this.recalculateAndSaveOverlays(e,l).next(v=>(v.forEach((E,S)=>c.set(E,S)),t.forEach((E,S)=>{var N;return m.set(E,new WR(S,null!==(N=c.get(E))&&void 0!==N?N:null))}),m))}recalculateAndSaveOverlays(e,t){const r=Cb();let o=new Ur((c,m)=>c-m),l=Qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const m of c)m.keys().forEach(v=>{const E=t.get(v);if(null===E)return;let S=r.get(v)||Na.empty();S=m.applyToLocalView(E,S),r.set(v,S);const N=(o.get(m.batchId)||Qt()).add(v);o=o.insert(m.batchId,N)})}).next(()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const v=m.getNext(),E=v.key,S=v.value,N=T2();S.forEach(U=>{if(!l.has(U)){const re=_2(t.get(U),r.get(U));null!==re&&N.set(U,re),l=l.add(U)}}),c.push(this.documentOverlayCache.saveOverlays(e,E,N))}return Ce.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return rt.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):VT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-l.size):Ce.resolve(qu());let m=-1,v=l;return c.next(E=>Ce.forEach(E,(S,N)=>(m<N.largestBatchId&&(m=N.largestBatchId),l.get(S)?Ce.resolve():this.getBaseDocument(e,S,N).next(U=>{v=v.insert(S,U)}))).next(()=>this.populateOverlays(e,E,l)).next(()=>this.computeViews(e,v,E,Qt())).next(S=>({batchId:m,changes:A2(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new rt(t)).next(r=>{let o=Eb();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let l=Eb();return this.indexManager.getCollectionParents(e,o).next(c=>Ce.forEach(c,m=>{const v=(E=t,S=m.child(o),new Yc(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt));var E,S;return this.getDocumentsMatchingCollectionQuery(e,v,r).next(E=>{E.forEach((S,N)=>{l=l.insert(S,N)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(l=>(o=l,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(l=>{l.forEach((m,v)=>{const E=v.getKey();null===o.get(E)&&(o=o.insert(E,ur.newInvalidDocument(E)))});let c=Eb();return o.forEach((m,v)=>{const E=l.get(m);void 0!==E&&wb(E.mutation,v,Na.empty(),Ar.now()),UT(t,v)&&(c=c.insert(m,v))}),c})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):Ce.resolve(ur.newInvalidDocument(t))}}class KR{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return Ce.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var r;return this.Jn.set(t.id,{id:(r=t).id,version:r.version,createTime:Li(r.createTime)}),Ce.resolve()}getNamedQuery(e,t){return Ce.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(r=t).name,query:ZT(r.bundledQuery),readTime:Li(r.readTime)}),Ce.resolve();var r}}class ZR{constructor(){this.overlays=new Ur(rt.comparator),this.Xn=new Map}getOverlay(e,t){return Ce.resolve(this.overlays.get(t))}getOverlays(e,t){const r=qu();return Ce.forEach(t,o=>this.getOverlay(e,o).next(l=>{null!==l&&r.set(o,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,l)=>{this.ie(e,t,l)}),Ce.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Xn.get(r);return void 0!==o&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Xn.delete(r)),Ce.resolve()}getOverlaysForCollection(e,t,r){const o=qu(),l=t.length+1,c=new rt(t.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const v=m.getNext().value,E=v.getKey();if(!t.isPrefixOf(E.path))break;E.path.length===l&&v.largestBatchId>r&&o.set(v.getKey(),v)}return Ce.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let l=new Ur((E,S)=>E-S);const c=this.overlays.getIterator();for(;c.hasNext();){const E=c.getNext().value;if(E.getKey().getCollectionGroup()===t&&E.largestBatchId>r){let S=l.get(E.largestBatchId);null===S&&(S=qu(),l=l.insert(E.largestBatchId,S)),S.set(E.getKey(),E)}}const m=qu(),v=l.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((E,S)=>m.set(E,S)),!(m.size()>=o)););return Ce.resolve(m)}ie(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const c=this.Xn.get(o.largestBatchId).delete(r.key);this.Xn.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new KT(t,r));let l=this.Xn.get(t);void 0===l&&(l=Qt(),this.Xn.set(t,l)),this.Xn.set(t,l.add(r.key))}}class JT{constructor(){this.Zn=new Zn(Bi.ts),this.es=new Zn(Bi.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new Bi(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new Bi(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new rt(new yn([])),r=new Bi(t,e),o=new Bi(t,e+1),l=[];return this.es.forEachInRange([r,o],c=>{this.rs(c),l.push(c.key)}),l}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new rt(new yn([])),r=new Bi(t,e),o=new Bi(t,e+1);let l=Qt();return this.es.forEachInRange([r,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Bi(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Bi{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return rt.comparator(e.key,t.key)||Kt(e.ls,t.ls)}static ns(e,t){return Kt(e.ls,t.ls)||rt.comparator(e.key,t.key)}}class YR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new Zn(Bi.ts)}checkEmpty(e){return Ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const l=this.fs;this.fs++;const c=new qT(l,t,r,o);this.mutationQueue.push(c);for(const m of o)this.ds=this.ds.add(new Bi(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Ce.resolve(c)}lookupMutationBatch(e,t){return Ce.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.ws(t+1),l=o<0?0:o;return Ce.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Bi(t,0),o=new Bi(t,Number.POSITIVE_INFINITY),l=[];return this.ds.forEachInRange([r,o],c=>{const m=this._s(c.ls);l.push(m)}),Ce.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Zn(Kt);return t.forEach(o=>{const l=new Bi(o,0),c=new Bi(o,Number.POSITIVE_INFINITY);this.ds.forEachInRange([l,c],m=>{r=r.add(m.ls)})}),Ce.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;rt.isDocumentKey(l)||(l=l.child(""));const c=new Bi(new rt(l),0);let m=new Zn(Kt);return this.ds.forEachWhile(v=>{const E=v.key.path;return!!r.isPrefixOf(E)&&(E.length===o&&(m=m.add(v.ls)),!0)},c),Ce.resolve(this.gs(m))}gs(e){const t=[];return e.forEach(r=>{const o=this._s(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Rt(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ds;return Ce.forEach(t.mutations,o=>{const l=new Bi(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,t){const r=new Bi(t,0),o=this.ds.firstAfterOrEqual(r);return Ce.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return Ce.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class QR{constructor(e){this.ps=e,this.docs=new Ur(rt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),l=o?o.size:0,c=this.ps(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ce.resolve(r?r.document.mutableCopy():ur.newInvalidDocument(t))}getEntries(e,t){let r=Vs();return t.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():ur.newInvalidDocument(o))}),Ce.resolve(r)}getAllFromCollection(e,t,r){let o=Vs();const l=new rt(t.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:m,value:{document:v}}=c.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||MT(FM(v),r)<=0||(o=o.insert(v.key,v.mutableCopy()))}return Ce.resolve(o)}getAllFromCollectionGroup(e,t,r,o){ht()}Is(e,t){return Ce.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new JR(this)}getSize(e){return Ce.resolve(this.size)}}class JR extends pk{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.zn.addEntry(e,o)):this.zn.removeEntry(r)}),Ce.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class XR{constructor(e){this.persistence=e,this.Ts=new Uh(t=>Of(t),_b),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this.Es=0,this.As=new JT,this.targetCount=0,this.Rs=$f.An()}forEachTarget(e,t){return this.Ts.forEach((r,o)=>t(o)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Es&&(this.Es=t),Ce.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new $f(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,Ce.resolve()}updateTargetData(e,t){return this.vn(t),Ce.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.Ts.forEach((c,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Ts.delete(c),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),Ce.waitFor(l).next(()=>o)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,t){const r=this.Ts.get(t)||null;return Ce.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),Ce.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),Ce.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),Ce.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return Ce.resolve(r)}containsKey(e,t){return Ce.resolve(this.As.containsKey(t))}}class vk{constructor(e,t){this.bs={},this.overlays={},this.Ps=new Ls(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new XR(this),this.indexManager=new VR,this.remoteDocumentCache=new QR(r=>this.referenceDelegate.Ss(r)),this.wt=new Y2(t),this.Ds=new KR(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ZR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.bs[e.toKey()];return r||(r=new YR(t,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,r){ze("MemoryPersistence","Starting transaction:",e);const o=new eO(this.Ps.next());return this.referenceDelegate.Cs(),r(o).next(l=>this.referenceDelegate.xs(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ns(e,t){return Ce.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class eO extends VM{constructor(e){super(),this.currentSequenceNumber=e}}class cD{constructor(e){this.persistence=e,this.ks=new JT,this.Os=null}static Ms(e){return new cD(e)}get Fs(){if(this.Os)return this.Os;throw ht()}addReference(e,t,r){return this.ks.addReference(r,t),this.Fs.delete(r.toString()),Ce.resolve()}removeReference(e,t,r){return this.ks.removeReference(r,t),this.Fs.add(r.toString()),Ce.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),Ce.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(o=>this.Fs.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.Fs.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.Fs,r=>{const o=rt.fromPath(r);return this.$s(e,o).next(l=>{l||t.removeEntry(o,Mt.min())})}).next(()=>(this.Os=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return Ce.or([()=>Ce.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class tO{constructor(e){this.wt=e}O(e,t,r,o){const l=new zI("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",z2,{unique:!0}),m.createObjectStore("documentMutations"),bk(e),function(m){m.createObjectStore("remoteDocuments")}(e));let c=Ce.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),bk(e)),c=c.next(()=>function(m){const v=m.store("targetGlobal"),E={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Mt.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",E)}(l))),r<4&&o>=4&&(0!==r&&(c=c.next(()=>function(m,v){return v.store("mutations").K().next(E=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",z2,{unique:!0});const S=v.store("mutations"),N=E.map(U=>S.put(U));return Ce.waitFor(N)})}(e,l))),c=c.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(c=c.next(()=>this.Bs(l))),r<6&&o>=6&&(c=c.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(l)))),r<7&&o>=7&&(c=c.next(()=>this.Us(l))),r<8&&o>=8&&(c=c.next(()=>this.qs(e,l))),r<9&&o>=9&&(c=c.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(c=c.next(()=>this.Ks(l))),r<11&&o>=11&&(c=c.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(c=c.next(()=>{!function(m){const v=m.createObjectStore("documentOverlays",{keyPath:AR});v.createIndex("collectionPathOverlayIndex",TR,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",SR,{unique:!1})}(e)})),r<13&&o>=13&&(c=c.next(()=>function(m){const v=m.createObjectStore("remoteDocumentsV14",{keyPath:gR});v.createIndex("documentKeyIndex",mR),v.createIndex("collectionGroupIndex",yR)}(e)).next(()=>this.Gs(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(c=c.next(()=>this.Qs(e,l))),r<15&&o>=15&&(c=c.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:ER}).createIndex("sequenceNumberIndex",CR,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:IR}).createIndex("documentKeyIndex",DR,{unique:!1})}(e))),c}Ls(e){let t=0;return e.store("remoteDocuments").J((r,o)=>{t+=aD(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Bs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.K().next(o=>Ce.forEach(o,l=>{const c=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",c).next(m=>Ce.forEach(m,v=>{Rt(v.userId===l.userId);const E=Uf(this.wt,v);return lk(e,l.userId,E).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const l=[];return r.J((c,m)=>{const v=new yn(c),E=[0,rs(v)];l.push(t.get(E).next(S=>S?Ce.resolve():t.put({targetId:0,path:rs(v),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>Ce.waitFor(l))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:wR});const r=t.store("collectionParents"),o=new QT,l=c=>{if(o.add(c)){const m=c.lastSegment(),v=c.popLast();return r.put({collectionId:m,parent:rs(v)})}};return t.store("remoteDocuments").J({H:!0},(c,m)=>{const v=new yn(c);return l(v.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([c,m,v],E)=>{const S=Ku(m);return l(S.popLast())}))}Ks(e){const t=e.store("targets");return t.J((r,o)=>{const l=Mb(o),c=J2(this.wt,l);return t.put(c)})}Gs(e,t){const r=t.store("remoteDocuments"),o=[];return r.J((l,c)=>{const m=t.store("remoteDocumentsV14"),v=(E=c,E.document?new rt(yn.fromString(E.document.name).popFirst(5)):E.noDocument?rt.fromSegments(E.noDocument.path):E.unknownDocument?rt.fromSegments(E.unknownDocument.path):ht()).path.toArray();var E;const S={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};o.push(m.put(S))}).next(()=>Ce.waitFor(o))}Qs(e,t){const r=t.store("mutations"),o=fk(this.wt),l=new vk(cD.Ms,this.wt.ne);return r.K().next(c=>{const m=new Map;return c.forEach(v=>{var E;let S=null!==(E=m.get(v.userId))&&void 0!==E?E:Qt();Uf(this.wt,v).keys().forEach(N=>S=S.add(N)),m.set(v.userId,S)}),Ce.forEach(m,(v,E)=>{const S=new Oi(E),N=iD.se(this.wt,S),U=l.getIndexManager(S),re=lD.se(S,this.wt,U,l.referenceDelegate);return new _k(o,re,N,U).recalculateAndSaveOverlaysForDocumentKeys(new zT(t,Ls.ot),v).next()})})}}function bk(n){n.createObjectStore("targetDocuments",{keyPath:vR}).createIndex("documentTargetsIndex",bR,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",_R,{unique:!0}),n.createObjectStore("targetGlobal")}const XT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class eS{constructor(e,t,r,o,l,c,m,v,E,S,N=14){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.js=l,this.window=c,this.document=m,this.Ws=E,this.zs=S,this.Hs=N,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=U=>Promise.resolve(),!eS.V())throw new je(Ae.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $R(this,o),this.ei=t+"main",this.wt=new Y2(v),this.ni=new tu(this.ei,this.Hs,new tO(this.wt)),this.Vs=new UR(this.referenceDelegate,this.wt),this.remoteDocumentCache=fk(this.wt),this.Ds=new NR,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===S&&hi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new je(Ae.FAILED_PRECONDITION,XT);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new Ls(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var r=(0,y.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,y.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,y.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>dD(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(Oh(e))return ze("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return Fb(e).get("owner").next(t=>Ce.resolve(this.di(t)))}_i(e){return dD(e).delete(this.clientId)}wi(){var e=this;return(0,y.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Vi(r,"clientMetadata");return o.K().next(l=>{const c=e.gi(l,18e5),m=l.filter(v=>-1===c.indexOf(v));return Ce.forEach(m,v=>o.delete(v.clientId)).next(()=>m)})}).catch(()=>[]);if(e.si)for(const r of t)e.si.removeItem(e.yi(r.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?Ce.resolve(!0):Fb(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new je(Ae.FAILED_PRECONDITION,XT);return!1}}return!(!this.networkEnabled||!this.inForeground)||dD(e).K().next(r=>void 0===this.gi(r,5e3).find(o=>{if(this.clientId!==o.clientId){const c=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||c&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&ze("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,y.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new zT(t,Ls.ot);return e.li(r).next(()=>e._i(r))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(r=>this.mi(r.updateTimeMs,t)&&!this.pi(r.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>dD(e).K().next(t=>this.gi(t,18e5).map(r=>r.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return lD.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new BR(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return iD.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,r){ze("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",l=15===(c=this.Hs)?MR:14===c?Z2:13===c?K2:12===c?xR:11===c?W2:void ht();var c;let m;return this.ni.runTransaction(e,o,l,v=>(m=new zT(v,this.Ps?this.Ps.next():Ls.ot),"readwrite-primary"===t?this.ai(m).next(E=>!!E||this.hi(m)).next(E=>{if(!E)throw hi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new je(Ae.FAILED_PRECONDITION,LM);return r(m)}).next(E=>this.fi(m).next(()=>E)):this.bi(m).next(()=>r(m)))).then(v=>(m.raiseOnCommittedEvent(),v))}bi(e){return Fb(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new je(Ae.FAILED_PRECONDITION,XT)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Fb(e).put("owner",t)}static V(){return tu.V()}li(e){const t=Fb(e);return t.get("owner").next(r=>this.di(r)?(ze("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ce.resolve())}mi(e,t){const r=Date.now();return!(e<r-t||e>r&&(hi(`Detected an update time that is in the future: ${e} > ${r}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,p.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const r=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return ze("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return hi("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){hi("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Fb(n){return Vi(n,"owner")}function dD(n){return Vi(n,"clientMetadata")}function tS(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class nS{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Pi=r,this.vi=o}static Vi(e,t){let r=Qt(),o=Qt();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new nS(e,t.fromCache,r,o)}}class wk{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,r,o){return this.Ci(e,t).next(l=>l||this.xi(e,t,o,r)).next(l=>l||this.Ni(e,t))}Ci(e,t){return Ce.resolve(null)}xi(e,t,r,o){return function UP(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||o.isEqual(Mt.min())?this.Ni(e,t):this.Di.getDocuments(e,r).next(l=>{const c=this.ki(t,l);return this.Oi(t,c,r,o)?this.Ni(e,t):(TT()<=b.in.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),BT(t)),this.Mi(e,c,t,OM(o,-1)))})}ki(e,t){let r=new Zn(u2(e));return t.forEach((o,l)=>{UT(e,l)&&(r=r.add(l))}),r}Oi(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ni(e,t){return TT()<=b.in.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",BT(t)),this.Di.getDocumentsMatchingQuery(e,t,ka.min())}Mi(e,t,r,o){return this.Di.getDocumentsMatchingQuery(e,r,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}class nO{constructor(e,t,r,o){this.persistence=e,this.Fi=t,this.wt=o,this.$i=new Ur(Kt),this.Bi=new Uh(l=>Of(l),_b),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _k(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function Ek(n,e,t,r){return new nO(n,e,t,r)}function Ck(n,e){return rS.apply(this,arguments)}function rS(){return rS=(0,y.Z)(function*(n,e){const t=st(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(l=>(o=l,t.qi(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],m=[];let v=Qt();for(const E of o){c.push(E.batchId);for(const S of E.mutations)v=v.add(S.key)}for(const E of l){m.push(E.batchId);for(const S of E.mutations)v=v.add(S.key)}return t.localDocuments.getDocuments(r,v).next(E=>({Ki:E,removedBatchIds:c,addedBatchIds:m}))})})}),rS.apply(this,arguments)}function rO(n,e){const t=st(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),l=t.Ui.newChangeBuffer({trackRemovals:!0});return function(c,m,v,E){const S=v.batch,N=S.keys();let U=Ce.resolve();return N.forEach(re=>{U=U.next(()=>E.getEntry(m,re)).next(pe=>{const Le=v.docVersions.get(re);Rt(null!==Le),pe.version.compareTo(Le)<0&&(S.applyToRemoteDocument(pe,v),pe.isValidDocument()&&(pe.setReadTime(v.commitVersion),E.addEntry(pe)))})}),U.next(()=>c.mutationQueue.removeMutationBatch(m,S))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let m=Qt();for(let v=0;v<c.mutationResults.length;++v)c.mutationResults[v].transformResults.length>0&&(m=m.add(c.batch.mutations[v].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function Ik(n){const e=st(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function iO(n,e){const t=st(n),r=e.snapshotVersion;let o=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Ui.newChangeBuffer({trackRemovals:!0});o=t.$i;const m=[];e.targetChanges.forEach((S,N)=>{const U=o.get(N);if(!U)return;m.push(t.Vs.removeMatchingKeys(l,S.removedDocuments,N).next(()=>t.Vs.addMatchingKeys(l,S.addedDocuments,N)));let re=U.withSequenceNumber(l.currentSequenceNumber);var pe,Le,Ye;e.targetMismatches.has(N)?re=re.withResumeToken(Ci.EMPTY_BYTE_STRING,Mt.min()).withLastLimboFreeSnapshotVersion(Mt.min()):S.resumeToken.approximateByteSize()>0&&(re=re.withResumeToken(S.resumeToken,r)),o=o.insert(N,re),Le=re,Ye=S,(0===(pe=U).resumeToken.approximateByteSize()||Le.snapshotVersion.toMicroseconds()-pe.snapshotVersion.toMicroseconds()>=3e8||Ye.addedDocuments.size+Ye.modifiedDocuments.size+Ye.removedDocuments.size>0)&&m.push(t.Vs.updateTargetData(l,re))});let v=Vs(),E=Qt();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,S))}),m.push(Dk(l,c,e.documentUpdates).next(S=>{v=S.Gi,E=S.Qi})),!r.isEqual(Mt.min())){const S=t.Vs.getLastRemoteSnapshotVersion(l).next(N=>t.Vs.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(S)}return Ce.waitFor(m).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,v,E)).next(()=>v)}).then(l=>(t.$i=o,l))}function Dk(n,e,t){let r=Qt(),o=Qt();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let c=Vs();return t.forEach((m,v)=>{const E=l.get(m);v.isFoundDocument()!==E.isFoundDocument()&&(o=o.add(m)),v.isNoDocument()&&v.version.isEqual(Mt.min())?(e.removeEntry(m,v.readTime),c=c.insert(m,v)):!E.isValidDocument()||v.version.compareTo(E.version)>0||0===v.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(v),c=c.insert(m,v)):ze("LocalStore","Ignoring outdated watch update for ",m,". Current version:",E.version," Watch version:",v.version)}),{Gi:c,Qi:o}})}function oO(n,e){const t=st(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Zy(n,e){const t=st(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Vs.getTargetData(r,e).next(l=>l?(o=l,Ce.resolve(o)):t.Vs.allocateTargetId(r).next(c=>(o=new jh(e,c,0,r.currentSequenceNumber),t.Vs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.$i.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.$i=t.$i.insert(r.targetId,r),t.Bi.set(e,r.targetId)),r})}function Yy(n,e,t){return iS.apply(this,arguments)}function iS(){return iS=(0,y.Z)(function*(n,e,t){const r=st(n),o=r.$i.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Oh(c))throw c;ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.$i=r.$i.remove(e),r.Bi.delete(o.target)}),iS.apply(this,arguments)}function hD(n,e,t){const r=st(n);let o=Mt.min(),l=Qt();return r.persistence.runTransaction("Execute query","readonly",c=>function(m,v,E){const S=st(m),N=S.Bi.get(E);return void 0!==N?Ce.resolve(S.$i.get(N)):S.Vs.getTargetData(v,E)}(r,c,vl(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(c,m.targetId).next(v=>{l=v})}).next(()=>r.Fi.getDocumentsMatchingQuery(c,e,t?o:Mt.min(),t?l:Qt())).next(m=>(Sk(r,l2(e),m),{documents:m,ji:l})))}function Ak(n,e){const t=st(n),r=st(t.Vs),o=t.$i.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",l=>r.te(l,e).next(c=>c?c.target:null))}function Tk(n,e){const t=st(n),r=t.Li.get(e)||Mt.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Ui.getAllFromCollectionGroup(o,e,OM(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(Sk(t,e,o),o))}function Sk(n,e,t){let r=Mt.min();t.forEach((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Li.set(e,r)}function oS(){return oS=(0,y.Z)(function*(n,e,t,r){const o=st(n);let l=Qt(),c=Vs();for(const E of t){const S=e.Wi(E.metadata.name);E.document&&(l=l.add(S));const N=e.zi(E);N.setReadTime(e.Hi(E.metadata.readTime)),c=c.insert(S,N)}const m=o.Ui.newChangeBuffer({trackRemovals:!0}),v=yield Zy(o,(E=r,vl(By(yn.fromString(`__bundle__/docs/${E}`)))));var E;return o.persistence.runTransaction("Apply bundle documents","readwrite",E=>Dk(E,m,c).next(S=>(m.apply(E),S)).next(S=>o.Vs.removeMatchingKeysForTargetId(E,v.targetId).next(()=>o.Vs.addMatchingKeys(E,l,v.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(E,S.Gi,S.Qi)).next(()=>S.Gi)))}),oS.apply(this,arguments)}function aO(n,e){return sS.apply(this,arguments)}function sS(){return sS=(0,y.Z)(function*(n,e,t=Qt()){const r=yield Zy(n,vl(ZT(e.bundledQuery))),o=st(n);return o.persistence.runTransaction("Save named query","readwrite",l=>{const c=Li(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return o.Ds.saveNamedQuery(l,e);const m=r.withResumeToken(Ci.EMPTY_BYTE_STRING,c);return o.$i=o.$i.insert(m.targetId,m),o.Vs.updateTargetData(l,m).next(()=>o.Vs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>o.Vs.addMatchingKeys(l,t,r.targetId)).next(()=>o.Ds.saveNamedQuery(l,e))})}),sS.apply(this,arguments)}function xk(n,e){return`firestore_clients_${n}_${e}`}function Mk(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function aS(n,e){return`firestore_targets_${n}_${e}`}class pD{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Ji(e,t,r){const o=JSON.parse(r);let l,c="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return c&&o.error&&(c="string"==typeof o.error.message&&"string"==typeof o.error.code,c&&(l=new je(o.error.code,o.error.message))),c?new pD(e,t,o.state,l):(hi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Lb{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let o,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(o=new je(r.error.code,r.error.message))),l?new Lb(e,r.state,o):(hi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class fD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,l=eD();for(let c=0;o&&c<r.activeTargetIds.length;++c)o=$M(r.activeTargetIds[c]),l=l.add(r.activeTargetIds[c]);return o?new fD(e,l):(hi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class lS{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new lS(t.clientId,t.onlineState):(hi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class uS{constructor(){this.activeTargetIds=eD()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cS{constructor(e,t,r,o,l){this.window=e,this.js=t,this.persistenceKey=r,this.tr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Ur(Kt),this.started=!1,this.ir=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.rr=xk(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new uS),this.cr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,y.Z)(function*(){const t=yield e.syncEngine.Ri();for(const o of t){if(o===e.tr)continue;const l=e.getItem(xk(e.persistenceKey,o));if(l){const c=fD.Ji(o,l);c&&(e.sr=e.sr.insert(c.clientId,c))}}e._r();const r=e.storage.getItem(e.lr);if(r){const o=e.wr(r);o&&e.mr(o)}for(const o of e.ir)e.nr(o);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(aS(this.persistenceKey,e));if(r){const o=Lb.Ji(e,r);o&&(t=o.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(aS(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.pr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ze("SharedClientState","READ",e,t),t}setItem(e,t){ze("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ze("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ze("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void hi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,y.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const o=t.Rr(r.key);return t.br(o,null)}{const o=t.Pr(r.key,r.newValue);if(o)return t.br(o.clientId,o)}}else if(t.ar.test(r.key)){if(null!==r.newValue){const o=t.vr(r.key,r.newValue);if(o)return t.Vr(o)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const o=t.Sr(r.key,r.newValue);if(o)return t.Dr(o)}}else if(r.key===t.lr){if(null!==r.newValue){const o=t.wr(r.newValue);if(o)return t.mr(o)}}else if(r.key===t.ur){const o=function(l){let c=Ls.ot;if(null!=l)try{const m=JSON.parse(l);Rt("number"==typeof m),c=m}catch(m){hi("SharedClientState","Failed to read sequence number from WebStorage",m)}return c}(r.newValue);o!==Ls.ot&&t.sequenceNumberHandler(o)}else if(r.key===t.dr){const o=t.Cr(r.newValue);yield Promise.all(o.map(l=>t.syncEngine.Nr(l)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const o=new pD(this.currentUser,e,t,r),l=Mk(this.persistenceKey,this.currentUser,e);this.setItem(l,o.Yi())}pr(e){const t=Mk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const o=aS(this.persistenceKey,e),l=new Lb(e,t,r);this.setItem(o,l.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return fD.Ji(r,t)}vr(e,t){const r=this.ar.exec(e),o=Number(r[1]);return pD.Ji(new Oi(void 0!==r[2]?r[2]:null),o,t)}Sr(e,t){const r=this.hr.exec(e),o=Number(r[1]);return Lb.Ji(o,t)}wr(e){return lS.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,y.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);ze("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),o=this.gr(this.sr),l=this.gr(r),c=[],m=[];return l.forEach(v=>{o.has(v)||c.push(v)}),o.forEach(v=>{l.has(v)||m.push(v)}),this.syncEngine.Mr(c,m).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=eD();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class kk{constructor(){this.Fr=new uS,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new uS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class lO{Br(e){}shutdown(){}}class Nk{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const uO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class cO{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class dO extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,o,l){const c=this.oo(e,t);ze("RestConnection","Sending: ",c,r);const m={};return this.uo(m,o,l),this.co(e,c,m,r).then(v=>(ze("RestConnection","Received: ",v),v),v=>{throw lb("RestConnection",`${e} failed with error: `,v,"url: ",c,"request:",r),v})}ao(e,t,r,o,l,c){return this.ro(e,t,r,o,l)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ry,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),r&&r.headers.forEach((o,l)=>e[l]=o)}oo(e,t){return`${this.so}/v1/${t}:${uO[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,o){return new Promise((l,c)=>{const m=new cP;m.listenOnce(aP.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case AT.NO_ERROR:const E=m.getResponseJson();ze("Connection","XHR received:",JSON.stringify(E)),l(E);break;case AT.TIMEOUT:ze("Connection",'RPC "'+e+'" timed out'),c(new je(Ae.DEADLINE_EXCEEDED,"Request time out"));break;case AT.HTTP_ERROR:const S=m.getStatus();if(ze("Connection",'RPC "'+e+'" failed with status:',S,"response text:",m.getResponseText()),S>0){const N=m.getResponseJson().error;if(N&&N.status&&N.message){const U=function(re){const pe=re.toLowerCase().replace(/_/g,"-");return Object.values(Ae).indexOf(pe)>=0?pe:Ae.UNKNOWN}(N.status);c(new je(U,N.message))}else c(new je(Ae.UNKNOWN,"Server responded with status "+m.getStatus()))}else c(new je(Ae.UNAVAILABLE,"Connection failed."));break;default:ht()}}finally{ze("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(o);m.send(t,"POST",v,r,15)})}ho(e,t,r){const o=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=oP(),c=sP(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new uP({})),this.uo(m.initMessageHeaders,t,r),(0,p.uI)()||(0,p.b$)()||(0,p.d)()||(0,p.w1)()||(0,p.Mn)()||(0,p.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const v=o.join("");ze("Connection","Creating WebChannel: "+v,m);const E=l.createWebChannel(v,m);let S=!1,N=!1;const U=new cO({jr:pe=>{N?ze("Connection","Not sending because WebChannel is closed:",pe):(S||(ze("Connection","Opening WebChannel transport."),E.open(),S=!0),ze("Connection","WebChannel sending:",pe),E.send(pe))},Wr:()=>E.close()}),re=(pe,Le,Ye)=>{pe.listen(Le,kt=>{try{Ye(kt)}catch(Bt){setTimeout(()=>{throw Bt},0)}})};return re(E,GI.EventType.OPEN,()=>{N||ze("Connection","WebChannel transport opened.")}),re(E,GI.EventType.CLOSE,()=>{N||(N=!0,ze("Connection","WebChannel transport closed"),U.eo())}),re(E,GI.EventType.ERROR,pe=>{N||(N=!0,lb("Connection","WebChannel transport errored:",pe),U.eo(new je(Ae.UNAVAILABLE,"The operation could not be completed")))}),re(E,GI.EventType.MESSAGE,pe=>{var Le;if(!N){const Ye=pe.data[0];Rt(!!Ye);const kt=Ye,Bt=kt.error||(null===(Le=kt[0])||void 0===Le?void 0:Le.error);if(Bt){ze("Connection","WebChannel received error:",Bt);const Zt=Bt.status;let $t=function(Nn){const Ao=pi[Nn];if(void 0!==Ao)return I2(Ao)}(Zt),on=Bt.message;void 0===$t&&($t=Ae.INTERNAL,on="Unknown error status: "+Zt+" with message "+Bt.message),N=!0,U.eo(new je($t,on)),E.close()}else ze("Connection","WebChannel received:",Ye),U.no(Ye)}}),re(c,lP.STAT_EVENT,pe=>{pe.stat===xM.PROXY?ze("Connection","Detected buffering proxy"):pe.stat===xM.NOPROXY&&ze("Connection","Detected no buffering proxy")}),setTimeout(()=>{U.Zr()},0),U}}function Pk(){return typeof window<"u"?window:null}function gD(){return typeof document<"u"?document:null}function Vb(n){return new nR(n,!0)}class dS{constructor(e,t,r=1e3,o=1.5,l=6e4){this.js=e,this.timerId=t,this.lo=r,this.fo=o,this._o=l,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),o=Math.max(0,t-r);o>0&&ze("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,o,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class Rk{constructor(e,t,r,o,l,c,m,v){this.js=e,this.Ao=r,this.Ro=o,this.bo=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=v,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new dS(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,y.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,y.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var r=this;return(0,y.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===Ae.RESOURCE_EXHAUSTED?(hi(t.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===Ae.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Po===t&&this.Uo(r,o)},r=>{e(()=>{const o=new je(Ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(o)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(o=>{r(()=>this.qo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}xo(){var e=this;this.state=5,this.So.Io((0,y.Z)(function*(){e.state=0,e.start()}))}qo(e){return ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hO extends Rk{constructor(e,t,r,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,c),this.wt=l}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function oR(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:ht(),o=e.targetChange.targetIds||[],l=function(v,E){return v.dt?(Rt(void 0===E||"string"==typeof E),Ci.fromBase64String(E||"")):(Rt(void 0===E||E instanceof Uint8Array),Ci.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&function(v){const E=void 0===v.code?Ae.UNKNOWN:I2(v.code);return new je(E,v.message||"")}(c);t=new x2(r,o,l,m||null)}else if("documentChange"in e){const r=e.documentChange,o=Wu(n,r.document.name),l=Li(r.document.updateTime),c=new eo({mapValue:{fields:r.document.fields}}),m=ur.newFoundDocument(o,l,c);t=new tD(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=Wu(n,r.document),l=r.readTime?Li(r.readTime):Mt.min(),c=ur.newNoDocument(o,l);t=new tD([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,o=Wu(n,r.document);t=new tD([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return ht();{const r=e.filter,l=new KP(r.count||0);t=new S2(r.targetId,l)}}var v;return t}(this.wt,e),r=function(o){if(!("targetChange"in o))return Mt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Mt.min():l.readTime?Li(l.readTime):Mt.min()}(e);return this.listener.Go(t,r)}Qo(e){const t={};t.database=Sb(this.wt),t.addTarget=function(o,l){let c;const m=l.target;return c=ZI(m)?{documents:B2(o,m)}:{query:U2(o,m)},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?c.resumeToken=P2(o,l.resumeToken):l.snapshotVersion.compareTo(Mt.min())>0&&(c.readTime=Ab(o,l.snapshotVersion.toTimestamp())),c}(this.wt,e);const r=function aR(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ht()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Mo(t)}jo(e){const t={};t.database=Sb(this.wt),t.removeTarget=e,this.Mo(t)}}class pO extends Rk{constructor(e,t,r,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,c),this.wt=l,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function sR(n,e){return n&&n.length>0?(Rt(void 0!==e),n.map(t=>function(r,o){let l=Li(r.updateTime?r.updateTime:o);return l.isEqual(Mt.min())&&(l=Li(o)),new zP(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Li(e.commitTime);return this.listener.Jo(r,t)}return Rt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Sb(this.wt),this.Mo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>xb(this.wt,r))};this.Mo(t)}}class fO extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.wt=o,this.Zo=!1}tu(){if(this.Zo)throw new je(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.bo.ro(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new je(Ae.UNKNOWN,o.toString())})}ao(e,t,r,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.bo.ao(e,t,r,l,c,o)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new je(Ae.UNKNOWN,l.toString())})}terminate(){this.Zo=!0}}class gO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(hi(t),this.su=!1):ze("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class mO{constructor(e,t,r,o,l){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=l,this.du.Br(m=>{r.enqueueAndForget((0,y.Z)(function*(){var v;$h(c)&&(ze("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,y.Z)(function*(E){const S=st(E);S.lu.add(4),yield Qy(S),S._u.set("Unknown"),S.lu.delete(4),yield Bb(S)}),function(E){return v.apply(this,arguments)})(c))}))}),this._u=new gO(r,o)}}function Bb(n){return hS.apply(this,arguments)}function hS(){return hS=(0,y.Z)(function*(n){if($h(n))for(const e of n.fu)yield e(!0)}),hS.apply(this,arguments)}function Qy(n){return pS.apply(this,arguments)}function pS(){return pS=(0,y.Z)(function*(n){for(const e of n.fu)yield e(!1)}),pS.apply(this,arguments)}function mD(n,e){const t=st(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),mS(t)?gS(t):Xy(t).Co()&&fS(t,e))}function Ub(n,e){const t=st(n),r=Xy(t);t.hu.delete(e),r.Co()&&Ok(t,e),0===t.hu.size&&(r.Co()?r.ko():$h(t)&&t._u.set("Unknown"))}function fS(n,e){n.wu.Nt(e.targetId),Xy(n).Qo(e)}function Ok(n,e){n.wu.Nt(e),Xy(n).jo(e)}function gS(n){n.wu=new XP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),Xy(n).start(),n._u.iu()}function mS(n){return $h(n)&&!Xy(n).Do()&&n.hu.size>0}function $h(n){return 0===st(n).lu.size}function Fk(n){n.wu=void 0}function yO(n){return yS.apply(this,arguments)}function yS(){return yS=(0,y.Z)(function*(n){n.hu.forEach((e,t)=>{fS(n,e)})}),yS.apply(this,arguments)}function _O(n,e){return _S.apply(this,arguments)}function _S(){return _S=(0,y.Z)(function*(n,e){Fk(n),mS(n)?(n._u.uu(e),gS(n)):n._u.set("Unknown")}),_S.apply(this,arguments)}function vO(n,e,t){return vS.apply(this,arguments)}function vS(){return vS=(0,y.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof x2&&2===e.state&&e.cause)try{yield(r=(0,y.Z)(function*(o,l){const c=l.cause;for(const m of l.targetIds)o.hu.has(m)&&(yield o.remoteSyncer.rejectListen(m,c),o.hu.delete(m),o.wu.removeTarget(m))}),function(o,l){return r.apply(this,arguments)})(n,e)}catch(r){ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield yD(n,r)}else if(e instanceof tD?n.wu.Ut(e):e instanceof S2?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(Mt.min()))try{const r=yield Ik(n.localStore);t.compareTo(r)>=0&&(yield function(o,l){const c=o.wu.Yt(l);return c.targetChanges.forEach((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const E=o.hu.get(v);E&&o.hu.set(v,E.withResumeToken(m.resumeToken,l))}}),c.targetMismatches.forEach(m=>{const v=o.hu.get(m);if(!v)return;o.hu.set(m,v.withResumeToken(Ci.EMPTY_BYTE_STRING,v.snapshotVersion)),Ok(o,m);const E=new jh(v.target,m,1,v.sequenceNumber);fS(o,E)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){ze("RemoteStore","Failed to raise snapshot:",r),yield yD(n,r)}var r}),vS.apply(this,arguments)}function yD(n,e,t){return bS.apply(this,arguments)}function bS(){return bS=(0,y.Z)(function*(n,e,t){if(!Oh(e))throw e;n.lu.add(1),yield Qy(n),n._u.set("Offline"),t||(t=()=>Ik(n.localStore)),n.asyncQueue.enqueueRetryable((0,y.Z)(function*(){ze("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield Bb(n)}))}),bS.apply(this,arguments)}function Lk(n,e){return e().catch(t=>yD(n,t,e))}function Jy(n){return wS.apply(this,arguments)}function wS(){return wS=(0,y.Z)(function*(n){const e=st(n),t=zh(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;bO(e);)try{const o=yield oO(e.localStore,r);if(null===o){0===e.au.length&&t.ko();break}r=o.batchId,wO(e,o)}catch(o){yield yD(e,o)}Vk(e)&&Bk(e)}),wS.apply(this,arguments)}function bO(n){return $h(n)&&n.au.length<10}function wO(n,e){n.au.push(e);const t=zh(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function Vk(n){return $h(n)&&!zh(n).Do()&&n.au.length>0}function Bk(n){zh(n).start()}function EO(n){return ES.apply(this,arguments)}function ES(){return ES=(0,y.Z)(function*(n){zh(n).Xo()}),ES.apply(this,arguments)}function CO(n){return CS.apply(this,arguments)}function CS(){return CS=(0,y.Z)(function*(n){const e=zh(n);for(const t of n.au)e.Ho(t.mutations)}),CS.apply(this,arguments)}function IO(n,e,t){return IS.apply(this,arguments)}function IS(){return IS=(0,y.Z)(function*(n,e,t){const r=n.au.shift(),o=WT.from(r,e,t);yield Lk(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield Jy(n)}),IS.apply(this,arguments)}function DO(n,e){return DS.apply(this,arguments)}function DS(){return DS=(0,y.Z)(function*(n,e){var t;e&&zh(n).zo&&(yield(t=(0,y.Z)(function*(r,o){if(C2(l=o.code)&&l!==Ae.ABORTED){const c=r.au.shift();zh(r).No(),yield Lk(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o)),yield Jy(r)}var l}),function(r,o){return t.apply(this,arguments)})(n,e)),Vk(n)&&Bk(n)}),DS.apply(this,arguments)}function Uk(n,e){return AS.apply(this,arguments)}function AS(){return AS=(0,y.Z)(function*(n,e){const t=st(n);t.asyncQueue.verifyOperationInProgress(),ze("RemoteStore","RemoteStore received new credentials");const r=$h(t);t.lu.add(3),yield Qy(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield Bb(t)}),AS.apply(this,arguments)}function TS(n,e){return SS.apply(this,arguments)}function SS(){return SS=(0,y.Z)(function*(n,e){const t=st(n);e?(t.lu.delete(2),yield Bb(t)):e||(t.lu.add(2),yield Qy(t),t._u.set("Unknown"))}),SS.apply(this,arguments)}function Xy(n){return n.mu||(n.mu=function(e,t,r){const o=st(e);return o.tu(),new hO(t,o.bo,o.authCredentials,o.appCheckCredentials,o.wt,r)}(n.datastore,n.asyncQueue,{zr:yO.bind(null,n),Jr:_O.bind(null,n),Go:vO.bind(null,n)}),n.fu.push(function(){var e=(0,y.Z)(function*(t){t?(n.mu.No(),mS(n)?gS(n):n._u.set("Unknown")):(yield n.mu.stop(),Fk(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function zh(n){return n.gu||(n.gu=function(e,t,r){const o=st(e);return o.tu(),new pO(t,o.bo,o.authCredentials,o.appCheckCredentials,o.wt,r)}(n.datastore,n.asyncQueue,{zr:EO.bind(null,n),Jr:DO.bind(null,n),Yo:CO.bind(null,n),Jo:IO.bind(null,n)}),n.fu.push(function(){var e=(0,y.Z)(function*(t){t?(n.gu.No(),yield Jy(n)):(yield n.gu.stop(),n.au.length>0&&(ze("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class xS{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,o,l){const c=Date.now()+r,m=new xS(e,t,c,o,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new je(Ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function e_(n,e){if(hi("AsyncQueue",`${e}: ${n}`),Oh(n))return new je(Ae.UNAVAILABLE,`${e}: ${n}`);throw n}class t_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||rt.comparator(t.key,r.key):(t,r)=>rt.comparator(t.key,r.key),this.keyedMap=Eb(),this.sortedSet=new Ur(this.comparator)}static emptySet(e){return new t_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof t_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new t_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class jk{constructor(){this.yu=new Ur(rt.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):ht():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class n_{constructor(e,t,r,o,l,c,m,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=v}static fromInitialDocuments(e,t,r,o){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new n_(e,t,t_.emptySet(t),l,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class AO{constructor(){this.Iu=void 0,this.listeners=[]}}class TO{constructor(){this.queries=new Uh(e=>a2(e),vb),this.onlineState="Unknown",this.Tu=new Set}}function MS(n,e){return kS.apply(this,arguments)}function kS(){return kS=(0,y.Z)(function*(n,e){const t=st(n),r=e.query;let o=!1,l=t.queries.get(r);if(l||(o=!0,l=new AO),o)try{l.Iu=yield t.onListen(r)}catch(c){const m=e_(c,`Initialization of query '${BT(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,l),l.listeners.push(e),e.Eu(t.onlineState),l.Iu&&e.Au(l.Iu)&&RS(t)}),kS.apply(this,arguments)}function NS(n,e){return PS.apply(this,arguments)}function PS(){return PS=(0,y.Z)(function*(n,e){const t=st(n),r=e.query;let o=!1;const l=t.queries.get(r);if(l){const c=l.listeners.indexOf(e);c>=0&&(l.listeners.splice(c,1),o=0===l.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),PS.apply(this,arguments)}function SO(n,e){const t=st(n);let r=!1;for(const o of e){const c=t.queries.get(o.query);if(c){for(const m of c.listeners)m.Au(o)&&(r=!0);c.Iu=o}}r&&RS(t)}function xO(n,e,t){const r=st(n),o=r.queries.get(e);if(o)for(const l of o.listeners)l.onError(t);r.queries.delete(e)}function RS(n){n.Tu.forEach(e=>{e.next()})}class OS{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new n_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=n_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class MO{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class Gk{constructor(e){this.wt=e}Wi(e){return Wu(this.wt,e)}zi(e){return e.metadata.exists?V2(this.wt,e.document,!1):ur.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return Li(e)}}class kO{constructor(e,t,r){this.xu=e,this.localStore=t,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Hk(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=yn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new Gk(this.wt);for(const o of e)if(o.metadata.queries){const l=r.Wi(o.metadata.name);for(const c of o.metadata.queries){const m=(t.get(c)||Qt()).add(l);t.set(c,m)}}return t}complete(){var e=this;return(0,y.Z)(function*(){const t=yield function sO(n,e,t,r){return oS.apply(this,arguments)}(e.localStore,new Gk(e.wt),e.documents,e.xu.id),r=e.ku(e.documents);for(const o of e.queries)yield aO(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:t}})()}}function Hk(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class $k{constructor(e){this.key=e}}class zk{constructor(e){this.key=e}}class qk{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Qt(),this.mutatedKeys=Qt(),this.Lu=u2(e),this.Uu=new t_(this.Lu)}get qu(){return this.Fu}Ku(e,t){const r=t?t.Gu:new jk,o=t?t.Uu:this.Uu;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,m=!1;const v="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,E="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((S,N)=>{const U=o.get(S),re=UT(this.query,N)?N:null,pe=!!U&&this.mutatedKeys.has(U.key),Le=!!re&&(re.hasLocalMutations||this.mutatedKeys.has(re.key)&&re.hasCommittedMutations);let Ye=!1;U&&re?U.data.isEqual(re.data)?pe!==Le&&(r.track({type:3,doc:re}),Ye=!0):this.Qu(U,re)||(r.track({type:2,doc:re}),Ye=!0,(v&&this.Lu(re,v)>0||E&&this.Lu(re,E)<0)&&(m=!0)):!U&&re?(r.track({type:0,doc:re}),Ye=!0):U&&!re&&(r.track({type:1,doc:U}),Ye=!0,(v||E)&&(m=!0)),Ye&&(re?(c=c.add(re),l=Le?l.add(S):l.delete(S)):(c=c.delete(S),l=l.delete(S)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const S="F"===this.query.limitType?c.last():c.first();c=c.delete(S.key),l=l.delete(S.key),r.track({type:1,doc:S})}return{Uu:c,Gu:r,Oi:m,mutatedKeys:l}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const l=e.Gu.pu();l.sort((E,S)=>function(N,U){const re=pe=>{switch(pe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht()}};return re(N)-re(U)}(E.type,S.type)||this.Lu(E.doc,S.doc)),this.ju(r);const c=t?this.Wu():[],m=0===this.Bu.size&&this.current?1:0,v=m!==this.$u;return this.$u=m,0!==l.length||v?{snapshot:new n_(this.query,e.Uu,o,l,e.mutatedKeys,0===m,v,!1),zu:c}:{zu:c}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new jk,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Qt(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new zk(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new $k(r))}),t}Ju(e){this.Fu=e.ji,this.Bu=Qt();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return n_.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class NO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class PO{constructor(e){this.key=e,this.Xu=!1}}class RO{constructor(e,t,r,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Zu={},this.tc=new Uh(m=>a2(m),vb),this.ec=new Map,this.nc=new Set,this.sc=new Ur(rt.comparator),this.ic=new Map,this.rc=new JT,this.oc={},this.uc=new Map,this.cc=$f.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function OO(n,e){return FS.apply(this,arguments)}function FS(){return FS=(0,y.Z)(function*(n,e){const t=ox(n);let r,o;const l=t.tc.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),o=l.view.Yu();else{const c=yield Zy(t.localStore,vl(e));t.isPrimaryClient&&mD(t.remoteStore,c);const m=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,o=yield LS(t,e,r,"current"===m)}return o}),FS.apply(this,arguments)}function LS(n,e,t,r){return VS.apply(this,arguments)}function VS(){return VS=(0,y.Z)(function*(n,e,t,r){n.hc=(S,N,U)=>{return(re=(0,y.Z)(function*(pe,Le,Ye,kt){let Bt=Le.view.Ku(Ye);Bt.Oi&&(Bt=yield hD(pe.localStore,Le.query,!1).then(({documents:on})=>Le.view.Ku(on,Bt)));const Zt=kt&&kt.targetChanges.get(Le.targetId),$t=Le.view.applyChanges(Bt,pe.isPrimaryClient,Zt);return KS(pe,Le.targetId,$t.zu),$t.snapshot}),function(pe,Le,Ye,kt){return re.apply(this,arguments)})(n,S,N,U);var re};const o=yield hD(n.localStore,e,!0),l=new qk(e,o.ji),c=l.Ku(o.documents),m=Db.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),v=l.applyChanges(c,n.isPrimaryClient,m);KS(n,t,v.zu);const E=new NO(e,t,l);return n.tc.set(e,E),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),v.snapshot}),VS.apply(this,arguments)}function FO(n,e){return BS.apply(this,arguments)}function BS(){return BS=(0,y.Z)(function*(n,e){const t=st(n),r=t.tc.get(e),o=t.ec.get(r.targetId);if(o.length>1)return t.ec.set(r.targetId,o.filter(l=>!vb(l,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Yy(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Ub(t.remoteStore,r.targetId),r_(t,r.targetId)}).catch(Rh))):(r_(t,r.targetId),yield Yy(t.localStore,r.targetId,!0))}),BS.apply(this,arguments)}function US(){return US=(0,y.Z)(function*(n,e,t){const r=sx(n);try{const o=yield function(l,c){const m=st(l),v=Ar.now(),E=c.reduce((U,re)=>U.add(re.key),Qt());let S,N;return m.persistence.runTransaction("Locally write mutations","readwrite",U=>{let re=Vs(),pe=Qt();return m.Ui.getEntries(U,E).next(Le=>{re=Le,re.forEach((Ye,kt)=>{kt.isValidDocument()||(pe=pe.add(Ye))})}).next(()=>m.localDocuments.getOverlayedDocuments(U,re)).next(Le=>{S=Le;const Ye=[];for(const kt of c){const Bt=WP(kt,S.get(kt.key).overlayedDocument);null!=Bt&&Ye.push(new Qc(kt.key,Bt,QM(Bt.value.mapValue),kr.exists(!0)))}return m.mutationQueue.addMutationBatch(U,v,Ye,c)}).next(Le=>{N=Le;const Ye=Le.applyToLocalDocumentSet(S,pe);return m.documentOverlayCache.saveOverlays(U,Le.batchId,Ye)})}).then(()=>({batchId:N.batchId,changes:A2(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(l,c,m){let v=l.oc[l.currentUser.toKey()];v||(v=new Ur(Kt)),v=v.insert(c,m),l.oc[l.currentUser.toKey()]=v}(r,o.batchId,t),yield Jc(r,o.changes),yield Jy(r.remoteStore)}catch(o){const l=e_(o,"Failed to persist write");t.reject(l)}}),US.apply(this,arguments)}function Wk(n,e){return jS.apply(this,arguments)}function jS(){return jS=(0,y.Z)(function*(n,e){const t=st(n);try{const r=yield iO(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.ic.get(l);c&&(Rt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Xu=!0:o.modifiedDocuments.size>0?Rt(c.Xu):o.removedDocuments.size>0&&(Rt(c.Xu),c.Xu=!1))}),yield Jc(t,r,e)}catch(r){yield Rh(r)}}),jS.apply(this,arguments)}function Kk(n,e,t){const r=st(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.tc.forEach((l,c)=>{const m=c.view.Eu(e);m.snapshot&&o.push(m.snapshot)}),function(l,c){const m=st(l);m.onlineState=c;let v=!1;m.queries.forEach((E,S)=>{for(const N of S.listeners)N.Eu(c)&&(v=!0)}),v&&RS(m)}(r.eventManager,e),o.length&&r.Zu.Go(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function VO(n,e,t){return GS.apply(this,arguments)}function GS(){return GS=(0,y.Z)(function*(n,e,t){const r=st(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.ic.get(e),l=o&&o.key;if(l){let c=new Ur(rt.comparator);c=c.insert(l,ur.newNoDocument(l,Mt.min()));const m=Qt().add(l),v=new Ib(Mt.min(),new Map,new Zn(Kt),c,m);yield Wk(r,v),r.sc=r.sc.remove(l),r.ic.delete(e),ZS(r)}else yield Yy(r.localStore,e,!1).then(()=>r_(r,e,t)).catch(Rh)}),GS.apply(this,arguments)}function BO(n,e){return HS.apply(this,arguments)}function HS(){return HS=(0,y.Z)(function*(n,e){const t=st(n),r=e.batch.batchId;try{const o=yield rO(t.localStore,e);WS(t,r,null),qS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Jc(t,o)}catch(o){yield Rh(o)}}),HS.apply(this,arguments)}function UO(n,e,t){return $S.apply(this,arguments)}function $S(){return $S=(0,y.Z)(function*(n,e,t){const r=st(n);try{const o=yield function(l,c){const m=st(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let E;return m.mutationQueue.lookupMutationBatch(v,c).next(S=>(Rt(null!==S),E=S.keys(),m.mutationQueue.removeMutationBatch(v,S))).next(()=>m.mutationQueue.performConsistencyCheck(v)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(v,E,c)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E)).next(()=>m.localDocuments.getDocuments(v,E))})}(r.localStore,e);WS(r,e,t),qS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Jc(r,o)}catch(o){yield Rh(o)}}),$S.apply(this,arguments)}function zS(){return zS=(0,y.Z)(function*(n,e){const t=st(n);$h(t.remoteStore)||ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const c=st(l);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>c.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.uc.get(r)||[];o.push(e),t.uc.set(r,o)}catch(r){const o=e_(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),zS.apply(this,arguments)}function qS(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function WS(n,e,t){const r=st(n);let o=r.oc[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.oc[r.currentUser.toKey()]=o}}function r_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ec.get(e))n.tc.delete(r),t&&n.Zu.lc(r,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(r=>{n.rc.containsKey(r)||Zk(n,r)})}function Zk(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(Ub(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),ZS(n))}function KS(n,e,t){for(const r of t)r instanceof $k?(n.rc.addReference(r.key,e),GO(n,r)):r instanceof zk?(ze("SyncEngine","Document no longer in limbo: "+r.key),n.rc.removeReference(r.key,e),n.rc.containsKey(r.key)||Zk(n,r.key)):ht()}function GO(n,e){const t=e.key,r=t.path.canonicalString();n.sc.get(t)||n.nc.has(r)||(ze("SyncEngine","New document in limbo: "+t),n.nc.add(r),ZS(n))}function ZS(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new rt(yn.fromString(e)),r=n.cc.next();n.ic.set(r,new PO(t)),n.sc=n.sc.insert(t,r),mD(n.remoteStore,new jh(vl(By(t.path)),r,2,Ls.ot))}}function Jc(n,e,t){return YS.apply(this,arguments)}function YS(){return YS=(0,y.Z)(function*(n,e,t){const r=st(n),o=[],l=[],c=[];var m;r.tc.isEmpty()||(r.tc.forEach((m,v)=>{c.push(r.hc(v,e,t).then(E=>{if(E){r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,E.fromCache?"not-current":"current"),o.push(E);const S=nS.Vi(v.targetId,E);l.push(S)}}))}),yield Promise.all(c),r.Zu.Go(o),yield(m=(0,y.Z)(function*(v,E){const S=st(v);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>Ce.forEach(E,U=>Ce.forEach(U.Pi,re=>S.persistence.referenceDelegate.addReference(N,U.targetId,re)).next(()=>Ce.forEach(U.vi,re=>S.persistence.referenceDelegate.removeReference(N,U.targetId,re)))))}catch(N){if(!Oh(N))throw N;ze("LocalStore","Failed to update sequence numbers: "+N)}for(const N of E){const U=N.targetId;if(!N.fromCache){const re=S.$i.get(U),Le=re.withLastLimboFreeSnapshotVersion(re.snapshotVersion);S.$i=S.$i.insert(U,Le)}}}),function(v,E){return m.apply(this,arguments)})(r.localStore,l))}),YS.apply(this,arguments)}function HO(n,e){return QS.apply(this,arguments)}function QS(){return QS=(0,y.Z)(function*(n,e){const t=st(n);if(!t.currentUser.isEqual(e)){ze("SyncEngine","User change. New user:",e.toKey());const r=yield Ck(t.localStore,e);t.currentUser=e,(o=t).uc.forEach(c=>{c.forEach(m=>{m.reject(new je(Ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.uc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Jc(t,r.Ki)}var o}),QS.apply(this,arguments)}function $O(n,e){const t=st(n),r=t.ic.get(e);if(r&&r.Xu)return Qt().add(r.key);{let o=Qt();const l=t.ec.get(e);if(!l)return o;for(const c of l){const m=t.tc.get(c);o=o.unionWith(m.view.qu)}return o}}function zO(n,e){return JS.apply(this,arguments)}function JS(){return JS=(0,y.Z)(function*(n,e){const t=st(n),r=yield hD(t.localStore,e.query,!0),o=e.view.Ju(r);return t.isPrimaryClient&&KS(t,e.targetId,o.zu),o}),JS.apply(this,arguments)}function qO(n,e){return XS.apply(this,arguments)}function XS(){return XS=(0,y.Z)(function*(n,e){const t=st(n);return Tk(t.localStore,e).then(r=>Jc(t,r))}),XS.apply(this,arguments)}function WO(n,e,t,r){return ex.apply(this,arguments)}function ex(){return ex=(0,y.Z)(function*(n,e,t,r){const o=st(n),l=yield function(c,m){const v=st(c),E=st(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",S=>E.yn(S,m).next(N=>N?v.localDocuments.getDocuments(S,N):Ce.resolve(null)))}(o.localStore,e);var m;null!==l?("pending"===t?yield Jy(o.remoteStore):"acknowledged"===t||"rejected"===t?(WS(o,e,r||null),qS(o,e),m=e,st(st(o.localStore).mutationQueue).In(m)):ht(),yield Jc(o,l)):ze("SyncEngine","Cannot apply mutation batch with id: "+e)}),ex.apply(this,arguments)}function tx(){return tx=(0,y.Z)(function*(n,e){const t=st(n);if(ox(t),sx(t),!0===e&&!0!==t.ac){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield Yk(t,r.toArray());t.ac=!0,yield TS(t.remoteStore,!0);for(const l of o)mD(t.remoteStore,l)}else if(!1===e&&!1!==t.ac){const r=[];let o=Promise.resolve();t.ec.forEach((l,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):o=o.then(()=>(r_(t,c),Yy(t.localStore,c,!0))),Ub(t.remoteStore,c)}),yield o,yield Yk(t,r),function(l){const c=st(l);c.ic.forEach((m,v)=>{Ub(c.remoteStore,v)}),c.rc.cs(),c.ic=new Map,c.sc=new Ur(rt.comparator)}(t),t.ac=!1,yield TS(t.remoteStore,!1)}}),tx.apply(this,arguments)}function Yk(n,e,t){return nx.apply(this,arguments)}function nx(){return nx=(0,y.Z)(function*(n,e,t){const r=st(n),o=[],l=[];for(const c of e){let m;const v=r.ec.get(c);if(v&&0!==v.length){m=yield Zy(r.localStore,vl(v[0]));for(const E of v){const S=r.tc.get(E),N=yield zO(r,S);N.snapshot&&l.push(N.snapshot)}}else{const E=yield Ak(r.localStore,c);m=yield Zy(r.localStore,E),yield LS(r,Qk(E),c,!1)}o.push(m)}return r.Zu.Go(l),o}),nx.apply(this,arguments)}function Qk(n){return o2(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function ZO(n){const e=st(n);return st(st(e.localStore).persistence).Ri()}function YO(n,e,t,r){return rx.apply(this,arguments)}function rx(){return rx=(0,y.Z)(function*(n,e,t,r){const o=st(n);if(o.ac)return void ze("SyncEngine","Ignoring unexpected query state notification.");const l=o.ec.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const c=yield Tk(o.localStore,l2(l[0])),m=Ib.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Jc(o,c,m);break}case"rejected":yield Yy(o.localStore,e,!0),r_(o,e,r);break;default:ht()}}),rx.apply(this,arguments)}function QO(n,e,t){return ix.apply(this,arguments)}function ix(){return ix=(0,y.Z)(function*(n,e,t){const r=ox(n);if(r.ac){for(const o of e){if(r.ec.has(o)){ze("SyncEngine","Adding an already active target "+o);continue}const l=yield Ak(r.localStore,o),c=yield Zy(r.localStore,l);yield LS(r,Qk(l),c.targetId,!1),mD(r.remoteStore,c)}for(const o of t)r.ec.has(o)&&(yield Yy(r.localStore,o,!1).then(()=>{Ub(r.remoteStore,o),r_(r,o)}).catch(Rh))}}),ix.apply(this,arguments)}function ox(n){const e=st(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$O.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VO.bind(null,e),e.Zu.Go=SO.bind(null,e.eventManager),e.Zu.lc=xO.bind(null,e.eventManager),e}function sx(n){const e=st(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UO.bind(null,e),e}class Jk{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,y.Z)(function*(){t.wt=Vb(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return Ek(this.persistence,new wk,e.initialUser,this.wt)}_c(e){return new vk(cD.Ms,this.wt)}dc(e){return new kk}terminate(){var e=this;return(0,y.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Xk extends Jk{constructor(e,t,r){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,y.Z)(function*(){yield t().call(r,e),yield r.yc.initialize(r,e),yield sx(r.yc.syncEngine),yield Jy(r.yc.remoteStore),yield r.persistence.ci(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return Ek(this.persistence,new wk,e.initialUser,this.wt)}mc(e,t){return new GR(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const r=new IP(t,this.persistence);return new CP(e.asyncQueue,r)}_c(e){const t=tS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Bs.withCacheSize(this.cacheSizeBytes):Bs.DEFAULT;return new eS(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Pk(),gD(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new kk}}class XO extends Xk{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,y.Z)(function*(){yield t().call(r,e);const o=r.yc.syncEngine;r.sharedClientState instanceof cS&&(r.sharedClientState.syncEngine={kr:WO.bind(null,o),Or:YO.bind(null,o),Mr:QO.bind(null,o),Ri:ZO.bind(null,o),Nr:qO.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.ci(function(){var l=(0,y.Z)(function*(c){yield function KO(n,e){return tx.apply(this,arguments)}(r.yc.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return l.apply(this,arguments)}}())})()}dc(e){const t=Pk();if(!cS.V(t))throw new je(Ae.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=tS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new cS(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class ax{initialize(e,t){var r=this;return(0,y.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>Kk(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=HO.bind(null,r.syncEngine),yield TS(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new TO}createDatastore(e){const t=Vb(e.databaseInfo.databaseId),r=new dO(e.databaseInfo);return new fO(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,l=m=>Kk(this.syncEngine,m,0),c=Nk.V()?new Nk:new lO,new mO(t,r,o,l,c);var t,r,o,l,c}createSyncEngine(e,t){return function(r,o,l,c,m,v,E){const S=new RO(r,o,l,c,m,v);return E&&(S.ac=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,y.Z)(function*(t){const r=st(t);ze("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield Qy(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function eN(n,e=10240){let t=0;return{read:()=>(0,y.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,y.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class _D{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class eF{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new Fi,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,y.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,y.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,y.Z)(function*(){const t=yield e.bc();if(null===t)return null;const r=e.Ac.decode(t),o=Number(r);isNaN(o)&&e.Pc(`length string (${r}) is not valid number`);const l=yield e.vc(o);return new MO(JSON.parse(l),t.length+o)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,y.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}vc(e){var t=this;return(0,y.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const r=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,y.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class tF{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,y.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new je(Ae.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,y.Z)(function*(l,c){const m=st(l),v=Sb(m.wt)+"/documents",E={documents:c.map(re=>Tb(m.wt,re))},S=yield m.ao("BatchGetDocuments",v,E,c.length),N=new Map;S.forEach(re=>{const pe=function iR(n,e){return"found"in e?function(t,r){Rt(!!r.found);const o=Wu(t,r.found.name),l=Li(r.found.updateTime),c=new eo({mapValue:{fields:r.found.fields}});return ur.newFoundDocument(o,l,c)}(n,e):"missing"in e?function(t,r){Rt(!!r.missing),Rt(!!r.readTime);const o=Wu(t,r.missing),l=Li(r.readTime);return ur.newNoDocument(o,l)}(n,e):ht()}(m.wt,re);N.set(pe.key.toString(),pe)});const U=[];return c.forEach(re=>{const pe=N.get(re.toString());Rt(!!pe),U.push(pe)}),U}),function(l,c){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new $y(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,y.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const l=rt.fromPath(o);e.mutations.push(new jT(l,e.precondition(l)))}),yield(r=(0,y.Z)(function*(o,l){const c=st(o),m=Sb(c.wt)+"/documents",v={writes:l.map(E=>xb(c.wt,E))};yield c.ro("Commit",m,v)}),function(o,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ht();t=Mt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new je(Ae.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?kr.updateTime(t):kr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Mt.min()))throw new je(Ae.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return kr.updateTime(t)}return kr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class nF{constructor(e,t,r,o,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=l,this.Dc=r.maxAttempts,this.So=new dS(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,y.Z)(function*(){const t=new tF(e.datastore),r=e.xc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(l=>{e.Nc(l)}))}).catch(o=>{e.Nc(o)})}))}xc(e){try{const t=this.updateFunction(e);return!pb(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!C2(t)}return!1}}class rF{constructor(e,t,r,o){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Oi.UNAUTHENTICATED,this.clientId=PM.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,y.Z)(function*(m){ze("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(ze("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,y.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new je(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,y.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=e_(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function tN(n,e){return lx.apply(this,arguments)}function lx(){return lx=(0,y.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ze("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,y.Z)(function*(l){r.isEqual(l)||(yield Ck(e.localStore,l),r=l)});return function(l){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),lx.apply(this,arguments)}function nN(n,e){return ux.apply(this,arguments)}function ux(){return ux=(0,y.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield cx(n);ze("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>Uk(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,l)=>Uk(e.remoteStore,l)),n.onlineComponents=e}),ux.apply(this,arguments)}function cx(n){return dx.apply(this,arguments)}function dx(){return dx=(0,y.Z)(function*(n){return n.offlineComponents||(ze("FirestoreClient","Using default OfflineComponentProvider"),yield tN(n,new Jk)),n.offlineComponents}),dx.apply(this,arguments)}function vD(n){return hx.apply(this,arguments)}function hx(){return hx=(0,y.Z)(function*(n){return n.onlineComponents||(ze("FirestoreClient","Using default OnlineComponentProvider"),yield nN(n,new ax)),n.onlineComponents}),hx.apply(this,arguments)}function rN(n){return cx(n).then(e=>e.persistence)}function px(n){return cx(n).then(e=>e.localStore)}function iN(n){return vD(n).then(e=>e.remoteStore)}function fx(n){return vD(n).then(e=>e.syncEngine)}function i_(n){return gx.apply(this,arguments)}function gx(){return gx=(0,y.Z)(function*(n){const e=yield vD(n),t=e.eventManager;return t.onListen=OO.bind(null,e.syncEngine),t.onUnlisten=FO.bind(null,e.syncEngine),t}),gx.apply(this,arguments)}function oN(n,e,t={}){const r=new Fi;return n.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return function(o,l,c,m,v){const E=new _D({next:N=>{l.enqueueAndForget(()=>NS(o,S));const U=N.docs.has(c);!U&&N.fromCache?v.reject(new je(Ae.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&N.fromCache&&m&&"server"===m.source?v.reject(new je(Ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(N)},error:N=>v.reject(N)}),S=new OS(By(c.path),E,{includeMetadataChanges:!0,Du:!0});return MS(o,S)}(yield i_(n),n.asyncQueue,e,t,r)})),r.promise}function sN(n,e,t={}){const r=new Fi;return n.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return function(o,l,c,m,v){const E=new _D({next:N=>{l.enqueueAndForget(()=>NS(o,S)),N.fromCache&&"server"===m.source?v.reject(new je(Ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(N)},error:N=>v.reject(N)}),S=new OS(c,E,{includeMetadataChanges:!0,Du:!0});return MS(o,S)}(yield i_(n),n.asyncQueue,e,t,r)})),r.promise}const aN=new Map;function mx(n,e,t){if(!t)throw new je(Ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function lN(n,e,t,r){if(!0===e&&!0===r)throw new je(Ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function uN(n){if(!rt.isDocumentKey(n))throw new je(Ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cN(n){if(rt.isDocumentKey(n))throw new je(Ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function bD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ht()}function mn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new je(Ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=bD(n);throw new je(Ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function dN(n,e){if(e<=0)throw new je(Ae.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class hN{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new je(Ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new je(Ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,lN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jb{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hN({}),this._settingsFrozen=!1,e instanceof Zc?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new je(Ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zc(o.options.projectId)}(e))}get app(){if(!this._app)throw new je(Ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new je(Ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hN(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new pP;switch(t.type){case"gapi":const r=t.client;return Rt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new yP(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new je(Ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=aN.get(e);t&&(ze("ComponentProvider","Removing Datastore"),aN.delete(e),t.terminate())}(this),Promise.resolve()}}class _r{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _r(this.firestore,e,this._key)}}class Do{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Do(this.firestore,e,this._query)}}class Zu extends Do{constructor(e,t,r){super(e,t,By(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _r(this.firestore,null,new rt(e))}withConverter(e){return new Zu(this.firestore,e,this._path)}}function pN(n,e,...t){if(n=(0,p.m9)(n),mx("collection","path",e),n instanceof jb){const r=yn.fromString(e,...t);return cN(r),new Zu(n,null,r)}{if(!(n instanceof _r||n instanceof Zu))throw new je(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(yn.fromString(e,...t));return cN(r),new Zu(n.firestore,null,r)}}function wD(n,e,...t){if(n=(0,p.m9)(n),1===arguments.length&&(e=PM.I()),mx("doc","path",e),n instanceof jb){const r=yn.fromString(e,...t);return uN(r),new _r(n,null,new rt(r))}{if(!(n instanceof _r||n instanceof Zu))throw new je(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(yn.fromString(e,...t));return uN(r),new _r(n.firestore,n instanceof Zu?n.converter:null,new rt(r))}}function fN(n,e){return n=(0,p.m9)(n),e=(0,p.m9)(e),(n instanceof _r||n instanceof Zu)&&(e instanceof _r||e instanceof Zu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function gN(n,e){return n=(0,p.m9)(n),e=(0,p.m9)(e),n instanceof Do&&e instanceof Do&&n.firestore===e.firestore&&vb(n._query,e._query)&&n.converter===e.converter}class fF{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new dS(this,"async_queue_retry"),this.Kc=()=>{const t=gD();t&&ze("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=gD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=gD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new Fi;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,y.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(t){if(!Oh(t))throw t;ze("AsyncQueue","Operation failed with retryable error: "+t)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Oc.then(()=>(this.Lc=!0,e().catch(r=>{throw this.Bc=r,this.Lc=!1,hi("INTERNAL UNHANDLED ERROR: ",function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),c}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Oc=t,t}enqueueAfterDelay(e,t,r){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const o=xS.createAndSchedule(this,e,t,r,l=>this.Wc(l));return this.$c.push(o),o}Gc(){this.Bc&&ht()}verifyOperationInProgress(){}zc(){var e=this;return(0,y.Z)(function*(){let t;do{t=e.Oc,yield t}while(t!==e.Oc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function yx(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class gF{constructor(){this._progressObserver={},this._taskCompletionResolver=new Fi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Tr extends jb{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new fF,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||mN(this),this._firestoreClient.terminate()}}function fi(n){return n._firestoreClient||mN(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function mN(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new TP(n._databaseId,l,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var l,m;n._firestoreClient=new rF(n._authCredentials,n._appCheckCredentials,n._queue,r)}function yN(n,e,t){const r=new Fi;return n.asyncQueue.enqueue((0,y.Z)(function*(){try{yield tN(n,t),yield nN(n,e),r.resolve()}catch(o){const l=o;if(!("FirebaseError"===(c=l).name?c.code===Ae.FAILED_PRECONDITION||c.code===Ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),r.reject(l)}var c})).then(()=>r.promise)}function _N(n){if(n._initialized||n._terminated)throw new je(Ae.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Xc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new je(Ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yu(Ci.fromBase64String(e))}catch(t){throw new je(Ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yu(Ci.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class qf{constructor(e){this._methodName=e}}class ED{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new je(Ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new je(Ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}}const DF=/^__.*__$/;class AF{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Qc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hy(e,this.data,t,this.fieldTransforms)}}class vN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Qc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function bN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht()}}class CD{constructor(e,t,r,o,l,c){this.settings=e,this.databaseId=t,this.wt=r,this.ignoreUndefinedProperties=o,void 0===l&&this.Xc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new CD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ta({path:r,na:!1});return o.sa(e),o}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ta({path:r,na:!1});return o.Xc(),o}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return AD(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(bN(this.Zc)&&DF.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class TF{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=r||Vb(e)}aa(e,t,r,o=!1){return new CD({Zc:e,methodName:t,ca:r,path:Yr.emptyPath(),na:!1,ua:o},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Wf(n){const e=n._freezeSettings(),t=Vb(n._databaseId);return new TF(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ID(n,e,t,r,o,l={}){const c=n.aa(l.merge||l.mergeFields?2:0,e,t,o);wx("Data must be an object, but it was:",c,r);const m=CN(r,c);let v,E;if(l.merge)v=new Na(c.fieldMask),E=c.fieldTransforms;else if(l.mergeFields){const S=[];for(const N of l.mergeFields){const U=Ex(e,N,t);if(!c.contains(U))throw new je(Ae.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);DN(S,U)||S.push(U)}v=new Na(S),E=c.fieldTransforms.filter(N=>v.covers(N.field))}else v=null,E=c.fieldTransforms;return new AF(new eo(m),v,E)}class Gb extends qf{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gb}}function wN(n,e,t){return new CD({Zc:3,ca:e.settings.ca,methodName:n._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class _x extends qf{_toFieldTransform(e){return new bb(e.path,new jy)}isEqual(e){return e instanceof _x}}class SF extends qf{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=wN(this,e,!0),r=this.ha.map(l=>Kf(l,t)),o=new Ff(r);return new bb(e.path,o)}isEqual(e){return this===e}}class xF extends qf{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=wN(this,e,!0),r=this.ha.map(l=>Kf(l,t)),o=new Lf(r);return new bb(e.path,o)}isEqual(e){return this===e}}class MF extends qf{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new Gy(e.wt,h2(e.wt,this.la));return new bb(e.path,t)}isEqual(e){return this===e}}function vx(n,e,t,r){const o=n.aa(1,e,t);wx("Data must be an object, but it was:",o,r);const l=[],c=eo.empty();kf(r,(v,E)=>{const S=DD(e,v,t);E=(0,p.m9)(E);const N=o.ia(S);if(E instanceof Gb)l.push(S);else{const U=Kf(E,N);null!=U&&(l.push(S),c.set(S,U))}});const m=new Na(l);return new vN(c,m,o.fieldTransforms)}function bx(n,e,t,r,o,l){const c=n.aa(1,e,t),m=[Ex(e,r,t)],v=[o];if(l.length%2!=0)throw new je(Ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let U=0;U<l.length;U+=2)m.push(Ex(e,l[U])),v.push(l[U+1]);const E=[],S=eo.empty();for(let U=m.length-1;U>=0;--U)if(!DN(E,m[U])){const re=m[U];let pe=v[U];pe=(0,p.m9)(pe);const Le=c.ia(re);if(pe instanceof Gb)E.push(re);else{const Ye=Kf(pe,Le);null!=Ye&&(E.push(re),S.set(re,Ye))}}const N=new Na(E);return new vN(S,N,c.fieldTransforms)}function EN(n,e,t,r=!1){return Kf(t,n.aa(r?4:3,e))}function Kf(n,e){if(IN(n=(0,p.m9)(n)))return wx("Unsupported field value:",e,n),CN(n,e);if(n instanceof qf)return function(t,r){if(!bN(r.Zc))throw r.oa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,r){const o=[];let l=0;for(const c of t){let m=Kf(c,r.ra(l));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),l++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,p.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return h2(r.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Ar.fromDate(t);return{timestampValue:Ab(r.wt,o)}}if(t instanceof Ar){const o=new Ar(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ab(r.wt,o)}}if(t instanceof ED)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Yu)return{bytesValue:P2(r.wt,t._byteString)};if(t instanceof _r){const o=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(o))throw r.oa(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:GT(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.oa(`Unsupported field value: ${bD(t)}`)}(n,e)}function CN(n,e){const t={};return jM(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):kf(n,(r,o)=>{const l=Kf(o,e.ea(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function IN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ar||n instanceof ED||n instanceof Yu||n instanceof _r||n instanceof qf)}function wx(n,e,t){if(!IN(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=bD(t);throw e.oa("an object"===r?n+" a custom object":n+" "+r)}var r}function Ex(n,e,t){if((e=(0,p.m9)(e))instanceof Xc)return e._internalPath;if("string"==typeof e)return DD(n,e);throw AD("Field path arguments must be of type string or ",n,!1,void 0,t)}const kF=new RegExp("[~\\*/\\[\\]]");function DD(n,e,t){if(e.search(kF)>=0)throw AD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Xc(...e.split("."))._internalPath}catch{throw AD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function AD(n,e,t,r,o){const l=r&&!r.isEmpty(),c=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let v="";return(l||c)&&(v+=" (found",l&&(v+=` in field ${r}`),c&&(v+=` in document ${o}`),v+=")"),new je(Ae.INVALID_ARGUMENT,m+n+v)}function DN(n,e){return n.some(t=>t.isEqual(e))}class Hb{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new _r(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new NF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(TD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class NF extends Hb{data(){return super.data()}}function TD(n,e){return"string"==typeof e?DD(n,e):e instanceof Xc?e._internalPath:e._delegate._internalPath}class Zf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ed extends Hb{constructor(e,t,r,o,l,c){super(e,t,r,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new $b(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(TD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class $b extends ed{data(e={}){return super.data(e)}}class qh{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Zf(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new $b(this._firestore,this._userDataWriter,r.key,r,new Zf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new je(Ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new $b(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Zf(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>o||3!==c.type).map(c=>{const m=new $b(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Zf(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,E=-1;return 0!==c.type&&(v=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),1!==c.type&&(l=l.add(c.doc),E=l.indexOf(c.doc.key)),{type:PF(c.type),doc:m,oldIndex:v,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function PF(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht()}}function AN(n,e){return n instanceof ed&&e instanceof ed?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof qh&&e instanceof qh&&n._firestore===e._firestore&&gN(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function TN(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new je(Ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zb{}function Wh(n,...e){for(const t of e)n=t._apply(n);return n}class RF extends zb{constructor(e,t,r){super(),this.fa=e,this.da=t,this._a=r,this.type="where"}_apply(e){const t=Wf(e.firestore),r=function(o,l,c,m,v,E,S){let N;if(v.isKeyField()){if("array-contains"===E||"array-contains-any"===E)throw new je(Ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if("in"===E||"not-in"===E){PN(S,E);const re=[];for(const pe of S)re.push(NN(m,o,pe));N={arrayValue:{values:re}}}else N=NN(m,o,S)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||PN(S,E),N=EN(c,"where",S,"in"===E||"not-in"===E);const U=to.create(v,E,N);return function(re,pe){if(pe.ht()){const Ye=LT(re);if(null!==Ye&&!Ye.isEqual(pe.field))throw new je(Ae.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ye.toString()}' and '${pe.field.toString()}'`);const kt=FT(re);null!==kt&&RN(0,pe.field,kt)}const Le=function(Ye,kt){for(const Bt of Ye.filters)if(kt.indexOf(Bt.op)>=0)return Bt.op;return null}(re,function(Ye){switch(Ye){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(pe.op));if(null!==Le)throw new je(Ae.INVALID_ARGUMENT,Le===pe.op?`Invalid query. You cannot use more than one '${pe.op.toString()}' filter.`:`Invalid query. You cannot use '${pe.op.toString()}' filters with '${Le.toString()}' filters.`)}(o,U),U}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new Do(e.firestore,e.converter,function(o,l){const c=o.filters.concat([l]);return new Yc(o.path,o.collectionGroup,o.explicitOrderBy.slice(),c,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class FF extends zb{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(r,o,l){if(null!==r.startAt)throw new je(Ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new je(Ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Vy(o,l);return function(m,v){if(null===FT(m)){const E=LT(m);null!==E&&RN(0,E,v.field)}}(r,c),c}(e._query,this.fa,this.wa);return new Do(e.firestore,e.converter,function(r,o){const l=r.explicitOrderBy.concat([o]);return new Yc(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class SN extends zb{constructor(e,t,r){super(),this.type=e,this.ma=t,this.ga=r}_apply(e){return new Do(e.firestore,e.converter,s2(e._query,this.ma,this.ga))}}class xN extends zb{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=kN(e,this.type,this.ya,this.pa);return new Do(e.firestore,e.converter,(o=t,new Yc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class MN extends zb{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=kN(e,this.type,this.ya,this.pa);return new Do(e.firestore,e.converter,(o=t,new Yc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function kN(n,e,t,r){if(t[0]=(0,p.m9)(t[0]),t[0]instanceof Hb)return function(o,l,c,m,v){if(!m)throw new je(Ae.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const E=[];for(const S of Uy(o))if(S.field.isKeyField())E.push(Rf(l,m.key));else{const N=m.data.field(S.field);if(PT(N))throw new je(Ae.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===N){const U=S.field.canonicalString();throw new je(Ae.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${U}' (used as the orderBy) does not exist.`)}E.push(N)}return new Bh(E,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Wf(n.firestore);return function(l,c,m,v,E,S){const N=l.explicitOrderBy;if(E.length>N.length)throw new je(Ae.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const U=[];for(let re=0;re<E.length;re++){const pe=E[re];if(N[re].field.isKeyField()){if("string"!=typeof pe)throw new je(Ae.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof pe}`);if(!VT(l)&&-1!==pe.indexOf("/"))throw new je(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${pe}' contains a slash.`);const Le=l.path.child(yn.fromString(pe));if(!rt.isDocumentKey(Le))throw new je(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${Le}' is not because it contains an odd number of segments.`);const Ye=new rt(Le);U.push(Rf(c,Ye))}else{const Le=EN(m,v,pe);U.push(Le)}}return new Bh(U,S)}(n._query,n.firestore._databaseId,o,e,t,r)}}function NN(n,e,t){if("string"==typeof(t=(0,p.m9)(t))){if(""===t)throw new je(Ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VT(e)&&-1!==t.indexOf("/"))throw new je(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(yn.fromString(t));if(!rt.isDocumentKey(r))throw new je(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Rf(n,new rt(r))}if(t instanceof _r)return Rf(n,t._key);throw new je(Ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bD(t)}.`)}function PN(n,e){if(!Array.isArray(n)||0===n.length)throw new je(Ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new je(Ae.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function RN(n,e,t){if(!t.isEqual(e))throw new je(Ae.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const $F={maxAttempts:5};class Cx{convertValue(e,t="none"){switch(Pf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Nf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ht()}}convertObject(e,t){const r={};return kf(e.fields,(o,l)=>{r[o]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new ED(jr(e.latitude),jr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=HM(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(hb(e));default:return null}}convertTimestamp(e){const t=Fh(e);return new Ar(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=yn.fromString(e);Rt(H2(r));const o=new Zc(r.get(1),r.get(3)),l=new rt(r.popFirst(5));return o.isEqual(t)||hi(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function SD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class zF extends Cx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _r(this.firestore,null,t)}}class ON{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Wf(e)}set(e,t,r){this._verifyNotCommitted();const o=Kh(e,this._firestore),l=SD(o.converter,t,r),c=ID(this._dataReader,"WriteBatch.set",o._key,l,null!==o.converter,r);return this._mutations.push(c.toMutation(o._key,kr.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const l=Kh(e,this._firestore);let c;return c="string"==typeof(t=(0,p.m9)(t))||t instanceof Xc?bx(this._dataReader,"WriteBatch.update",l._key,t,r,o):vx(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,kr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Kh(e,this._firestore);return this._mutations=this._mutations.concat(new $y(t._key,kr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new je(Ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Kh(n,e){if((n=(0,p.m9)(n)).firestore!==e)throw new je(Ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Yf extends Cx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _r(this.firestore,null,t)}}function FN(n,e,t){n=mn(n,_r);const r=mn(n.firestore,Tr),o=SD(n.converter,e,t);return o_(r,[ID(Wf(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,kr.none())])}function LN(n,e,t,...r){n=mn(n,_r);const o=mn(n.firestore,Tr),l=Wf(o);let c;return c="string"==typeof(e=(0,p.m9)(e))||e instanceof Xc?bx(l,"updateDoc",n._key,e,t,r):vx(l,"updateDoc",n._key,e),o_(o,[c.toMutation(n._key,kr.exists(!0))])}function VN(n,...e){var t,r,o;n=(0,p.m9)(n);let l={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||yx(e[c])||(l=e[c],c++);const m={includeMetadataChanges:l.includeMetadataChanges};if(yx(e[c])){const N=e[c];e[c]=null===(t=N.next)||void 0===t?void 0:t.bind(N),e[c+1]=null===(r=N.error)||void 0===r?void 0:r.bind(N),e[c+2]=null===(o=N.complete)||void 0===o?void 0:o.bind(N)}let v,E,S;if(n instanceof _r)E=mn(n.firestore,Tr),S=By(n._key.path),v={next:N=>{e[c]&&e[c](Ix(E,n,N))},error:e[c+1],complete:e[c+2]};else{const N=mn(n,Do);E=mn(N.firestore,Tr),S=N._query;const U=new Yf(E);v={next:re=>{e[c]&&e[c](new qh(E,U,N,re))},error:e[c+1],complete:e[c+2]},TN(n._query)}return function(N,U,re,pe){const Le=new _D(pe),Ye=new OS(U,Le,re);return N.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return MS(yield i_(N),Ye)})),()=>{Le.Tc(),N.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return NS(yield i_(N),Ye)}))}}(fi(E),S,m,v)}function o_(n,e){return function(t,r){const o=new Fi;return t.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return function LO(n,e,t){return US.apply(this,arguments)}(yield fx(t),r,o)})),o.promise}(fi(n),e)}function Ix(n,e,t){const r=t.docs.get(e._key),o=new Yf(n);return new ed(n,o,e._key,r,new Zf(t.hasPendingWrites,t.fromCache),e.converter)}class t3 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Wf(e)}get(e){const t=Kh(e,this._firestore),r=new zF(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return ht();const l=o[0];if(l.isFoundDocument())return new Hb(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new Hb(this._firestore,r,t._key,null,t.converter);throw ht()})}set(e,t,r){const o=Kh(e,this._firestore),l=SD(o.converter,t,r),c=ID(this._dataReader,"Transaction.set",o._key,l,null!==o.converter,r);return this._transaction.set(o._key,c),this}update(e,t,r,...o){const l=Kh(e,this._firestore);let c;return c="string"==typeof(t=(0,p.m9)(t))||t instanceof Xc?bx(this._dataReader,"Transaction.update",l._key,t,r,o):vx(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,c),this}delete(e){const t=Kh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Kh(e,this._firestore),r=new Yf(this._firestore);return super.get(e).then(o=>new ed(this._firestore,r,t._key,o._document,new Zf(!1,!1),t.converter))}}function Dx(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new je("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function UN(){if(typeof Uint8Array>"u")throw new je("unimplemented","Uint8Arrays are not available in this environment.")}function jN(){if(!function DP(){return typeof atob<"u"}())throw new je("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Ry=f.SDK_VERSION,(0,f._registerComponent)(new ga.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),l=new Tr(o,new gP(t.getProvider("auth-internal")),new _P(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,f.registerVersion)(MM,"3.4.11",n),(0,f.registerVersion)(MM,"3.4.11","esm2017")}();class qb{constructor(e){this._delegate=e}static fromBase64String(e){return jN(),new qb(Yu.fromBase64String(e))}static fromUint8Array(e){return UN(),new qb(Yu.fromUint8Array(e))}toBase64(){return jN(),this._delegate.toBase64()}toUint8Array(){return UN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ax(n){return function c3(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class d3{enableIndexedDbPersistence(e,t){return function yF(n,e){_N(n=mn(n,Tr));const t=fi(n),r=n._freezeSettings(),o=new ax;return yN(t,o,new Xk(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function _F(n){_N(n=mn(n,Tr));const e=fi(n),t=n._freezeSettings(),r=new ax;return yN(e,r,new XO(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function vF(n){if(n._initialized&&!n._terminated)throw new je(Ae.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Fi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,y.Z)(function*(){try{yield(t=(0,y.Z)(function*(r){if(!tu.V())return Promise.resolve();const o=r+"main";yield tu.delete(o)}),function(r){return t.apply(this,arguments)})(tS(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class GN{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Zc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&lb("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function hF(n,e,t,r={}){var o;const l=(n=mn(n,jb))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&lb("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,m;if("string"==typeof r.mockUserToken)c=r.mockUserToken,m=Oi.MOCK_USER;else{c=(0,p.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new je(Ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Oi(v)}n._authCredentials=new fP(new kM(c,m))}}(this._delegate,e,t,r)}enableNetwork(){return function wF(n){return function iF(n){return n.asyncQueue.enqueue((0,y.Z)(function*(){const e=yield rN(n),t=yield iN(n);return e.setNetworkEnabled(!0),function(r){const o=st(r);return o.lu.delete(0),Bb(o)}(t)}))}(fi(n=mn(n,Tr)))}(this._delegate)}disableNetwork(){return function EF(n){return function oF(n){return n.asyncQueue.enqueue((0,y.Z)(function*(){const e=yield rN(n),t=yield iN(n);return e.setNetworkEnabled(!1),(r=(0,y.Z)(function*(o){const l=st(o);l.lu.add(0),yield Qy(l),l._u.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(fi(n=mn(n,Tr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,lN("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function bF(n){return function(e){const t=new Fi;return e.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return function jO(n,e){return zS.apply(this,arguments)}(yield fx(e),t)})),t.promise}(fi(n=mn(n,Tr)))}(this._delegate)}onSnapshotsInSync(e){return function e3(n,e){return function lF(n,e){const t=new _D(e);return n.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return r=yield i_(n),o=t,st(r).Tu.add(o),void o.next();var r,o})),()=>{t.Tc(),n.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return r=yield i_(n),o=t,void st(r).Tu.delete(o);var r,o}))}}(fi(n=mn(n,Tr)),yx(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new je("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new s_(this,pN(this._delegate,e))}catch(t){throw is(t,"collection()","Firestore.collection()")}}doc(e){try{return new bl(this,wD(this._delegate,e))}catch(t){throw is(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new os(this,function pF(n,e){if(n=mn(n,jb),mx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new je(Ae.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Do(n,null,(t=e,new Yc(yn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw is(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function n3(n,e,t){n=mn(n,Tr);const r=Object.assign(Object.assign({},$F),t);return function(o){if(o.maxAttempts<1)throw new je(Ae.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function uF(n,e,t){const r=new Fi;return n.asyncQueue.enqueueAndForget((0,y.Z)(function*(){const o=yield(l=n,vD(l).then(c=>c.datastore));var l;new nF(n.asyncQueue,o,t,e,r).run()})),r.promise}(fi(n),o=>e(new t3(n,o)),r)}(this._delegate,t=>e(new HN(this,t)))}batch(){return fi(this._delegate),new $N(new ON(this._delegate,e=>o_(this._delegate,e)))}loadBundle(e){return function CF(n,e){const t=fi(n=mn(n,Tr)),r=new gF;return function cF(n,e,t,r){const o=function(l,c){let m;return m="string"==typeof l?(new TextEncoder).encode(l):l,v=function(v,E){if(v instanceof Uint8Array)return eN(v,E);if(v instanceof ArrayBuffer)return eN(new Uint8Array(v),E);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new eF(v,c);var v}(t,Vb(e));n.asyncQueue.enqueueAndForget((0,y.Z)(function*(){!function JO(n,e,t){const r=st(n);var o;(o=(0,y.Z)(function*(l,c,m){try{const v=yield c.getMetadata();if(yield function(U,re){const pe=st(U),Le=Li(re.createTime);return pe.persistence.runTransaction("hasNewerBundle","readonly",Ye=>pe.Ds.getBundleMetadata(Ye,re.id)).then(Ye=>!!Ye&&Ye.createTime.compareTo(Le)>=0)}(l.localStore,v))return yield c.close(),m._completeWith({taskState:"Success",documentsLoaded:(U=v).totalDocuments,bytesLoaded:U.totalBytes,totalDocuments:U.totalDocuments,totalBytes:U.totalBytes}),Promise.resolve(new Set);m._updateProgress(Hk(v));const E=new kO(v,l.localStore,c.wt);let S=yield c.fc();for(;S;){const U=yield E.Nu(S);U&&m._updateProgress(U),S=yield c.fc()}const N=yield E.complete();return yield Jc(l,N.Mu,void 0),yield function(U,re){const pe=st(U);return pe.persistence.runTransaction("Save bundle","readwrite",Le=>pe.Ds.saveBundleMetadata(Le,re))}(l.localStore,v),m._completeWith(N.progress),Promise.resolve(N.Ou)}catch(v){return lb("SyncEngine",`Loading bundle failed with ${v}`),m._failWith(v),Promise.resolve(new Set)}var U}),function(l,c,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield fx(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function IF(n,e){return function dF(n,e){return n.asyncQueue.enqueue((0,y.Z)(function*(){return function(t,r){const o=st(t);return o.persistence.runTransaction("Get named query","readonly",l=>o.Ds.getNamedQuery(l,r))}(yield px(n),e)}))}(fi(n=mn(n,Tr)),e).then(t=>t?new Do(n,null,t.query):null)}(this._delegate,e).then(t=>t?new os(this,t):null)}}class xD extends Cx{constructor(e){super(),this.firestore=e}convertBytes(e){return new qb(new Yu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return bl.forKey(t,this.firestore,null)}}class HN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new xD(e)}get(e){const t=Jf(e);return this._delegate.get(t).then(r=>new Wb(this._firestore,new ed(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Jf(e);return r?(Dx("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=Jf(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=Jf(e);return this._delegate.delete(t),this}}class $N{constructor(e){this._delegate=e}set(e,t,r){const o=Jf(e);return r?(Dx("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=Jf(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=Jf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Qf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new $b(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Kb(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Qf.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let l=o.get(t);return l||(l=new Qf(e,new xD(e),t),o.set(t,l)),l}}Qf.INSTANCES=new WeakMap;class bl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new xD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new je("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new bl(t,new _r(t._delegate,r,new rt(e)))}static forKey(e,t,r){return new bl(t,new _r(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new s_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new s_(this.firestore,pN(this._delegate,e))}catch(t){throw is(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,p.m9)(e))instanceof _r&&fN(this._delegate,e)}set(e,t){t=Dx("DocumentReference.set",t);try{return t?FN(this._delegate,e,t):FN(this._delegate,e)}catch(r){throw is(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?LN(this._delegate,e):LN(this._delegate,e,t,...r)}catch(o){throw is(o,"updateDoc()","DocumentReference.update()")}}delete(){return function JF(n){return o_(mn(n.firestore,Tr),[new $y(n._key,kr.none())])}(this._delegate)}onSnapshot(...e){const t=zN(e),r=qN(e,o=>new Wb(this.firestore,new ed(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return VN(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function WF(n){n=mn(n,_r);const e=mn(n.firestore,Tr),t=fi(e),r=new Yf(e);return function sF(n,e){const t=new Fi;return n.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return(r=(0,y.Z)(function*(o,l,c){try{const m=yield function(v,E){const S=st(v);return S.persistence.runTransaction("read document","readonly",N=>S.localDocuments.getDocument(N,E))}(o,l);m.isFoundDocument()?c.resolve(m):m.isNoDocument()?c.resolve(null):c.reject(new je(Ae.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const v=e_(m,`Failed to get document '${l} from cache`);c.reject(v)}}),function(o,l,c){return r.apply(this,arguments)})(yield px(n),e,t);var r})),t.promise}(t,n._key).then(o=>new ed(e,r,n._key,o,new Zf(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function KF(n){n=mn(n,_r);const e=mn(n.firestore,Tr);return oN(fi(e),n._key,{source:"server"}).then(t=>Ix(e,n,t))}(this._delegate):function qF(n){n=mn(n,_r);const e=mn(n.firestore,Tr);return oN(fi(e),n._key).then(t=>Ix(e,n,t))}(this._delegate),t.then(r=>new Wb(this.firestore,new ed(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new bl(this.firestore,this._delegate.withConverter(e?Qf.getInstance(this.firestore,e):null))}}function is(n,e,t){return n.message=n.message.replace(e,t),n}function zN(n){for(const e of n)if("object"==typeof e&&!Ax(e))return e;return{}}function qN(n,e){var t,r;let o;return o=Ax(n[0])?n[0]:Ax(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{o.next&&o.next(e(l))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class Wb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new bl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return AN(this._delegate,e._delegate)}}class Kb extends Wb{data(e){const t=this._delegate.data(e);return function hP(n,e){n||ht()}(void 0!==t),t}}class os{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new xD(e)}where(e,t,r){try{return new os(this.firestore,Wh(this._delegate,function OF(n,e,t){const r=e,o=TD("where",n);return new RF(o,r,t)}(e,t,r)))}catch(o){throw is(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new os(this.firestore,Wh(this._delegate,function LF(n,e="asc"){const t=e,r=TD("orderBy",n);return new FF(r,t)}(e,t)))}catch(r){throw is(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new os(this.firestore,Wh(this._delegate,function VF(n){return dN("limit",n),new SN("limit",n,"F")}(e)))}catch(t){throw is(t,"limit()","Query.limit()")}}limitToLast(e){try{return new os(this.firestore,Wh(this._delegate,function BF(n){return dN("limitToLast",n),new SN("limitToLast",n,"L")}(e)))}catch(t){throw is(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new os(this.firestore,Wh(this._delegate,function UF(...n){return new xN("startAt",n,!0)}(...e)))}catch(t){throw is(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new os(this.firestore,Wh(this._delegate,function jF(...n){return new xN("startAfter",n,!1)}(...e)))}catch(t){throw is(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new os(this.firestore,Wh(this._delegate,function GF(...n){return new MN("endBefore",n,!1)}(...e)))}catch(t){throw is(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new os(this.firestore,Wh(this._delegate,function HF(...n){return new MN("endAt",n,!0)}(...e)))}catch(t){throw is(t,"endAt()","Query.endAt()")}}isEqual(e){return gN(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function YF(n){n=mn(n,Do);const e=mn(n.firestore,Tr),t=fi(e),r=new Yf(e);return function aF(n,e){const t=new Fi;return n.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return(r=(0,y.Z)(function*(o,l,c){try{const m=yield hD(o,l,!0),v=new qk(l,m.ji),E=v.Ku(m.documents),S=v.applyChanges(E,!1);c.resolve(S.snapshot)}catch(m){const v=e_(m,`Failed to execute query '${l} against cache`);c.reject(v)}}),function(o,l,c){return r.apply(this,arguments)})(yield px(n),e,t);var r})),t.promise}(t,n._query).then(o=>new qh(e,r,n,o))}(this._delegate):"server"===e?.source?function QF(n){n=mn(n,Do);const e=mn(n.firestore,Tr),t=fi(e),r=new Yf(e);return sN(t,n._query,{source:"server"}).then(o=>new qh(e,r,n,o))}(this._delegate):function ZF(n){n=mn(n,Do);const e=mn(n.firestore,Tr),t=fi(e),r=new Yf(e);return TN(n._query),sN(t,n._query).then(o=>new qh(e,r,n,o))}(this._delegate),t.then(r=>new Tx(this.firestore,new qh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=zN(e),r=qN(e,o=>new Tx(this.firestore,new qh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return VN(this._delegate,t,r)}withConverter(e){return new os(this.firestore,this._delegate.withConverter(e?Qf.getInstance(this.firestore,e):null))}}class p3{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Kb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Tx{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new os(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Kb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new p3(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Kb(this._firestore,r))})}isEqual(e){return AN(this._delegate,e._delegate)}}class s_ extends os{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new bl(this.firestore,e):null}doc(e){try{return new bl(this.firestore,void 0===e?wD(this._delegate):wD(this._delegate,e))}catch(t){throw is(t,"doc()","CollectionReference.doc()")}}add(e){return function XF(n,e){const t=mn(n.firestore,Tr),r=wD(n),o=SD(n.converter,e);return o_(t,[ID(Wf(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,kr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new bl(this.firestore,t))}isEqual(e){return fN(this._delegate,e._delegate)}withConverter(e){return new s_(this.firestore,this._delegate.withConverter(e?Qf.getInstance(this.firestore,e):null))}}function Jf(n){return mn(n,_r)}class Sx{constructor(...e){this._delegate=new Xc(...e)}static documentId(){return new Sx(Yr.keyField().canonicalString())}isEqual(e){return(e=(0,p.m9)(e))instanceof Xc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Xf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function i3(){return new _x("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Xf(e)}static delete(){const e=function r3(){return new Gb("deleteField")}();return e._methodName="FieldValue.delete",new Xf(e)}static arrayUnion(...e){const t=function o3(...n){return new SF("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Xf(t)}static arrayRemove(...e){const t=function s3(...n){return new xF("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Xf(t)}static increment(e){const t=function a3(n){return new MF("increment",n)}(e);return t._methodName="FieldValue.increment",new Xf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const f3={Firestore:GN,GeoPoint:ED,Timestamp:Ar,Blob:qb,Transaction:HN,WriteBatch:$N,DocumentReference:bl,DocumentSnapshot:Wb,Query:os,QueryDocumentSnapshot:Kb,QuerySnapshot:Tx,CollectionReference:s_,FieldPath:Sx,FieldValue:Xf,setLogLevel:function h3(n){!function dP(n){Ph.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function WN(n,e){return function y3(n,e=vg.z){return new Gt.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function xx(n,e){return WN(n,e).pipe((0,On.U)(t=>({payload:t,type:"query"})))}function MD(n,e){return xx(n,e).pipe(Ym(void 0),T0(),(0,On.U)(([t,r])=>{const o=r.payload.docChanges(),l=o.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,m)=>{const v=o.find(S=>S.doc.ref.isEqual(c.ref)),E=t?.payload.docs.find(S=>S.ref.isEqual(c.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(c.metadata)||!v&&E&&JSON.stringify(E.metadata)===JSON.stringify(c.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:c}})}),l}))}function KN(n,e,t){return MD(n,t).pipe(Tu((r,o)=>function v3(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function b3(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Mx(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Mx(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Mx(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(l=>l.payload),e),[]),Su(),(0,On.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function Mx(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function ZN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function m3(n){(function g3(n,e){n.INTERNAL.registerComponent(new ga.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},f3)))})(n,(e,t)=>new GN(e,t,new d3)),n.registerVersion("@firebase/firestore-compat","0.1.20")}(kd.Z);class YN{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=MD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,On.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Ym(void 0),T0(),Xp(([r,o])=>o.length>0||!r),(0,On.U)(([r,o])=>o),qt.iC)}auditTrail(e){return this.stateChanges(e).pipe(Tu((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=ZN(e);return KN(this.query,t,this.afs.schedulers.outsideAngular).pipe(qt.iC)}valueChanges(e={}){return xx(this.query,this.afs.schedulers.outsideAngular).pipe((0,On.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),qt.iC)}get(e){return(0,en.D)(this.query.get(e)).pipe(qt.iC)}add(e){return this.ref.add(e)}doc(e){return new QN(this.ref.doc(e),this.afs)}}class QN{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:l}=JN(r,t);return new YN(o,l,this.afs)}snapshotChanges(){return function _3(n,e){return WN(n,e).pipe(Ym(void 0),T0(),(0,On.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(qt.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,On.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,en.D)(this.ref.get(e)).pipe(qt.iC)}}class w3{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?MD(this.query,this.afs.schedulers.outsideAngular).pipe((0,On.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Xp(t=>t.length>0),qt.iC):MD(this.query,this.afs.schedulers.outsideAngular).pipe(qt.iC)}auditTrail(e){return this.stateChanges(e).pipe(Tu((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=ZN(e);return KN(this.query,t,this.afs.schedulers.outsideAngular).pipe(qt.iC)}valueChanges(e={}){return xx(this.query,this.afs.schedulers.outsideAngular).pipe((0,On.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),qt.iC)}get(e){return(0,en.D)(this.query.get(e)).pipe(qt.iC)}}const E3=new d.OlP("angularfire2.enableFirestorePersistence"),C3=new d.OlP("angularfire2.firestore.persistenceSettings"),I3=new d.OlP("angularfire2.firestore.settings"),D3=new d.OlP("angularfire2.firestore.use-emulator");function JN(n,e=(t=>t)){return{query:e(n),ref:n}}let A3=(()=>{class n{constructor(t,r,o,l,c,m,v,E,S,N,U,re,pe,Le,Ye,kt,Bt){this.schedulers=v;const Zt=(0,tt.on)(t,m,r),$t=S;N&&qm(Zt,m,U,pe,Le,Ye,re,kt),[this.firestore,this.persistenceEnabled$]=(0,tt.cc)(`${Zt.name}.firestore`,"AngularFirestore",Zt.name,()=>{const on=m.runOutsideAngular(()=>Zt.firestore());if(l&&on.settings(l),$t&&on.useEmulator(...$t),o&&!Dl(c)){const Nn=()=>{try{return(0,en.D)(on.enablePersistence(E||void 0).then(()=>!0,()=>!1))}catch(Ao){return typeof console<"u"&&console.warn(Ao),$l(!1)}};return[on,m.runOutsideAngular(Nn)]}return[on,$l(!1)]},[l,$t,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:c}=JN(o,r),m=this.schedulers.ngZone.run(()=>l);return new YN(m,c,this)}collectionGroup(t,r){const o=r||(c=>c),l=this.firestore.collectionGroup(t);return new w3(o(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new QN(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(tt.Dh),d.LFG(tt.xv,8),d.LFG(E3,8),d.LFG(I3,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(qt.HU),d.LFG(C3,8),d.LFG(D3,8),d.LFG(df,8),d.LFG(Gm,8),d.LFG(Hm,8),d.LFG($m,8),d.LFG(zm,8),d.LFG(v0,8),d.LFG(KC,8),d.LFG(Um,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),kx=(()=>{class n{constructor(t){this.db=t}CreateSquad(t){""==t.nome?alert("compila il campo nome"):0==t.crediti?alert("aumentare il numero di crediti"):Co().fire({title:"Sicuro di voler aggiungere "+t.nome+"?",text:"Aggiungerai questa squadra ai partecipanti all'asta",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aggiungi!",cancelButtonText:"Annulla"}).then(r=>{r.isConfirmed&&this.db.collection("squadre").doc(t.nome).set(Object.assign({},t)).then(()=>{Co().fire("Aggiunta!","La squadra \xe8 stata aggiunta correttamente.","success")})})}GetSquad(){return this.db.collection("squadre").valueChanges()}UpdateSquad(t){this.db.collection("squadre").doc(t.nome).set(Object.assign({},t))}DeleteSquad(t){Co().fire({title:"Sicuro di voler eliminare "+t.nome+"?",text:"Eliminerai questa squadra dai partecipanti all'asta",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Elimina!",cancelButtonText:"Annulla"}).then(r=>{r.isConfirmed&&this.db.collection("squadre").doc(t.nome).delete()})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(A3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function T3(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"tr",11)(1,"th",14),d._uU(2),d.qZA(),d.TgZ(3,"td",15),d._uU(4),d.qZA(),d.TgZ(5,"td",15),d._UZ(6,"img",16),d.qZA(),d.TgZ(7,"td",15)(8,"i",17),d.NdJ("click",function(){const l=d.CHM(t).$implicit,c=d.oxw(2);return d.KtG(c.firebaseService.DeleteSquad(l))}),d.qZA()()()}if(2&n){const t=e.$implicit;d.xp6(2),d.Oqu(t.nome),d.xp6(2),d.Oqu(t.crediti),d.xp6(2),d.Q6J("src",t.logo,d.LSH)}}function S3(n,e){if(1&n&&(d.TgZ(0,"div",9)(1,"table",10)(2,"thead",11)(3,"tr")(4,"th",12),d._uU(5,"Nome"),d.qZA(),d.TgZ(6,"th",12),d._uU(7,"Crediti"),d.qZA(),d.TgZ(8,"th",12),d._uU(9,"Logo"),d.qZA(),d.TgZ(10,"th",12),d._uU(11,"Elimina"),d.qZA()()(),d.TgZ(12,"tbody"),d.YNc(13,T3,9,3,"tr",13),d.qZA()()()),2&n){const t=d.oxw();d.xp6(13),d.Q6J("ngForOf",t.arrSquadre)}}function x3(n,e){if(1&n&&(d.TgZ(0,"div")(1,"h3"),d._uU(2),d.qZA()()),2&n){const t=d.oxw(2);d.xp6(2),d.Oqu(t.squad.nome)}}function M3(n,e){if(1&n&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&n){const t=d.oxw(2);d.xp6(1),d.hij("",t.squad.crediti," crediti")}}function k3(n,e){if(1&n&&(d.TgZ(0,"div"),d._UZ(1,"img",20),d.qZA()),2&n){const t=d.oxw(2);d.xp6(1),d.Q6J("src",t.squad.logo,d.LSH)}}function N3(n,e){if(1&n&&(d.TgZ(0,"div",18),d.YNc(1,x3,3,1,"div",19),d.YNc(2,M3,2,1,"div",19),d.YNc(3,k3,2,1,"div",19),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.Q6J("ngIf",""!=t.squad.nome),d.xp6(1),d.Q6J("ngIf",0!=t.squad.crediti),d.xp6(1),d.Q6J("ngIf",""!=t.squad.logo)}}let P3=(()=>{class n{constructor(t){this.firebaseService=t,this.squad=new XA}ngOnInit(){this.firebaseService.GetSquad().subscribe(t=>{this.arrSquadre=t})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(kx))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-squadre-gen"]],decls:22,vars:5,consts:[[1,"flex","flex-wrap","justify-around","sm:flex-col","sm:items-center",2,"width","95%","margin","0 auto"],["class","preview-container sm:mb-4","style","color: aliceblue; min-width: 600px;",4,"ngIf"],[1,"text-center",2,"min-width","600px"],["for","exampleFormControlInput1",1,"text-white"],["type","text","id","exampleFormControlInput1","placeholder","FCDONETSK",1,"text-cyan-50","bg-slate-900","m-2","p-2",2,"width","400px","color","aliceblue","margin","0 auto",3,"ngModel","ngModelChange"],["type","number","id","exampleFormControlInput1","placeholder","\u20accazzi$","step","1","min","0",1,"text-cyan-50","bg-slate-900","m-2","p-2",2,"width","400px","color","aliceblue","margin","0 auto",3,"ngModel","ngModelChange"],["type","text","id","exampleFormControlInput1","placeholder","https://unacasettaincanada.com/",1,"text-cyan-50","bg-slate-900","m-2","p-2",2,"width","400px","color","aliceblue","margin","0 auto",3,"ngModel","ngModelChange"],["type","button",1,"bg-green-500","hover:bg-green-700","text-white","font-bold","py-2","px-4","rounded","mt-2",3,"click"],["class","preview-container","style","color: aliceblue; min-width: 600px;",4,"ngIf"],[1,"preview-container","sm:mb-4",2,"color","aliceblue","min-width","600px"],[1,"table-auto","my-0","mx-auto"],[1,"text-center"],["scope","col"],["class","text-center",4,"ngFor","ngForOf"],["scope","row",1,"border-y"],[1,"border-y"],[2,"width","20px","height","20px",3,"src"],[1,"fa-solid","fa-trash","text-red-500","cPointer",3,"click"],[1,"preview-container",2,"color","aliceblue","min-width","600px"],[4,"ngIf"],["alt","logo",2,"width","150px","height","150px",3,"src"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d.YNc(1,S3,14,1,"div",1),d.TgZ(2,"div",2)(3,"label",3),d._uU(4,"Nome Squadra"),d.qZA(),d._UZ(5,"br"),d.TgZ(6,"input",4),d.NdJ("ngModelChange",function(l){return r.squad.nome=l}),d.qZA(),d._UZ(7,"br"),d.TgZ(8,"label",3),d._uU(9,"Crediti"),d.qZA(),d._UZ(10,"br"),d.TgZ(11,"input",5),d.NdJ("ngModelChange",function(l){return r.squad.crediti=l}),d.qZA(),d._UZ(12,"br"),d.TgZ(13,"label",3),d._uU(14,"Logo"),d.qZA(),d._UZ(15,"br"),d.TgZ(16,"input",6),d.NdJ("ngModelChange",function(l){return r.squad.logo=l}),d.qZA(),d._UZ(17,"br"),d.TgZ(18,"div")(19,"button",7),d.NdJ("click",function(){return r.firebaseService.CreateSquad(r.squad)}),d._uU(20,"Aggiungi"),d.qZA()()(),d.YNc(21,N3,4,3,"div",8),d.qZA()),2&t&&(d.xp6(1),d.Q6J("ngIf",null!=r.squad),d.xp6(5),d.Q6J("ngModel",r.squad.nome),d.xp6(5),d.Q6J("ngModel",r.squad.crediti),d.xp6(5),d.Q6J("ngModel",r.squad.logo),d.xp6(5),d.Q6J("ngIf",null!=r.squad))},dependencies:[Or,zn,Is,hc,As,_c,Ul]}),n})();var R3=P(4946),O3=P.n(R3);const F3=JSON.parse('{"id":135,"name":"Serie A","type":"League","topPlayers":[30415,1863,30537,1856,2763,30803,47300,853,226,22221,877,26315,1627,36899,30521,1314,415,31042,2810,1863,30543,30422,1938,2495,162188,1859,194,248,30544,3406,3173,786,1640,30497,30533,201,329,30554,31146,19194,19209,328,31009,30410,198,2780,22236,30558,907,217],"logo":"https://media.api-sports.io/football/leagues/135.png","teams":[{"team":{"id":487,"name":"Lazio","code":"LAZ","country":"Italy","founded":1900,"national":false,"logo":"https://media.api-sports.io/football/teams/487.png","players":[{"id":31775,"name":"Marius Adamonis","age":25,"number":31,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/31775.png"},{"id":63934,"name":"Alessio Furlanetto","age":20,"number":41,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/63934.png"},{"id":347390,"name":"Giacomo Moretti","age":19,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/347390.png"},{"id":1624,"name":"Pepe Reina","age":40,"number":25,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/1624.png"},{"id":1835,"name":"Thomas Strakosha","age":27,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/1835.png"},{"id":1836,"name":"Francesco Ace Acerbi","age":34,"number":33,"position":"Defender","photo":"https://media.api-sports.io/football/players/1836.png"},{"id":31667,"name":"Djavan Lorenzo Anderson","age":27,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/31667.png"},{"id":31669,"name":"T. Casasola","age":27,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/31669.png"},{"id":1839,"name":"Riza Durmisi","age":28,"number":14,"position":"Defender","photo":"https://media.api-sports.io/football/players/1839.png"},{"id":342651,"name":"R. Floriani","age":19,"number":44,"position":"Defender","photo":"https://media.api-sports.io/football/players/342651.png"},{"id":1841,"name":"Patricio Gabarr\xf3n Gil","age":29,"number":4,"position":"Defender","photo":"https://media.api-sports.io/football/players/1841.png"},{"id":317,"name":"Elseid Hysaj","age":28,"number":23,"position":"Defender","photo":"https://media.api-sports.io/football/players/317.png"},{"id":45798,"name":"D. Kamenovi\u0107","age":22,"number":16,"position":"Defender","photo":"https://media.api-sports.io/football/players/45798.png"},{"id":1843,"name":"Jordan Zacharie Lukaku Menama Mokelenge","age":28,"number":5,"position":"Defender","photo":"https://media.api-sports.io/football/players/1843.png"},{"id":1844,"name":"Adam Maru\u0161i\u0107","age":30,"number":77,"position":"Defender","photo":"https://media.api-sports.io/football/players/1844.png"},{"id":1846,"name":"\u015e. Radu","age":36,"number":26,"position":"Defender","photo":"https://media.api-sports.io/football/players/1846.png"},{"id":1291,"name":"Denis Vavro","age":26,"number":19,"position":"Defender","photo":"https://media.api-sports.io/football/players/1291.png"},{"id":1266,"name":"Toma Ba\u0161i\u0107","age":26,"number":88,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1266.png"},{"id":288777,"name":"M. Bertini","age":20,"number":50,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/288777.png"},{"id":1852,"name":"Danilo Cataldi","age":28,"number":32,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1852.png"},{"id":31658,"name":"Emanuele Cicerelli","age":28,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31658.png"},{"id":47388,"name":"Gonzalo Escalante","age":29,"number":5,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/47388.png"},{"id":30859,"name":"M. Fares","age":26,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30859.png"},{"id":30752,"name":"S. Kiyine","age":25,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30752.png"},{"id":30866,"name":"Manuel Lazzari","age":29,"number":29,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30866.png"},{"id":31678,"name":"Jean-Daniel Dave Lewis Akpa Akpro","age":30,"number":8,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31678.png"},{"id":31377,"name":"Cristiano Lombardi","age":27,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31377.png"},{"id":57012,"name":"F. Maistro","age":24,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/57012.png"},{"id":1856,"name":"Sergej Milinkovi\u0107-Savi\u0107","age":27,"number":21,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1856.png"},{"id":1859,"name":"Luis Alberto Romero Alconchel","age":30,"number":10,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1859.png"},{"id":263812,"name":"L. Romero","age":18,"number":18,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/263812.png"},{"id":696,"name":"Marcos Antonio Silva Santos","age":22,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/696.png"},{"id":30937,"name":"Mattia Zaccagni","age":27,"number":20,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30937.png"},{"id":2412,"name":"Felipe Anderson Pereira Gomes","age":29,"number":7,"position":"Attacker","photo":"https://media.api-sports.io/football/players/2412.png"},{"id":286474,"name":"M. Cancellieri","age":20,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/286474.png"},{"id":1863,"name":"Ciro Immobile","age":32,"number":17,"position":"Attacker","photo":"https://media.api-sports.io/football/players/1863.png"},{"id":264470,"name":"Raul Moro Prescoli","age":20,"number":27,"position":"Attacker","photo":"https://media.api-sports.io/football/players/264470.png"},{"id":50048,"name":"Vedat Muriqi","age":28,"number":94,"position":"Attacker","photo":"https://media.api-sports.io/football/players/50048.png"},{"id":2299,"name":"Pedro Eliezer Rodr\xedguez Ledesma","age":35,"number":9,"position":"Attacker","photo":"https://media.api-sports.io/football/players/2299.png"},{"id":47366,"name":"Jonathan Rodr\xedguez Men\xe9ndez","age":31,"number":22,"position":"Attacker","photo":"https://media.api-sports.io/football/players/47366.png"}]},"venue":{"id":910,"name":"Stadio Olimpico","address":"Viale dei Gladiatori, 2 / Via del Foro Italico","city":"Roma","capacity":68530,"surface":"grass","image":"https://media.api-sports.io/football/venues/910.png"}},{"team":{"id":488,"name":"Sassuolo","code":"SAS","country":"Italy","founded":1922,"national":false,"logo":"https://media.api-sports.io/football/teams/488.png","players":[{"id":91299,"name":"Matteo Campani","age":22,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/91299.png"},{"id":30516,"name":"A. Consigli","age":35,"number":47,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30516.png"},{"id":30517,"name":"G. Pegolo","age":41,"number":56,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30517.png"},{"id":30766,"name":"Alessandro Russo","age":21,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30766.png"},{"id":30518,"name":"Giacomo Satalino","age":23,"number":24,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30518.png"},{"id":30519,"name":"Stefano Turati","age":21,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30519.png"},{"id":286472,"name":"Samuele Vitale","age":20,"number":30,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/286472.png"},{"id":292519,"name":"Gioele Zacchi","age":19,"number":71,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/292519.png"},{"id":30520,"name":"C. Adjapong","age":24,"number":98,"position":"Defender","photo":"https://media.api-sports.io/football/players/30520.png"},{"id":264477,"name":"Giuseppe Aurelio","age":22,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/264477.png"},{"id":25448,"name":"Kaan Ayhan","age":28,"number":5,"position":"Defender","photo":"https://media.api-sports.io/football/players/25448.png"},{"id":56433,"name":"R. Celia","age":23,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/56433.png"},{"id":315,"name":"Vlad Iulian Chiriche\u0219","age":33,"number":21,"position":"Defender","photo":"https://media.api-sports.io/football/players/315.png"},{"id":30827,"name":"M. Erli\u0107","age":24,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/30827.png"},{"id":30523,"name":"Gian Marco Ferrari","age":30,"number":31,"position":"Defender","photo":"https://media.api-sports.io/football/players/30523.png"},{"id":26828,"name":"Giorgos Kiriakopoulos","age":26,"number":77,"position":"Defender","photo":"https://media.api-sports.io/football/players/26828.png"},{"id":30981,"name":"R. Marchizza","age":24,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/30981.png"},{"id":30715,"name":"A. Meroni","age":25,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/30715.png"},{"id":1719,"name":"Mert M\xfcld\xfcr","age":23,"number":17,"position":"Defender","photo":"https://media.api-sports.io/football/players/1719.png"},{"id":30527,"name":"Rog\xe9rio Oliveira da Silva","age":24,"number":6,"position":"Defender","photo":"https://media.api-sports.io/football/players/30527.png"},{"id":59513,"name":"Y. Paz","age":20,"number":70,"position":"Defender","photo":"https://media.api-sports.io/football/players/59513.png"},{"id":30528,"name":"F. Peluso","age":38,"number":13,"position":"Defender","photo":"https://media.api-sports.io/football/players/30528.png"},{"id":342055,"name":"E. Pieragnolo","age":19,"number":89,"position":"Defender","photo":"https://media.api-sports.io/football/players/342055.png"},{"id":30556,"name":"Filippo Romagna","age":25,"number":19,"position":"Defender","photo":"https://media.api-sports.io/football/players/30556.png"},{"id":56161,"name":"M. Sala","age":23,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/56161.png"},{"id":30530,"name":"L. Sernicola","age":25,"number":17,"position":"Defender","photo":"https://media.api-sports.io/football/players/30530.png"},{"id":1118,"name":"Jeremy Toljan","age":28,"number":22,"position":"Defender","photo":"https://media.api-sports.io/football/players/1118.png"},{"id":152857,"name":"Ruan","age":23,"number":44,"position":"Defender","photo":"https://media.api-sports.io/football/players/152857.png"},{"id":341994,"name":"Salim Abubakar","age":19,"number":68,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/341994.png"},{"id":341989,"name":"Cristian Aucelli","age":20,"number":27,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/341989.png"},{"id":2711,"name":"Mehdi Bourabia","age":31,"number":68,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/2711.png"},{"id":31173,"name":"D. Frattesi","age":23,"number":16,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31173.png"},{"id":68407,"name":"A. Ghion","age":22,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/68407.png"},{"id":40446,"name":"Luk\xe1\u0161 Harasl\xedn","age":26,"number":11,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/40446.png"},{"id":341995,"name":"Justin Kumi","age":18,"number":28,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/341995.png"},{"id":1910,"name":"Maxime Lopez","age":25,"number":8,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1910.png"},{"id":30534,"name":"Francesco Magnanelli","age":38,"number":4,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30534.png"},{"id":341991,"name":"A. Mata","age":19,"number":26,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/341991.png"},{"id":18824,"name":"Pedro  Mba Obiang Avomo","age":30,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/18824.png"},{"id":31368,"name":"M. Pinato","age":27,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31368.png"},{"id":31057,"name":"H. Traor\xe8","age":22,"number":23,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31057.png"},{"id":30536,"name":"Filip \u0110uri\u010di\u0107","age":30,"number":10,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30536.png"},{"id":278190,"name":"Agust\xedn \xc1lvarez Mart\xednez","age":21,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/278190.png"},{"id":30537,"name":"Domenico Berardi","age":28,"number":25,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30537.png"},{"id":30538,"name":"Enrico Brignola","age":23,"number":99,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30538.png"},{"id":31060,"name":"Francesco Caputo","age":35,"number":9,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31060.png"},{"id":30461,"name":"Gregoire Defrel","age":31,"number":92,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30461.png"},{"id":162604,"name":"Isaac Karamoko","age":20,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/162604.png"},{"id":31440,"name":"Luca Moro","age":21,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31440.png"},{"id":180584,"name":"B. Oddei","age":20,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/180584.png"},{"id":30543,"name":"Giacomo Raspadori","age":22,"number":18,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30543.png"},{"id":200811,"name":"L. Samele","age":20,"number":39,"position":"Attacker","photo":"https://media.api-sports.io/football/players/200811.png"},{"id":30544,"name":"Gianluca Scamacca","age":23,"number":91,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30544.png"}]},"venue":{"id":935,"name":"MAPEI Stadium - Citt\xe0 del Tricolore","address":"Piazza Azzuri d&apos;Italia, 1","city":"Reggio nell&apos;Emilia","capacity":23717,"surface":"grass","image":"https://media.api-sports.io/football/venues/935.png"}},{"team":{"id":489,"name":"AC Milan","code":"MIL","country":"Italy","founded":1899,"national":false,"logo":"https://media.api-sports.io/football/teams/489.png","players":[{"id":322859,"name":"Sebastiano Desplanches","age":19,"number":90,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/322859.png"},{"id":277175,"name":"Andreas Kristoffer Jungdal","age":20,"number":96,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/277175.png"},{"id":22221,"name":"Mike Maignan","age":27,"number":16,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/22221.png"},{"id":765,"name":"A. Mirante","age":39,"number":83,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/765.png"},{"id":342995,"name":"Lapo Francesco Maria Nava","age":18,"number":92,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/342995.png"},{"id":1623,"name":"Alessandro Plizzari","age":22,"number":77,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/1623.png"},{"id":21081,"name":"C. T\u0103t\u0103ru\u0219anu","age":36,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/21081.png"},{"id":162990,"name":"Leroy Abanda Mfomo","age":22,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/162990.png"},{"id":105,"name":"Fod\xe9  Ballo-Tour\xe9","age":25,"number":5,"position":"Defender","photo":"https://media.api-sports.io/football/players/105.png"},{"id":1627,"name":"Davide Calabria","age":26,"number":2,"position":"Defender","photo":"https://media.api-sports.io/football/players/1627.png"},{"id":10160,"name":"L\xe9o Duarte","age":26,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/10160.png"},{"id":769,"name":"Alessandro Florenzi","age":31,"number":25,"position":"Defender","photo":"https://media.api-sports.io/football/players/769.png"},{"id":56473,"name":"Matteo Gabbia","age":23,"number":46,"position":"Defender","photo":"https://media.api-sports.io/football/players/56473.png"},{"id":47300,"name":"Theo Bernard Fran\xe7ois Hern\xe1ndez","age":25,"number":19,"position":"Defender","photo":"https://media.api-sports.io/football/players/47300.png"},{"id":162188,"name":"P. Kalulu","age":22,"number":20,"position":"Defender","photo":"https://media.api-sports.io/football/players/162188.png"},{"id":215976,"name":"N. Michelis","age":21,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/215976.png"},{"id":1632,"name":"Alessio Romagnoli","age":27,"number":13,"position":"Defender","photo":"https://media.api-sports.io/football/players/1632.png"},{"id":277173,"name":"L. Stanga","age":20,"number":91,"position":"Defender","photo":"https://media.api-sports.io/football/players/277173.png"},{"id":2045,"name":"S. Kj\xe6r","age":33,"number":24,"position":"Defender","photo":"https://media.api-sports.io/football/players/2045.png"},{"id":19209,"name":"Fikayo Tomori","age":25,"number":23,"position":"Defender","photo":"https://media.api-sports.io/football/players/19209.png"},{"id":1265,"name":"Yacine Adli","age":22,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1265.png"},{"id":1635,"name":"Tiemou\xe9 Bakayoko","age":28,"number":41,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1635.png"},{"id":3173,"name":"Isma\xebl Bennacer","age":25,"number":4,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/3173.png"},{"id":1639,"name":"M. Brescianini","age":22,"number":94,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1639.png"},{"id":1641,"name":"Samuel Castillejo Azuaga","age":27,"number":7,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1641.png"},{"id":297324,"name":"E. Di Ges\xf9","age":20,"number":62,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/297324.png"},{"id":31054,"name":"Rade Kruni\u0107","age":29,"number":33,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31054.png"},{"id":31273,"name":"T. Pobega","age":23,"number":26,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31273.png"},{"id":1417,"name":"A. Saelemaekers","age":23,"number":56,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1417.png"},{"id":31146,"name":"S. Tonali","age":22,"number":8,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31146.png"},{"id":744,"name":"Brahim Abdelkader D\xedaz","age":23,"number":10,"position":"Attacker","photo":"https://media.api-sports.io/football/players/744.png"},{"id":263481,"name":"L. Colombo","age":20,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/263481.png"},{"id":22236,"name":"Rafael Alexandre da Concei\xe7\xe3o Le\xe3o","age":23,"number":17,"position":"Attacker","photo":"https://media.api-sports.io/football/players/22236.png"},{"id":336689,"name":"Y. El Hilali","age":19,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/336689.png"},{"id":2295,"name":"Olivier Giroud","age":36,"number":9,"position":"Attacker","photo":"https://media.api-sports.io/football/players/2295.png"},{"id":51070,"name":"Z. Ibrahimovi\u0107","age":41,"number":11,"position":"Attacker","photo":"https://media.api-sports.io/football/players/51070.png"},{"id":135510,"name":"E. Roback","age":19,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/135510.png"},{"id":162045,"name":"M. Lazeti\u0107","age":18,"number":22,"position":"Attacker","photo":"https://media.api-sports.io/football/players/162045.png"},{"id":134926,"name":"D. Maldini","age":21,"number":27,"position":"Attacker","photo":"https://media.api-sports.io/football/players/134926.png"},{"id":1831,"name":"Ante Rebi\u0107","age":29,"number":12,"position":"Attacker","photo":"https://media.api-sports.io/football/players/1831.png"},{"id":1652,"name":"F. Tsadjout","age":23,"number":54,"position":"Attacker","photo":"https://media.api-sports.io/football/players/1652.png"}]},"venue":{"id":907,"name":"Stadio Giuseppe Meazza","address":"Via Piccolomini 5","city":"Milano","capacity":80018,"surface":"grass","image":"https://media.api-sports.io/football/venues/907.png"}},{"team":{"id":492,"name":"Napoli","code":"NAP","country":"Italy","founded":1904,"national":false,"logo":"https://media.api-sports.io/football/teams/492.png","players":[{"id":325142,"name":"Valerio Boffelli","age":18,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/325142.png"},{"id":32172,"name":"Nikita Contini Baranovsky","age":26,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/32172.png"},{"id":134434,"name":"Hubert Dawid Idasiak","age":20,"number":46,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/134434.png"},{"id":91423,"name":"Davide Marfella","age":23,"number":12,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/91423.png"},{"id":312,"name":"Alex Meret","age":25,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/312.png"},{"id":313,"name":"D. Ospina","age":34,"number":25,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/313.png"},{"id":30854,"name":"Filippo Costa","age":27,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/30854.png"},{"id":161849,"name":"D. Costanzo","age":20,"number":74,"position":"Defender","photo":"https://media.api-sports.io/football/players/161849.png"},{"id":31042,"name":"Giovanni Di Lorenzo","age":29,"number":22,"position":"Defender","photo":"https://media.api-sports.io/football/players/31042.png"},{"id":316,"name":"Faouzi Ghoulam","age":31,"number":31,"position":"Defender","photo":"https://media.api-sports.io/football/players/316.png"},{"id":318,"name":"Kalidou Koulibaly","age":31,"number":26,"position":"Defender","photo":"https://media.api-sports.io/football/players/318.png"},{"id":319,"name":"Sebastiano Luperto","age":26,"number":13,"position":"Defender","photo":"https://media.api-sports.io/football/players/319.png"},{"id":321,"name":"K\xe9vin Malcuit","age":31,"number":2,"position":"Defender","photo":"https://media.api-sports.io/football/players/321.png"},{"id":309907,"name":"B. Man\xe8","age":19,"number":55,"position":"Defender","photo":"https://media.api-sports.io/football/players/309907.png"},{"id":774,"name":"Juan Guilherme Nunes Jesus","age":31,"number":5,"position":"Defender","photo":"https://media.api-sports.io/football/players/774.png"},{"id":47254,"name":"M. Olivera","age":25,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/47254.png"},{"id":1314,"name":"Amir Rrahmani","age":28,"number":13,"position":"Defender","photo":"https://media.api-sports.io/football/players/1314.png"},{"id":322,"name":"M\xe1rio Rui Silva Duarte","age":31,"number":6,"position":"Defender","photo":"https://media.api-sports.io/football/players/322.png"},{"id":162907,"name":"A. Zanoli","age":22,"number":59,"position":"Defender","photo":"https://media.api-sports.io/football/players/162907.png"},{"id":1151,"name":"Diego Demme","age":31,"number":4,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1151.png"},{"id":1358,"name":"E. Elmas","age":23,"number":7,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1358.png"},{"id":56851,"name":"M. Folorunsho","age":24,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/56851.png"},{"id":325,"name":"G. Gaetano","age":22,"number":70,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/325.png"},{"id":483,"name":"Khvicha Kvaratskhelia","age":21,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/483.png"},{"id":162582,"name":"Valerio Labriola","age":21,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/162582.png"},{"id":47439,"name":"Stanislav Lobotka","age":28,"number":68,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/47439.png"},{"id":91352,"name":"Francesco Mezzoni","age":22,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/91352.png"},{"id":327,"name":"Adam Mohamed Ounas","age":26,"number":33,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/327.png"},{"id":31339,"name":"Luca Palmiero","age":26,"number":18,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31339.png"},{"id":328,"name":"Fabi\xe1n Ruiz Pe\xf1a","age":26,"number":8,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/328.png"},{"id":3406,"name":"A. Zambo Anguissa","age":27,"number":99,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/3406.png"},{"id":323,"name":"K. Zedadka","age":22,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/323.png"},{"id":329,"name":"Piotr Sebastian Zieli\u0144ski","age":28,"number":20,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/329.png"},{"id":341912,"name":"G. Ambrosino","age":19,"number":70,"position":"Attacker","photo":"https://media.api-sports.io/football/players/341912.png"},{"id":341924,"name":"B. Barba","age":19,"number":80,"position":"Attacker","photo":"https://media.api-sports.io/football/players/341924.png"},{"id":161852,"name":"Antonio Cioffi","age":20,"number":58,"position":"Attacker","photo":"https://media.api-sports.io/football/players/161852.png"},{"id":248,"name":"Hirving Rodrigo Lozano Bahena","age":27,"number":11,"position":"Attacker","photo":"https://media.api-sports.io/football/players/248.png"},{"id":332,"name":"Dries Mertens","age":35,"number":14,"position":"Attacker","photo":"https://media.api-sports.io/football/players/332.png"},{"id":2780,"name":"Victor James Osimhen","age":24,"number":9,"position":"Attacker","photo":"https://media.api-sports.io/football/players/2780.png"},{"id":30879,"name":"Andrea Petagna","age":27,"number":37,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30879.png"},{"id":219,"name":"Matteo Politano","age":29,"number":21,"position":"Attacker","photo":"https://media.api-sports.io/football/players/219.png"},{"id":31348,"name":"Gennaro Tutino","age":26,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31348.png"},{"id":347395,"name":"A. Vergara","age":19,"number":82,"position":"Attacker","photo":"https://media.api-sports.io/football/players/347395.png"},{"id":31219,"name":"Alessio Zerbin","age":23,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31219.png"}]},"venue":{"id":11904,"name":"Stadio Diego Armando Maradona","address":"Pizzale Vincenzo Tecchio","city":"Napoli","capacity":60240,"surface":"grass","image":"https://media.api-sports.io/football/venues/11904.png"}},{"team":{"id":494,"name":"Udinese","code":"UDI","country":"Italy","founded":1896,"national":false,"logo":"https://media.api-sports.io/football/teams/494.png","players":[{"id":295770,"name":"Matteo Carnelos","age":19,"number":65,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/295770.png"},{"id":30793,"name":"Manuel Gasparini","age":20,"number":31,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30793.png"},{"id":189,"name":"D. Padelli","age":37,"number":20,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/189.png"},{"id":312999,"name":"Edoardo Piana","age":19,"number":66,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/312999.png"},{"id":30468,"name":"Antonio Santurro Bueno","age":30,"number":29,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30468.png"},{"id":30915,"name":"Marco Silvestri","age":31,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30915.png"},{"id":320335,"name":"James Abankwah","age":18,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/320335.png"},{"id":1107,"name":"Filip Benkovi\u0107","age":25,"number":28,"position":"Defender","photo":"https://media.api-sports.io/football/players/1107.png"},{"id":350610,"name":"N. Cocetta","age":19,"number":72,"position":"Defender","photo":"https://media.api-sports.io/football/players/350610.png"},{"id":350609,"name":"L. Codutti","age":19,"number":73,"position":"Defender","photo":"https://media.api-sports.io/football/players/350609.png"},{"id":161638,"name":"Festy Oseiwe Ebosele","age":20,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/161638.png"},{"id":6503,"name":"Nahuel Molina Lucero","age":24,"number":16,"position":"Defender","photo":"https://media.api-sports.io/football/players/6503.png"},{"id":829,"name":"Rodrigo  Nascimiento Franca","age":26,"number":50,"position":"Defender","photo":"https://media.api-sports.io/football/players/829.png"},{"id":30797,"name":"Bram Nuytinck","age":32,"number":17,"position":"Defender","photo":"https://media.api-sports.io/football/players/30797.png"},{"id":162347,"name":"B. Soppy","age":20,"number":93,"position":"Defender","photo":"https://media.api-sports.io/football/players/162347.png"},{"id":204039,"name":"D. Udogie","age":20,"number":13,"position":"Defender","photo":"https://media.api-sports.io/football/players/204039.png"},{"id":1353,"name":"Tolgay Ali Arslan","age":32,"number":5,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1353.png"},{"id":179502,"name":"M. Ballarini","age":21,"number":21,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/179502.png"},{"id":350611,"name":"Riccardo Castagnaviz","age":19,"number":70,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/350611.png"},{"id":350612,"name":"Mattia Damiani","age":19,"number":71,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/350612.png"},{"id":330357,"name":"Jacopo Fedrizzi","age":19,"number":63,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/330357.png"},{"id":9010,"name":"Mato Jajalo","age":34,"number":8,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/9010.png"},{"id":355088,"name":"Raed Jaziri","age":19,"number":74,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/355088.png"},{"id":7591,"name":"S. Lovri\u0107","age":24,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/7591.png"},{"id":22171,"name":"J. Makengo","age":24,"number":6,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/22171.png"},{"id":264513,"name":"M. Palumbo","age":20,"number":21,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/264513.png"},{"id":2475,"name":"Roberto Maximiliano Pereyra","age":31,"number":37,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/2475.png"},{"id":351269,"name":"Riccardo Pinzi","age":19,"number":75,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/351269.png"},{"id":178749,"name":"L. Samard\u017ei\u0107","age":20,"number":24,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/178749.png"},{"id":25387,"name":"Walace Souza Silva","age":27,"number":11,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/25387.png"},{"id":9084,"name":"Rijad Baji\u0107","age":28,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/9084.png"},{"id":18809,"name":"Gerard Deulofeu L\xe1zaro","age":28,"number":10,"position":"Attacker","photo":"https://media.api-sports.io/football/players/18809.png"},{"id":761,"name":"Cristo Ram\xf3n Gonz\xe1lez P\xe9rez","age":25,"number":9,"position":"Attacker","photo":"https://media.api-sports.io/football/players/761.png"},{"id":329406,"name":"S. Ianesi","age":20,"number":69,"position":"Attacker","photo":"https://media.api-sports.io/football/players/329406.png"},{"id":30815,"name":"Kevin Lasagna","age":30,"number":15,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30815.png"},{"id":31561,"name":"Ilija Nestorovski","age":32,"number":30,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31561.png"},{"id":367577,"name":"S. Pafundi","age":16,"number":80,"position":"Attacker","photo":"https://media.api-sports.io/football/players/367577.png"},{"id":279104,"name":"Leonardo Buta","age":20,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/279104.png"}]},"venue":{"id":928,"name":"Dacia Arena","address":"Piazza le Repubblica Argentina, 3","city":"Udine","capacity":25952,"surface":"grass","image":"https://media.api-sports.io/football/venues/928.png"}},{"team":{"id":496,"name":"Juventus","code":"JUV","country":"Italy","founded":1897,"national":false,"logo":"https://media.api-sports.io/football/teams/496.png","players":[{"id":30704,"name":"Stefano Gori","age":26,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30704.png"},{"id":56266,"name":"Franco Israel Wibmer","age":22,"number":35,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/56266.png"},{"id":849,"name":"Mattia Perin","age":30,"number":36,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/849.png"},{"id":850,"name":"Carlo Pinsoglio","age":32,"number":23,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/850.png"},{"id":148022,"name":"Marco Raina","age":20,"number":53,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/148022.png"},{"id":297157,"name":"Zsombor Senk\xf3","age":19,"number":42,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/297157.png"},{"id":851,"name":"W. Szcz\u0119sny","age":32,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/851.png"},{"id":853,"name":"L. Bonucci","age":35,"number":19,"position":"Defender","photo":"https://media.api-sports.io/football/players/853.png"},{"id":335115,"name":"A. Citi","age":19,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/335115.png"},{"id":618,"name":"Danilo Luiz da Silva","age":31,"number":6,"position":"Defender","photo":"https://media.api-sports.io/football/players/618.png"},{"id":532,"name":"Matthijs de Ligt","age":23,"number":4,"position":"Defender","photo":"https://media.api-sports.io/football/players/532.png"},{"id":858,"name":"Mattia De Sciglio","age":30,"number":2,"position":"Defender","photo":"https://media.api-sports.io/football/players/858.png"},{"id":162141,"name":"K. De Winter","age":20,"number":45,"position":"Defender","photo":"https://media.api-sports.io/football/players/162141.png"},{"id":268341,"name":"F. Gatti","age":24,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/268341.png"},{"id":860,"name":"Alex Sandro Lobo Silva","age":31,"number":12,"position":"Defender","photo":"https://media.api-sports.io/football/players/860.png"},{"id":162498,"name":"R. Dr\u0103gu\u0219in","age":20,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/162498.png"},{"id":30554,"name":"Luca Pellegrini","age":23,"number":17,"position":"Defender","photo":"https://media.api-sports.io/football/players/30554.png"},{"id":861,"name":"Daniele Rugani","age":28,"number":24,"position":"Defender","photo":"https://media.api-sports.io/football/players/861.png"},{"id":281775,"name":"D. Stramaccioni","age":21,"number":54,"position":"Defender","photo":"https://media.api-sports.io/football/players/281775.png"},{"id":866,"name":"Juan Guillermo Cuadrado Bello","age":34,"number":11,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/866.png"},{"id":876,"name":"N. Fagioli","age":21,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/876.png"},{"id":30533,"name":"Manuel Locatelli","age":24,"number":27,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30533.png"},{"id":415,"name":"W. McKennie","age":24,"number":14,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/415.png"},{"id":181808,"name":"F. Miretti","age":19,"number":47,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/181808.png"},{"id":881,"name":"H. Nicolussi","age":22,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/881.png"},{"id":264513,"name":"M. Palumbo","age":20,"number":56,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/264513.png"},{"id":272,"name":"Adrien Rabiot","age":27,"number":25,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/272.png"},{"id":150,"name":"Arthur Henrique Ramos de Oliveira Melo","age":26,"number":5,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/150.png"},{"id":1459,"name":"A. Ramsey","age":32,"number":8,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1459.png"},{"id":31402,"name":"F. Ranocchia","age":21,"number":42,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31402.png"},{"id":30784,"name":"N. Rovella","age":21,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30784.png"},{"id":323936,"name":"M. Soul\xe9","age":19,"number":46,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/323936.png"},{"id":2810,"name":"D. Zakaria","age":26,"number":28,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/2810.png"},{"id":182467,"name":"E. Zuelli","age":21,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/182467.png"},{"id":129687,"name":"Marley Ak\xe9","age":21,"number":38,"position":"Attacker","photo":"https://media.api-sports.io/football/players/129687.png"},{"id":135749,"name":"F\xe9lix Alexandre Andrade Sanches Correia","age":21,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/135749.png"},{"id":30410,"name":"Federico Chiesa","age":25,"number":22,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30410.png"},{"id":161974,"name":"M. Da Graca","age":20,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/161974.png"},{"id":162173,"name":"Samuel Iling-Junior","age":19,"number":57,"position":"Attacker","photo":"https://media.api-sports.io/football/players/162173.png"},{"id":877,"name":"Moise Bioty Kean","age":22,"number":18,"position":"Attacker","photo":"https://media.api-sports.io/football/players/877.png"},{"id":10008,"name":"Kaio Jorge Pinto Ramos","age":20,"number":21,"position":"Attacker","photo":"https://media.api-sports.io/football/players/10008.png"},{"id":30413,"name":"Marko Pjaca","age":27,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30413.png"},{"id":30415,"name":"Du\u0161an Vlahovi\u0107","age":22,"number":7,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30415.png"}]},"venue":{"id":909,"name":"Allianz Stadium","address":"Strada Comunale di Altessano 131","city":"Torino","capacity":45666,"surface":"grass","image":"https://media.api-sports.io/football/venues/909.png"}},{"team":{"id":497,"name":"AS Roma","code":"ROM","country":"Italy","founded":1927,"national":false,"logo":"https://media.api-sports.io/football/teams/497.png","players":[{"id":277192,"name":"Pietro Boer","age":20,"number":63,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/277192.png"},{"id":2674,"name":"Rui Patr\xedcio","age":34,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/2674.png"},{"id":764,"name":"Stefano Greco","age":23,"number":77,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/764.png"},{"id":342071,"name":"Davide Mastrantonio","age":18,"number":67,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/342071.png"},{"id":556,"name":"Mile Svilar","age":23,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/556.png"},{"id":91436,"name":"Devid Eugene Bouah","age":21,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/91436.png"},{"id":85063,"name":"William Ludovic Brandon Bianda","age":22,"number":28,"position":"Defender","photo":"https://media.api-sports.io/football/players/85063.png"},{"id":157052,"name":"R. Calafiori","age":20,"number":13,"position":"Defender","photo":"https://media.api-sports.io/football/players/157052.png"},{"id":30424,"name":"Iba\xf1ez","age":24,"number":3,"position":"Defender","photo":"https://media.api-sports.io/football/players/30424.png"},{"id":770,"name":"Rick Karsdorp","age":27,"number":2,"position":"Defender","photo":"https://media.api-sports.io/football/players/770.png"},{"id":343385,"name":"D. Keramitsis","age":18,"number":75,"position":"Defender","photo":"https://media.api-sports.io/football/players/343385.png"},{"id":30425,"name":"Gianluca Mancini","age":26,"number":23,"position":"Defender","photo":"https://media.api-sports.io/football/players/30425.png"},{"id":342653,"name":"F. Missori","age":18,"number":58,"position":"Defender","photo":"https://media.api-sports.io/football/players/342653.png"},{"id":342072,"name":"M. Ndiaye","age":20,"number":60,"position":"Defender","photo":"https://media.api-sports.io/football/players/342072.png"},{"id":775,"name":"Davide Santon","age":31,"number":18,"position":"Defender","photo":"https://media.api-sports.io/football/players/775.png"},{"id":892,"name":"Chris Smalling","age":33,"number":6,"position":"Defender","photo":"https://media.api-sports.io/football/players/892.png"},{"id":862,"name":"Leonardo Spinazzola","age":29,"number":37,"position":"Defender","photo":"https://media.api-sports.io/football/players/862.png"},{"id":290181,"name":"F. Tripi","age":20,"number":65,"position":"Defender","photo":"https://media.api-sports.io/football/players/290181.png"},{"id":51572,"name":"M. Vi\xf1a","age":25,"number":5,"position":"Defender","photo":"https://media.api-sports.io/football/players/51572.png"},{"id":203474,"name":"N. Zalewski","age":20,"number":59,"position":"Defender","photo":"https://media.api-sports.io/football/players/203474.png"},{"id":286475,"name":"E. Bove","age":20,"number":52,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/286475.png"},{"id":777,"name":"A. \u0106ori\u0107","age":25,"number":19,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/777.png"},{"id":778,"name":"Bryan Cristante","age":27,"number":4,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/778.png"},{"id":158059,"name":"E. Darboe","age":21,"number":55,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/158059.png"},{"id":324,"name":"A. Diawara","age":25,"number":42,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/324.png"},{"id":902,"name":"Nemanja Mati\u0107","age":34,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/902.png"},{"id":782,"name":"Lorenzo Pellegrini","age":26,"number":7,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/782.png"},{"id":783,"name":"Salvatore Pezzella","age":22,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/783.png"},{"id":2375,"name":"S\xe9rgio Miguel Relvas de Oliveira","age":30,"number":27,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/2375.png"},{"id":30409,"name":"Jordan Veretout","age":29,"number":17,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30409.png"},{"id":46982,"name":"Gonzalo Villar","age":24,"number":8,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/46982.png"},{"id":342035,"name":"Cristian Volpato","age":19,"number":62,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/342035.png"},{"id":786,"name":"N. Zaniolo","age":23,"number":22,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/786.png"},{"id":342038,"name":"F. Afena-Gyan","age":19,"number":64,"position":"Attacker","photo":"https://media.api-sports.io/football/players/342038.png"},{"id":19194,"name":"Tammy Bakumo-Abraham","age":25,"number":9,"position":"Attacker","photo":"https://media.api-sports.io/football/players/19194.png"},{"id":788,"name":"\u017dan Celar","age":23,"number":60,"position":"Attacker","photo":"https://media.api-sports.io/football/players/788.png"},{"id":279757,"name":"R. Ciervo","age":20,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/279757.png"},{"id":791,"name":"Stephan El Shaarawy","age":30,"number":92,"position":"Attacker","photo":"https://media.api-sports.io/football/players/791.png"},{"id":792,"name":"Justin Kluivert","age":23,"number":34,"position":"Attacker","photo":"https://media.api-sports.io/football/players/792.png"},{"id":347314,"name":"Oliveras","age":18,"number":74,"position":"Attacker","photo":"https://media.api-sports.io/football/players/347314.png"},{"id":67955,"name":"Carles P\xe9rez Sayol","age":24,"number":31,"position":"Attacker","photo":"https://media.api-sports.io/football/players/67955.png"},{"id":162733,"name":"Ruben Fritzner Providence","age":21,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/162733.png"},{"id":53535,"name":"Eldor Shomurodov","age":27,"number":14,"position":"Attacker","photo":"https://media.api-sports.io/football/players/53535.png"},{"id":342034,"name":"J. Voelkerling Persson","age":19,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/342034.png"}]},"venue":{"id":910,"name":"Stadio Olimpico","address":"Viale dei Gladiatori, 2 / Via del Foro Italico","city":"Roma","capacity":68530,"surface":"grass","image":"https://media.api-sports.io/football/venues/910.png"}},{"team":{"id":498,"name":"Sampdoria","code":"SAM","country":"Italy","founded":1946,"national":false,"logo":"https://media.api-sports.io/football/teams/498.png","players":[{"id":30441,"name":"Emil Audero Mulyadi","age":25,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30441.png"},{"id":56459,"name":"Wladimiro Falcone","age":27,"number":33,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/56459.png"},{"id":31602,"name":"Nicola Ravaglia","age":34,"number":30,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/31602.png"},{"id":344781,"name":"Ivan Saio","age":20,"number":32,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/344781.png"},{"id":341837,"name":"L. Aquino","age":20,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/341837.png"},{"id":30822,"name":"Tommaso Augello","age":28,"number":3,"position":"Defender","photo":"https://media.api-sports.io/football/players/30822.png"},{"id":3000,"name":"Bartosz Bereszy\u0144ski","age":30,"number":24,"position":"Defender","photo":"https://media.api-sports.io/football/players/3000.png"},{"id":341838,"name":"G. Bonfanti","age":19,"number":35,"position":"Defender","photo":"https://media.api-sports.io/football/players/341838.png"},{"id":30444,"name":"Omar Colley Daniel","age":30,"number":15,"position":"Defender","photo":"https://media.api-sports.io/football/players/30444.png"},{"id":1629,"name":"Andrea Conti","age":28,"number":13,"position":"Defender","photo":"https://media.api-sports.io/football/players/1629.png"},{"id":30747,"name":"F. Depaoli","age":25,"number":12,"position":"Defender","photo":"https://media.api-sports.io/football/players/30747.png"},{"id":30446,"name":"Alex Ferrari","age":28,"number":25,"position":"Defender","photo":"https://media.api-sports.io/football/players/30446.png"},{"id":341836,"name":"F. Migliardi","age":19,"number":31,"position":"Defender","photo":"https://media.api-sports.io/football/players/341836.png"},{"id":135,"name":"Jeison Fabi\xe1n Murillo Cer\xf3n","age":30,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/135.png"},{"id":30447,"name":"Nicola Murru","age":28,"number":29,"position":"Defender","photo":"https://media.api-sports.io/football/players/30447.png"},{"id":341829,"name":"M. Somma","age":20,"number":40,"position":"Defender","photo":"https://media.api-sports.io/football/players/341829.png"},{"id":39285,"name":"K. Askildsen","age":21,"number":16,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/39285.png"},{"id":202,"name":"A. Candreva","age":35,"number":87,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/202.png"},{"id":2858,"name":"Albin Ekdal","age":33,"number":6,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/2858.png"},{"id":15908,"name":"M. Damsgaard","age":22,"number":38,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/15908.png"},{"id":30753,"name":"M. L\xe9ris","age":24,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30753.png"},{"id":36980,"name":"Morten Thorsby","age":26,"number":2,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/36980.png"},{"id":30458,"name":"S. Trimboli","age":20,"number":70,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30458.png"},{"id":31403,"name":"Valerio Verre","age":28,"number":8,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31403.png"},{"id":30459,"name":"R. Vieira Nan","age":24,"number":14,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30459.png"},{"id":329401,"name":"Gerard Yepes Laut","age":20,"number":28,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/329401.png"},{"id":31436,"name":"Federico Bonazzoli","age":25,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31436.png"},{"id":30460,"name":"Gianluca Caprari","age":29,"number":17,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30460.png"},{"id":162981,"name":"Felice D\'Amico","age":22,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/162981.png"},{"id":341831,"name":"L. Di Stefano","age":20,"number":39,"position":"Attacker","photo":"https://media.api-sports.io/football/players/341831.png"},{"id":30462,"name":"Manolo Gabbiadini","age":31,"number":23,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30462.png"},{"id":56209,"name":"Erik Gerbi","age":22,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/56209.png"},{"id":44354,"name":"S. Giovinco","age":35,"number":21,"position":"Attacker","photo":"https://media.api-sports.io/football/players/44354.png"},{"id":31062,"name":"Antonino La Gumina","age":26,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31062.png"},{"id":341832,"name":"D. Montevago","age":19,"number":37,"position":"Attacker","photo":"https://media.api-sports.io/football/players/341832.png"},{"id":30463,"name":"F. Quagliarella","age":39,"number":27,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30463.png"},{"id":31153,"name":"Ernesto Torregrossa","age":30,"number":9,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31153.png"}]},"venue":{"id":905,"name":"Stadio Comunale Luigi Ferraris","address":"Via Giovanni De Pr\xe0, 1","city":"Genova","capacity":36703,"surface":"grass","image":"https://media.api-sports.io/football/venues/905.png"}},{"team":{"id":499,"name":"Atalanta","code":"ATA","country":"Italy","founded":1907,"national":false,"logo":"https://media.api-sports.io/football/teams/499.png","players":[{"id":338867,"name":"Tommaso Bertini","age":18,"number":47,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/338867.png"},{"id":30417,"name":"Marco Carnesecchi","age":22,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30417.png"},{"id":162573,"name":"Matevz Dajcar","age":20,"number":43,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/162573.png"},{"id":30418,"name":"Pierluigi Gollini","age":27,"number":95,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30418.png"},{"id":2465,"name":"Juan Agust\xedn Musso","age":28,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/2465.png"},{"id":30419,"name":"Francesco Rossi","age":31,"number":31,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30419.png"},{"id":57083,"name":"Alessandro Santopadre","age":24,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/57083.png"},{"id":336646,"name":"Jacopo Sassi","age":19,"number":53,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/336646.png"},{"id":31069,"name":"Marco Sportiello","age":30,"number":57,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/31069.png"},{"id":31477,"name":"D. Bettella","age":22,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/31477.png"},{"id":162570,"name":"G. Cittadini","age":20,"number":46,"position":"Defender","photo":"https://media.api-sports.io/football/players/162570.png"},{"id":30521,"name":"M. Demiral","age":24,"number":28,"position":"Defender","photo":"https://media.api-sports.io/football/players/30521.png"},{"id":30421,"name":"Berat  Djimsiti","age":29,"number":19,"position":"Defender","photo":"https://media.api-sports.io/football/players/30421.png"},{"id":162520,"name":"Rodrigo Guth","age":22,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/162520.png"},{"id":30423,"name":"Hans Hateboer","age":28,"number":33,"position":"Defender","photo":"https://media.api-sports.io/football/players/30423.png"},{"id":181825,"name":"D. Heidenreich","age":22,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/181825.png"},{"id":31418,"name":"M. Lovato","age":22,"number":66,"position":"Defender","photo":"https://media.api-sports.io/football/players/31418.png"},{"id":30474,"name":"Federico Mattiello","age":27,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/30474.png"},{"id":1930,"name":"Joakim M\xe6hle Pedersen","age":25,"number":3,"position":"Defender","photo":"https://media.api-sports.io/football/players/1930.png"},{"id":30428,"name":"Jos\xe9 Luis Palomino","age":32,"number":6,"position":"Defender","photo":"https://media.api-sports.io/football/players/30428.png"},{"id":162012,"name":"M. Ruggeri","age":20,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/162012.png"},{"id":289761,"name":"G. Scalvini","age":19,"number":42,"position":"Defender","photo":"https://media.api-sports.io/football/players/289761.png"},{"id":30429,"name":"Rafael Tol\xf3i","age":32,"number":2,"position":"Defender","photo":"https://media.api-sports.io/football/players/30429.png"},{"id":2286,"name":"Davide Zappacosta","age":30,"number":77,"position":"Defender","photo":"https://media.api-sports.io/football/players/2286.png"},{"id":128461,"name":"N. Zortea","age":23,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/128461.png"},{"id":30531,"name":"J\xe9r\xe9mie Boga","age":25,"number":10,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30531.png"},{"id":31500,"name":"C. Capone","age":23,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31500.png"},{"id":31396,"name":"M. Carraro","age":24,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31396.png"},{"id":140847,"name":"E. Colley","age":22,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/140847.png"},{"id":30431,"name":"A. Colpani","age":23,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30431.png"},{"id":162011,"name":"A. Cortinovis","age":21,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/162011.png"},{"id":162522,"name":"J. Da Riva","age":22,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/162522.png"},{"id":30432,"name":"Marten Elco de Roon","age":31,"number":15,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30432.png"},{"id":30420,"name":"E. Del Prato","age":23,"number":24,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30420.png"},{"id":32023,"name":"S. Elia","age":23,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/32023.png"},{"id":2807,"name":"Remo Marco Freuler","age":30,"number":11,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/2807.png"},{"id":237150,"name":"S. Giovane","age":19,"number":49,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/237150.png"},{"id":162521,"name":"E. Gyabuaa","age":21,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/162521.png"},{"id":30434,"name":"Josip Ili\u010di\u0107","age":34,"number":72,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30434.png"},{"id":36899,"name":"T. Koopmeiners","age":24,"number":7,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/36899.png"},{"id":690,"name":"Viktor Kovalenko","age":26,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/690.png"},{"id":31122,"name":"G. Lunetta","age":26,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31122.png"},{"id":1938,"name":"Ruslan Malinovskyi","age":29,"number":18,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1938.png"},{"id":30691,"name":"Alessandro Mallamo","age":23,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30691.png"},{"id":31493,"name":"F. Melegoni","age":23,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31493.png"},{"id":870,"name":"S. Muratore","age":24,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/870.png"},{"id":336640,"name":"Andrea Oliveri","age":19,"number":44,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/336640.png"},{"id":162010,"name":"S. Panada","age":20,"number":48,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/162010.png"},{"id":2763,"name":"Mario Pa\u0161ali\u0107","age":27,"number":88,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/2763.png"},{"id":30436,"name":"Matteo Pessina","age":25,"number":32,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30436.png"},{"id":3010,"name":"Arkadiusz Reca","age":27,"number":7,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/3010.png"},{"id":162601,"name":"G. Renault","age":20,"number":52,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/162601.png"},{"id":31089,"name":"L. Valzania","age":26,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31089.png"},{"id":336639,"name":"F. Zuccon","age":19,"number":45,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/336639.png"},{"id":357996,"name":"M. Ciss\xe9","age":19,"number":99,"position":"Attacker","photo":"https://media.api-sports.io/football/players/357996.png"},{"id":338868,"name":"T. De Nipoti","age":19,"number":50,"position":"Attacker","photo":"https://media.api-sports.io/football/players/338868.png"},{"id":162015,"name":"Jonathan Italeng Ngock","age":21,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/162015.png"},{"id":36987,"name":"Sam Lammers","age":25,"number":7,"position":"Attacker","photo":"https://media.api-sports.io/football/players/36987.png"},{"id":31123,"name":"Simone Mazzocchi","age":24,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31123.png"},{"id":484,"name":"Aleksey Miranchuk","age":27,"number":59,"position":"Attacker","photo":"https://media.api-sports.io/football/players/484.png"},{"id":2493,"name":"Luis Fernando Muriel Fruto","age":31,"number":9,"position":"Attacker","photo":"https://media.api-sports.io/football/players/2493.png"},{"id":162526,"name":"A. Sidibe","age":20,"number":51,"position":"Attacker","photo":"https://media.api-sports.io/football/players/162526.png"},{"id":31746,"name":"Marco Tumminello","age":24,"number":20,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31746.png"},{"id":2495,"name":"Duv\xe1n Esteban Zapata Banguero","age":31,"number":91,"position":"Attacker","photo":"https://media.api-sports.io/football/players/2495.png"}]},"venue":{"id":879,"name":"Gewiss Stadium","address":"Viale Caio Giulio Cesare, 18","city":"Bergamo","capacity":21300,"surface":"grass","image":"https://media.api-sports.io/football/venues/879.png"}},{"team":{"id":500,"name":"Bologna","code":"BOL","country":"Italy","founded":1909,"national":false,"logo":"https://media.api-sports.io/football/teams/500.png","players":[{"id":339180,"name":"Nicola Bagnolini","age":18,"number":23,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/339180.png"},{"id":31065,"name":"Francesco Bardi","age":30,"number":22,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/31065.png"},{"id":344336,"name":"Davide Franzini","age":17,"number":40,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/344336.png"},{"id":56753,"name":"Mouhamadou Fallou Mbacke Sarr","age":25,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/56753.png"},{"id":129557,"name":"Marco Molla","age":20,"number":12,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/129557.png"},{"id":31098,"name":"Federico Ravaglia","age":23,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/31098.png"},{"id":2998,"name":"\u0141ukasz Skorupski","age":31,"number":28,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/2998.png"},{"id":312208,"name":"W. Amey","age":17,"number":66,"position":"Defender","photo":"https://media.api-sports.io/football/players/312208.png"},{"id":305450,"name":"E. Annan","age":20,"number":77,"position":"Defender","photo":"https://media.api-sports.io/football/players/305450.png"},{"id":154799,"name":"L. Binks","age":21,"number":2,"position":"Defender","photo":"https://media.api-sports.io/football/players/154799.png"},{"id":30853,"name":"Kevin Bonifazi","age":26,"number":4,"position":"Defender","photo":"https://media.api-sports.io/football/players/30853.png"},{"id":44871,"name":"A. Hickey","age":20,"number":3,"position":"Defender","photo":"https://media.api-sports.io/football/players/44871.png"},{"id":30498,"name":"L. De Silvestri","age":34,"number":29,"position":"Defender","photo":"https://media.api-sports.io/football/players/30498.png"},{"id":30471,"name":"Mitchell Dijks","age":29,"number":35,"position":"Defender","photo":"https://media.api-sports.io/football/players/30471.png"},{"id":179839,"name":"D. Kasius","age":20,"number":71,"position":"Defender","photo":"https://media.api-sports.io/football/players/179839.png"},{"id":30553,"name":"Charalampos Lykogiannis","age":29,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/30553.png"},{"id":30473,"name":"Ibrahima Mbaye","age":28,"number":15,"position":"Defender","photo":"https://media.api-sports.io/football/players/30473.png"},{"id":1982,"name":"Gary Alexis Medel Soto","age":35,"number":17,"position":"Defender","photo":"https://media.api-sports.io/football/players/1982.png"},{"id":335060,"name":"K. Mercier","age":18,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/335060.png"},{"id":342044,"name":"M. Motolese","age":18,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/342044.png"},{"id":22227,"name":"Bakary Adama Soumaoro","age":30,"number":5,"position":"Defender","photo":"https://media.api-sports.io/football/players/22227.png"},{"id":342043,"name":"R. Stivanello","age":18,"number":31,"position":"Defender","photo":"https://media.api-sports.io/football/players/342043.png"},{"id":951,"name":"M. Aebischer","age":25,"number":20,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/951.png"},{"id":89723,"name":"Andri Fannar Baldursson","age":20,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/89723.png"},{"id":289515,"name":"B. Bartha","age":19,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/289515.png"},{"id":6056,"name":"N. Dom\xednguez","age":24,"number":8,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/6056.png"},{"id":31400,"name":"K. Michael","age":23,"number":16,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31400.png"},{"id":153459,"name":"N. Pyyhti\xe4","age":19,"number":33,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/153459.png"},{"id":37890,"name":"J. Schouten","age":25,"number":30,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/37890.png"},{"id":30483,"name":"Roberto Soriano","age":31,"number":21,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30483.png"},{"id":30484,"name":"Mattias Olof Svanberg","age":23,"number":32,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30484.png"},{"id":182280,"name":"K. Urba\u0144ski","age":18,"number":82,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/182280.png"},{"id":18830,"name":"M. Arnautovi\u0107","age":33,"number":9,"position":"Attacker","photo":"https://media.api-sports.io/football/players/18830.png"},{"id":30437,"name":"Musa Barrow","age":24,"number":99,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30437.png"},{"id":787,"name":"G. Cangiano","age":21,"number":74,"position":"Attacker","photo":"https://media.api-sports.io/football/players/787.png"},{"id":30490,"name":"Nicola Domenico Sansone","age":31,"number":10,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30490.png"},{"id":30487,"name":"Diego Falcinelli","age":31,"number":91,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30487.png"},{"id":31553,"name":"C\xe9sar Alejandro Falletti dos Santos","age":30,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31553.png"},{"id":68410,"name":"Musa Juwara","age":21,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/68410.png"},{"id":50798,"name":"Orji Okwonkwo","age":24,"number":30,"position":"Attacker","photo":"https://media.api-sports.io/football/players/50798.png"},{"id":30488,"name":"Riccardo Orsolini","age":25,"number":7,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30488.png"},{"id":290692,"name":"M. Pagliuca","age":20,"number":44,"position":"Attacker","photo":"https://media.api-sports.io/football/players/290692.png"},{"id":314254,"name":"A. Raimondo","age":18,"number":76,"position":"Attacker","photo":"https://media.api-sports.io/football/players/314254.png"},{"id":30491,"name":"Federico Javier Santander Mereles","age":31,"number":19,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30491.png"},{"id":38713,"name":"S. van Hooijdonk","age":22,"number":20,"position":"Attacker","photo":"https://media.api-sports.io/football/players/38713.png"},{"id":30755,"name":"Emanuel Vignato","age":22,"number":55,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30755.png"}]},"venue":{"id":881,"name":"Stadio Renato Dall\'Ara","address":"Via Andrea Costa, 174","city":"Bologna","capacity":39279,"surface":"grass","image":"https://media.api-sports.io/football/venues/881.png"}},{"team":{"id":502,"name":"Fiorentina","code":"FIO","country":"Italy","founded":1926,"national":false,"logo":"https://media.api-sports.io/football/teams/502.png","players":[{"id":57053,"name":"Michele Cerofolini","age":23,"number":31,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/57053.png"},{"id":31035,"name":"Bart\u0142omiej Dr\u0105gowski","age":25,"number":69,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/31035.png"},{"id":30392,"name":"Simone Ghidotti","age":22,"number":67,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30392.png"},{"id":30494,"name":"A. Rosati","age":39,"number":25,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30494.png"},{"id":30394,"name":"Pietro Terracciano","age":32,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30394.png"},{"id":30396,"name":"Cristiano Biraghi","age":30,"number":3,"position":"Defender","photo":"https://media.api-sports.io/football/players/30396.png"},{"id":7600,"name":"Igor J\xfalio dos Santos de Paulo","age":24,"number":98,"position":"Defender","photo":"https://media.api-sports.io/football/players/7600.png"},{"id":63935,"name":"G. Ferrarini","age":22,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/63935.png"},{"id":342066,"name":"F. Frison","age":20,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/342066.png"},{"id":6000,"name":"Lucas  Mart\xednez Quarta","age":26,"number":2,"position":"Defender","photo":"https://media.api-sports.io/football/players/6000.png"},{"id":2817,"name":"Nikola Milenkovi\u0107","age":25,"number":4,"position":"Defender","photo":"https://media.api-sports.io/football/players/2817.png"},{"id":403,"name":"Matija Nastasi\u0107","age":29,"number":55,"position":"Defender","photo":"https://media.api-sports.io/football/players/403.png"},{"id":31642,"name":"L. Ranieri","age":23,"number":30,"position":"Defender","photo":"https://media.api-sports.io/football/players/31642.png"},{"id":349,"name":"Aleksa Terzi\u0107","age":23,"number":17,"position":"Defender","photo":"https://media.api-sports.io/football/players/349.png"},{"id":31047,"name":"Jacob Vands\xf8 Rasmussen","age":25,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/31047.png"},{"id":31730,"name":"Lorenzo Venuti","age":27,"number":23,"position":"Defender","photo":"https://media.api-sports.io/football/players/31730.png"},{"id":342023,"name":"V. Agostinelli","age":20,"number":20,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/342023.png"},{"id":74,"name":"Sofyan Amrabat","age":26,"number":34,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/74.png"},{"id":302432,"name":"A. Bianco","age":20,"number":42,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/302432.png"},{"id":1638,"name":"Giacomo Bonaventura","age":33,"number":5,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1638.png"},{"id":31615,"name":"Gaetano Castrovilli","age":25,"number":10,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31615.png"},{"id":30532,"name":"Joseph Alfred Duncan","age":29,"number":32,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30532.png"},{"id":22229,"name":"Nanitamo Jonathan Ikon\xe9","age":24,"number":11,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/22229.png"},{"id":106236,"name":"A. Lovisa","age":21,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/106236.png"},{"id":56560,"name":"Y. Maleh","age":24,"number":14,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/56560.png"},{"id":30810,"name":"Rolando Mandragora","age":25,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30810.png"},{"id":30406,"name":"Crist\xf3bal Montiel Rodr\xedguez","age":22,"number":19,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30406.png"},{"id":2560,"name":"Erick Antonio Pulgar Farf\xe1n","age":28,"number":15,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/2560.png"},{"id":30456,"name":"Riccardo Saponara","age":31,"number":8,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30456.png"},{"id":330,"name":"Jos\xe9 Mar\xeda Callej\xf3n Bueno","age":35,"number":7,"position":"Attacker","photo":"https://media.api-sports.io/football/players/330.png"},{"id":342067,"name":"F. Di Stefano","age":19,"number":28,"position":"Attacker","photo":"https://media.api-sports.io/football/players/342067.png"},{"id":342020,"name":"D. Egharevba","age":19,"number":21,"position":"Attacker","photo":"https://media.api-sports.io/football/players/342020.png"},{"id":26315,"name":"Nicol\xe1s Iv\xe1n Gonz\xe1lez","age":24,"number":22,"position":"Attacker","photo":"https://media.api-sports.io/football/players/26315.png"},{"id":30971,"name":"Gabriele Gori","age":23,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30971.png"},{"id":1224,"name":"Aleksandr Kokorin","age":31,"number":91,"position":"Attacker","photo":"https://media.api-sports.io/football/players/1224.png"},{"id":30789,"name":"Christian Michael Kouam\xe9 Kouakou","age":25,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30789.png"},{"id":9938,"name":"Arthur Mendon\xe7a Cabral","age":24,"number":9,"position":"Attacker","photo":"https://media.api-sports.io/football/players/9938.png"},{"id":43096,"name":"Louis Munteanu","age":20,"number":67,"position":"Attacker","photo":"https://media.api-sports.io/football/players/43096.png"},{"id":31507,"name":"Riccardo Sottil","age":23,"number":33,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31507.png"},{"id":194670,"name":"E. To\xe7i","age":19,"number":99,"position":"Attacker","photo":"https://media.api-sports.io/football/players/194670.png"}]},"venue":{"id":902,"name":"Stadio Artemio Franchi","address":"Viale Manfredo Fanti 14","city":"Firenze","capacity":43147,"surface":"grass","image":"https://media.api-sports.io/football/venues/902.png"}},{"team":{"id":503,"name":"Torino","code":"TOR","country":"Italy","founded":1906,"national":false,"logo":"https://media.api-sports.io/football/teams/503.png","players":[{"id":30416,"name":"E. Berisha","age":33,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30416.png"},{"id":30492,"name":"Lucas Gemello","age":22,"number":89,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30492.png"},{"id":342060,"name":"Alberto Milan","age":19,"number":31,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/342060.png"},{"id":31156,"name":"Vanja Milinkovi\u0107 Savi\u0107","age":25,"number":32,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/31156.png"},{"id":2771,"name":"Temitayo Olufisayo Olaoluwa Aina","age":26,"number":34,"position":"Defender","photo":"https://media.api-sports.io/football/players/2771.png"},{"id":302069,"name":"S. Angori","age":19,"number":21,"position":"Defender","photo":"https://media.api-sports.io/football/players/302069.png"},{"id":30496,"name":"C. Ansaldi","age":36,"number":15,"position":"Defender","photo":"https://media.api-sports.io/football/players/30496.png"},{"id":342061,"name":"A. Anton","age":19,"number":78,"position":"Defender","photo":"https://media.api-sports.io/football/players/342061.png"},{"id":30497,"name":"Bremer","age":25,"number":3,"position":"Defender","photo":"https://media.api-sports.io/football/players/30497.png"},{"id":31226,"name":"A. Buongiorno","age":23,"number":99,"position":"Defender","photo":"https://media.api-sports.io/football/players/31226.png"},{"id":264334,"name":"Christian Celesia","age":20,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/264334.png"},{"id":30499,"name":"L\xe9vy Koffi Djidji","age":30,"number":26,"position":"Defender","photo":"https://media.api-sports.io/football/players/30499.png"},{"id":30501,"name":"Armando Izzo","age":30,"number":5,"position":"Defender","photo":"https://media.api-sports.io/football/players/30501.png"},{"id":1631,"name":"Ricardo Iv\xe1n Rodr\xedguez Araya","age":30,"number":13,"position":"Defender","photo":"https://media.api-sports.io/football/players/1631.png"},{"id":30504,"name":"W. Singo","age":22,"number":17,"position":"Defender","photo":"https://media.api-sports.io/football/players/30504.png"},{"id":8586,"name":"M\xebrgim Vojvoda","age":27,"number":27,"position":"Defender","photo":"https://media.api-sports.io/football/players/8586.png"},{"id":128772,"name":"D. Zima","age":22,"number":6,"position":"Defender","photo":"https://media.api-sports.io/football/players/128772.png"},{"id":30479,"name":"S. Edera","age":25,"number":20,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30479.png"},{"id":180455,"name":"M. Garbett","age":20,"number":18,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/180455.png"},{"id":30513,"name":"B. Kone","age":22,"number":25,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30513.png"},{"id":3009,"name":"Karol Linetty","age":27,"number":77,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/3009.png"},{"id":2823,"name":"Sa\u0161a Luki\u0107","age":26,"number":10,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/2823.png"},{"id":30810,"name":"Rolando Mandragora","age":25,"number":38,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30810.png"},{"id":31370,"name":"J. Segre","age":25,"number":6,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31370.png"},{"id":30509,"name":"Andrea Belotti","age":29,"number":9,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30509.png"},{"id":30514,"name":"Vincenzo Millico","age":22,"number":72,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30514.png"},{"id":123,"name":"Pietro Pellegri","age":21,"number":64,"position":"Attacker","photo":"https://media.api-sports.io/football/players/123.png"},{"id":126766,"name":"Nicola Rauti","age":22,"number":23,"position":"Attacker","photo":"https://media.api-sports.io/football/players/126766.png"},{"id":2522,"name":"Arnaldo Antonio Sanabria Ayala","age":26,"number":19,"position":"Attacker","photo":"https://media.api-sports.io/football/players/2522.png"},{"id":282706,"name":"D. Seck","age":21,"number":23,"position":"Attacker","photo":"https://media.api-sports.io/football/players/282706.png"},{"id":334,"name":"Simone Verdi","age":30,"number":24,"position":"Attacker","photo":"https://media.api-sports.io/football/players/334.png"},{"id":30515,"name":"Simone Zaza","age":31,"number":7,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30515.png"}]},"venue":{"id":943,"name":"Stadio Olimpico Grande Torino","address":"Corso Sebastopoli 123, Santa Rita","city":"Torino","capacity":27958,"surface":"grass","image":"https://media.api-sports.io/football/venues/943.png"}},{"team":{"id":504,"name":"Verona","code":"VER","country":"Italy","founded":1903,"national":false,"logo":"https://media.api-sports.io/football/teams/504.png","players":[{"id":30912,"name":"Alessandro Berardi","age":31,"number":22,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30912.png"},{"id":362756,"name":"Elia Boseggia","age":18,"number":74,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/362756.png"},{"id":30913,"name":"Mattia Chiesa","age":22,"number":12,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30913.png"},{"id":60578,"name":"Kaur Kivila","age":19,"number":80,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/60578.png"},{"id":14268,"name":"Ivor Pandur","age":22,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/14268.png"},{"id":350539,"name":"Giacomo Toniolo","age":18,"number":94,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/350539.png"},{"id":126741,"name":"B. Amione","age":20,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/126741.png"},{"id":31099,"name":"N. Casale","age":24,"number":16,"position":"Defender","photo":"https://media.api-sports.io/football/players/31099.png"},{"id":30397,"name":"Federico Ceccherini","age":30,"number":17,"position":"Defender","photo":"https://media.api-sports.io/football/players/30397.png"},{"id":61808,"name":"M. \xc7etin","age":25,"number":15,"position":"Defender","photo":"https://media.api-sports.io/football/players/61808.png"},{"id":342063,"name":"D. Coppola","age":19,"number":42,"position":"Defender","photo":"https://media.api-sports.io/football/players/342063.png"},{"id":30921,"name":"Pawe\u0142 Marek Dawidowicz","age":27,"number":27,"position":"Defender","photo":"https://media.api-sports.io/football/players/30921.png"},{"id":30922,"name":"Marco Davide Faraoni","age":31,"number":5,"position":"Defender","photo":"https://media.api-sports.io/football/players/30922.png"},{"id":30772,"name":"Koray G\xfcnter","age":28,"number":21,"position":"Defender","photo":"https://media.api-sports.io/football/players/30772.png"},{"id":30924,"name":"M. Kumbulla","age":22,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/30924.png"},{"id":30526,"name":"Giangiacomo Magnani","age":27,"number":23,"position":"Defender","photo":"https://media.api-sports.io/football/players/30526.png"},{"id":971,"name":"Panagiotis Retsos","age":24,"number":45,"position":"Defender","photo":"https://media.api-sports.io/football/players/971.png"},{"id":30803,"name":"Anton\xedn Bar\xe1k","age":28,"number":7,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30803.png"},{"id":137384,"name":"Tochi Phil Chukwuani","age":19,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/137384.png"},{"id":46170,"name":"I. Ili\u0107","age":21,"number":14,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/46170.png"},{"id":2822,"name":"D. Lazovi\u0107","age":32,"number":8,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/2822.png"},{"id":265552,"name":"C. Pierobon","age":20,"number":26,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/265552.png"},{"id":30781,"name":"Miguel Veloso","age":36,"number":4,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30781.png"},{"id":40399,"name":"M. Praszelik","age":22,"number":88,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/40399.png"},{"id":30778,"name":"Daniel Sartori Bessa","age":29,"number":24,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30778.png"},{"id":22174,"name":"Adrien Tameze","age":28,"number":61,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/22174.png"},{"id":264472,"name":"F. Terracciano","age":19,"number":97,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/264472.png"},{"id":342013,"name":"Mattia Turra","age":20,"number":63,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/342013.png"},{"id":109806,"name":"David Flakus Bosilj","age":20,"number":32,"position":"Attacker","photo":"https://media.api-sports.io/football/players/109806.png"},{"id":342064,"name":"M. Florio","age":19,"number":71,"position":"Attacker","photo":"https://media.api-sports.io/football/players/342064.png"},{"id":30440,"name":"R. Piccoli","age":21,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30440.png"},{"id":30414,"name":"Giovanni Pablo Simeone","age":27,"number":99,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30414.png"},{"id":30761,"name":"Mariusz Pawe\u0142 St\u0119pi\u0144ski","age":27,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30761.png"},{"id":31692,"name":"M. \u0110uri\u0107","age":32,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31692.png"}]},"venue":{"id":890,"name":"Stadio Marc\'Antonio Bentegodi","address":"Piazzale Olimpia","city":"Verona","capacity":39211,"surface":"grass","image":"https://media.api-sports.io/football/venues/890.png"}},{"team":{"id":505,"name":"Inter","code":"INT","country":"Italy","founded":1908,"national":false,"logo":"https://media.api-sports.io/football/teams/505.png","players":[{"id":30974,"name":"A. Cordaz","age":39,"number":21,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30974.png"},{"id":188,"name":"S. Handanovi\u010d","age":38,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/188.png"},{"id":526,"name":"Andr\xe9 Onana Onana","age":26,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/526.png"},{"id":30765,"name":"Ionu\u021b Andrei Radu","age":25,"number":97,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30765.png"},{"id":336703,"name":"William Rovida","age":19,"number":40,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/336703.png"},{"id":162445,"name":"Filip Stankovi\u0107","age":20,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/162445.png"},{"id":31009,"name":"Alessandro Bastoni","age":23,"number":95,"position":"Defender","photo":"https://media.api-sports.io/football/players/31009.png"},{"id":192,"name":"Dalbert Henrique Chagas Estev\xe3o","age":29,"number":29,"position":"Defender","photo":"https://media.api-sports.io/football/players/192.png"},{"id":162195,"name":"F. Cortinovis","age":20,"number":43,"position":"Defender","photo":"https://media.api-sports.io/football/players/162195.png"},{"id":193,"name":"Danilo D\'Ambrosio","age":34,"number":33,"position":"Defender","photo":"https://media.api-sports.io/football/players/193.png"},{"id":887,"name":"Matteo Darmian","age":33,"number":36,"position":"Defender","photo":"https://media.api-sports.io/football/players/887.png"},{"id":194,"name":"Stefan de Vrij","age":30,"number":6,"position":"Defender","photo":"https://media.api-sports.io/football/players/194.png"},{"id":31010,"name":"Federico Dimarco","age":25,"number":32,"position":"Defender","photo":"https://media.api-sports.io/football/players/31010.png"},{"id":226,"name":"Denzel Justus Morris Dumfries","age":26,"number":2,"position":"Defender","photo":"https://media.api-sports.io/football/players/226.png"},{"id":30422,"name":"Robin Everardus Gosens","age":28,"number":18,"position":"Defender","photo":"https://media.api-sports.io/football/players/30422.png"},{"id":771,"name":"Aleksandar Kolarov","age":37,"number":11,"position":"Defender","photo":"https://media.api-sports.io/football/players/771.png"},{"id":134431,"name":"L. Pirola","age":20,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/134431.png"},{"id":198,"name":"Milan \u0160kriniar","age":27,"number":37,"position":"Defender","photo":"https://media.api-sports.io/football/players/198.png"},{"id":2107,"name":"Z. Vanheusden","age":23,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/2107.png"},{"id":322626,"name":"M. Zanotti","age":19,"number":46,"position":"Defender","photo":"https://media.api-sports.io/football/players/322626.png"},{"id":21004,"name":"L. Agoum\xe9","age":20,"number":18,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/21004.png"},{"id":275776,"name":"K. Asllani","age":20,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/275776.png"},{"id":30558,"name":"Nicol\xf2 Barella","age":25,"number":23,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30558.png"},{"id":201,"name":"Marcelo Brozovi\u0107","age":30,"number":77,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/201.png"},{"id":1640,"name":"Hakan \xc7alhano\u011flu","age":28,"number":20,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1640.png"},{"id":270507,"name":"C. Casadei","age":19,"number":42,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/270507.png"},{"id":1854,"name":"Carlos Joaqu\xedn Correa","age":28,"number":19,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1854.png"},{"id":203,"name":"Roberto Gagliardini","age":28,"number":5,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/203.png"},{"id":25353,"name":"Valentino Lando Lazaro","age":26,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/25353.png"},{"id":1457,"name":"Henrikh Mkhitaryan","age":33,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1457.png"},{"id":161857,"name":"T. Persyn","age":20,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/161857.png"},{"id":336629,"name":"M. Sangalli","age":20,"number":38,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/336629.png"},{"id":211,"name":"Mat\xedas Vecino Falero","age":31,"number":8,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/211.png"},{"id":151,"name":"Arturo Erasmo Vidal Pardo","age":35,"number":22,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/151.png"},{"id":286473,"name":"F. Carboni","age":19,"number":47,"position":"Attacker","photo":"https://media.api-sports.io/football/players/286473.png"},{"id":341644,"name":"D. Curatolo","age":18,"number":41,"position":"Attacker","photo":"https://media.api-sports.io/football/players/341644.png"},{"id":790,"name":"E. D\u017eeko","age":36,"number":9,"position":"Attacker","photo":"https://media.api-sports.io/football/players/790.png"},{"id":907,"name":"Romelu Lukaku Menama","age":29,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/907.png"},{"id":217,"name":"Lautaro Javier Mart\xednez","age":25,"number":10,"position":"Attacker","photo":"https://media.api-sports.io/football/players/217.png"},{"id":31094,"name":"Andrea Pinamonti","age":23,"number":99,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31094.png"},{"id":220,"name":"Eddie Anthony Salcedo Mora","age":21,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/220.png"},{"id":910,"name":"A. S\xe1nchez","age":34,"number":7,"position":"Attacker","photo":"https://media.api-sports.io/football/players/910.png"},{"id":195512,"name":"M. Satriano","age":21,"number":48,"position":"Attacker","photo":"https://media.api-sports.io/football/players/195512.png"}]},"venue":{"id":907,"name":"Stadio Giuseppe Meazza","address":"Via Piccolomini 5","city":"Milano","capacity":80018,"surface":"grass","image":"https://media.api-sports.io/football/venues/907.png"}},{"team":{"id":511,"name":"Empoli","code":"EMP","country":"Italy","founded":1920,"national":false,"logo":"https://media.api-sports.io/football/teams/511.png","players":[{"id":292343,"name":"Valerio Biagini","age":19,"number":38,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/292343.png"},{"id":56780,"name":"Jacopo Furlan","age":29,"number":22,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/56780.png"},{"id":30794,"name":"Samuele Perisan","age":25,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30794.png"},{"id":322632,"name":"Alex Sposito","age":21,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/322632.png"},{"id":50023,"name":"S. Ujkani","age":34,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/50023.png"},{"id":31354,"name":"Guglielmo Vicario","age":26,"number":13,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/31354.png"},{"id":91503,"name":"S. Canestrelli","age":22,"number":4,"position":"Defender","photo":"https://media.api-sports.io/football/players/91503.png"},{"id":128495,"name":"Francesco Donati","age":21,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/128495.png"},{"id":31724,"name":"Riccardo Fiamozzi","age":29,"number":20,"position":"Defender","photo":"https://media.api-sports.io/football/players/31724.png"},{"id":14329,"name":"Ardian Ismajli","age":26,"number":34,"position":"Defender","photo":"https://media.api-sports.io/football/players/14329.png"},{"id":136087,"name":"F. Parisi","age":22,"number":65,"position":"Defender","photo":"https://media.api-sports.io/football/players/136087.png"},{"id":341833,"name":"L. Pezzola","age":20,"number":36,"position":"Defender","photo":"https://media.api-sports.io/football/players/341833.png"},{"id":31547,"name":"Roberto Pirrello","age":26,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/31547.png"},{"id":282412,"name":"A. Rizza","age":19,"number":31,"position":"Defender","photo":"https://media.api-sports.io/football/players/282412.png"},{"id":30450,"name":"Lorenzo Tonelli","age":32,"number":26,"position":"Defender","photo":"https://media.api-sports.io/football/players/30450.png"},{"id":180510,"name":"M. Viti","age":20,"number":42,"position":"Defender","photo":"https://media.api-sports.io/football/players/180510.png"},{"id":56163,"name":"Davide Zappella","age":24,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/56163.png"},{"id":48577,"name":"N. Bajrami","age":23,"number":10,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/48577.png"},{"id":30624,"name":"F. Bandinelli","age":27,"number":25,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30624.png"},{"id":30403,"name":"Marco Benassi","age":28,"number":15,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30403.png"},{"id":31237,"name":"G. Crociata","age":25,"number":14,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31237.png"},{"id":31207,"name":"Samuele Damiani","age":24,"number":21,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31207.png"},{"id":340699,"name":"D. Degli Innocenti","age":19,"number":24,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/340699.png"},{"id":340700,"name":"J. Fazzini","age":19,"number":16,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/340700.png"},{"id":31555,"name":"Nicolas Thibault Haas","age":26,"number":32,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31555.png"},{"id":30932,"name":"Liam Henderson","age":26,"number":8,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30932.png"},{"id":3014,"name":"S. \u017burkowski","age":25,"number":27,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/3014.png"},{"id":31056,"name":"S. Ricci","age":21,"number":28,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31056.png"},{"id":31028,"name":"Leo \u0160tulac","age":28,"number":5,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31028.png"},{"id":288769,"name":"T. Baldanzi","age":19,"number":35,"position":"Attacker","photo":"https://media.api-sports.io/football/players/288769.png"},{"id":30486,"name":"Mattia Destro","age":31,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30486.png"},{"id":287374,"name":"E. Ekong","age":20,"number":17,"position":"Attacker","photo":"https://media.api-sports.io/football/players/287374.png"},{"id":31743,"name":"Andrea La Mantia","age":31,"number":19,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31743.png"},{"id":335213,"name":"Matteo Martini","age":20,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/335213.png"},{"id":31560,"name":"Stefano Moreo","age":29,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31560.png"}]},"venue":{"id":896,"name":"Stadio Carlo Castellani","address":"Viale delle Olimpiadi","city":"Empoli","capacity":16284,"surface":"grass","image":"https://media.api-sports.io/football/venues/896.png"}},{"team":{"id":514,"name":"Salernitana","code":"SAL","country":"Italy","founded":2011,"national":false,"logo":"https://media.api-sports.io/football/teams/514.png","players":[{"id":199210,"name":"Jacopo De Matteis","age":20,"number":71,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/199210.png"},{"id":31473,"name":"V. Fiorillo","age":32,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/31473.png"},{"id":31664,"name":"Alessandro Micai","age":29,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/31664.png"},{"id":282634,"name":"Antonio Russo","age":22,"number":12,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/282634.png"},{"id":31008,"name":"Luigi Sepe","age":31,"number":55,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/31008.png"},{"id":30951,"name":"Luka Bogdan","age":26,"number":26,"position":"Defender","photo":"https://media.api-sports.io/football/players/30951.png"},{"id":351268,"name":"T. De Lorenzo","age":18,"number":38,"position":"Defender","photo":"https://media.api-sports.io/football/players/351268.png"},{"id":768,"name":"F. Fazio","age":35,"number":17,"position":"Defender","photo":"https://media.api-sports.io/football/players/768.png"},{"id":31011,"name":"Riccardo Gagliolo","age":32,"number":31,"position":"Defender","photo":"https://media.api-sports.io/football/players/31011.png"},{"id":31389,"name":"Norbert Gy\xf6mb\xe9r","age":30,"number":23,"position":"Defender","photo":"https://media.api-sports.io/football/players/31389.png"},{"id":31672,"name":"V. Mantovani","age":26,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/31672.png"},{"id":350614,"name":"M. Perrone","age":19,"number":37,"position":"Defender","photo":"https://media.api-sports.io/football/players/350614.png"},{"id":8864,"name":"S. Sy","age":23,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/8864.png"},{"id":31050,"name":"Fr\xe9d\xe9ric Veseli","age":30,"number":5,"position":"Defender","photo":"https://media.api-sports.io/football/players/31050.png"},{"id":39286,"name":"E. Bohinen","age":23,"number":15,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/39286.png"},{"id":31613,"name":"R. Boultam","age":24,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31613.png"},{"id":31053,"name":"Leonardo Capezzi","age":27,"number":28,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31053.png"},{"id":31170,"name":"Michele Cavion","age":28,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31170.png"},{"id":49938,"name":"Joel Chukwuma Obi","age":31,"number":22,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/49938.png"},{"id":1748,"name":"L. Coulibaly","age":26,"number":18,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1748.png"},{"id":31680,"name":"Francesco Di Tacchio","age":32,"number":14,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31680.png"},{"id":10097,"name":"\xc9derson","age":23,"number":13,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/10097.png"},{"id":283008,"name":"A. Iervolino","age":19,"number":39,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/283008.png"},{"id":2954,"name":"W. Kechrida","age":27,"number":24,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/2954.png"},{"id":280947,"name":"A. Mo\u021boc","age":20,"number":35,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/280947.png"},{"id":30782,"name":"Ivan Radovanovi\u0107","age":34,"number":16,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30782.png"},{"id":515,"name":"F. Rib\xe9ry","age":39,"number":7,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/515.png"},{"id":349460,"name":"Alessandro Russo","age":19,"number":36,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/349460.png"},{"id":31369,"name":"Andrea Schiavone","age":29,"number":8,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31369.png"},{"id":349459,"name":"L. Cannavale","age":20,"number":34,"position":"Attacker","photo":"https://media.api-sports.io/football/players/349459.png"},{"id":56951,"name":"Giuseppe Fella","age":29,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/56951.png"},{"id":352228,"name":"A. Guida","age":20,"number":40,"position":"Attacker","photo":"https://media.api-sports.io/football/players/352228.png"},{"id":201970,"name":"Carmine Iannone","age":21,"number":15,"position":"Attacker","photo":"https://media.api-sports.io/football/players/201970.png"},{"id":15782,"name":"Julian Kristoffersen","age":25,"number":19,"position":"Attacker","photo":"https://media.api-sports.io/football/players/15782.png"},{"id":31685,"name":"Francesco Orlando","age":26,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31685.png"},{"id":31003,"name":"Simeon Tochukwu Nwankwo","age":30,"number":25,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31003.png"},{"id":134432,"name":"Edoardo Vergani","age":21,"number":63,"position":"Attacker","photo":"https://media.api-sports.io/football/players/134432.png"}]},"venue":{"id":933,"name":"Stadio Arechi","address":"Via Salvador Allende","city":"Salerno","capacity":37245,"surface":"grass","image":"https://media.api-sports.io/football/venues/933.png"}},{"team":{"id":515,"name":"Spezia","code":"SPE","country":"Italy","founded":1906,"national":false,"logo":"https://media.api-sports.io/football/teams/515.png","players":[{"id":31037,"name":"Ivan Provedel","age":28,"number":94,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/31037.png"},{"id":224,"name":"Jeroen Zoet","age":31,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/224.png"},{"id":327572,"name":"Petar Zovko","age":20,"number":40,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/327572.png"},{"id":22134,"name":"Kelvin Amian Adou","age":24,"number":27,"position":"Defender","photo":"https://media.api-sports.io/football/players/22134.png"},{"id":30687,"name":"Simone Bastoni","age":26,"number":20,"position":"Defender","photo":"https://media.api-sports.io/football/players/30687.png"},{"id":315249,"name":"N. Bertola","age":19,"number":77,"position":"Defender","photo":"https://media.api-sports.io/football/players/315249.png"},{"id":30824,"name":"Elio Capradossi","age":26,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/30824.png"},{"id":47217,"name":"Salvador Ferrer","age":24,"number":21,"position":"Defender","photo":"https://media.api-sports.io/football/players/47217.png"},{"id":329400,"name":"L. Gabelli","age":20,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/329400.png"},{"id":47985,"name":"Emil Alfons Holm","age":22,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/47985.png"},{"id":31258,"name":"Petko Hristov","age":23,"number":15,"position":"Defender","photo":"https://media.api-sports.io/football/players/31258.png"},{"id":61431,"name":"J. Kiwior","age":22,"number":14,"position":"Defender","photo":"https://media.api-sports.io/football/players/61431.png"},{"id":31045,"name":"Dimitrios Nikolaou","age":24,"number":43,"position":"Defender","photo":"https://media.api-sports.io/football/players/31045.png"},{"id":30448,"name":"Jacopo Sala","age":31,"number":7,"position":"Defender","photo":"https://media.api-sports.io/football/players/30448.png"},{"id":30840,"name":"L. Vignali","age":26,"number":12,"position":"Defender","photo":"https://media.api-sports.io/football/players/30840.png"},{"id":215902,"name":"Kleis Bozhanaj","age":21,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/215902.png"},{"id":10352,"name":"L\xe9o Sena","age":27,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/10352.png"},{"id":89520,"name":"M. Ellertsson","age":20,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/89520.png"},{"id":30836,"name":"G. Maggiore","age":24,"number":25,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30836.png"},{"id":20927,"name":"A. Nguiamba","age":23,"number":39,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/20927.png"},{"id":315250,"name":"N. Pietra","age":19,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/315250.png"},{"id":48129,"name":"A. Sher","age":20,"number":31,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/48129.png"},{"id":30457,"name":"Ognjen Stijepovi\u0107","age":23,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30457.png"},{"id":193870,"name":"Janis Antiste","age":20,"number":22,"position":"Attacker","photo":"https://media.api-sports.io/football/players/193870.png"},{"id":206280,"name":"Leandro M\xe1rio Bald\xe9 Sanca","age":22,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/206280.png"},{"id":340975,"name":"D. Delori\xe8","age":18,"number":76,"position":"Attacker","photo":"https://media.api-sports.io/football/players/340975.png"},{"id":30845,"name":"Emanuel Quartsin Gyasi","age":28,"number":11,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30845.png"},{"id":30999,"name":"Samuel Mr\xe1z","age":25,"number":9,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30999.png"},{"id":31318,"name":"M\'Bala Nzola","age":26,"number":18,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31318.png"},{"id":163338,"name":"Suf Podgoreanu","age":20,"number":17,"position":"Attacker","photo":"https://media.api-sports.io/football/players/163338.png"},{"id":61156,"name":"David Strelec","age":21,"number":44,"position":"Attacker","photo":"https://media.api-sports.io/football/players/61156.png"},{"id":47500,"name":"Daniele Verde","age":26,"number":10,"position":"Attacker","photo":"https://media.api-sports.io/football/players/47500.png"},{"id":281218,"name":"D. Zuppel","age":20,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/281218.png"}]},"venue":{"id":939,"name":"Stadio Alberto Picco","address":"Via Nicol\xf2 Fieschi, 18","city":"La Spezia","capacity":10336,"surface":"artificial turf","image":"https://media.api-sports.io/football/venues/939.png"}},{"team":{"id":520,"name":"Cremonese","code":"CRE","country":"Italy","founded":1903,"national":false,"logo":"https://media.api-sports.io/football/teams/520.png","players":[{"id":364512,"name":"Federico Agazzi","age":null,"number":44,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/364512.png"},{"id":327771,"name":"Dorian Jerzy Ci\u0119\u017ckowski","age":21,"number":22,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/327771.png"},{"id":327773,"name":"Davide Peschieri","age":18,"number":48,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/327773.png"},{"id":30919,"name":"Matteo Bianchetti","age":29,"number":15,"position":"Defender","photo":"https://media.api-sports.io/football/players/30919.png"},{"id":30920,"name":"Alessandro Crescenzi","age":31,"number":23,"position":"Defender","photo":"https://media.api-sports.io/football/players/30920.png"},{"id":56643,"name":"A. Fiordaliso","age":23,"number":2,"position":"Defender","photo":"https://media.api-sports.io/football/players/56643.png"},{"id":282415,"name":"Luca Munaretti","age":20,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/282415.png"},{"id":30427,"name":"C. Okoli","age":21,"number":55,"position":"Defender","photo":"https://media.api-sports.io/football/players/30427.png"},{"id":31421,"name":"Luca Ravanelli","age":25,"number":6,"position":"Defender","photo":"https://media.api-sports.io/football/players/31421.png"},{"id":91358,"name":"E. Valeri","age":24,"number":3,"position":"Defender","photo":"https://media.api-sports.io/football/players/91358.png"},{"id":35544,"name":"J. V\xe1squez","age":24,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/35544.png"},{"id":30831,"name":"Paolo Bartolomei","age":33,"number":16,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30831.png"},{"id":30634,"name":"Cristian Buonaiuto","age":30,"number":10,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30634.png"},{"id":31614,"name":"Michele Castagnetti","age":33,"number":19,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31614.png"},{"id":90398,"name":"Francesco Cerretelli","age":22,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/90398.png"},{"id":56972,"name":"Riccardo Collodel","age":24,"number":5,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/56972.png"},{"id":327772,"name":"D. Frey","age":20,"number":27,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/327772.png"},{"id":281658,"name":"Matteo Ghisolfi","age":20,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/281658.png"},{"id":31619,"name":"Stefano Girelli","age":21,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31619.png"},{"id":289292,"name":"T. Milanese","age":20,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/289292.png"},{"id":30692,"name":"F. Nardi","age":24,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30692.png"},{"id":18128,"name":"D. Politic","age":22,"number":20,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/18128.png"},{"id":324322,"name":"Joshua tenkorang","age":22,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/324322.png"},{"id":31344,"name":"Jaime B\xe1ez St\xe1bile","age":27,"number":7,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31344.png"},{"id":31092,"name":"Daniel Ciofani","age":37,"number":9,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31092.png"},{"id":30939,"name":"S. Di Carmine","age":34,"number":29,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30939.png"},{"id":57016,"name":"Cedric Gondo","age":26,"number":8,"position":"Attacker","photo":"https://media.api-sports.io/football/players/57016.png"},{"id":31629,"name":"Luca Strizzolo","age":30,"number":11,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31629.png"},{"id":56304,"name":"Luca Zanimacchia","age":24,"number":98,"position":"Attacker","photo":"https://media.api-sports.io/football/players/56304.png"},{"id":30686,"name":"Marco Zunno","age":21,"number":99,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30686.png"}]},"venue":{"id":894,"name":"Stadio Giovanni Zini","address":"Via Persico, 19","city":"Cremona","capacity":20034,"surface":"grass","image":"https://media.api-sports.io/football/venues/894.png"}},{"team":{"id":867,"name":"Lecce","code":"LEC","country":"Italy","founded":1908,"national":false,"logo":"https://media.api-sports.io/football/teams/867.png","players":[{"id":31717,"name":"Marco Bleve","age":27,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/31717.png"},{"id":42712,"name":"Alexandru Gabriel Borbei","age":19,"number":12,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/42712.png"},{"id":30391,"name":"F. Brancolini","age":21,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30391.png"},{"id":330720,"name":"Alberto Dima","age":18,"number":32,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/330720.png"},{"id":156619,"name":"Jasper Lauri Petteri Samooja","age":19,"number":35,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/156619.png"},{"id":31384,"name":"Gabriel Vasconcelos","age":30,"number":21,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/31384.png"},{"id":30469,"name":"Arturo Calabresi","age":26,"number":33,"position":"Defender","photo":"https://media.api-sports.io/football/players/30469.png"},{"id":31328,"name":"Kastriot Dermaku","age":30,"number":44,"position":"Defender","photo":"https://media.api-sports.io/football/players/31328.png"},{"id":31517,"name":"G. Frabotta","age":23,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/31517.png"},{"id":31543,"name":"A. Gallo","age":22,"number":25,"position":"Defender","photo":"https://media.api-sports.io/football/players/31543.png"},{"id":127631,"name":"V. Gendrey","age":22,"number":17,"position":"Defender","photo":"https://media.api-sports.io/football/players/127631.png"},{"id":341918,"name":"E. Hasi\u0107","age":19,"number":31,"position":"Defender","photo":"https://media.api-sports.io/football/players/341918.png"},{"id":30862,"name":"Lorenco \u0160imi\u0107","age":26,"number":6,"position":"Defender","photo":"https://media.api-sports.io/football/players/30862.png"},{"id":30622,"name":"A. Tuia","age":32,"number":13,"position":"Defender","photo":"https://media.api-sports.io/football/players/30622.png"},{"id":48352,"name":"J. Bj\xf6rkengren","age":24,"number":23,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/48352.png"},{"id":21384,"name":"Alexis Blin","age":26,"number":29,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/21384.png"},{"id":7712,"name":"M. Hjulmand","age":23,"number":42,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/7712.png"},{"id":32158,"name":"Mario Gargiulo","age":26,"number":8,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/32158.png"},{"id":28744,"name":"\xde. Helgason","age":22,"number":14,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/28744.png"},{"id":31736,"name":"\u017dan Majer","age":30,"number":37,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31736.png"},{"id":180585,"name":"Sergio Maselli","age":21,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/180585.png"},{"id":30633,"name":"Ra\xfal Jos\xe9 Asencio Moraes","age":24,"number":90,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30633.png"},{"id":40624,"name":"Marcin Listkowski","age":24,"number":19,"position":"Attacker","photo":"https://media.api-sports.io/football/players/40624.png"},{"id":91301,"name":"A. Ragusa","age":32,"number":7,"position":"Attacker","photo":"https://media.api-sports.io/football/players/91301.png"},{"id":162029,"name":"Pablo Rodr\xedguez","age":21,"number":99,"position":"Attacker","photo":"https://media.api-sports.io/football/players/162029.png"},{"id":31624,"name":"Gabriel Tadeu Strefezza Rebelato","age":25,"number":27,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31624.png"},{"id":1018,"name":"Assan Torrez Ceesay","age":28,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/1018.png"}]},"venue":{"id":911,"name":"Stadio Comunale Via del Mare","address":"Viale dello Stadio","city":"Lecce","capacity":33876,"surface":"grass","image":"https://media.api-sports.io/football/venues/911.png"}},{"team":{"id":1579,"name":"Monza","code":"MON","country":"Italy","founded":1912,"national":false,"logo":"https://media.api-sports.io/football/teams/1579.png","players":[{"id":30546,"name":"Alessio Cragno","age":28,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30546.png"},{"id":30820,"name":"E. Lamanna","age":33,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30820.png"},{"id":308673,"name":"Andrea Sergio Mazza","age":18,"number":62,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/308673.png"},{"id":287079,"name":"Stefano Rubbi","age":20,"number":22,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/287079.png"},{"id":31445,"name":"Daniele Sommariva","age":25,"number":12,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/31445.png"},{"id":31542,"name":"G. Bellusci","age":33,"number":6,"position":"Defender","photo":"https://media.api-sports.io/football/players/31542.png"},{"id":30615,"name":"Luca Caldirola","age":31,"number":5,"position":"Defender","photo":"https://media.api-sports.io/football/players/30615.png"},{"id":193270,"name":"A. Carboni","age":21,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/193270.png"},{"id":25911,"name":"Giulio Donati","age":32,"number":2,"position":"Defender","photo":"https://media.api-sports.io/football/players/25911.png"},{"id":10997,"name":"Valentin Ivaylov Antov","age":22,"number":26,"position":"Defender","photo":"https://media.api-sports.io/football/players/10997.png"},{"id":30934,"name":"Luca Marrone","age":32,"number":34,"position":"Defender","photo":"https://media.api-sports.io/football/players/30934.png"},{"id":30994,"name":"Salvatore Andrea Molina","age":30,"number":79,"position":"Defender","photo":"https://media.api-sports.io/football/players/30994.png"},{"id":12774,"name":"G. Paletta","age":36,"number":29,"position":"Defender","photo":"https://media.api-sports.io/football/players/12774.png"},{"id":197,"name":"Andrea Ranocchia","age":34,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/197.png"},{"id":30984,"name":"Mario Sampirisi","age":30,"number":31,"position":"Defender","photo":"https://media.api-sports.io/football/players/30984.png"},{"id":10238,"name":"Carlos Augusto","age":23,"number":30,"position":"Defender","photo":"https://media.api-sports.io/football/players/10238.png"},{"id":30989,"name":"Andrea Barberis","age":29,"number":8,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30989.png"},{"id":161937,"name":"Ronaldo Camar\xe1","age":19,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/161937.png"},{"id":30806,"name":"Marco D\'Alessandro","age":31,"number":77,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30806.png"},{"id":31024,"name":"Jos\xe9 Mach\xedn","age":26,"number":7,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31024.png"},{"id":30780,"name":"Luca Mazzitelli","age":27,"number":4,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30780.png"},{"id":31116,"name":"Tommaso Morosini","age":31,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31116.png"},{"id":30455,"name":"Gast\xf3n Exequiel Ram\xedrez Pereyra","age":32,"number":21,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30455.png"},{"id":30754,"name":"Nicola Rigoni","age":32,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30754.png"},{"id":31026,"name":"Matteo Scozzarella","age":34,"number":23,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31026.png"},{"id":30535,"name":"Stefano Sensi","age":27,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30535.png"},{"id":325385,"name":"A. Siatounis","age":20,"number":20,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/325385.png"},{"id":30603,"name":"Dany Mota Carvalho","age":24,"number":47,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30603.png"},{"id":31532,"name":"Patrick Ciurria","age":27,"number":84,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31532.png"},{"id":30663,"name":"Davide Djily Diaw","age":30,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30663.png"},{"id":30664,"name":"Mattia Finotto","age":30,"number":11,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30664.png"},{"id":2738,"name":"C. Gytkj\xe6r","age":32,"number":9,"position":"Attacker","photo":"https://media.api-sports.io/football/players/2738.png"},{"id":31503,"name":"Leonardo Mancuso","age":30,"number":11,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31503.png"},{"id":9072,"name":"Mirko Mari\u0107","age":27,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/9072.png"},{"id":312985,"name":"S. Vignato","age":18,"number":80,"position":"Attacker","photo":"https://media.api-sports.io/football/players/312985.png"}]},"venue":{"id":12086,"name":"U-Power Stadium","address":"Via Franco Tognini","city":"Monza","capacity":18568,"surface":"grass","image":"https://media.api-sports.io/football/venues/12086.png"}}]}');var L3=P.t(F3,2);class V3 extends Tm.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const XN="primary";class Zb{constructor(e){Object.assign(this,e)}static create(e){return(null==e?.type||0===e.type.length)&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new Zb(e)}}let G3=(()=>{class n{constructor(){this.spinnerObservable=new V3(null)}getSpinner(t){return this.spinnerObservable.asObservable().pipe(Xp(r=>r&&r.name===t))}show(t=XN,r){return new Promise((o,l)=>{setTimeout(()=>{r&&Object.keys(r).length?(r.name=t,this.spinnerObservable.next(new Zb({...r,show:!0})),o(!0)):(this.spinnerObservable.next(new Zb({name:t,show:!0})),o(!0))},10)})}hide(t=XN,r=10){return new Promise((o,l)=>{setTimeout(()=>{this.spinnerObservable.next(new Zb({name:t,show:!1})),o(!0)},r)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const H3=new d.OlP("NGX_SPINNER_CONFIG");let $3=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:H3,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Mo]}),n})();function z3(n,e){1&n&&(d.TgZ(0,"div",11)(1,"h1"),d._uU(2,"Devi generare una sessione nuova di estrazione"),d.qZA()())}function q3(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"button",12),d.NdJ("click",function(){d.CHM(t);const o=d.oxw();return d.KtG(o.CheckLocalStorage())}),d._uU(1,"Genera estrazione"),d.qZA()}}function W3(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"button",13),d.NdJ("click",function(){d.CHM(t);const o=d.oxw();return d.KtG(o.Elimina())}),d._uU(1,"Elimina estrazione"),d.qZA()}}function K3(n,e){if(1&n&&(d.TgZ(0,"option",35),d._uU(1),d.qZA()),2&n){const t=e.$implicit;d.Q6J("value",t),d.xp6(1),d.Oqu(t)}}function Z3(n,e){if(1&n&&(d.TgZ(0,"option",35),d._uU(1),d.qZA()),2&n){const t=e.$implicit;d.Q6J("value",t.nome),d.xp6(1),d.Oqu(t.nome)}}const Y3=function(n,e){return{"bg-[url(src/assets/gold1.png)] text-black":n,"bg-[url(src/assets/op.png)] text-white":e}},Q3=function(n,e){return{" text-black":n," text-white":e}};function J3(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",17)(1,"div",18)(2,"select",19),d.NdJ("ngModelChange",function(o){d.CHM(t);const l=d.oxw(2);return d.KtG(l.roleSelected=o)}),d.YNc(3,K3,2,2,"option",20),d.qZA()(),d.TgZ(4,"div",21)(5,"div",22),d._UZ(6,"img",23),d.TgZ(7,"div",24)(8,"div",25)(9,"b"),d._uU(10),d.qZA()(),d.TgZ(11,"div",26),d._UZ(12,"img",27),d.qZA()(),d.TgZ(13,"div",28)(14,"div",29),d._uU(15),d.qZA(),d.TgZ(16,"div"),d._uU(17),d.qZA()()(),d.TgZ(18,"div",30)(19,"select",31),d.NdJ("ngModelChange",function(o){d.CHM(t);const l=d.oxw(2);return d.KtG(l.squadSelected=o)}),d.YNc(20,Z3,2,2,"option",20),d.qZA(),d._UZ(21,"br"),d.TgZ(22,"input",32),d.NdJ("ngModelChange",function(o){d.CHM(t);const l=d.oxw(2);return d.KtG(l.creditiSpesi=o)}),d.qZA(),d.TgZ(23,"div",33)(24,"button",34),d.NdJ("click",function(){d.CHM(t);const o=d.oxw(2);return d.KtG(o.Associa())}),d._uU(25,"Associa"),d.qZA()()()()()}if(2&n){const t=d.oxw(2);d.xp6(2),d.Q6J("ngModel",t.roleSelected),d.xp6(1),d.Q6J("ngForOf",t.roleArr),d.xp6(1),d.Q6J("ngClass",d.WLB(12,Y3,!t.selectedPlayer.top,t.selectedPlayer.top)),d.xp6(1),d.Q6J("ngClass",d.WLB(15,Q3,!t.selectedPlayer.top,t.selectedPlayer.top)),d.xp6(1),d.Q6J("src",t.selectedPlayer.photo,d.LSH),d.xp6(4),d.Oqu(t.selectedPlayer.name),d.xp6(2),d.Q6J("src",t.selectedPlayer.logoT,d.LSH),d.xp6(3),d.hij("Age: ",t.selectedPlayer.age,""),d.xp6(2),d.hij("Role: ",t.selectedPlayer.position,""),d.xp6(2),d.Q6J("ngModel",t.squadSelected),d.xp6(1),d.Q6J("ngForOf",t.squadSub),d.xp6(2),d.Q6J("ngModel",t.creditiSpesi)}}function X3(n,e){if(1&n&&(d.TgZ(0,"option",35),d._uU(1),d.qZA()),2&n){const t=e.$implicit;d.Q6J("value",t),d.xp6(1),d.Oqu(t)}}const eL=function(n,e){return{"border-white":n,"border-yellow-500":e}};function tL(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",46)(1,"div",47)(2,"a",48),d._UZ(3,"img",49),d.qZA(),d.TgZ(4,"div",50)(5,"h5",51),d._uU(6),d.qZA(),d.TgZ(7,"div",52)(8,"div"),d._uU(9),d.qZA(),d.TgZ(10,"div"),d._uU(11),d.qZA(),d.TgZ(12,"div",53),d._UZ(13,"img",54),d.qZA()(),d.TgZ(14,"button",55),d.NdJ("click",function(){d.CHM(t);const o=d.oxw().$implicit,l=d.oxw(4);return d.KtG(l.AssociaRicerca(o))}),d._uU(15,"Associa"),d.qZA()()()()}if(2&n){const t=d.oxw().$implicit;d.Q6J("ngClass",d.WLB(6,eL,!t.top,t.top)),d.xp6(3),d.Q6J("src",t.photo,d.LSH),d.xp6(3),d.Oqu(t.name),d.xp6(3),d.Oqu(t.team),d.xp6(2),d.Oqu(t.position),d.xp6(2),d.Q6J("src",t.logoT,d.LSH)}}function nL(n,e){if(1&n&&(d.ynx(0),d.YNc(1,tL,16,9,"div",45),d.BQk()),2&n){const t=e.$implicit;d.xp6(1),d.Q6J("ngIf",1!=t.preso)}}function rL(n,e){if(1&n&&(d.TgZ(0,"div",43),d.YNc(1,nL,2,1,"ng-container",44),d.qZA()),2&n){const t=d.oxw(3);d.xp6(1),d.Q6J("ngForOf",t.arrfilter[0])}}function iL(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",36)(1,"div",37)(2,"div")(3,"label"),d._uU(4,"nome:"),d.qZA(),d.TgZ(5,"input",38),d.NdJ("ngModelChange",function(o){d.CHM(t);const l=d.oxw(2);return d.KtG(l.filtroNome=o)}),d.qZA()(),d.TgZ(6,"div")(7,"label"),d._uU(8,"team:"),d.qZA(),d.TgZ(9,"input",39),d.NdJ("ngModelChange",function(o){d.CHM(t);const l=d.oxw(2);return d.KtG(l.filtroTeam=o)}),d.qZA()(),d.TgZ(10,"div")(11,"label"),d._uU(12,"role:"),d.qZA(),d.TgZ(13,"select",40),d.NdJ("ngModelChange",function(o){d.CHM(t);const l=d.oxw(2);return d.KtG(l.filtroRole=o)}),d.YNc(14,X3,2,2,"option",20),d.qZA()(),d.TgZ(15,"div")(16,"button",41),d.NdJ("click",function(){d.CHM(t);const o=d.oxw(2);return d.KtG(o.SelectFiltered())}),d._uU(17,"Ricerca"),d.qZA()()(),d.YNc(18,rL,2,1,"div",42),d.qZA()}if(2&n){const t=d.oxw(2);d.xp6(5),d.Q6J("ngModel",t.filtroNome),d.xp6(4),d.Q6J("ngModel",t.filtroTeam),d.xp6(4),d.Q6J("ngModel",t.filtroRole),d.xp6(1),d.Q6J("ngForOf",t.roleArr),d.xp6(4),d.Q6J("ngIf",t.ready)}}function oL(n,e){if(1&n&&(d.TgZ(0,"div",14),d.YNc(1,J3,26,18,"div",15),d.YNc(2,iL,19,5,"div",16),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.Q6J("ngIf",!t.isFiltered),d.xp6(1),d.Q6J("ngIf",t.isFiltered)}}function sL(n,e){1&n&&(d.TgZ(0,"div",56),d._UZ(1,"img",57),d.TgZ(2,"p",58)(3,"b"),d._uU(4,"Aggiornamento rosa squadre..."),d.qZA()()())}let aL=(()=>{class n{constructor(t,r,o){this.firebaseService=t,this.spinner=r,this.sanitizer=o,this.players=[],this.filtroNome="",this.filtroTeam="",this.filtroRole="",this.isLoader=!1,this.ready=!1,this.daGenerare=!1,this.creditiSpesi=0,this.roleArr=["Goalkeeper","Defender","Midfielder","Attacker"],this.roleSelected="Goalkeeper",this.estrMancanti=0,this.isFiltered=!1}ngOnInit(){this.firebaseService.GetSquad().subscribe(t=>{this.squadSub=t,this.squadNameSelect=this.squadSub.map(r=>r.nome),console.log(this.squadNameSelect),this.squadSelected=t[0].nome}),this.CheckLocalStorage()}Associa(){Co().fire({title:"Sicuro di voler associare questo gicoatore?",text:"Non potrai tornarnare indietro, l'acquisto non \xe8 rimborsabile",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si,associa",cancelButtonText:"Annulla"}).then(t=>{if(t.isConfirmed){let o;if(o=this.squadSub.find(l=>l.nome==this.squadSelected),o.crediti-this.creditiSpesi<0)Co().fire("Crediti non sufficienti");else if(!0===this.selectedPlayer.preso)Co().fire("Giocatore gi\xe0 acquistato");else{var r={};this.playerArr.forEach(l=>{try{if(l.name==JSON.parse(localStorage.getItem("selectedPlayer")).name&&l.team==JSON.parse(localStorage.getItem("selectedPlayer")).team){if(l.preso=!0,this.selectedPlayer.preso=!0,localStorage.setItem("selectedPlayer",JSON.stringify(this.selectedPlayer)),localStorage.setItem("players",JSON.stringify(this.playerArr)),!0===l.preso)throw r;console.log(l)}}catch(c){if(c!==r)throw c}}),o.crediti=o.crediti-this.creditiSpesi,o.players.push(this.selectedPlayer),this.firebaseService.UpdateSquad(o),Co().fire("Associato!",this.squadSelected+" ha acquistato "+this.selectedPlayer.name+" per "+this.creditiSpesi+" crediti!","success"),this.creditiSpesi=0}}})}UpdateSquadPlayer(){var t=this;return(0,y.Z)(function*(){if(localStorage.removeItem("serieAOk"),t.isLoader=!0,!JSON.parse(localStorage.getItem("SerieAOk"))){let o=JSON.parse(JSON.stringify(L3));return new Promise((l,c)=>{t.isLoader=!0,o.teams.forEach((m,v)=>{setTimeout(()=>{const E={method:"GET",url:"https://v3.football.api-sports.io/players/squads",params:{team:m.id},headers:{"x-rapidapi-host":"v3.football.api-sports.io","x-rapidapi-key":"11d9e2510d0bf0efdc2fcc80b67358da"}};O3().request(E).then(function(S){m.team.players=S.data.reponse[0].players}).catch(function(S){console.error(S)})},400*(v+1)),t.updateSerieA=o,localStorage.setItem("SerieAOk",JSON.stringify(t.updateSerieA)),t.isLoader=!1,Co().fire("Ottimo!","Ultimi aggiornamenti di mercato salvati!","success"),l(!0)})})}})()}generateDownloadJsonUri(){var t=JSON.stringify(JSON.parse(localStorage.getItem("SerieAOk"))),r=this.sanitizer.bypassSecurityTrustUrl("data:text/json;charset=UTF-8,"+encodeURIComponent(t));this.jsonDown=r}SelectRandom(){var t={};this.playerArr=JSON.parse(localStorage.getItem("players")).sort(()=>.5-Math.random());let r=[...this.playerArr.filter(o=>o.position==this.roleSelected)];if(r.some(o=>!0!==o.estratto&&o.position==this.roleSelected)){let o=r.filter(l=>0==l.estratto&&l.position==this.roleSelected);localStorage.setItem("selectedPlayer",JSON.stringify(o[0])),this.selectedPlayer=JSON.parse(localStorage.getItem("selectedPlayer")),this.playerArr.forEach(l=>{try{if(l.name==JSON.parse(localStorage.getItem("selectedPlayer")).name&&l.team==JSON.parse(localStorage.getItem("selectedPlayer")).team){if(this.selectedPlayer.estratto=!0,l.estratto=!0,!0===l.estratto)throw t;console.log(l)}}catch(c){if(localStorage.setItem("players",JSON.stringify(this.playerArr)),c!==t)throw c}})}else Co().fire({icon:"success",title:"Complimenti",text:"Tutti i giocatori "+this.roleSelected+" sono stati estratti!"});localStorage.setItem("players",JSON.stringify(this.playerArr))}SelectFiltered(){this.playerArr=JSON.parse(localStorage.getItem("players")).sort(()=>.5-Math.random());let t=[...this.playerArr].filter(r=>0==r.preso);this.arrfilter=[],""!=this.filtroNome&&""!=this.filtroTeam&&""!=this.filtroRole?this.arrfilter.push(t.filter(r=>r.name.toLowerCase().includes(this.filtroNome.toLowerCase())&&r.team.toLowerCase().includes(this.filtroTeam.toLowerCase())&&r.position==this.filtroRole)):""==this.filtroNome&&""!=this.filtroTeam&&""==this.filtroRole?this.arrfilter.push(t.filter(r=>r.team.toLowerCase().includes(this.filtroTeam.toLowerCase()))):""!=this.filtroNome&&""==this.filtroTeam&&""==this.filtroRole?this.arrfilter.push(t.filter(r=>r.name.toLowerCase().includes(this.filtroNome.toLowerCase()))):""!=this.filtroNome&&""!=this.filtroTeam&&""==this.filtroRole?this.arrfilter.push(t.filter(r=>r.position==this.filtroRole)):""!=this.filtroNome&&""!=this.filtroTeam&&""==this.filtroRole?this.arrfilter.push(t.filter(r=>r.name.toLowerCase().includes(this.filtroNome.toLowerCase())&&r.team.toLowerCase().includes(this.filtroTeam.toLowerCase()))):""==this.filtroNome&&""!=this.filtroTeam&&""!=this.filtroRole?this.arrfilter.push(t.filter(r=>r.team.toLowerCase().includes(this.filtroTeam.toLowerCase())&&r.position==this.filtroRole)):""!=this.filtroNome&&""==this.filtroTeam&&""!=this.filtroRole&&this.arrfilter.push(t.filter(r=>r.name.toLowerCase().includes(this.filtroNome.toLowerCase())&&r.position==this.filtroRole)),this.ready=!0,console.log(this.arrfilter)}AssociaRicerca(t){var r={};Co().fire({title:"Multiple inputs",input:"select",inputOptions:this.squadNameSelect,inputPlaceholder:"Seleziona una squadra",showCancelButton:!0,html:'<label>crediti</label><input type="number" id="swal-input2" class="swal2-input">',focusConfirm:!1,preConfirm:o=>[this.tmp=o,document.getElementById("swal-input2").value]}).then(o=>{o.isConfirmed&&(this.squadSub[this.tmp].players.push(t),this.squadSub[this.tmp].crediti=this.squadSub[this.tmp].crediti-Number(document.getElementById("swal-input2").value),this.firebaseService.UpdateSquad(this.squadSub[this.tmp]),this.playerArr.forEach(l=>{try{if(l.name==t.name&&l.team==t.team){if(t.estratto=!0,t.preso=!0,l.preso=!0,l.estratto=!0,!0===t.preso)throw r;console.log(l)}}catch(c){if(localStorage.setItem("players",JSON.stringify(this.playerArr)),c!==r)throw c}}),Co().fire("Associato!","Associazione avvenuta con successo.","success"))})}SwitchSearch(t){this.isFiltered="filtered"==t}CheckLocalStorage(){var t=this;return(0,y.Z)(function*(){t.isLoader=!0,null===JSON.parse(localStorage.getItem("SerieAOk"))?t.UpdateSquadPlayer().then(r=>{!0===r&&t.GenerateData(),t.generateDownloadJsonUri()}):null===JSON.parse(localStorage.getItem("players"))||void 0===JSON.parse(localStorage.getItem("players"))?(t.GenerateData(),t.generateDownloadJsonUri()):(t.selectedPlayer=JSON.parse(localStorage.getItem("selectedPlayer")),t.generateDownloadJsonUri(),t.isLoader=!1)})()}GenerateData(){this.dataTeams=JSON.parse(localStorage.getItem("SerieAOk")),this.dataTeams.teams.forEach(t=>{t.team.players.forEach(r=>{r.team=t.team.name,r.estratto=!1,r.preso=!1,r.logoT=t.team.logo,r.top=!!this.dataTeams.topPlayers.includes(r.id),this.players.push(r)}),this.daGenerare=!1,localStorage.setItem("players",JSON.stringify(this.players)),this.SelectRandom(),Co().fire({icon:"success",title:"Estrazione generata",text:"Eliminazione generata con successo!"}),this.daGenerare=!1,this.isLoader=!1})}Elimina(){Co().fire({title:"Sicuro di voler elmminare l'estrazione corrente?",text:"Tutti i giocatori estratti e acquistati saranno riportati allo stato iniziale",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Annulla",confirmButtonText:"Elimina!"}).then(t=>{t.isConfirmed&&(this.daGenerare=!0,localStorage.clear(),Co().fire("Eliminata!","Estrazione eliminata con successo.","success"))})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(kx),d.Y36(G3),d.Y36(D))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-estrazione"]],decls:15,vars:6,consts:[[1,"flex","justify-around","w-1/3",2,"margin","0 auto"],["type","button",1,"bg-slate-500","hover:bg-slate-700","text-white","font-bold","py-2","px-4","rounded","mt-2","w-48",3,"click"],["type","button",1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","mt-2","w-48",3,"click"],["style","color:aliceblue; text-align:center",4,"ngIf"],[1,"flex","justify-around","w-3/4","mb-10","mx-auto"],["type","button","class","bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded mt-2 w-48",3,"click",4,"ngIf"],["type","button","class","bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded mt-2 w-48",3,"click",4,"ngIf"],["title","Download JSON","download","download.json",1,"bg-yellow-500","hover:bg-yellow-700","text-white","text-center","font-bold","py-2","px-4","rounded","mt-2","w-48",3,"href"],["type","button",1,"bg-cyan-500","hover:bg-cyan-700","text-white","font-bold","py-2","px-4","rounded","mt-2","w-40",3,"click"],["class","container","style","margin: 0 auto",4,"ngIf"],["class","spinner",4,"ngIf"],[2,"color","aliceblue","text-align","center"],["type","button",1,"bg-green-500","hover:bg-green-700","text-white","font-bold","py-2","px-4","rounded","mt-2","w-48",3,"click"],["type","button",1,"bg-red-500","hover:bg-red-700","text-white","font-bold","py-2","px-4","rounded","mt-2","w-48",3,"click"],[1,"container",2,"margin","0 auto"],["class","",4,"ngIf"],["class","mt-2",4,"ngIf"],[1,""],[2,"text-align","center","margin-bottom","20px"],[1,"text-cyan-50","bg-slate-900","m-2","p-2",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"card","bg-contain","bg-no-repeat",3,"ngClass"],[1,"card-img",3,"ngClass"],[1,"block","mx-auto","border","border-black",3,"src"],[1,"flex","justify-center","items-center"],[1,"mt-3","text-2xl","mr-3"],[1,"logo"],[2,"width","45px","height","45px",3,"src"],[1,"flex","justify-center","mr-3"],[1,"mr-2"],[1,"card-footer","m-2","pt-16"],["id","squad",1,"text-cyan-50","bg-slate-900","m-2","w-64",3,"ngModel","ngModelChange"],["type","number","name","crediti","id","crediti","step","1","min","0",1,"text-cyan-50","bg-slate-900","m-2","w-64",3,"ngModel","ngModelChange"],[1,"text-center"],["type","button",1,"bg-green-500","hover:bg-green-700","text-white","font-bold","py-2","px-4","rounded","m-2",3,"click"],[3,"value"],[1,"mt-2"],[1,"flex","justify-around"],["type","text","placeholder","Nome",1,"text-cyan-50","bg-slate-900","m-2","w-64",3,"ngModel","ngModelChange"],["type","text","placeholder","Squadra",1,"text-cyan-50","bg-slate-900","m-2","w-64",3,"ngModel","ngModelChange"],[1,"text-cyan-50","bg-slate-900","m-2","w-64",3,"ngModel","ngModelChange"],["type","button",1,"bg-cyan-500","hover:bg-cyan-700","text-white","font-bold","py-2","px-4","rounded","mt-2",3,"click"],["class","flex justify-around w-3/4 flex-wrap","style","margin: 0 auto",4,"ngIf"],[1,"flex","justify-around","w-3/4","flex-wrap",2,"margin","0 auto"],[4,"ngFor","ngForOf"],["Class","flex justify-center mx-8 mb-5 border borderrounded-lg p-1",3,"ngClass",4,"ngIf"],["Class","flex justify-center mx-8 mb-5 border borderrounded-lg p-1",3,"ngClass"],[1,"rounded-lg","shadow-lg","bg-slate-900","w-52","text-center"],["href","#!"],["alt","",1,"rounded-t-lg","m-1",2,"margin","0 auto",3,"src"],[1,"p-6"],[1,"text-xl","font-medium","mb-2","text-white"],[1,"text-white"],[2,"margin","0 auto"],[1,"w-10",2,"margin","0 auto",3,"src"],["type","button",1,"inline-block","px-6","py-2.5","bg-green-600","text-white","font-medium","text-xs","leading-tight","uppercase","rounded","shadow-md","hover:bg-green-700","hover:shadow-lg","focus:bg-green-700","focus:shadow-lg","focus:outline-none","focus:ring-0","active:bg-green-800","active:shadow-lg","transition","duration-150","ease-in-out","mt-1",3,"click"],[1,"spinner"],["src","../../../assets/soccer_ball2.svg",1,"spinner-img"],[1,"text-white","text-center"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"button",1),d.NdJ("click",function(){return r.SwitchSearch("")}),d._uU(2,"Estrazione Randomica"),d.qZA(),d.TgZ(3,"button",2),d.NdJ("click",function(){return r.SwitchSearch("filtered")}),d._uU(4,"Ricerca"),d.qZA()(),d.YNc(5,z3,3,0,"div",3),d.TgZ(6,"div",4),d.YNc(7,q3,2,0,"button",5),d.YNc(8,W3,2,0,"button",6),d.TgZ(9,"a",7),d._uU(10,"Download json"),d.qZA(),d.TgZ(11,"button",8),d.NdJ("click",function(){return r.SelectRandom()}),d._uU(12,"Estrai nuovo"),d.qZA()(),d.YNc(13,oL,3,2,"div",9),d.YNc(14,sL,5,0,"div",10)),2&t&&(d.xp6(5),d.Q6J("ngIf",r.daGenerare),d.xp6(2),d.Q6J("ngIf",r.daGenerare),d.xp6(1),d.Q6J("ngIf",0==r.daGenerare),d.xp6(1),d.Q6J("href",r.jsonDown,d.LSH),d.xp6(4),d.Q6J("ngIf",!r.daGenerare),d.xp6(1),d.Q6J("ngIf",r.isLoader))},dependencies:[Ra,Or,zn,m_,Id,Is,hc,Gl,As,_c,Ul],styles:[".card[_ngcontent-%COMP%]{width:400px;height:600px;margin:0 auto;background-color:#000;color:#f0f8ff;font-size:22px;position:relative}.card-img[_ngcontent-%COMP%]{position:relative;top:40px}.card-footer[_ngcontent-%COMP%]{width:70%;margin:0 auto;text-align:center}.logo[_ngcontent-%COMP%]{margin-top:20px}.culo[_ngcontent-%COMP%]{border:1px solid red}"]}),n})();function lL(n,e){1&n&&(d.TgZ(0,"div",3),d._uU(1,"NESSUNA SQUADRA AGGIUNTA"),d.qZA())}function uL(n,e){if(1&n&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&n){const t=d.oxw().$implicit;d.xp6(1),d.hij("Rosa: ",t.players.length,"")}}function cL(n,e){1&n&&(d.TgZ(0,"div"),d._uU(1,"Rosa: 0"),d.qZA())}function dL(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"i",9),d.NdJ("click",function(){d.CHM(t);const o=d.oxw().$implicit;return d.KtG(o.open=!0)}),d.qZA()}}function hL(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"i",10),d.NdJ("click",function(){d.CHM(t);const o=d.oxw().$implicit;return d.KtG(o.open=!1)}),d.qZA()}}function pL(n,e){if(1&n&&(d.TgZ(0,"tr",16)(1,"th",17),d._UZ(2,"img",18),d.qZA(),d.TgZ(3,"th",17),d._uU(4),d.qZA(),d.TgZ(5,"td",19),d._uU(6),d.qZA(),d.TgZ(7,"td",19),d._uU(8),d.qZA(),d.TgZ(9,"td",19),d._UZ(10,"img",18),d.qZA()()),2&n){const t=e.$implicit;d.xp6(2),d.Q6J("src",t.photo,d.LSH),d.xp6(2),d.hij(" ",t.name," "),d.xp6(2),d.hij(" ",t.position," "),d.xp6(2),d.hij(" ",t.team," "),d.xp6(2),d.Q6J("src",t.logoT,d.LSH)}}function fL(n,e){if(1&n&&(d.TgZ(0,"div")(1,"table",11)(2,"thead",12)(3,"tr")(4,"th",13),d._uU(5," Immagine "),d.qZA(),d.TgZ(6,"th",13),d._uU(7," Nome "),d.qZA(),d.TgZ(8,"th",13),d._uU(9," Ruolo "),d.qZA(),d.TgZ(10,"th",13),d._uU(11," Squadra "),d.qZA(),d.TgZ(12,"th",13),d._uU(13," Logo "),d.qZA()()(),d.TgZ(14,"tbody"),d.YNc(15,pL,11,5,"tr",14),d.qZA()(),d.TgZ(16,"div",15)(17,"b"),d._uU(18),d.qZA()()()),2&n){const t=d.oxw().$implicit;d.xp6(15),d.Q6J("ngForOf",t.players),d.xp6(3),d.hij("Crediti rimanenti: ",t.crediti,"")}}function gL(n,e){if(1&n&&(d.TgZ(0,"div",4)(1,"div",5)(2,"div"),d._UZ(3,"img",6),d.qZA(),d.TgZ(4,"div")(5,"h2")(6,"b"),d._uU(7),d.qZA()()(),d.YNc(8,uL,2,1,"div",0),d.YNc(9,cL,2,0,"div",0),d.TgZ(10,"div"),d.YNc(11,dL,1,0,"i",7),d.YNc(12,hL,1,0,"i",8),d.qZA()(),d.YNc(13,fL,19,2,"div",0),d.qZA()),2&n){const t=e.$implicit;d.xp6(3),d.Q6J("src",t.logo,d.LSH),d.xp6(4),d.Oqu(t.nome),d.xp6(1),d.Q6J("ngIf",t.players.length>0),d.xp6(1),d.Q6J("ngIf",0==t.players.length),d.xp6(2),d.Q6J("ngIf",0==t.open),d.xp6(1),d.Q6J("ngIf",1==t.open),d.xp6(1),d.Q6J("ngIf",1==t.open)}}function mL(n,e){if(1&n&&(d.ynx(0),d.YNc(1,lL,2,0,"div",1),d.YNc(2,gL,14,7,"div",2),d.BQk()),2&n){const t=d.oxw();d.xp6(1),d.Q6J("ngIf",0==t.squads.length),d.xp6(1),d.Q6J("ngForOf",t.squads)}}let yL=(()=>{class n{constructor(t){this.firebaseService=t}ngOnInit(){this.firebaseService.GetSquad().subscribe(t=>{this.squads=t,this.squads.forEach(r=>{r.open=!1}),console.log(t)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(kx))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-focus-squad"]],decls:1,vars:1,consts:[[4,"ngIf"],["class","text-white",4,"ngIf"],["class","text-white border border-white rounded-lg w-3/4 p-2 mx-auto mb-1",4,"ngFor","ngForOf"],[1,"text-white"],[1,"text-white","border","border-white","rounded-lg","w-3/4","p-2","mx-auto","mb-1"],[1,"flex","justify-around","items-center"],["alt","",1,"w-16",3,"src"],["class","fa-solid fa-eye",3,"click",4,"ngIf"],["class","fa-solid fa-eye-slash",3,"click",4,"ngIf"],[1,"fa-solid","fa-eye",3,"click"],[1,"fa-solid","fa-eye-slash",3,"click"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"py-3","px-6"],["class","bg-white border-b dark:bg-gray-800 dark:border-gray-700",4,"ngFor","ngForOf"],[1,"mx-auto","text-center"],[1,"bg-white","border-b","dark:bg-gray-800","dark:border-gray-700"],["scope","row",1,"py-4","px-6","font-medium","text-gray-900","whitespace-nowrap","dark:text-white"],[1,"w-14",3,"src"],[1,"py-4","px-6","text-white"]],template:function(t,r){1&t&&d.YNc(0,mL,3,2,"ng-container",0),2&t&&d.Q6J("ngIf",r.squads)},dependencies:[Or,zn]}),n})();const _L=["header"];function vL(n,e){1&n&&d._UZ(0,"app-squadre-gen")}function bL(n,e){1&n&&d._UZ(0,"app-estrazione")}function wL(n,e){1&n&&d._UZ(0,"app-focus-squad")}function EL(n,e){if(1&n&&(d.TgZ(0,"div"),d.YNc(1,vL,1,0,"app-squadre-gen",2),d.YNc(2,bL,1,0,"app-estrazione",2),d.YNc(3,wL,1,0,"app-focus-squad",2),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.Q6J("ngIf",t.switchPage.isGenSquad),d.xp6(1),d.Q6J("ngIf",t.switchPage.isEstraz),d.xp6(1),d.Q6J("ngIf",t.switchPage.isPanSquad)}}function CL(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",3)(1,"div",4)(2,"label",5),d._uU(3,"Email"),d.qZA(),d.TgZ(4,"input",6),d.NdJ("ngModelChange",function(o){d.CHM(t);const l=d.oxw();return d.KtG(l.email=o)}),d.qZA()(),d.TgZ(5,"div",4)(6,"label",7),d._uU(7,"Password"),d.qZA(),d.TgZ(8,"input",8),d.NdJ("ngModelChange",function(o){d.CHM(t);const l=d.oxw();return d.KtG(l.password=o)}),d.qZA()(),d.TgZ(9,"div")(10,"button",9),d.NdJ("click",function(){d.CHM(t);const o=d.oxw();return d.KtG(o.login())}),d._uU(11,"Sign in"),d.qZA()()()}if(2&n){const t=d.oxw();d.xp6(4),d.Q6J("ngModel",t.email),d.xp6(4),d.Q6J("ngModel",t.password)}}let IL=(()=>{class n{constructor(t,r){this.switchPage=t,this.auth=r,this.title="asta-pixi",this.email="",this.password=""}login(){this.auth.signInWithEmailAndPassword(this.email,this.password)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Zm),d.Y36(df))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],viewQuery:function(t,r){if(1&t&&d.Gf(_L,5),2&t){let o;d.iGM(o=d.CRH())&&(r.header=o.first)}},decls:5,vars:4,consts:[[4,"ngIf","ngIfElse"],["showLogin",""],[4,"ngIf"],[1,"flex","flex-col","justify-around","items-center"],[2,"width","200px"],["for","email",2,"color","aliceblue"],["type","email","id","email",3,"ngModel","ngModelChange"],["for","password",2,"color","aliceblue"],["type","password","id","password",3,"ngModel","ngModelChange"],["type","button",1,"bg-slate-500","hover:bg-slate-700","text-white","font-bold","p-1","rounded","my-2",3,"click"]],template:function(t,r){if(1&t&&(d._UZ(0,"app-header"),d.YNc(1,EL,4,3,"div",0),d.ALo(2,"async"),d.YNc(3,CL,12,2,"ng-template",null,1,d.W1O)),2&t){const o=d.MAs(4);d.xp6(1),d.Q6J("ngIf",d.lcZ(2,2,r.auth.user))("ngIfElse",o)}},dependencies:[zn,Is,As,Ul,JA,P3,aL,yL,Oa]}),n})(),DL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[IL]}),n.\u0275inj=d.cJS({imports:[tt.hO.initializeApp(Km_firebaseConfig),eI,Lo,fa,$3.forRoot({type:"ball-scale-multiple"})]}),n})();(0,d.G48)(),vs().bootstrapModule(DL).catch(n=>console.error(n))},4946:(ke,Ie,P)=>{ke.exports=P(2714)},2794:(ke,Ie,P)=>{"use strict";var d=P(3596),K=P(1833),F=P(1971),H=P(6461),W=P(9504),te=P(4811),J=P(2897),Y=P(7801),oe=P(2827),$=P(6152),V=P(6278);ke.exports=function(me){return new Promise(function(Me,Ue){var Je,_e=me.data,be=me.headers,qe=me.responseType;function Pe(){me.cancelToken&&me.cancelToken.unsubscribe(Je),me.signal&&me.signal.removeEventListener("abort",Je)}d.isFormData(_e)&&d.isStandardBrowserEnv()&&delete be["Content-Type"];var fe=new XMLHttpRequest;if(me.auth){var Te=me.auth.username||"",Qe=me.auth.password?unescape(encodeURIComponent(me.auth.password)):"";be.Authorization="Basic "+btoa(Te+":"+Qe)}var X=W(me.baseURL,me.url);function Q(){if(fe){var de="getAllResponseHeaders"in fe?te(fe.getAllResponseHeaders()):null;K(function(se){Me(se),Pe()},function(se){Ue(se),Pe()},{data:qe&&"text"!==qe&&"json"!==qe?fe.response:fe.responseText,status:fe.status,statusText:fe.statusText,headers:de,config:me,request:fe}),fe=null}}if(fe.open(me.method.toUpperCase(),H(X,me.params,me.paramsSerializer),!0),fe.timeout=me.timeout,"onloadend"in fe?fe.onloadend=Q:fe.onreadystatechange=function(){!fe||4!==fe.readyState||0===fe.status&&(!fe.responseURL||0!==fe.responseURL.indexOf("file:"))||setTimeout(Q)},fe.onabort=function(){!fe||(Ue(new oe("Request aborted",oe.ECONNABORTED,me,fe)),fe=null)},fe.onerror=function(){Ue(new oe("Network Error",oe.ERR_NETWORK,me,fe,fe)),fe=null},fe.ontimeout=function(){var ae=me.timeout?"timeout of "+me.timeout+"ms exceeded":"timeout exceeded";me.timeoutErrorMessage&&(ae=me.timeoutErrorMessage),Ue(new oe(ae,(me.transitional||Y).clarifyTimeoutError?oe.ETIMEDOUT:oe.ECONNABORTED,me,fe)),fe=null},d.isStandardBrowserEnv()){var we=(me.withCredentials||J(X))&&me.xsrfCookieName?F.read(me.xsrfCookieName):void 0;we&&(be[me.xsrfHeaderName]=we)}"setRequestHeader"in fe&&d.forEach(be,function(ae,Ee){typeof _e>"u"&&"content-type"===Ee.toLowerCase()?delete be[Ee]:fe.setRequestHeader(Ee,ae)}),d.isUndefined(me.withCredentials)||(fe.withCredentials=!!me.withCredentials),qe&&"json"!==qe&&(fe.responseType=me.responseType),"function"==typeof me.onDownloadProgress&&fe.addEventListener("progress",me.onDownloadProgress),"function"==typeof me.onUploadProgress&&fe.upload&&fe.upload.addEventListener("progress",me.onUploadProgress),(me.cancelToken||me.signal)&&(Je=function(de){!fe||(Ue(!de||de&&de.type?new $:de),fe.abort(),fe=null)},me.cancelToken&&me.cancelToken.subscribe(Je),me.signal&&(me.signal.aborted?Je():me.signal.addEventListener("abort",Je))),_e||(_e=null);var ne=V(X);ne&&-1===["http","https","file"].indexOf(ne)?Ue(new oe("Unsupported protocol "+ne+":",oe.ERR_BAD_REQUEST,me)):fe.send(_e)})}},2714:(ke,Ie,P)=>{"use strict";var d=P(3596),K=P(7703),F=P(6334),H=P(6541),J=function te(Y){var oe=new F(Y),$=K(F.prototype.request,oe);return d.extend($,F.prototype,oe),d.extend($,oe),$.create=function(j){return te(H(Y,j))},$}(P(7248));J.Axios=F,J.CanceledError=P(6152),J.CancelToken=P(8165),J.isCancel=P(3148),J.VERSION=P(487).version,J.toFormData=P(4428),J.AxiosError=P(2827),J.Cancel=J.CanceledError,J.all=function(oe){return Promise.all(oe)},J.spread=P(7922),J.isAxiosError=P(4431),ke.exports=J,ke.exports.default=J},8165:(ke,Ie,P)=>{"use strict";var d=P(6152);function K(F){if("function"!=typeof F)throw new TypeError("executor must be a function.");var H;this.promise=new Promise(function(J){H=J});var W=this;this.promise.then(function(te){if(W._listeners){var J,Y=W._listeners.length;for(J=0;J<Y;J++)W._listeners[J](te);W._listeners=null}}),this.promise.then=function(te){var J,Y=new Promise(function(oe){W.subscribe(oe),J=oe}).then(te);return Y.cancel=function(){W.unsubscribe(J)},Y},F(function(J){W.reason||(W.reason=new d(J),H(W.reason))})}K.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},K.prototype.subscribe=function(H){this.reason?H(this.reason):this._listeners?this._listeners.push(H):this._listeners=[H]},K.prototype.unsubscribe=function(H){if(this._listeners){var W=this._listeners.indexOf(H);-1!==W&&this._listeners.splice(W,1)}},K.source=function(){var H;return{token:new K(function(J){H=J}),cancel:H}},ke.exports=K},6152:(ke,Ie,P)=>{"use strict";var d=P(2827);function F(H){d.call(this,H??"canceled",d.ERR_CANCELED),this.name="CanceledError"}P(3596).inherits(F,d,{__CANCEL__:!0}),ke.exports=F},3148:ke=>{"use strict";ke.exports=function(P){return!(!P||!P.__CANCEL__)}},6334:(ke,Ie,P)=>{"use strict";var d=P(3596),K=P(6461),F=P(5378),H=P(8327),W=P(6541),te=P(9504),J=P(5243),Y=J.validators;function oe($){this.defaults=$,this.interceptors={request:new F,response:new F}}oe.prototype.request=function(V,j){"string"==typeof V?(j=j||{}).url=V:j=V||{},(j=W(this.defaults,j)).method=j.method?j.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():"get";var me=j.transitional;void 0!==me&&J.assertOptions(me,{silentJSONParsing:Y.transitional(Y.boolean),forcedJSONParsing:Y.transitional(Y.boolean),clarifyTimeoutError:Y.transitional(Y.boolean)},!1);var Se=[],Me=!0;this.interceptors.request.forEach(function(Te){"function"==typeof Te.runWhen&&!1===Te.runWhen(j)||(Me=Me&&Te.synchronous,Se.unshift(Te.fulfilled,Te.rejected))});var _e,Ue=[];if(this.interceptors.response.forEach(function(Te){Ue.push(Te.fulfilled,Te.rejected)}),!Me){var be=[H,void 0];for(Array.prototype.unshift.apply(be,Se),be=be.concat(Ue),_e=Promise.resolve(j);be.length;)_e=_e.then(be.shift(),be.shift());return _e}for(var qe=j;Se.length;){var Je=Se.shift(),Pe=Se.shift();try{qe=Je(qe)}catch(fe){Pe(fe);break}}try{_e=H(qe)}catch(fe){return Promise.reject(fe)}for(;Ue.length;)_e=_e.then(Ue.shift(),Ue.shift());return _e},oe.prototype.getUri=function(V){V=W(this.defaults,V);var j=te(V.baseURL,V.url);return K(j,V.params,V.paramsSerializer)},d.forEach(["delete","get","head","options"],function(V){oe.prototype[V]=function(j,me){return this.request(W(me||{},{method:V,url:j,data:(me||{}).data}))}}),d.forEach(["post","put","patch"],function(V){function j(me){return function(Me,Ue,_e){return this.request(W(_e||{},{method:V,headers:me?{"Content-Type":"multipart/form-data"}:{},url:Me,data:Ue}))}}oe.prototype[V]=j(),oe.prototype[V+"Form"]=j(!0)}),ke.exports=oe},2827:(ke,Ie,P)=>{"use strict";var d=P(3596);function K(W,te,J,Y,oe){Error.call(this),this.message=W,this.name="AxiosError",te&&(this.code=te),J&&(this.config=J),Y&&(this.request=Y),oe&&(this.response=oe)}d.inherits(K,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var F=K.prototype,H={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(W){H[W]={value:W}}),Object.defineProperties(K,H),Object.defineProperty(F,"isAxiosError",{value:!0}),K.from=function(W,te,J,Y,oe,$){var V=Object.create(F);return d.toFlatObject(W,V,function(me){return me!==Error.prototype}),K.call(V,W.message,te,J,Y,oe),V.name=W.name,$&&Object.assign(V,$),V},ke.exports=K},5378:(ke,Ie,P)=>{"use strict";var d=P(3596);function K(){this.handlers=[]}K.prototype.use=function(H,W,te){return this.handlers.push({fulfilled:H,rejected:W,synchronous:!!te&&te.synchronous,runWhen:te?te.runWhen:null}),this.handlers.length-1},K.prototype.eject=function(H){this.handlers[H]&&(this.handlers[H]=null)},K.prototype.forEach=function(H){d.forEach(this.handlers,function(te){null!==te&&H(te)})},ke.exports=K},9504:(ke,Ie,P)=>{"use strict";var d=P(5499),K=P(2574);ke.exports=function(H,W){return H&&!d(W)?K(H,W):W}},8327:(ke,Ie,P)=>{"use strict";var d=P(3596),K=P(6485),F=P(3148),H=P(7248),W=P(6152);function te(J){if(J.cancelToken&&J.cancelToken.throwIfRequested(),J.signal&&J.signal.aborted)throw new W}ke.exports=function(Y){return te(Y),Y.headers=Y.headers||{},Y.data=K.call(Y,Y.data,Y.headers,Y.transformRequest),Y.headers=d.merge(Y.headers.common||{},Y.headers[Y.method]||{},Y.headers),d.forEach(["delete","get","head","post","put","patch","common"],function(V){delete Y.headers[V]}),(Y.adapter||H.adapter)(Y).then(function(V){return te(Y),V.data=K.call(Y,V.data,V.headers,Y.transformResponse),V},function(V){return F(V)||(te(Y),V&&V.response&&(V.response.data=K.call(Y,V.response.data,V.response.headers,Y.transformResponse))),Promise.reject(V)})}},6541:(ke,Ie,P)=>{"use strict";var d=P(3596);ke.exports=function(F,H){H=H||{};var W={};function te(j,me){return d.isPlainObject(j)&&d.isPlainObject(me)?d.merge(j,me):d.isPlainObject(me)?d.merge({},me):d.isArray(me)?me.slice():me}function J(j){return d.isUndefined(H[j])?d.isUndefined(F[j])?void 0:te(void 0,F[j]):te(F[j],H[j])}function Y(j){if(!d.isUndefined(H[j]))return te(void 0,H[j])}function oe(j){return d.isUndefined(H[j])?d.isUndefined(F[j])?void 0:te(void 0,F[j]):te(void 0,H[j])}function $(j){return j in H?te(F[j],H[j]):j in F?te(void 0,F[j]):void 0}var V={url:Y,method:Y,data:Y,baseURL:oe,transformRequest:oe,transformResponse:oe,paramsSerializer:oe,timeout:oe,timeoutMessage:oe,withCredentials:oe,adapter:oe,responseType:oe,xsrfCookieName:oe,xsrfHeaderName:oe,onUploadProgress:oe,onDownloadProgress:oe,decompress:oe,maxContentLength:oe,maxBodyLength:oe,beforeRedirect:oe,transport:oe,httpAgent:oe,httpsAgent:oe,cancelToken:oe,socketPath:oe,responseEncoding:oe,validateStatus:$};return d.forEach(Object.keys(F).concat(Object.keys(H)),function(me){var Se=V[me]||J,Me=Se(me);d.isUndefined(Me)&&Se!==$||(W[me]=Me)}),W}},1833:(ke,Ie,P)=>{"use strict";var d=P(2827);ke.exports=function(F,H,W){var te=W.config.validateStatus;W.status&&te&&!te(W.status)?H(new d("Request failed with status code "+W.status,[d.ERR_BAD_REQUEST,d.ERR_BAD_RESPONSE][Math.floor(W.status/100)-4],W.config,W.request,W)):F(W)}},6485:(ke,Ie,P)=>{"use strict";var d=P(3596),K=P(7248);ke.exports=function(H,W,te){var J=this||K;return d.forEach(te,function(oe){H=oe.call(J,H,W)}),H}},7248:(ke,Ie,P)=>{"use strict";var d=P(3596),K=P(9104),F=P(2827),H=P(7801),W=P(4428),te={"Content-Type":"application/x-www-form-urlencoded"};function J(V,j){!d.isUndefined(V)&&d.isUndefined(V["Content-Type"])&&(V["Content-Type"]=j)}var $={transitional:H,adapter:function Y(){var V;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&"[object process]"===Object.prototype.toString.call(process))&&(V=P(2794)),V}(),transformRequest:[function(j,me){if(K(me,"Accept"),K(me,"Content-Type"),d.isFormData(j)||d.isArrayBuffer(j)||d.isBuffer(j)||d.isStream(j)||d.isFile(j)||d.isBlob(j))return j;if(d.isArrayBufferView(j))return j.buffer;if(d.isURLSearchParams(j))return J(me,"application/x-www-form-urlencoded;charset=utf-8"),j.toString();var Ue,Se=d.isObject(j),Me=me&&me["Content-Type"];if((Ue=d.isFileList(j))||Se&&"multipart/form-data"===Me){var _e=this.env&&this.env.FormData;return W(Ue?{"files[]":j}:j,_e&&new _e)}return Se||"application/json"===Me?(J(me,"application/json"),function oe(V,j,me){if(d.isString(V))try{return(j||JSON.parse)(V),d.trim(V)}catch(Se){if("SyntaxError"!==Se.name)throw Se}return(me||JSON.stringify)(V)}(j)):j}],transformResponse:[function(j){var me=this.transitional||$.transitional,Ue=!(me&&me.silentJSONParsing)&&"json"===this.responseType;if(Ue||me&&me.forcedJSONParsing&&d.isString(j)&&j.length)try{return JSON.parse(j)}catch(_e){if(Ue)throw"SyntaxError"===_e.name?F.from(_e,F.ERR_BAD_RESPONSE,this,null,this.response):_e}return j}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:P(5661)},validateStatus:function(j){return j>=200&&j<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};d.forEach(["delete","get","head"],function(j){$.headers[j]={}}),d.forEach(["post","put","patch"],function(j){$.headers[j]=d.merge(te)}),ke.exports=$},7801:ke=>{"use strict";ke.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},487:ke=>{ke.exports={version:"0.27.2"}},7703:ke=>{"use strict";ke.exports=function(P,d){return function(){for(var F=new Array(arguments.length),H=0;H<F.length;H++)F[H]=arguments[H];return P.apply(d,F)}}},6461:(ke,Ie,P)=>{"use strict";var d=P(3596);function K(F){return encodeURIComponent(F).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}ke.exports=function(H,W,te){if(!W)return H;var J;if(te)J=te(W);else if(d.isURLSearchParams(W))J=W.toString();else{var Y=[];d.forEach(W,function(V,j){null===V||typeof V>"u"||(d.isArray(V)?j+="[]":V=[V],d.forEach(V,function(Se){d.isDate(Se)?Se=Se.toISOString():d.isObject(Se)&&(Se=JSON.stringify(Se)),Y.push(K(j)+"="+K(Se))}))}),J=Y.join("&")}if(J){var oe=H.indexOf("#");-1!==oe&&(H=H.slice(0,oe)),H+=(-1===H.indexOf("?")?"?":"&")+J}return H}},2574:ke=>{"use strict";ke.exports=function(P,d){return d?P.replace(/\/+$/,"")+"/"+d.replace(/^\/+/,""):P}},1971:(ke,Ie,P)=>{"use strict";var d=P(3596);ke.exports=d.isStandardBrowserEnv()?{write:function(H,W,te,J,Y,oe){var $=[];$.push(H+"="+encodeURIComponent(W)),d.isNumber(te)&&$.push("expires="+new Date(te).toGMTString()),d.isString(J)&&$.push("path="+J),d.isString(Y)&&$.push("domain="+Y),!0===oe&&$.push("secure"),document.cookie=$.join("; ")},read:function(H){var W=document.cookie.match(new RegExp("(^|;\\s*)("+H+")=([^;]*)"));return W?decodeURIComponent(W[3]):null},remove:function(H){this.write(H,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},5499:ke=>{"use strict";ke.exports=function(P){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(P)}},4431:(ke,Ie,P)=>{"use strict";var d=P(3596);ke.exports=function(F){return d.isObject(F)&&!0===F.isAxiosError}},2897:(ke,Ie,P)=>{"use strict";var d=P(3596);ke.exports=d.isStandardBrowserEnv()?function(){var W,F=/(msie|trident)/i.test(navigator.userAgent),H=document.createElement("a");function te(J){var Y=J;return F&&(H.setAttribute("href",Y),Y=H.href),H.setAttribute("href",Y),{href:H.href,protocol:H.protocol?H.protocol.replace(/:$/,""):"",host:H.host,search:H.search?H.search.replace(/^\?/,""):"",hash:H.hash?H.hash.replace(/^#/,""):"",hostname:H.hostname,port:H.port,pathname:"/"===H.pathname.charAt(0)?H.pathname:"/"+H.pathname}}return W=te(window.location.href),function(Y){var oe=d.isString(Y)?te(Y):Y;return oe.protocol===W.protocol&&oe.host===W.host}}():function(){return!0}},9104:(ke,Ie,P)=>{"use strict";var d=P(3596);ke.exports=function(F,H){d.forEach(F,function(te,J){J!==H&&J.toUpperCase()===H.toUpperCase()&&(F[H]=te,delete F[J])})}},5661:ke=>{ke.exports=null},4811:(ke,Ie,P)=>{"use strict";var d=P(3596),K=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];ke.exports=function(H){var te,J,Y,W={};return H&&d.forEach(H.split("\n"),function($){if(Y=$.indexOf(":"),te=d.trim($.substr(0,Y)).toLowerCase(),J=d.trim($.substr(Y+1)),te){if(W[te]&&K.indexOf(te)>=0)return;W[te]="set-cookie"===te?(W[te]?W[te]:[]).concat([J]):W[te]?W[te]+", "+J:J}}),W}},6278:ke=>{"use strict";ke.exports=function(P){var d=/^([-+\w]{1,25})(:?\/\/|:)/.exec(P);return d&&d[1]||""}},7922:ke=>{"use strict";ke.exports=function(P){return function(K){return P.apply(null,K)}}},4428:(ke,Ie,P)=>{"use strict";var d=P(3596);ke.exports=function K(F,H){H=H||new FormData;var W=[];function te(Y){return null===Y?"":d.isDate(Y)?Y.toISOString():d.isArrayBuffer(Y)||d.isTypedArray(Y)?"function"==typeof Blob?new Blob([Y]):Buffer.from(Y):Y}return function J(Y,oe){if(d.isPlainObject(Y)||d.isArray(Y)){if(-1!==W.indexOf(Y))throw Error("Circular reference detected in "+oe);W.push(Y),d.forEach(Y,function(V,j){if(!d.isUndefined(V)){var Se,me=oe?oe+"."+j:j;if(V&&!oe&&"object"==typeof V)if(d.endsWith(j,"{}"))V=JSON.stringify(V);else if(d.endsWith(j,"[]")&&(Se=d.toArray(V)))return void Se.forEach(function(Me){!d.isUndefined(Me)&&H.append(me,te(Me))});J(V,me)}}),W.pop()}else H.append(oe,te(Y))}(F),H}},5243:(ke,Ie,P)=>{"use strict";var d=P(487).version,K=P(2827),F={};["object","boolean","number","function","string","symbol"].forEach(function(te,J){F[te]=function(oe){return typeof oe===te||"a"+(J<1?"n ":" ")+te}});var H={};F.transitional=function(J,Y,oe){function $(V,j){return"[Axios v"+d+"] Transitional option '"+V+"'"+j+(oe?". "+oe:"")}return function(V,j,me){if(!1===J)throw new K($(j," has been removed"+(Y?" in "+Y:"")),K.ERR_DEPRECATED);return Y&&!H[j]&&(H[j]=!0,console.warn($(j," has been deprecated since v"+Y+" and will be removed in the near future"))),!J||J(V,j,me)}},ke.exports={assertOptions:function W(te,J,Y){if("object"!=typeof te)throw new K("options must be an object",K.ERR_BAD_OPTION_VALUE);for(var oe=Object.keys(te),$=oe.length;$-- >0;){var V=oe[$],j=J[V];if(j){var me=te[V],Se=void 0===me||j(me,V,te);if(!0!==Se)throw new K("option "+V+" must be "+Se,K.ERR_BAD_OPTION_VALUE)}else if(!0!==Y)throw new K("Unknown option "+V,K.ERR_BAD_OPTION)}},validators:F}},3596:(ke,Ie,P)=>{"use strict";var se,d=P(7703),K=Object.prototype.toString,F=(se=Object.create(null),function(Ge){var it=K.call(Ge);return se[it]||(se[it]=it.slice(8,-1).toLowerCase())});function H(se){return se=se.toLowerCase(),function(it){return F(it)===se}}function W(se){return Array.isArray(se)}function te(se){return typeof se>"u"}var Y=H("ArrayBuffer");function j(se){return null!==se&&"object"==typeof se}function me(se){if("object"!==F(se))return!1;var Ge=Object.getPrototypeOf(se);return null===Ge||Ge===Object.prototype}var Se=H("Date"),Me=H("File"),Ue=H("Blob"),_e=H("FileList");function be(se){return"[object Function]"===K.call(se)}var Pe=H("URLSearchParams");function Qe(se,Ge){if(!(null===se||typeof se>"u"))if("object"!=typeof se&&(se=[se]),W(se))for(var it=0,gt=se.length;it<gt;it++)Ge.call(null,se[it],it,se);else for(var Be in se)Object.prototype.hasOwnProperty.call(se,Be)&&Ge.call(null,se[Be],Be,se)}var ve=function(se){return function(Ge){return se&&Ge instanceof se}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));ke.exports={isArray:W,isArrayBuffer:Y,isBuffer:function J(se){return null!==se&&!te(se)&&null!==se.constructor&&!te(se.constructor)&&"function"==typeof se.constructor.isBuffer&&se.constructor.isBuffer(se)},isFormData:function Je(se){var Ge="[object FormData]";return se&&("function"==typeof FormData&&se instanceof FormData||K.call(se)===Ge||be(se.toString)&&se.toString()===Ge)},isArrayBufferView:function oe(se){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(se):se&&se.buffer&&Y(se.buffer)},isString:function $(se){return"string"==typeof se},isNumber:function V(se){return"number"==typeof se},isObject:j,isPlainObject:me,isUndefined:te,isDate:Se,isFile:Me,isBlob:Ue,isFunction:be,isStream:function qe(se){return j(se)&&be(se.pipe)},isURLSearchParams:Pe,isStandardBrowserEnv:function Te(){return(!(typeof navigator<"u")||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&typeof window<"u"&&typeof document<"u"},forEach:Qe,merge:function X(){var se={};function Ge(Be,_t){se[_t]=me(se[_t])&&me(Be)?X(se[_t],Be):me(Be)?X({},Be):W(Be)?Be.slice():Be}for(var it=0,gt=arguments.length;it<gt;it++)Qe(arguments[it],Ge);return se},extend:function Q(se,Ge,it){return Qe(Ge,function(Be,_t){se[_t]=it&&"function"==typeof Be?d(Be,it):Be}),se},trim:function fe(se){return se.trim?se.trim():se.replace(/^\s+|\s+$/g,"")},stripBOM:function we(se){return 65279===se.charCodeAt(0)&&(se=se.slice(1)),se},inherits:function ne(se,Ge,it,gt){se.prototype=Object.create(Ge.prototype,gt),se.prototype.constructor=se,it&&Object.assign(se.prototype,it)},toFlatObject:function de(se,Ge,it){var gt,Be,_t,xn={};Ge=Ge||{};do{for(Be=(gt=Object.getOwnPropertyNames(se)).length;Be-- >0;)xn[_t=gt[Be]]||(Ge[_t]=se[_t],xn[_t]=!0);se=Object.getPrototypeOf(se)}while(se&&(!it||it(se,Ge))&&se!==Object.prototype);return Ge},kindOf:F,kindOfTest:H,endsWith:function ae(se,Ge,it){se=String(se),(void 0===it||it>se.length)&&(it=se.length);var gt=se.indexOf(Ge,it-=Ge.length);return-1!==gt&&gt===it},toArray:function Ee(se){if(!se)return null;var Ge=se.length;if(te(Ge))return null;for(var it=new Array(Ge);Ge-- >0;)it[Ge]=se[Ge];return it},isTypedArray:ve,isFileList:_e}},5867:(ke,Ie,P)=>{"use strict";P.d(Ie,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=P(9681);(0,d.registerVersion)("firebase","9.8.4","app")},127:(ke,Ie,P)=>{"use strict";P.d(Ie,{Z:()=>d.Z});var d=P(3942);d.Z.registerVersion("firebase","9.8.4","app-compat")},3677:(ke,Ie,P)=>{"use strict";P.r(Ie);var d=P(5861),K=P(3942),F=P(2090),H=P(9681),W=P(655),te=P(1877),J=P(4859);const Me=function me(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ue=function Se(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_e=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),qe=new te.Yd("@firebase/auth");function Je(y,...f){qe.logLevel<=te.in.ERROR&&qe.error(`Auth (${H.SDK_VERSION}): ${y}`,...f)}function Pe(y,...f){throw X(y,...f)}function fe(y,...f){return X(y,...f)}function Te(y,f,p){const b=Object.assign(Object.assign({},Ue()),{[f]:p});return new F.LL("auth","Firebase",b).create(f,{appName:y.name})}function Qe(y,f,p){if(!(f instanceof p))throw p.name!==f.constructor.name&&Pe(y,"argument-error"),Te(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function X(y,...f){if("string"!=typeof y){const p=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(p,...b)}return _e.create(y,...f)}function Q(y,f,...p){if(!y)throw X(f,...p)}function we(y){const f="INTERNAL ASSERTION FAILED: "+y;throw Je(f),new Error(f)}function ne(y,f){y||we(f)}const de=new Map;function ae(y){ne(y instanceof Function,"Expected a class definition");let f=de.get(y);return f?(ne(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,de.set(y,f),f)}function se(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Ge(){return"http:"===it()||"https:"===it()}function it(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class _t{constructor(f,p){this.shortDelay=f,this.longDelay=p,ne(p>f,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function gt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ge()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xn(y,f){ne(y.emulator,"Emulator should always be set here");const{url:p}=y.emulator;return f?`${p}${f.startsWith("/")?f.slice(1):f}`:p}class Jt{static initialize(f,p,b){this.fetchImpl=f,p&&(this.headersImpl=p),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void we("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void we("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void we("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ut={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},nr=new _t(3e4,6e4);function Yt(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function Ot(y,f,p,b){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,d.Z)(function*(y,f,p,b,M={}){return Jr(y,M,(0,d.Z)(function*(){let L={},le={};b&&("GET"===f?le=b:L={body:JSON.stringify(b)});const De=(0,F.xO)(Object.assign({key:y.config.apiKey},le)).slice(1),Ze=yield y._getAdditionalHeaders();return Ze["Content-Type"]="application/json",y.languageCode&&(Ze["X-Firebase-Locale"]=y.languageCode),Jt.fetch()(no(y,y.config.apiHost,p,De),Object.assign({method:f,headers:Ze,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function Jr(y,f,p){return cr.apply(this,arguments)}function cr(){return(cr=(0,d.Z)(function*(y,f,p){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},Ut),f);try{const M=new rr(y),L=yield Promise.race([p(),M.promise]);M.clearNetworkTimeout();const le=yield L.json();if("needConfirmation"in le)throw En(y,"account-exists-with-different-credential",le);if(L.ok&&!("errorMessage"in le))return le;{const De=L.ok?le.errorMessage:le.error.message,[Ze,at]=De.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ze)throw En(y,"credential-already-in-use",le);if("EMAIL_EXISTS"===Ze)throw En(y,"email-already-in-use",le);if("USER_DISABLED"===Ze)throw En(y,"user-disabled",le);const Et=b[Ze]||Ze.toLowerCase().replace(/[_\s]+/g,"-");if(at)throw Te(y,Et,at);Pe(y,Et)}}catch(M){if(M instanceof F.ZR)throw M;Pe(y,"network-request-failed")}})).apply(this,arguments)}function vr(y,f,p,b){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,d.Z)(function*(y,f,p,b,M={}){const L=yield Ot(y,f,p,b,M);return"mfaPendingCredential"in L&&Pe(y,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function no(y,f,p,b){const M=`${f}${p}?${b}`;return y.config.emulator?xn(y.config,M):`${y.config.apiScheme}://${M}`}class rr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((p,b)=>{this.timer=setTimeout(()=>b(fe(this.auth,"network-request-failed")),nr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function En(y,f,p){const b={appName:y.name};p.email&&(b.email=p.email),p.phoneNumber&&(b.phoneNumber=p.phoneNumber);const M=fe(y,f,b);return M.customData._tokenResponse=p,M}function Xr(){return(Xr=(0,d.Z)(function*(y,f){return Ot(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Xt(y,f){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,d.Z)(function*(y,f){return Ot(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ui(y,f){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,d.Z)(function*(y,f){return Ot(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function vt(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function ei(){return(ei=(0,d.Z)(function*(y,f=!1){const p=(0,F.m9)(y),b=yield p.getIdToken(f),M=He(b);Q(M&&M.exp&&M.auth_time&&M.iat,p.auth,"internal-error");const L="object"==typeof M.firebase?M.firebase:void 0,le=L?.sign_in_provider;return{claims:M,token:b,authTime:vt(bt(M.auth_time)),issuedAtTime:vt(bt(M.iat)),expirationTime:vt(bt(M.exp)),signInProvider:le||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function bt(y){return 1e3*Number(y)}function He(y){var f;const[p,b,M]=y.split(".");if(void 0===p||void 0===b||void 0===M)return Je("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,F.tV)(b);return L?JSON.parse(L):(Je("Failed to decode base64 JWT payload"),null)}catch(L){return Je("Caught error parsing JWT payload as JSON",null===(f=L)||void 0===f?void 0:f.toString()),null}}function dr(y,f){return nn.apply(this,arguments)}function nn(){return(nn=(0,d.Z)(function*(y,f,p=!1){if(p)return f;try{return yield f}catch(b){throw b instanceof F.ZR&&At(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function At({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Hr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var p;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const M=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(f=!1){var p=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,d.Z)(function*(){yield p.iteration()}),b)}iteration(){var f=this;return(0,d.Z)(function*(){var p;try{yield f.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===(null===(p=b)||void 0===p?void 0:p.code)&&f.schedule(!0))}f.schedule()})()}}class ir{constructor(f,p){this.createdAt=f,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=vt(this.lastLoginAt),this.creationTime=vt(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pr(y){return an.apply(this,arguments)}function an(){return(an=(0,d.Z)(function*(y){var f;const p=y.auth,b=yield y.getIdToken(),M=yield dr(y,Ui(p,{idToken:b}));Q(M?.users.length,p,"internal-error");const L=M.users[0];y._notifyReloadListener(L);const le=null!==(f=L.providerUserInfo)&&void 0!==f&&f.length?he(L.providerUserInfo):[],De=ie(y.providerData,le),Et=!!y.isAnonymous&&!(y.email&&L.passwordHash||De?.length),dt={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:De,metadata:new ir(L.createdAt,L.lastLoginAt),isAnonymous:Et};Object.assign(y,dt)})).apply(this,arguments)}function Z(){return(Z=(0,d.Z)(function*(y){const f=(0,F.m9)(y);yield Pr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function ie(y,f){return[...y.filter(b=>!f.some(M=>M.providerId===b.providerId)),...f]}function he(y){return y.map(f=>{var{providerId:p}=f,b=(0,W._T)(f,["providerId"]);return{providerId:p,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function xe(){return(xe=(0,d.Z)(function*(y,f){const p=yield Jr(y,{},(0,d.Z)(function*(){const b=(0,F.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:M,apiKey:L}=y.config,le=no(y,M,"/v1/token",`key=${L}`),De=yield y._getAdditionalHeaders();return De["Content-Type"]="application/x-www-form-urlencoded",Jt.fetch()(le,{method:"POST",headers:De,body:b})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class We{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Q(f.idToken,"internal-error"),Q(typeof f.idToken<"u","internal-error"),Q(typeof f.refreshToken<"u","internal-error");const p="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function wt(y){const f=He(y);return Q(f,"internal-error"),Q(typeof f.exp<"u","internal-error"),Q(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,p)}getToken(f,p=!1){var b=this;return(0,d.Z)(function*(){return Q(!b.accessToken||b.refreshToken,f,"user-token-expired"),p||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,p){var b=this;return(0,d.Z)(function*(){const{accessToken:M,refreshToken:L,expiresIn:le}=yield function z(y,f){return xe.apply(this,arguments)}(f,p);b.updateTokensAndExpiration(M,L,Number(le))})()}updateTokensAndExpiration(f,p,b){this.refreshToken=p||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,p){const{refreshToken:b,accessToken:M,expirationTime:L}=p,le=new We;return b&&(Q("string"==typeof b,"internal-error",{appName:f}),le.refreshToken=b),M&&(Q("string"==typeof M,"internal-error",{appName:f}),le.accessToken=M),L&&(Q("number"==typeof L,"internal-error",{appName:f}),le.expirationTime=L),le}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new We,this.toJSON())}_performRefresh(){return we("not implemented")}}function ot(y,f){Q("string"==typeof y||typeof y>"u","internal-error",{appName:f})}class Ct{constructor(f){var{uid:p,auth:b,stsTokenManager:M}=f,L=(0,W._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=b,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new ir(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(f){var p=this;return(0,d.Z)(function*(){const b=yield dr(p,p.stsTokenManager.getToken(p.auth,f));return Q(b,p.auth,"internal-error"),p.accessToken!==b&&(p.accessToken=b,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),b})()}getIdTokenResult(f){return function Yn(y){return ei.apply(this,arguments)}(this,f)}reload(){return function ue(y){return Z.apply(this,arguments)}(this)}_assign(f){this!==f&&(Q(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(p=>Object.assign({},p)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new Ct(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,p=!1){var b=this;return(0,d.Z)(function*(){let M=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),M=!0),p&&(yield Pr(b)),yield b.auth._persistUserIfCurrent(b),M&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,d.Z)(function*(){const p=yield f.getIdToken();return yield dr(f,function ut(y,f){return Xr.apply(this,arguments)}(f.auth,{idToken:p})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,p){var b,M,L,le,De,Ze,at,Et;const dt=null!==(b=p.displayName)&&void 0!==b?b:void 0,Fn=null!==(M=p.email)&&void 0!==M?M:void 0,Wn=null!==(L=p.phoneNumber)&&void 0!==L?L:void 0,Ec=null!==(le=p.photoURL)&&void 0!==le?le:void 0,wg=null!==(De=p.tenantId)&&void 0!==De?De:void 0,xu=null!==(Ze=p._redirectEventId)&&void 0!==Ze?Ze:void 0,ma=null!==(at=p.createdAt)&&void 0!==at?at:void 0,Eg=null!==(Et=p.lastLoginAt)&&void 0!==Et?Et:void 0,{uid:Yi,emailVerified:mr,isAnonymous:dl,providerData:Cc,stsTokenManager:_o}=p;Q(Yi&&_o,f,"internal-error");const Cr=We.fromJSON(this.name,_o);Q("string"==typeof Yi,f,"internal-error"),ot(dt,f.name),ot(Fn,f.name),Q("boolean"==typeof mr,f,"internal-error"),Q("boolean"==typeof dl,f,"internal-error"),ot(Wn,f.name),ot(Ec,f.name),ot(wg,f.name),ot(xu,f.name),ot(ma,f.name),ot(Eg,f.name);const Nd=new Ct({uid:Yi,auth:f,email:Fn,emailVerified:mr,displayName:dt,isAnonymous:dl,photoURL:Ec,phoneNumber:Wn,tenantId:wg,stsTokenManager:Cr,createdAt:ma,lastLoginAt:Eg});return Cc&&Array.isArray(Cc)&&(Nd.providerData=Cc.map(Ic=>Object.assign({},Ic))),xu&&(Nd._redirectEventId=xu),Nd}static _fromIdTokenResponse(f,p,b=!1){return(0,d.Z)(function*(){const M=new We;M.updateFromServerResponse(p);const L=new Ct({uid:p.localId,auth:f,stsTokenManager:M,isAnonymous:b});return yield Pr(L),L})()}}const dn=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(p,b){var M=this;return(0,d.Z)(function*(){M.storage[p]=b})()}_get(p){var b=this;return(0,d.Z)(function*(){const M=b.storage[p];return void 0===M?null:M})()}_remove(p){var b=this;return(0,d.Z)(function*(){delete b.storage[p]})()}_addListener(p,b){}_removeListener(p,b){}}return y.type="NONE",y})();function jt(y,f,p){return`firebase:${y}:${f}:${p}`}class or{constructor(f,p,b){this.persistence=f,this.auth=p,this.userKey=b;const{config:M,name:L}=this.auth;this.fullUserKey=jt(this.userKey,M.apiKey,L),this.fullPersistenceKey=jt("persistence",M.apiKey,L),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,d.Z)(function*(){const p=yield f.persistence._get(f.fullUserKey);return p?Ct._fromJSON(f.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var p=this;return(0,d.Z)(function*(){if(p.persistence===f)return;const b=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=f,b?p.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,p,b="authUser"){return(0,d.Z)(function*(){if(!p.length)return new or(ae(dn),f,b);const M=(yield Promise.all(p.map(function(){var at=(0,d.Z)(function*(Et){if(yield Et._isAvailable())return Et});return function(Et){return at.apply(this,arguments)}}()))).filter(at=>at);let L=M[0]||ae(dn);const le=jt(b,f.config.apiKey,f.name);let De=null;for(const at of p)try{const Et=yield at._get(le);if(Et){const dt=Ct._fromJSON(f,Et);at!==L&&(De=dt),L=at;break}}catch{}const Ze=M.filter(at=>at._shouldAllowMigration);return L._shouldAllowMigration&&Ze.length?(L=Ze[0],De&&(yield L._set(le,De.toJSON())),yield Promise.all(p.map(function(){var at=(0,d.Z)(function*(Et){if(Et!==L)try{yield Et._remove(le)}catch{}});return function(Et){return at.apply(this,arguments)}}())),new or(L,f,b)):new or(L,f,b)})()}}function zt(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Rr(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Gn(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Tt(f))return"Blackberry";if(rn(f))return"Webos";if(hr(f))return"Safari";if((f.includes("chrome/")||Hn(f))&&!f.includes("edge/"))return"Chrome";if(et(f))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function Gn(y=(0,F.z$)()){return/firefox\//i.test(y)}function hr(y=(0,F.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Hn(y=(0,F.z$)()){return/crios\//i.test(y)}function Rr(y=(0,F.z$)()){return/iemobile/i.test(y)}function et(y=(0,F.z$)()){return/android/i.test(y)}function Tt(y=(0,F.z$)()){return/blackberry/i.test(y)}function rn(y=(0,F.z$)()){return/webos/i.test(y)}function In(y=(0,F.z$)()){return/iphone|ipad|ipod/i.test(y)}function Dn(y=(0,F.z$)()){return In(y)||et(y)||rn(y)||Tt(y)||/windows phone/i.test(y)||Rr(y)}function gi(y,f=[]){let p;switch(y){case"Browser":p=zt((0,F.z$)());break;case"Worker":p=`${zt((0,F.z$)())}-${y}`;break;default:p=y}const b=f.length?f.join(","):"FirebaseCore-web";return`${p}/JsCore/${H.SDK_VERSION}/${b}`}class xt{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,p){const b=L=>new Promise((le,De)=>{try{le(f(L))}catch(Ze){De(Ze)}});b.onAbort=p,this.queue.push(b);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(f){var p=this;return(0,d.Z)(function*(){var b;if(p.auth.currentUser===f)return;const M=[];try{for(const L of p.queue)yield L(f),L.onAbort&&M.push(L.onAbort)}catch(L){M.reverse();for(const le of M)try{le()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null===(b=L)||void 0===b?void 0:b.message})}})()}}class Pa{constructor(f,p,b){this.app=f,this.heartbeatServiceProvider=p,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new as(this),this.idTokenSubscription=new as(this),this.beforeStateQueue=new xt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_e,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(f,p){var b=this;return p&&(this._popupRedirectResolver=ae(p)),this._initializationPromise=this.queue((0,d.Z)(function*(){var M,L;if(!b._deleted&&(b.persistenceManager=yield or.create(b,f),!b._deleted)){if(null!==(M=b._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(p),b.lastNotifiedUid=(null===(L=b.currentUser)||void 0===L?void 0:L.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,d.Z)(function*(){if(f._deleted)return;const p=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||p){if(f.currentUser&&p&&f.currentUser.uid===p.uid)return f._currentUser._assign(p),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(p,!0)}})()}initializeCurrentUser(f){var p=this;return(0,d.Z)(function*(){var b;const M=yield p.assertedPersistence.getCurrentUser();let L=M,le=!1;if(f&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const De=null===(b=p.redirectUser)||void 0===b?void 0:b._redirectEventId,Ze=L?._redirectEventId,at=yield p.tryRedirectSignIn(f);(!De||De===Ze)&&at?.user&&(L=at.user,le=!0)}if(!L)return p.directlySetCurrentUser(null);if(!L._redirectEventId){if(le)try{yield p.beforeStateQueue.runMiddleware(L)}catch(De){L=M,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(De))}return L?p.reloadAndSetCurrentUserOrClear(L):p.directlySetCurrentUser(null)}return Q(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===L._redirectEventId?p.directlySetCurrentUser(L):p.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(f){var p=this;return(0,d.Z)(function*(){let b=null;try{b=yield p._popupRedirectResolver._completeRedirectFn(p,f,!0)}catch{yield p._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var p=this;return(0,d.Z)(function*(){var b;try{yield Pr(f)}catch(M){if("auth/network-request-failed"!==(null===(b=M)||void 0===b?void 0:b.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Be(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,d.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var p=this;return(0,d.Z)(function*(){const b=f?(0,F.m9)(f):null;return b&&Q(b.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(b&&b._clone(p))})()}_updateCurrentUser(f,p=!1){var b=this;return(0,d.Z)(function*(){if(!b._deleted)return f&&Q(b.tenantId===f.tenantId,b,"tenant-id-mismatch"),p||(yield b.beforeStateQueue.runMiddleware(f)),b.queue((0,d.Z)(function*(){yield b.directlySetCurrentUser(f),b.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,d.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var p=this;return this.queue((0,d.Z)(function*(){yield p.assertedPersistence.setPersistence(ae(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new F.LL("auth","Firebase",f())}onAuthStateChanged(f,p,b){return this.registerStateListener(this.authStateSubscription,f,p,b)}beforeAuthStateChanged(f,p){return this.beforeStateQueue.pushCallback(f,p)}onIdTokenChanged(f,p,b){return this.registerStateListener(this.idTokenSubscription,f,p,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,p){var b=this;return(0,d.Z)(function*(){const M=yield b.getOrInitRedirectPersistenceManager(p);return null===f?M.removeCurrentUser():M.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var p=this;return(0,d.Z)(function*(){if(!p.redirectPersistenceManager){const b=f&&ae(f)||p._popupRedirectResolver;Q(b,p,"argument-error"),p.redirectPersistenceManager=yield or.create(p,[ae(b._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(f){var p=this;return(0,d.Z)(function*(){var b,M;return p._isInitialized&&(yield p.queue((0,d.Z)(function*(){}))),(null===(b=p._currentUser)||void 0===b?void 0:b._redirectEventId)===f?p._currentUser:(null===(M=p.redirectUser)||void 0===M?void 0:M._redirectEventId)===f?p.redirectUser:null})()}_persistUserIfCurrent(f){var p=this;return(0,d.Z)(function*(){if(f===p.currentUser)return p.queue((0,d.Z)(function*(){return p.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(p=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,p,b,M){if(this._deleted)return()=>{};const L="function"==typeof p?p:p.next.bind(p),le=this._isInitialized?Promise.resolve():this._initializationPromise;return Q(le,this,"internal-error"),le.then(()=>L(this.currentUser)),"function"==typeof p?f.addObserver(p,b,M):f.addObserver(p)}directlySetCurrentUser(f){var p=this;return(0,d.Z)(function*(){p.currentUser&&p.currentUser!==f&&(p._currentUser._stopProactiveRefresh(),f&&p.isProactiveRefreshEnabled&&f._startProactiveRefresh()),p.currentUser=f,f?yield p.assertedPersistence.setCurrentUser(f):yield p.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=gi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,d.Z)(function*(){var p;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const M=yield null===(p=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return M&&(b["X-Firebase-Client"]=M),b})()}}function Mn(y){return(0,F.m9)(y)}class as{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,F.ne)(p=>this.observer=p)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Bn(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function Di(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class vn{constructor(f,p){this.providerId=f,this.signInMethod=p}toJSON(){return we("not implemented")}_getIdTokenResponse(f){return we("not implemented")}_linkToIdToken(f,p){return we("not implemented")}_getReauthenticationResolver(f){return we("not implemented")}}function br(y,f){return hn.apply(this,arguments)}function hn(){return(hn=(0,d.Z)(function*(y,f){return Ot(y,"POST","/v1/accounts:resetPassword",Yt(y,f))})).apply(this,arguments)}function nu(y,f){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,d.Z)(function*(y,f){return Ot(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ls(y,f){return us.apply(this,arguments)}function us(){return(us=(0,d.Z)(function*(y,f){return Ot(y,"POST","/v1/accounts:update",Yt(y,f))})).apply(this,arguments)}function Us(){return(Us=(0,d.Z)(function*(y,f){return vr(y,"POST","/v1/accounts:signInWithPassword",Yt(y,f))})).apply(this,arguments)}function Or(y,f){return Un.apply(this,arguments)}function Un(){return(Un=(0,d.Z)(function*(y,f){return Ot(y,"POST","/v1/accounts:sendOobCode",Yt(y,f))})).apply(this,arguments)}function ru(y,f){return zn.apply(this,arguments)}function zn(){return(zn=(0,d.Z)(function*(y,f){return Or(y,f)})).apply(this,arguments)}function $r(y,f){return js.apply(this,arguments)}function js(){return(js=(0,d.Z)(function*(y,f){return Or(y,f)})).apply(this,arguments)}function Gs(y,f){return So.apply(this,arguments)}function So(){return(So=(0,d.Z)(function*(y,f){return Or(y,f)})).apply(this,arguments)}function Ai(y,f){return cs.apply(this,arguments)}function cs(){return(cs=(0,d.Z)(function*(y,f){return Or(y,f)})).apply(this,arguments)}function ji(){return(ji=(0,d.Z)(function*(y,f){return vr(y,"POST","/v1/accounts:signInWithEmailLink",Yt(y,f))})).apply(this,arguments)}function wl(){return(wl=(0,d.Z)(function*(y,f){return vr(y,"POST","/v1/accounts:signInWithEmailLink",Yt(y,f))})).apply(this,arguments)}class Hs extends vn{constructor(f,p,b,M=null){super("password",b),this._email=f,this._password=p,this._tenantId=M}static _fromEmailAndPassword(f,p){return new Hs(f,p,"password")}static _fromEmailAndCode(f,p,b=null){return new Hs(f,p,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(f){var p=this;return(0,d.Z)(function*(){switch(p.signInMethod){case"password":return function io(y,f){return Us.apply(this,arguments)}(f,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function Zh(y,f){return ji.apply(this,arguments)}(f,{email:p._email,oobCode:p._password});default:Pe(f,"internal-error")}})()}_linkToIdToken(f,p){var b=this;return(0,d.Z)(function*(){switch(b.signInMethod){case"password":return nu(f,{idToken:p,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Qu(y,f){return wl.apply(this,arguments)}(f,{idToken:p,email:b._email,oobCode:b._password});default:Pe(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function xo(y,f){return ti.apply(this,arguments)}function ti(){return(ti=(0,d.Z)(function*(y,f){return vr(y,"POST","/v1/accounts:signInWithIdp",Yt(y,f))})).apply(this,arguments)}class Gi extends vn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const p=new Gi(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(p.idToken=f.idToken),f.accessToken&&(p.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(p.nonce=f.nonce),f.pendingToken&&(p.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(p.accessToken=f.oauthToken,p.secret=f.oauthTokenSecret):Pe("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:M}=p,L=(0,W._T)(p,["providerId","signInMethod"]);if(!b||!M)return null;const le=new Gi(b,M);return le.idToken=L.idToken||void 0,le.accessToken=L.accessToken||void 0,le.secret=L.secret,le.nonce=L.nonce,le.pendingToken=L.pendingToken||null,le}_getIdTokenResponse(f){return xo(f,this.buildRequest())}_linkToIdToken(f,p){const b=this.buildRequest();return b.idToken=p,xo(f,b)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,xo(f,p)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),f.postBody=(0,F.xO)(p)}return f}}function nd(y,f){return iu.apply(this,arguments)}function iu(){return(iu=(0,d.Z)(function*(y,f){return Ot(y,"POST","/v1/accounts:sendVerificationCode",Yt(y,f))})).apply(this,arguments)}function oo(){return(oo=(0,d.Z)(function*(y,f){return vr(y,"POST","/v1/accounts:signInWithPhoneNumber",Yt(y,f))})).apply(this,arguments)}function El(){return(El=(0,d.Z)(function*(y,f){const p=yield vr(y,"POST","/v1/accounts:signInWithPhoneNumber",Yt(y,f));if(p.temporaryProof)throw En(y,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const rd={USER_NOT_FOUND:"user-not-found"};function Fa(){return(Fa=(0,d.Z)(function*(y,f){return vr(y,"POST","/v1/accounts:signInWithPhoneNumber",Yt(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),rd)})).apply(this,arguments)}class Hi extends vn{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,p){return new Hi({verificationId:f,verificationCode:p})}static _fromTokenResponse(f,p){return new Hi({phoneNumber:f,temporaryProof:p})}_getIdTokenResponse(f){return function Oa(y,f){return oo.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,p){return function ds(y,f){return El.apply(this,arguments)}(f,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function id(y,f){return Fa.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:p,verificationId:b,verificationCode:M}=this.params;return f&&p?{temporaryProof:f,phoneNumber:p}:{sessionInfo:b,code:M}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:p,verificationCode:b,phoneNumber:M,temporaryProof:L}=f;return b||p||M||L?new Hi({verificationId:p,verificationCode:b,phoneNumber:M,temporaryProof:L}):null}}class La{constructor(f){var p,b,M,L,le,De;const Ze=(0,F.zd)((0,F.pd)(f)),at=null!==(p=Ze.apiKey)&&void 0!==p?p:null,Et=null!==(b=Ze.oobCode)&&void 0!==b?b:null,dt=function Yh(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Ze.mode)&&void 0!==M?M:null);Q(at&&Et&&dt,"argument-error"),this.apiKey=at,this.operation=dt,this.code=Et,this.continueUrl=null!==(L=Ze.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(le=Ze.languageCode)&&void 0!==le?le:null,this.tenantId=null!==(De=Ze.tenantId)&&void 0!==De?De:null}static parseLink(f){const p=function ou(y){const f=(0,F.zd)((0,F.pd)(y)).link,p=f?(0,F.zd)((0,F.pd)(f)).deep_link_id:null,b=(0,F.zd)((0,F.pd)(y)).deep_link_id;return(b?(0,F.zd)((0,F.pd)(b)).link:null)||b||p||f||y}(f);try{return new La(p)}catch{return null}}}let Cl=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(p,b){return Hs._fromEmailAndPassword(p,b)}static credentialWithLink(p,b){const M=La.parseLink(b);return Q(M,"argument-error"),Hs._fromEmailAndCode(p,M.code,M.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class ni{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class ao extends ni{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class hs extends ao{static credentialFromJSON(f){const p="string"==typeof f?JSON.parse(f):f;return Q("providerId"in p&&"signInMethod"in p,"argument-error"),Gi._fromParams(p)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Q(f.idToken||f.accessToken,"argument-error"),Gi._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return hs.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return hs.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:p,oauthAccessToken:b,oauthTokenSecret:M,pendingToken:L,nonce:le,providerId:De}=f;if(!b&&!M&&!p&&!L||!De)return null;try{return new hs(De)._credential({idToken:p,accessToken:b,nonce:le,pendingToken:L})}catch{return null}}}let Il=(()=>{class y extends ao{constructor(){super("facebook.com")}static credential(p){return Gi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ps=(()=>{class y extends ao{constructor(){super("google.com"),this.addScope("profile")}static credential(p,b){return Gi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:b})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:b,oauthAccessToken:M}=p;if(!b&&!M)return null;try{return y.credential(b,M)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),$s=(()=>{class y extends ao{constructor(){super("github.com")}static credential(p){return Gi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class fs extends vn{constructor(f,p){super(f,f),this.pendingToken=p}_getIdTokenResponse(f){return xo(f,this.buildRequest())}_linkToIdToken(f,p){const b=this.buildRequest();return b.idToken=p,xo(f,b)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,xo(f,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:M,pendingToken:L}=p;return b&&M&&L&&b===M?new fs(b,L):null}static _create(f,p){return new fs(f,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class An extends ni{constructor(f){Q(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return An.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return An.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const p=fs.fromJSON(f);return Q(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:p,providerId:b}=f;if(!p||!b)return null;try{return fs._create(b,p)}catch{return null}}}let $i=(()=>{class y extends ao{constructor(){super("twitter.com")}static credential(p,b){return Gi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:b})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:b,oauthTokenSecret:M}=p;if(!b||!M)return null;try{return y.credential(b,M)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Va(y,f){return zs.apply(this,arguments)}function zs(){return(zs=(0,d.Z)(function*(y,f){return vr(y,"POST","/v1/accounts:signUp",Yt(y,f))})).apply(this,arguments)}class ri{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,p,b,M=!1){return(0,d.Z)(function*(){const L=yield Ct._fromIdTokenResponse(f,b,M),le=Dl(b);return new ri({user:L,providerId:le,_tokenResponse:b,operationType:p})})()}static _forOperation(f,p,b){return(0,d.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const M=Dl(b);return new ri({user:f,providerId:M,_tokenResponse:b,operationType:p})})()}}function Dl(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function au(){return(au=(0,d.Z)(function*(y){var f;const p=Mn(y);if(yield p._initializationPromise,null!==(f=p.currentUser)&&void 0!==f&&f.isAnonymous)return new ri({user:p.currentUser,providerId:null,operationType:"signIn"});const b=yield Va(p,{returnSecureToken:!0}),M=yield ri._fromIdTokenResponse(p,"signIn",b,!0);return yield p._updateCurrentUser(M.user),M})).apply(this,arguments)}class qs extends F.ZR{constructor(f,p,b,M){var L;super(p.code,p.message),this.operationType=b,this.user=M,Object.setPrototypeOf(this,qs.prototype),this.customData={appName:f.name,tenantId:null!==(L=f.tenantId)&&void 0!==L?L:void 0,_serverResponse:p.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,p,b,M){return new qs(f,p,b,M)}}function od(y,f,p,b){return("reauthenticate"===f?p._getReauthenticationResolver(y):p._getIdTokenResponse(y)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?qs._fromErrorAndOperation(y,L,f,b):L})}function cn(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function gs(){return(gs=(0,d.Z)(function*(y,f){const p=(0,F.m9)(y);yield bn(!0,p,f);const{providerUserInfo:b}=yield Xt(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[f]}),M=cn(b||[]);return p.providerData=p.providerData.filter(L=>M.has(L.providerId)),M.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function Ws(y,f){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,d.Z)(function*(y,f,p=!1){const b=yield dr(y,f._linkToIdToken(y.auth,yield y.getIdToken()),p);return ri._forOperation(y,"link",b)})).apply(this,arguments)}function bn(y,f,p){return mi.apply(this,arguments)}function mi(){return(mi=(0,d.Z)(function*(y,f,p){yield Pr(f);const M=!1===y?"provider-already-linked":"no-such-provider";Q(cn(f.providerData).has(p)===y,f.auth,M)})).apply(this,arguments)}function Zs(y,f){return zi.apply(this,arguments)}function zi(){return(zi=(0,d.Z)(function*(y,f,p=!1){var b;const{auth:M}=y,L="reauthenticate";try{const le=yield dr(y,od(M,L,f,y),p);Q(le.idToken,M,"internal-error");const De=He(le.idToken);Q(De,M,"internal-error");const{sub:Ze}=De;return Q(y.uid===Ze,M,"user-mismatch"),ri._forOperation(y,L,le)}catch(le){throw"auth/user-not-found"===(null===(b=le)||void 0===b?void 0:b.code)&&Pe(M,"user-mismatch"),le}})).apply(this,arguments)}function sr(y,f){return Al.apply(this,arguments)}function Al(){return(Al=(0,d.Z)(function*(y,f,p=!1){const b="signIn",M=yield od(y,b,f),L=yield ri._fromIdTokenResponse(y,b,M);return p||(yield y._updateCurrentUser(L.user)),L})).apply(this,arguments)}function Tn(y,f){return lo.apply(this,arguments)}function lo(){return(lo=(0,d.Z)(function*(y,f){return sr(Mn(y),f)})).apply(this,arguments)}function ar(y,f){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,d.Z)(function*(y,f){const p=(0,F.m9)(y);return yield bn(!1,p,f.providerId),Ws(p,f)})).apply(this,arguments)}function ms(y,f){return No.apply(this,arguments)}function No(){return(No=(0,d.Z)(function*(y,f){return Zs((0,F.m9)(y),f)})).apply(this,arguments)}function zr(y,f){return Po.apply(this,arguments)}function Po(){return(Po=(0,d.Z)(function*(y,f){return vr(y,"POST","/v1/accounts:signInWithCustomToken",Yt(y,f))})).apply(this,arguments)}function mt(){return(mt=(0,d.Z)(function*(y,f){const p=Mn(y),b=yield zr(p,{token:f,returnSecureToken:!0}),M=yield ri._fromIdTokenResponse(p,"signIn",b);return yield p._updateCurrentUser(M.user),M})).apply(this,arguments)}class uo{constructor(f,p){this.factorId=f,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(f,p){return"phoneInfo"in p?Ua._fromServerResponse(f,p):Pe(f,"internal-error")}}class Ua extends uo{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,p){return new Ua(p)}}function qi(y,f,p){var b;Q((null===(b=p.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),Q(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=p.url,f.dynamicLinkDomain=p.dynamicLinkDomain,f.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(Q(p.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=p.iOS.bundleId),p.android&&(Q(p.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=p.android.installApp,f.androidMinimumVersionCode=p.android.minimumVersion,f.androidPackageName=p.android.packageName)}function Qs(){return(Qs=(0,d.Z)(function*(y,f,p){const b=(0,F.m9)(y),M={requestType:"PASSWORD_RESET",email:f};p&&qi(b,M,p),yield $r(b,M)})).apply(this,arguments)}function Ro(){return(Ro=(0,d.Z)(function*(y,f,p){yield br((0,F.m9)(y),{oobCode:f,newPassword:p})})).apply(this,arguments)}function Fe(){return(Fe=(0,d.Z)(function*(y,f){yield ls((0,F.m9)(y),{oobCode:f})})).apply(this,arguments)}function Nt(y,f){return _s.apply(this,arguments)}function _s(){return(_s=(0,d.Z)(function*(y,f){const p=(0,F.m9)(y),b=yield br(p,{oobCode:f}),M=b.requestType;switch(Q(M,p,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Q(b.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Q(b.mfaInfo,p,"internal-error");default:Q(b.email,p,"internal-error")}let L=null;return b.mfaInfo&&(L=uo._fromServerResponse(Mn(p),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:L},operation:M}})).apply(this,arguments)}function Sn(){return(Sn=(0,d.Z)(function*(y,f){const{data:p}=yield Nt((0,F.m9)(y),f);return p.email})).apply(this,arguments)}function Oo(){return(Oo=(0,d.Z)(function*(y,f,p){const b=Mn(y),M=yield Va(b,{returnSecureToken:!0,email:f,password:p}),L=yield ri._fromIdTokenResponse(b,"signIn",M);return yield b._updateCurrentUser(L.user),L})).apply(this,arguments)}function Xs(){return(Xs=(0,d.Z)(function*(y,f,p){const b=(0,F.m9)(y),M={requestType:"EMAIL_SIGNIN",email:f};Q(p.handleCodeInApp,b,"argument-error"),p&&qi(b,M,p),yield Gs(b,M)})).apply(this,arguments)}function ea(){return(ea=(0,d.Z)(function*(y,f,p){const b=(0,F.m9)(y),M=Cl.credentialWithLink(f,p||se());return Q(M._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Tn(b,M)})).apply(this,arguments)}function za(y,f){return lr.apply(this,arguments)}function lr(){return(lr=(0,d.Z)(function*(y,f){return Ot(y,"POST","/v1/accounts:createAuthUri",Yt(y,f))})).apply(this,arguments)}function ta(){return(ta=(0,d.Z)(function*(y,f){const b={identifier:f,continueUri:Ge()?se():"http://localhost"},{signinMethods:M}=yield za((0,F.m9)(y),b);return M||[]})).apply(this,arguments)}function oi(){return(oi=(0,d.Z)(function*(y,f){const p=(0,F.m9)(y),M={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&qi(p.auth,M,f);const{email:L}=yield ru(p.auth,M);L!==y.email&&(yield y.reload())})).apply(this,arguments)}function qa(){return(qa=(0,d.Z)(function*(y,f,p){const b=(0,F.m9)(y),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};p&&qi(b.auth,L,p);const{email:le}=yield Ai(b.auth,L);le!==y.email&&(yield y.reload())})).apply(this,arguments)}function lu(y,f){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,d.Z)(function*(y,f){return Ot(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Fo(){return(Fo=(0,d.Z)(function*(y,{displayName:f,photoURL:p}){if(void 0===f&&void 0===p)return;const b=(0,F.m9)(y),L={idToken:yield b.getIdToken(),displayName:f,photoUrl:p,returnSecureToken:!0},le=yield dr(b,lu(b.auth,L));b.displayName=le.displayName||null,b.photoURL=le.photoUrl||null;const De=b.providerData.find(({providerId:Ze})=>"password"===Ze);De&&(De.displayName=b.displayName,De.photoURL=b.photoURL),yield b._updateTokensIfNecessary(le)})).apply(this,arguments)}function bs(y,f,p){return ws.apply(this,arguments)}function ws(){return(ws=(0,d.Z)(function*(y,f,p){const{auth:b}=y,L={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(L.email=f),p&&(L.password=p);const le=yield dr(y,nu(b,L));yield y._updateTokensIfNecessary(le,!0)})).apply(this,arguments)}class Lo{constructor(f,p,b={}){this.isNewUser=f,this.providerId=p,this.profile=b}}class oa extends Lo{constructor(f,p,b,M){super(f,p,b),this.username=M}}class Sl extends Lo{constructor(f,p){super(f,"facebook.com",p)}}class xl extends oa{constructor(f,p){super(f,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class Ml extends Lo{constructor(f,p){super(f,"google.com",p)}}class kl extends oa{constructor(f,p,b){super(f,"twitter.com",p,b)}}function uu(y){const{user:f,_tokenResponse:p}=y;return f.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function ia(y){var f,p;if(!y)return null;const{providerId:b}=y,M=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},L=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&y?.idToken){const le=null===(p=null===(f=He(y.idToken))||void 0===f?void 0:f.firebase)||void 0===p?void 0:p.sign_in_provider;if(le)return new Lo(L,"anonymous"!==le&&"custom"!==le?le:null)}if(!b)return null;switch(b){case"facebook.com":return new Sl(L,M);case"github.com":return new xl(L,M);case"google.com":return new Ml(L,M);case"twitter.com":return new kl(L,M,y.screenName||null);case"custom":case"anonymous":return new Lo(L,null);default:return new Lo(L,b,M)}}(p)}class Si{constructor(f,p){this.type=f,this.credential=p}static _fromIdtoken(f){return new Si("enroll",f)}static _fromMfaPendingCredential(f){return new Si("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var p,b;if(f?.multiFactorSession){if(null!==(p=f.multiFactorSession)&&void 0!==p&&p.pendingCredential)return Si._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(b=f.multiFactorSession)&&void 0!==b&&b.idToken)return Si._fromIdtoken(f.multiFactorSession.idToken)}return null}}class co{constructor(f,p,b){this.session=f,this.hints=p,this.signInResolver=b}static _fromError(f,p){const b=Mn(f),M=p.customData._serverResponse,L=(M.mfaInfo||[]).map(De=>uo._fromServerResponse(b,De));Q(M.mfaPendingCredential,b,"internal-error");const le=Si._fromMfaPendingCredential(M.mfaPendingCredential);return new co(le,L,function(){var De=(0,d.Z)(function*(Ze){const at=yield Ze._process(b,le);delete M.mfaInfo,delete M.mfaPendingCredential;const Et=Object.assign(Object.assign({},M),{idToken:at.idToken,refreshToken:at.refreshToken});switch(p.operationType){case"signIn":const dt=yield ri._fromIdTokenResponse(b,p.operationType,Et);return yield b._updateCurrentUser(dt.user),dt;case"reauthenticate":return Q(p.user,b,"internal-error"),ri._forOperation(p.user,p.operationType,Et);default:Pe(b,"internal-error")}});return function(Ze){return De.apply(this,arguments)}}())}resolveSignIn(f){var p=this;return(0,d.Z)(function*(){return p.signInResolver(f)})()}}function Qa(y,f){return Ot(y,"POST","/v2/accounts/mfaEnrollment:start",Yt(y,f))}class Fr{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(b=>uo._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new Fr(f)}getSession(){var f=this;return(0,d.Z)(function*(){return Si._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,p){var b=this;return(0,d.Z)(function*(){const M=f,L=yield b.getSession(),le=yield dr(b.user,M._process(b.user.auth,L,p));return yield b.user._updateTokensIfNecessary(le),b.user.reload()})()}unenroll(f){var p=this;return(0,d.Z)(function*(){var b;const M="string"==typeof f?f:f.uid,L=yield p.user.getIdToken(),le=yield dr(p.user,function xi(y,f){return Ot(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Yt(y,f))}(p.user.auth,{idToken:L,mfaEnrollmentId:M}));p.enrolledFactors=p.enrolledFactors.filter(({uid:De})=>De!==M),yield p.user._updateTokensIfNecessary(le);try{yield p.user.reload()}catch(De){if("auth/user-token-expired"!==(null===(b=De)||void 0===b?void 0:b.code))throw De}})()}}const ho=new WeakMap,Es="__sak";class aa{constructor(f,p){this.storageRetriever=f,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Es,"1"),this.storage.removeItem(Es),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,p){return this.storage.setItem(f,JSON.stringify(p)),Promise.resolve()}_get(f){const p=this.storage.getItem(f);return Promise.resolve(p?JSON.parse(p):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const C=(()=>{class y extends aa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,b)=>this.onStorageEvent(p,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function du(){const y=(0,F.z$)();return hr(y)||In(y)}()&&function St(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Dn(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const b of Object.keys(this.listeners)){const M=this.storage.getItem(b),L=this.localCache[b];M!==L&&p(b,L,M)}}onStorageEvent(p,b=!1){if(!p.key)return void this.forAllChangedKeys((De,Ze,at)=>{this.notifyListeners(De,at)});const M=p.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const De=this.storage.getItem(M);if(p.newValue!==De)null!==p.newValue?this.storage.setItem(M,p.newValue):this.storage.removeItem(M);else if(this.localCache[M]===p.newValue&&!b)return}const L=()=>{const De=this.storage.getItem(M);!b&&this.localCache[M]===De||this.notifyListeners(M,De)},le=this.storage.getItem(M);!function ro(){return(0,F.w1)()&&10===document.documentMode}()||le===p.newValue||p.newValue===p.oldValue?L():setTimeout(L,10)}notifyListeners(p,b){this.localCache[p]=b;const M=this.listeners[p];if(M)for(const L of Array.from(M))L(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,b,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:b,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(b)}_removeListener(p,b){this.listeners[p]&&(this.listeners[p].delete(b),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,b){var M=()=>super._set,L=this;return(0,d.Z)(function*(){yield M().call(L,p,b),L.localCache[p]=JSON.stringify(b)})()}_get(p){var b=()=>super._get,M=this;return(0,d.Z)(function*(){const L=yield b().call(M,p);return M.localCache[p]=JSON.stringify(L),L})()}_remove(p){var b=()=>super._remove,M=this;return(0,d.Z)(function*(){yield b().call(M,p),delete M.localCache[p]})()}}return y.type="LOCAL",y})(),k=(()=>{class y extends aa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,b){}_removeListener(p,b){}}return y.type="SESSION",y})();let Re=(()=>{class y{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const b=this.receivers.find(L=>L.isListeningto(p));if(b)return b;const M=new y(p);return this.receivers.push(M),M}isListeningto(p){return this.eventTarget===p}handleEvent(p){var b=this;return(0,d.Z)(function*(){const M=p,{eventId:L,eventType:le,data:De}=M.data,Ze=b.handlersMap[le];if(!Ze?.size)return;M.ports[0].postMessage({status:"ack",eventId:L,eventType:le});const at=Array.from(Ze).map(function(){var dt=(0,d.Z)(function*(Fn){return Fn(M.origin,De)});return function(Fn){return dt.apply(this,arguments)}}()),Et=yield function q(y){return Promise.all(y.map(function(){var f=(0,d.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(b){return{fulfilled:!1,reason:b}}});return function(p){return f.apply(this,arguments)}}()))}(at);M.ports[0].postMessage({status:"done",eventId:L,eventType:le,response:Et})})()}_subscribe(p,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(b)}_unsubscribe(p,b){this.handlersMap[p]&&b&&this.handlersMap[p].delete(b),(!b||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function tt(y="",f=10){let p="";for(let b=0;b<f;b++)p+=Math.floor(10*Math.random());return y+p}class en{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,p,b=50){var M=this;return(0,d.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let le,De;return new Promise((Ze,at)=>{const Et=tt("",20);L.port1.start();const dt=setTimeout(()=>{at(new Error("unsupported_event"))},b);De={messageChannel:L,onMessage(Fn){const Wn=Fn;if(Wn.data.eventId===Et)switch(Wn.data.status){case"ack":clearTimeout(dt),le=setTimeout(()=>{at(new Error("timeout"))},3e3);break;case"done":clearTimeout(le),Ze(Wn.data.response);break;default:clearTimeout(dt),clearTimeout(le),at(new Error("invalid_response"))}}},M.handlers.add(De),L.port1.addEventListener("message",De.onMessage),M.target.postMessage({eventType:f,eventId:Et,data:p},[L.port2])}).finally(()=>{De&&M.removeMessageHandler(De)})})()}}function Gt(){return window}function Lr(){return typeof Gt().WorkerGlobalScope<"u"&&"function"==typeof Gt().importScripts}function Ja(){return(Ja=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Nl="firebaseLocalStorageDb",Rn="firebaseLocalStorage",On="fbase_key";class Uo{constructor(f){this.request=f}toPromise(){return new Promise((f,p)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function si(y,f){return y.transaction([Rn],f?"readwrite":"readonly").objectStore(Rn)}function ua(){const y=indexedDB.open(Nl,1);return new Promise((f,p)=>{y.addEventListener("error",()=>{p(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(Rn,{keyPath:On})}catch(M){p(M)}}),y.addEventListener("success",(0,d.Z)(function*(){const b=y.result;b.objectStoreNames.contains(Rn)?f(b):(b.close(),yield function hu(){const y=indexedDB.deleteDatabase(Nl);return new Uo(y).toPromise()}(),f(yield ua()))}))})}function Cs(y,f,p){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,d.Z)(function*(y,f,p){const b=si(y,!0).put({[On]:f,value:p});return new Uo(b).toPromise()})).apply(this,arguments)}function Sr(){return(Sr=(0,d.Z)(function*(y,f){const p=si(y,!1).get(f),b=yield new Uo(p).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Rl(y,f){const p=si(y,!0).delete(f);return new Uo(p).toPromise()}const po=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,d.Z)(function*(){return p.db||(p.db=yield ua()),p.db})()}_withRetries(p){var b=this;return(0,d.Z)(function*(){let M=0;for(;;)try{const L=yield b._openDb();return yield p(L)}catch(L){if(M++>3)throw L;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,d.Z)(function*(){return Lr()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,d.Z)(function*(){p.receiver=Re._getInstance(function dd(){return Lr()?self:null}()),p.receiver._subscribe("keyChanged",function(){var b=(0,d.Z)(function*(M,L){return{keyProcessed:(yield p._poll()).includes(L.key)}});return function(M,L){return b.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var b=(0,d.Z)(function*(M,L){return["keyChanged"]});return function(M,L){return b.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,d.Z)(function*(){var b,M;if(p.activeServiceWorker=yield function Bo(){return Ja.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new en(p.activeServiceWorker);const L=yield p.sender._send("ping",{},800);!L||(null===(b=L[0])||void 0===b?void 0:b.fulfilled)&&(null===(M=L[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var b=this;return(0,d.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function eg(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:p},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const p=yield ua();return yield Cs(p,Es,"1"),yield Rl(p,Es),!0}catch{}return!1})()}_withPendingWrite(p){var b=this;return(0,d.Z)(function*(){b.pendingWrites++;try{yield p()}finally{b.pendingWrites--}})()}_set(p,b){var M=this;return(0,d.Z)(function*(){return M._withPendingWrite((0,d.Z)(function*(){return yield M._withRetries(L=>Cs(L,p,b)),M.localCache[p]=b,M.notifyServiceWorker(p)}))})()}_get(p){var b=this;return(0,d.Z)(function*(){const M=yield b._withRetries(L=>function jo(y,f){return Sr.apply(this,arguments)}(L,p));return b.localCache[p]=M,M})()}_remove(p){var b=this;return(0,d.Z)(function*(){return b._withPendingWrite((0,d.Z)(function*(){return yield b._withRetries(M=>Rl(M,p)),delete b.localCache[p],b.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,d.Z)(function*(){const b=yield p._withRetries(le=>{const De=si(le,!1).getAll();return new Uo(De).toPromise()});if(!b)return[];if(0!==p.pendingWrites)return[];const M=[],L=new Set;for(const{fbase_key:le,value:De}of b)L.add(le),JSON.stringify(p.localCache[le])!==JSON.stringify(De)&&(p.notifyListeners(le,De),M.push(le));for(const le of Object.keys(p.localCache))p.localCache[le]&&!L.has(le)&&(p.notifyListeners(le,null),M.push(le));return M})()}notifyListeners(p,b){this.localCache[p]=b;const M=this.listeners[p];if(M)for(const L of Array.from(M))L(b)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(b)}_removeListener(p,b){this.listeners[p]&&(this.listeners[p].delete(b),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Is(y,f){return Ot(y,"POST","/v2/accounts/mfaSignIn:start",Yt(y,f))}function Go(){return(Go=(0,d.Z)(function*(y){return(yield Ot(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function fo(y){return new Promise((f,p)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=f,b.onerror=M=>{const L=fe("internal-error");L.customData=M,p(L)},b.type="text/javascript",b.charset="UTF-8",function wr(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(b)})}function Xa(y){return`__${y}${Math.floor(1e6*Math.random())}`}const el=1e12;class ca{constructor(f){this.auth=f,this.counter=el,this._widgets=new Map}render(f,p){const b=this.counter;return this._widgets.set(b,new da(f,this.auth.name,p||{})),this.counter++,b}reset(f){var p;const b=f||el;null===(p=this._widgets.get(b))||void 0===p||p.delete(),this._widgets.delete(b)}getResponse(f){var p;return(null===(p=this._widgets.get(f||el))||void 0===p?void 0:p.getResponse())||""}execute(f){var p=this;return(0,d.Z)(function*(){var b;return null===(b=p._widgets.get(f||el))||void 0===b||b.execute(),""})()}}class da{constructor(f,p,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof f?document.getElementById(f):f;Q(M,"argument-error",{appName:p}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ho(y){const f=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)f.push(p.charAt(Math.floor(Math.random()*p.length)));return f.join("")}(50);const{callback:f,"expired-callback":p}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const pu=Xa("rcb"),nc=new _t(3e4,6e4);class fd{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Gt().grecaptcha}load(f,p=""){return Q(function gd(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(p),f,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(Gt().grecaptcha):new Promise((b,M)=>{const L=Gt().setTimeout(()=>{M(fe(f,"network-request-failed"))},nc.get());Gt()[pu]=()=>{Gt().clearTimeout(L),delete Gt()[pu];const De=Gt().grecaptcha;if(!De)return void M(fe(f,"internal-error"));const Ze=De.render;De.render=(at,Et)=>{const dt=Ze(at,Et);return this.counter++,dt},this.hostLanguage=p,b(De)},fo(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:pu,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(L),M(fe(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!Gt().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class pn{load(f){return(0,d.Z)(function*(){return new ca(f)})()}clearedOneInstance(){}}const rc="recaptcha",Jh={theme:"light",type:"image"};class ng{constructor(f,p=Object.assign({},Jh),b){this.parameters=p,this.type=rc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Mn(b),this.isInvisible="invisible"===this.parameters.size,Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof f?document.getElementById(f):f;Q(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pn:new fd,this.validateStartingState()}verify(){var f=this;return(0,d.Z)(function*(){f.assertNotDestroyed();const p=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(p)||new Promise(L=>{const le=De=>{!De||(f.tokenChangeListeners.delete(le),L(De))};f.tokenChangeListeners.add(le),f.isInvisible&&b.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Q(!this.parameters.sitekey,this.auth,"argument-error"),Q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return p=>{if(this.tokenChangeListeners.forEach(b=>b(p)),"function"==typeof f)f(p);else if("string"==typeof f){const b=Gt()[f];"function"==typeof b&&b(p)}}}assertNotDestroyed(){Q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,d.Z)(function*(){if(yield f.init(),!f.widgetId){let p=f.container;if(!f.isInvisible){const b=document.createElement("div");p.appendChild(b),p=b}f.widgetId=f.getAssertedRecaptcha().render(p,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,d.Z)(function*(){Q(Ge()&&!Lr(),f.auth,"internal-error"),yield function Xh(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const p=yield function Wi(y){return Go.apply(this,arguments)}(f.auth);Q(p,f.auth,"internal-error"),f.parameters.sitekey=p})()}getAssertedRecaptcha(){return Q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ic{constructor(f,p){this.verificationId=f,this.onConfirmation=p}confirm(f){const p=Hi._fromVerification(this.verificationId,f);return this.onConfirmation(p)}}function oc(){return(oc=(0,d.Z)(function*(y,f,p){const b=Mn(y),M=yield Ds(b,f,(0,F.m9)(p));return new ic(M,L=>Tn(b,L))})).apply(this,arguments)}function sc(){return(sc=(0,d.Z)(function*(y,f,p){const b=(0,F.m9)(y);yield bn(!1,b,"phone");const M=yield Ds(b.auth,f,(0,F.m9)(p));return new ic(M,L=>ar(b,L))})).apply(this,arguments)}function qn(){return(qn=(0,d.Z)(function*(y,f,p){const b=(0,F.m9)(y),M=yield Ds(b.auth,f,(0,F.m9)(p));return new ic(M,L=>ms(b,L))})).apply(this,arguments)}function Ds(y,f,p){return go.apply(this,arguments)}function go(){return(go=(0,d.Z)(function*(y,f,p){var b;const M=yield p.verify();try{let L;if(Q("string"==typeof M,y,"argument-error"),Q(p.type===rc,y,"argument-error"),L="string"==typeof f?{phoneNumber:f}:f,"session"in L){const le=L.session;if("phoneNumber"in L)return Q("enroll"===le.type,y,"internal-error"),(yield Qa(y,{idToken:le.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{Q("signin"===le.type,y,"internal-error");const De=(null===(b=L.multiFactorHint)||void 0===b?void 0:b.uid)||L.multiFactorUid;return Q(De,y,"missing-multi-factor-info"),(yield Is(y,{mfaPendingCredential:le.credential,mfaEnrollmentId:De,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:le}=yield nd(y,{phoneNumber:L.phoneNumber,recaptchaToken:M});return le}}finally{p._reset()}})).apply(this,arguments)}function fu(){return(fu=(0,d.Z)(function*(y,f){yield Ws((0,F.m9)(y),f)})).apply(this,arguments)}let Er=(()=>{class y{constructor(p){this.providerId=y.PROVIDER_ID,this.auth=Mn(p)}verifyPhoneNumber(p,b){return Ds(this.auth,p,(0,F.m9)(b))}static credential(p,b){return Hi._fromVerification(p,b)}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:b,temporaryProof:M}=p;return b&&M?Hi._fromTokenResponse(b,M):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function fn(y,f){return f?ae(f):(Q(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class _i extends vn{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return xo(f,this._buildIdpRequest())}_linkToIdToken(f,p){return xo(f,this._buildIdpRequest(p))}_getReauthenticationResolver(f){return xo(f,this._buildIdpRequest())}_buildIdpRequest(f){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(p.idToken=f),p}}function ha(y){return sr(y.auth,new _i(y),y.bypassAuthState)}function rl(y){const{auth:f,user:p}=y;return Q(p,f,"internal-error"),Zs(p,new _i(y),y.bypassAuthState)}function ac(y){return As.apply(this,arguments)}function As(){return(As=(0,d.Z)(function*(y){const{auth:f,user:p}=y;return Q(p,f,"internal-error"),Ws(p,new _i(y),y.bypassAuthState)})).apply(this,arguments)}class gu{constructor(f,p,b,M,L=!1){this.auth=f,this.resolver=b,this.user=M,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var f=this;return new Promise(function(){var p=(0,d.Z)(function*(b,M){f.pendingPromise={resolve:b,reject:M};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(L){f.reject(L)}});return function(b,M){return p.apply(this,arguments)}}())}onAuthEvent(f){var p=this;return(0,d.Z)(function*(){const{urlResponse:b,sessionId:M,postBody:L,tenantId:le,error:De,type:Ze}=f;if(De)return void p.reject(De);const at={auth:p.auth,requestUri:b,sessionId:M,tenantId:le||void 0,postBody:L||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Ze)(at))}catch(Et){p.reject(Et)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return ha;case"linkViaPopup":case"linkViaRedirect":return ac;case"reauthViaPopup":case"reauthViaRedirect":return rl;default:Pe(this.auth,"internal-error")}}resolve(f){ne(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ne(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mu=new _t(2e3,1e4);function lc(){return(lc=(0,d.Z)(function*(y,f,p){const b=Mn(y);Qe(y,f,ni);const M=fn(b,p);return new yu(b,"signInViaPopup",f,M).executeNotNull()})).apply(this,arguments)}function Fl(){return(Fl=(0,d.Z)(function*(y,f,p){const b=(0,F.m9)(y);Qe(b.auth,f,ni);const M=fn(b.auth,p);return new yu(b.auth,"reauthViaPopup",f,M,b).executeNotNull()})).apply(this,arguments)}function il(){return(il=(0,d.Z)(function*(y,f,p){const b=(0,F.m9)(y);Qe(b.auth,f,ni);const M=fn(b.auth,p);return new yu(b.auth,"linkViaPopup",f,M,b).executeNotNull()})).apply(this,arguments)}let yu=(()=>{class y extends gu{constructor(p,b,M,L,le){super(p,b,L,le),this.provider=M,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var p=this;return(0,d.Z)(function*(){const b=yield p.execute();return Q(b,p.auth,"internal-error"),b})()}onExecution(){var p=this;return(0,d.Z)(function*(){ne(1===p.filter.length,"Popup operations only handle one event");const b=tt();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],b),p.authWindow.associatedEvent=b,p.resolver._originValidation(p.auth).catch(M=>{p.reject(M)}),p.resolver._isIframeWebStorageSupported(p.auth,M=>{M||p.reject(fe(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(fe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const p=()=>{var b,M;this.pollId=null!==(M=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(fe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,mu.get())};p()}}return y.currentPopupAction=null,y})();const _u=new Map;class ol extends gu{constructor(f,p,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,p=this;return(0,d.Z)(function*(){let b=_u.get(p.auth._key());if(!b){try{const L=(yield function ig(y,f){return $o.apply(this,arguments)}(p.resolver,p.auth))?yield f().call(p):null;b=()=>Promise.resolve(L)}catch(M){b=()=>Promise.reject(M)}_u.set(p.auth._key(),b)}return p.bypassAuthState||_u.set(p.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var p=()=>super.onAuthEvent,b=this;return(0,d.Z)(function*(){if("signInViaRedirect"===f.type)return p().call(b,f);if("unknown"!==f.type){if(f.eventId){const M=yield b.auth._redirectUserForId(f.eventId);if(M)return b.user=M,p().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function $o(){return($o=(0,d.Z)(function*(y,f){const p=pa(f),b=Ts(y);if(!(yield b._isAvailable()))return!1;const M="true"===(yield b._get(p));return yield b._remove(p),M})).apply(this,arguments)}function uc(y,f){return vu.apply(this,arguments)}function vu(){return(vu=(0,d.Z)(function*(y,f){return Ts(y)._set(pa(f),"true")})).apply(this,arguments)}function _d(y,f){_u.set(y._key(),f)}function Ts(y){return ae(y._redirectPersistence)}function pa(y){return jt("pendingRedirect",y.config.apiKey,y.name)}function R(){return(R=(0,d.Z)(function*(y,f,p){const b=Mn(y);Qe(y,f,ni);const M=fn(b,p);return yield uc(M,b),M._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function ye(){return(ye=(0,d.Z)(function*(y,f,p){const b=(0,F.m9)(y);Qe(b.auth,f,ni);const M=fn(b.auth,p);yield uc(M,b.auth);const L=yield vi(b);return M._openRedirect(b.auth,f,"reauthViaRedirect",L)})).apply(this,arguments)}function Ke(){return(Ke=(0,d.Z)(function*(y,f,p){const b=(0,F.m9)(y);Qe(b.auth,f,ni);const M=fn(b.auth,p);yield bn(!1,b,f.providerId),yield uc(M,b.auth);const L=yield vi(b);return M._openRedirect(b.auth,f,"linkViaRedirect",L)})).apply(this,arguments)}function Pt(){return(Pt=(0,d.Z)(function*(y,f){return yield Mn(y)._initializationPromise,pt(y,f,!1)})).apply(this,arguments)}function pt(y,f){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,d.Z)(function*(y,f,p=!1){const b=Mn(y),M=fn(b,f),le=yield new ol(b,M,p).execute();return le&&!p&&(delete le.user._redirectEventId,yield b._persistUserIfCurrent(le.user),yield b._setRedirectUser(null,f)),le})).apply(this,arguments)}function vi(y){return sl.apply(this,arguments)}function sl(){return(sl=(0,d.Z)(function*(y){const f=tt(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class Mi{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let p=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(p=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Ki(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ss(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=f,p=!0)),p}sendToConsumer(f,p){var b;if(f.error&&!Ss(f)){const M=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";p.onError(fe(this.auth,M))}else p.onAuthEvent(f)}isEventForConsumer(f,p){const b=null===p.eventId||!!f.eventId&&f.eventId===p.eventId;return p.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(mo(f))}saveEventToCache(f){this.cachedEventUids.add(mo(f)),this.lastProcessedEventTime=Date.now()}}function mo(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function Ss({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===f?.code}function xs(y){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,d.Z)(function*(y,f={}){return Ot(y,"GET","/v1/projects",f)})).apply(this,arguments)}const zo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vd=/^https?/;function bd(){return(bd=(0,d.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield xs(y);for(const p of f)try{if(a_(p))return}catch{}Pe(y,"unauthorized-domain")})).apply(this,arguments)}function a_(y){const f=se(),{protocol:p,hostname:b}=new URL(f);if(y.startsWith("chrome-extension://")){const le=new URL(y);return""===le.hostname&&""===b?"chrome-extension:"===p&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===p&&le.hostname===b}if(!vd.test(p))return!1;if(zo.test(y))return b===y;const M=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(b)}const Bl=new _t(3e4,6e4);function wu(){const y=Gt().___jsl;if(y?.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let p=0;p<y.CP.length;p++)y.CP[p]=null}let np=null;function rp(y){return np=np||function Qb(y){return new Promise((f,p)=>{var b,M,L;function le(){wu(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{wu(),p(fe(y,"network-request-failed"))},timeout:Bl.get()})}if(null!==(M=null===(b=Gt().gapi)||void 0===b?void 0:b.iframes)&&void 0!==M&&M.Iframe)f(gapi.iframes.getContext());else{if(null===(L=Gt().gapi)||void 0===L||!L.load){const De=Xa("iframefcb");return Gt()[De]=()=>{gapi.load?le():p(fe(y,"network-request-failed"))},fo(`https://apis.google.com/js/api.js?onload=${De}`).catch(Ze=>p(Ze))}le()}}).catch(f=>{throw np=null,f})}(y),np}const Jb=new _t(5e3,15e3),ag={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ip=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wd(y){const f=y.config;Q(f.authDomain,y,"auth-domain-config-required");const p=f.emulator?xn(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:f.apiKey,appName:y.name,v:H.SDK_VERSION},M=ip.get(y.config.apiHost);M&&(b.eid=M);const L=y._getFrameworks();return L.length&&(b.fw=L.join(",")),`${p}?${(0,F.xO)(b).slice(1)}`}function op(){return op=(0,d.Z)(function*(y){const f=yield rp(y),p=Gt().gapi;return Q(p,y,"internal-error"),f.open({where:document.body,url:wd(y),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ag,dontclear:!0},b=>new Promise(function(){var M=(0,d.Z)(function*(L,le){yield b.restyle({setHideOnLeave:!1});const De=fe(y,"network-request-failed"),Ze=Gt().setTimeout(()=>{le(De)},Jb.get());function at(){Gt().clearTimeout(Ze),L(b)}b.ping(at).then(at,()=>{le(De)})});return function(L,le){return M.apply(this,arguments)}}()))}),op.apply(this,arguments)}const Eu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ap{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dc(y,f,p,b,M,L){Q(y.config.authDomain,y,"auth-domain-config-required"),Q(y.config.apiKey,y,"invalid-api-key");const le={apiKey:y.config.apiKey,appName:y.name,authType:p,redirectUrl:b,v:H.SDK_VERSION,eventId:M};if(f instanceof ni){f.setDefaultLanguage(y.languageCode),le.providerId=f.providerId||"",(0,F.xb)(f.getCustomParameters())||(le.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Ze,at]of Object.entries(L||{}))le[Ze]=at}if(f instanceof ao){const Ze=f.getScopes().filter(at=>""!==at);Ze.length>0&&(le.scopes=Ze.join(","))}y.tenantId&&(le.tid=y.tenantId);const De=le;for(const Ze of Object.keys(De))void 0===De[Ze]&&delete De[Ze];return`${function cg({config:y}){return y.emulator?xn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,F.xO)(De).slice(1)}`}const Ed="webStorageSupport";class Ul extends class al{constructor(f){this.factorId=f}_process(f,p,b){switch(p.type){case"enroll":return this._finalizeEnroll(f,p.credential,b);case"signin":return this._finalizeSignIn(f,p.credential);default:return we("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Ul(f)}_finalizeEnroll(f,p,b){return function ec(y,f){return Ot(y,"POST","/v2/accounts/mfaEnrollment:finalize",Yt(y,f))}(f,{idToken:p,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,p){return function pd(y,f){return Ot(y,"POST","/v2/accounts/mfaSignIn:finalize",Yt(y,f))}(f,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let d_=(()=>{class y{constructor(){}static assertion(p){return Ul._fromCredential(p)}}return y.FACTOR_ID="phone",y})();var dg="@firebase/auth";class h_{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var p=this;return(0,d.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const p=this.auth.onIdTokenChanged(b=>{var M;f((null===(M=b)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,p),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const p=this.internalListeners.get(f);!p||(this.internalListeners.delete(f),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ul(){return window}function Cd(){return(Cd=(0,d.Z)(function*(y,f,p){var b;const{BuildInfo:M}=ul();ne(f.sessionId,"AuthEvent did not contain a session ID");const L=yield tw(f.sessionId),le={};return In()?le.ibi=M.packageName:et()?le.apn=M.packageName:Pe(y,"operation-not-supported-in-this-environment"),M.displayName&&(le.appDisplayName=M.displayName),le.sessionId=L,dc(y,p,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,le)})).apply(this,arguments)}function pc(){return(pc=(0,d.Z)(function*(y){const{BuildInfo:f}=ul(),p={};In()?p.iosBundleId=f.packageName:et()?p.androidPackageName=f.packageName:Pe(y,"operation-not-supported-in-this-environment"),yield xs(y,p)})).apply(this,arguments)}function dp(){return(dp=(0,d.Z)(function*(y,f,p){const{cordova:b}=ul();let M=()=>{};try{yield new Promise((L,le)=>{let De=null;function Ze(){var dt;L();const Fn=null===(dt=b.plugins.browsertab)||void 0===dt?void 0:dt.close;"function"==typeof Fn&&Fn(),"function"==typeof p?.close&&p.close()}function at(){De||(De=window.setTimeout(()=>{le(fe(y,"redirect-cancelled-by-user"))},2e3))}function Et(){"visible"===document?.visibilityState&&at()}f.addPassiveListener(Ze),document.addEventListener("resume",at,!1),et()&&document.addEventListener("visibilitychange",Et,!1),M=()=>{f.removePassiveListener(Ze),document.removeEventListener("resume",at,!1),document.removeEventListener("visibilitychange",Et,!1),De&&window.clearTimeout(De)}})}finally{M()}})).apply(this,arguments)}function tw(y){return fc.apply(this,arguments)}function fc(){return(fc=(0,d.Z)(function*(y){const f=Iu(y),p=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(p)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Iu(y){if(ne(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),p=new Uint8Array(f);for(let b=0;b<y.length;b++)p[b]=y.charCodeAt(b);return p}!function jl(y){(0,H._registerComponent)(new J.wA("auth",(f,{options:p})=>{const b=f.getProvider("app").getImmediate(),M=f.getProvider("heartbeat"),{apiKey:L,authDomain:le}=b.options;return((De,Ze)=>{Q(L&&!L.includes(":"),"invalid-api-key",{appName:De.name}),Q(!le?.includes(":"),"argument-error",{appName:De.name});const at={apiKey:L,authDomain:le,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gi(y)},Et=new Pa(De,Ze,at);return function ve(y,f){const p=f?.persistence||[],b=(Array.isArray(p)?p:[p]).map(ae);f?.errorMap&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(b,f?.popupRedirectResolver)}(Et,p),Et})(b,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,p,b)=>{f.getProvider("auth-internal").initialize()})),(0,H._registerComponent)(new J.wA("auth-internal",f=>{const p=Mn(f.getProvider("auth").getImmediate());return new h_(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,H.registerVersion)(dg,"0.20.4",function ll(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,H.registerVersion)(dg,"0.20.4","esm2017")}("Browser");class qo extends Mi{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(f)),super.onEvent(f)}initialized(){var f=this;return(0,d.Z)(function*(){yield f.initPromise})()}}function fp(y){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,d.Z)(function*(y){const f=yield gp()._get(mc(y));return f&&(yield gp()._remove(mc(y))),f})).apply(this,arguments)}function nw(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const b=Math.floor(Math.random()*f.length);y.push(f.charAt(b))}return y.join("")}function gp(){return ae(C)}function mc(y){return jt("authEvent",y.config.apiKey,y.name)}function Id(y){if(!y?.includes("?"))return{};const[f,...p]=y.split("?");return(0,F.zd)(p.join("?"))}function gg(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:fe("no-auth-event")}}function Du(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function yp(y=(0,F.z$)()){return!("file:"!==Du()&&"ionic:"!==Du()&&"capacitor:"!==Du()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function _p(){try{const y=self.localStorage,f=tt();if(y)return y.setItem(f,"1"),y.removeItem(f),!function Ad(y=(0,F.z$)()){return function yg(){return(0,F.w1)()&&11===document?.documentMode}()||function v_(y=(0,F.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,F.hl)()}catch{return Td()&&(0,F.hl)()}return!1}function Td(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function vp(){return(function vc(){return"http:"===Du()||"https:"===Du()}()||(0,F.ru)()||yp())&&!function gr(){return(0,F.b$)()||(0,F.UG)()}()&&_p()&&!Td()}function bp(){return yp()&&typeof document<"u"}function _g(){return(_g=(0,d.Z)(function*(){return!!bp()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const yo={LOCAL:"local",NONE:"none",SESSION:"session"},fa=Q,wp="persistence";function Sd(y){return Au.apply(this,arguments)}function Au(){return(Au=(0,d.Z)(function*(y){yield y._initializationPromise;const f=w_(),p=jt(wp,y.config.apiKey,y.name);f&&f.setItem(p,y._getPersistence())})).apply(this,arguments)}function w_(){var y;try{return(null===(y=function ND(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const ow=Q;class cl{constructor(){this.browserResolver=ae(class lp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=k,this._completeRedirectFn=pt,this._overrideRedirectResult=_d}_openPopup(f,p,b,M){var L=this;return(0,d.Z)(function*(){var le;ne(null===(le=L.eventManagers[f._key()])||void 0===le?void 0:le.manager,"_initialize() not called before _openPopup()");const De=dc(f,p,b,se(),M);return function Cu(y,f,p,b=500,M=600){const L=Math.max((window.screen.availHeight-M)/2,0).toString(),le=Math.max((window.screen.availWidth-b)/2,0).toString();let De="";const Ze=Object.assign(Object.assign({},Eu),{width:b.toString(),height:M.toString(),top:L,left:le}),at=(0,F.z$)().toLowerCase();p&&(De=Hn(at)?"_blank":p),Gn(at)&&(f=f||"http://localhost",Ze.scrollbars="yes");const Et=Object.entries(Ze).reduce((Fn,[Wn,Ec])=>`${Fn}${Wn}=${Ec},`,"");if(function $n(y=(0,F.z$)()){var f;return In(y)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(at)&&"_self"!==De)return function ug(y,f){const p=document.createElement("a");p.href=y,p.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(b)}(f||"",De),new ap(null);const dt=window.open(f||"",De,Et);Q(dt,y,"popup-blocked");try{dt.focus()}catch{}return new ap(dt)}(f,De,tt())})()}_openRedirect(f,p,b,M){var L=this;return(0,d.Z)(function*(){return yield L._originValidation(f),function fr(y){Gt().location.href=y}(dc(f,p,b,se(),M)),new Promise(()=>{})})()}_initialize(f){const p=f._key();if(this.eventManagers[p]){const{manager:M,promise:L}=this.eventManagers[p];return M?Promise.resolve(M):(ne(L,"If manager is not set, promise should be"),L)}const b=this.initAndGetManager(f);return this.eventManagers[p]={promise:b},b.catch(()=>{delete this.eventManagers[p]}),b}initAndGetManager(f){var p=this;return(0,d.Z)(function*(){const b=yield function u_(y){return op.apply(this,arguments)}(f),M=new Mi(f);return b.register("authEvent",L=>(Q(L?.authEvent,f,"invalid-auth-event"),{status:M.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[f._key()]={manager:M},p.iframes[f._key()]=b,M})()}_isIframeWebStorageSupported(f,p){this.iframes[f._key()].send(Ed,{type:Ed},M=>{var L;const le=null===(L=M?.[0])||void 0===L?void 0:L[Ed];void 0!==le&&p(!!le),Pe(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function og(y){return bd.apply(this,arguments)}(f)),this.originValidationPromises[p]}get _shouldInitProactively(){return Dn()||hr()||In()}}),this.cordovaResolver=ae(class mp{constructor(){this._redirectPersistence=k,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=pt,this._overrideRedirectResult=_d}_initialize(f){var p=this;return(0,d.Z)(function*(){const b=f._key();let M=p.eventManagers.get(b);return M||(M=new qo(f),p.eventManagers.set(b,M),p.attachCallbackListeners(f,M)),M})()}_openPopup(f){Pe(f,"operation-not-supported-in-this-environment")}_openRedirect(f,p,b,M){var L=this;return(0,d.Z)(function*(){!function hp(y){var f,p,b,M,L,le,De,Ze,at,Et;const dt=ul();Q("function"==typeof(null===(f=dt?.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Q(typeof(null===(p=dt?.BuildInfo)||void 0===p?void 0:p.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Q("function"==typeof(null===(L=null===(M=null===(b=dt?.cordova)||void 0===b?void 0:b.plugins)||void 0===M?void 0:M.browsertab)||void 0===L?void 0:L.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q("function"==typeof(null===(Ze=null===(De=null===(le=dt?.cordova)||void 0===le?void 0:le.plugins)||void 0===De?void 0:De.browsertab)||void 0===Ze?void 0:Ze.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q("function"==typeof(null===(Et=null===(at=dt?.cordova)||void 0===at?void 0:at.InAppBrowser)||void 0===Et?void 0:Et.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const le=yield L._initialize(f);yield le.initialized(),le.resetRedirect(),function Vl(){_u.clear()}(),yield L._originValidation(f);const De=function gc(y,f,p=null){return{type:f,eventId:p,urlResponse:null,sessionId:nw(),postBody:null,tenantId:y.tenantId,error:fe(y,"no-auth-event")}}(f,b,M);yield function pp(y,f){return gp()._set(mc(y),f)}(f,De);const Ze=yield function hg(y,f,p){return Cd.apply(this,arguments)}(f,De,p),at=yield function g_(y){const{cordova:f}=ul();return new Promise(p=>{f.plugins.browsertab.isAvailable(b=>{let M=null;b?f.plugins.browsertab.openUrl(y):M=f.InAppBrowser.open(y,function ss(y=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),p(M)})})}(Ze);return function cp(y,f,p){return dp.apply(this,arguments)}(f,le,at)})()}_isIframeWebStorageSupported(f,p){throw new Error("Method not implemented.")}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function f_(y){return pc.apply(this,arguments)}(f)),this.originValidationPromises[p]}attachCallbackListeners(f,p){const{universalLinks:b,handleOpenURL:M,BuildInfo:L}=ul(),le=setTimeout((0,d.Z)(function*(){yield fp(f),p.onEvent(gg())}),500),De=function(){var Et=(0,d.Z)(function*(dt){clearTimeout(le);const Fn=yield fp(f);let Wn=null;Fn&&dt?.url&&(Wn=function m_(y,f){var p,b;const M=function yc(y){const f=Id(y),p=f.link?decodeURIComponent(f.link):void 0,b=Id(p).link,M=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Id(M).link||M||b||p||y}(f);if(M.includes("/__/auth/callback")){const L=Id(M),le=L.firebaseError?function fg(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(L.firebaseError)):null,De=null===(b=null===(p=le?.code)||void 0===p?void 0:p.split("auth/"))||void 0===b?void 0:b[1],Ze=De?fe(De):null;return Ze?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ze,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:M,postBody:null}}return null}(Fn,dt.url)),p.onEvent(Wn||gg())});return function(Fn){return Et.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,De);const Ze=M,at=`${L.packageName.toLowerCase()}://`;ul().handleOpenURL=function(){var Et=(0,d.Z)(function*(dt){if(dt.toLowerCase().startsWith(at)&&De({url:dt}),"function"==typeof Ze)try{Ze(dt)}catch(Fn){console.error(Fn)}});return function(dt){return Et.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=k,this._completeRedirectFn=pt,this._overrideRedirectResult=_d}_initialize(f){var p=this;return(0,d.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,p,b,M){var L=this;return(0,d.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openPopup(f,p,b,M)})()}_openRedirect(f,p,b,M){var L=this;return(0,d.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openRedirect(f,p,b,M)})()}_isIframeWebStorageSupported(f,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,p)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return bp()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ow(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,d.Z)(function*(){if(f.underlyingResolver)return;const p=yield function rw(){return _g.apply(this,arguments)}();f.underlyingResolver=p?f.cordovaResolver:f.browserResolver})()}}function E_(y){return y.unwrap()}function $l(y){return bc(y)}function bc(y){const{_tokenResponse:f}=y instanceof F.ZR?y.customData:y;if(!f)return null;if(!(y instanceof F.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Er.credentialFromResult(y);const p=f.providerId;if(!p||"password"===p)return null;let b;switch(p){case"google.com":b=ps;break;case"facebook.com":b=Il;break;case"github.com":b=$s;break;case"twitter.com":b=$i;break;default:const{oauthIdToken:M,oauthAccessToken:L,oauthTokenSecret:le,pendingToken:De,nonce:Ze}=f;return L||le||M||De?De?p.startsWith("saml.")?fs._create(p,De):Gi._fromParams({providerId:p,signInMethod:p,pendingToken:De,idToken:M,accessToken:L}):new hs(p).credential({idToken:M,accessToken:L,rawNonce:Ze}):null}return y instanceof F.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function Xn(y,f){return f.catch(p=>{throw p instanceof F.ZR&&function Ep(y,f){var p,b;const M=null===(p=f.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===(null===(b=f)||void 0===b?void 0:b.code))f.resolver=new Tu(y,function Qn(y,f){var p;const b=(0,F.m9)(y),M=f;return Q(f.customData.operationType,b,"argument-error"),Q(null===(p=M.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,b,"argument-error"),co._fromError(b,M)}(y,f));else if(M){const L=bc(f),le=f;L&&(le.credential=L,le.tenantId=M.tenantId||void 0,le.email=M.email||void 0,le.phoneNumber=M.phoneNumber||void 0)}}(y,p),p}).then(p=>{const M=p.user;return{operationType:p.operationType,credential:$l(p),additionalUserInfo:uu(p),user:Ko.getOrCreate(M)}})}function Wo(y,f){return Cp.apply(this,arguments)}function Cp(){return(Cp=(0,d.Z)(function*(y,f){const p=yield f;return{verificationId:p.verificationId,confirm:b=>Xn(y,p.confirm(b))}})).apply(this,arguments)}class Tu{constructor(f,p){this.resolver=p,this.auth=function vg(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Xn(E_(this.auth),this.resolver.resolveSignIn(f))}}class Ko{constructor(f){this._delegate=f,this.multiFactor=function ld(y){const f=(0,F.m9)(y);return ho.has(f)||ho.set(f,Fr._fromUser(f)),ho.get(f)}(f)}static getOrCreate(f){return Ko.USER_MAP.has(f)||Ko.USER_MAP.set(f,new Ko(f)),Ko.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var p=this;return(0,d.Z)(function*(){return Xn(p.auth,ar(p._delegate,f))})()}linkWithPhoneNumber(f,p){var b=this;return(0,d.Z)(function*(){return Wo(b.auth,function nl(y,f,p){return sc.apply(this,arguments)}(b._delegate,f,p))})()}linkWithPopup(f){var p=this;return(0,d.Z)(function*(){return Xn(p.auth,function Ll(y,f,p){return il.apply(this,arguments)}(p._delegate,f,cl))})()}linkWithRedirect(f){var p=this;return(0,d.Z)(function*(){return yield Sd(Mn(p.auth)),function Oe(y,f,p){return function Xe(y,f,p){return Ke.apply(this,arguments)}(y,f,p)}(p._delegate,f,cl)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var p=this;return(0,d.Z)(function*(){return Xn(p.auth,ms(p._delegate,f))})()}reauthenticateWithPhoneNumber(f,p){return Wo(this.auth,function ep(y,f,p){return qn.apply(this,arguments)}(this._delegate,f,p))}reauthenticateWithPopup(f){return Xn(this.auth,function ai(y,f,p){return Fl.apply(this,arguments)}(this._delegate,f,cl))}reauthenticateWithRedirect(f){var p=this;return(0,d.Z)(function*(){return yield Sd(Mn(p.auth)),function G(y,f,p){return function ce(y,f,p){return ye.apply(this,arguments)}(y,f,p)}(p._delegate,f,cl)})()}sendEmailVerification(f){return function Ti(y,f){return oi.apply(this,arguments)}(this._delegate,f)}unlink(f){var p=this;return(0,d.Z)(function*(){return yield function ko(y,f){return gs.apply(this,arguments)}(p._delegate,f),p})()}updateEmail(f){return function Ka(y,f){return bs((0,F.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function vs(y,f){return bs((0,F.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function tp(y,f){return fu.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function ra(y,f){return Fo.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,p){return function na(y,f,p){return qa.apply(this,arguments)}(this._delegate,f,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ko.USER_MAP=new WeakMap;const Su=Q;let li=(()=>{class y{constructor(p,b){if(this.app=p,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=p.options;Su(M,"invalid-api-key",{appName:p.name}),Su(M,"invalid-api-key",{appName:p.name});const L=typeof window<"u"?cl:void 0;this._delegate=b.initialize({options:{persistence:bg(M,p.name),popupRedirectResolver:L}}),this._delegate._updateErrorMap(Me),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ko.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,b){!function To(y,f,p){const b=Mn(y);Q(b._canInitEmulator,b,"emulator-config-failed"),Q(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const M=!!p?.disableWarnings,L=Bn(f),{host:le,port:De}=function Ii(y){const f=Bn(y),p=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!p)return{host:"",port:null};const b=p[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(b);if(M){const L=M[1];return{host:L,port:Di(b.substr(L.length+1))}}{const[L,le]=b.split(":");return{host:L,port:Di(le)}}}(f);b.config.emulator={url:`${L}//${le}${null===De?"":`:${De}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:le,port:De,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function pr(){function y(){const f=document.createElement("p"),p=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,p,b)}applyActionCode(p){return function Tl(y,f){return Fe.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return Nt(this._delegate,p)}confirmPasswordReset(p,b){return function Ga(y,f,p){return Ro.apply(this,arguments)}(this._delegate,p,b)}createUserWithEmailAndPassword(p,b){var M=this;return(0,d.Z)(function*(){return Xn(M._delegate,function Js(y,f,p){return Oo.apply(this,arguments)}(M._delegate,p,b))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function ii(y,f){return ta.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function Ju(y,f){return"EMAIL_SIGNIN"===La.parseLink(f)?.operation}(0,p)}getRedirectResult(){var p=this;return(0,d.Z)(function*(){Su(vp(),p._delegate,"operation-not-supported-in-this-environment");const b=yield function ft(y,f){return Pt.apply(this,arguments)}(p._delegate,cl);return b?Xn(p._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function mg(y,f){Mn(y)._logFramework(f)}(this._delegate,p)}onAuthStateChanged(p,b,M){const{next:L,error:le,complete:De}=xd(p,b,M);return this._delegate.onAuthStateChanged(L,le,De)}onIdTokenChanged(p,b,M){const{next:L,error:le,complete:De}=xd(p,b,M);return this._delegate.onIdTokenChanged(L,le,De)}sendSignInLinkToEmail(p,b){return function $a(y,f,p){return Xs.apply(this,arguments)}(this._delegate,p,b)}sendPasswordResetEmail(p,b){return function ja(y,f,p){return Qs.apply(this,arguments)}(this._delegate,p,b||void 0)}setPersistence(p){var b=this;return(0,d.Z)(function*(){let M;switch(function b_(y,f){fa(Object.values(yo).includes(f),y,"invalid-persistence-type"),(0,F.b$)()?fa(f!==yo.SESSION,y,"unsupported-persistence-type"):(0,F.UG)()?fa(f===yo.NONE,y,"unsupported-persistence-type"):Td()?fa(f===yo.NONE||f===yo.LOCAL&&(0,F.hl)(),y,"unsupported-persistence-type"):fa(f===yo.NONE||_p(),y,"unsupported-persistence-type")}(b._delegate,p),p){case yo.SESSION:M=k;break;case yo.LOCAL:M=(yield ae(po)._isAvailable())?po:C;break;case yo.NONE:M=dn;break;default:return Pe("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return Xn(this._delegate,function Ba(y){return au.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return Xn(this._delegate,Tn(this._delegate,p))}signInWithCustomToken(p){return Xn(this._delegate,function ys(y,f){return mt.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,b){return Xn(this._delegate,function yi(y,f,p){return Tn((0,F.m9)(y),Cl.credential(f,p))}(this._delegate,p,b))}signInWithEmailLink(p,b){return Xn(this._delegate,function Xu(y,f,p){return ea.apply(this,arguments)}(this._delegate,p,b))}signInWithPhoneNumber(p,b){return Wo(this._delegate,function md(y,f,p){return oc.apply(this,arguments)}(this._delegate,p,b))}signInWithPopup(p){var b=this;return(0,d.Z)(function*(){return Su(vp(),b._delegate,"operation-not-supported-in-this-environment"),Xn(b._delegate,function yd(y,f,p){return lc.apply(this,arguments)}(b._delegate,p,cl))})()}signInWithRedirect(p){var b=this;return(0,d.Z)(function*(){return Su(vp(),b._delegate,"operation-not-supported-in-this-environment"),yield Sd(b._delegate),function A(y,f,p){return function T(y,f,p){return R.apply(this,arguments)}(y,f,p)}(b._delegate,p,cl)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function Ha(y,f){return Sn.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=yo,y})();function xd(y,f,p){let b=y;"function"!=typeof y&&({next:b,error:f,complete:p}=y);const M=b;return{next:le=>M(le&&Ko.getOrCreate(le)),error:f,complete:p}}function bg(y,f){const p=function iw(y,f){const p=w_();if(!p)return[];const b=jt(wp,y,f);switch(p.getItem(b)){case yo.NONE:return[dn];case yo.LOCAL:return[po,k];case yo.SESSION:return[k];default:return[]}}(y,f);if(typeof self<"u"&&!p.includes(po)&&p.push(po),typeof window<"u")for(const b of[C,k])p.includes(b)||p.push(b);return p.includes(dn)||p.push(dn),p}class wc{constructor(){this.providerId="phone",this._delegate=new Er(E_(K.Z.auth()))}static credential(f,p){return Er.credential(f,p)}verifyPhoneNumber(f,p){return this._delegate.verifyPhoneNumber(f,p)}unwrap(){return this._delegate}}wc.PHONE_SIGN_IN_METHOD=Er.PHONE_SIGN_IN_METHOD,wc.PROVIDER_ID=Er.PROVIDER_ID;const qt=Q;class Md{constructor(f,p,b=K.Z.app()){var M;qt(null===(M=b.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new ng(f,p,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ga(y){y.INTERNAL.registerComponent(new J.wA("auth-compat",f=>{const p=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new li(p,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Cl,FacebookAuthProvider:Il,GithubAuthProvider:$s,GoogleAuthProvider:ps,OAuthProvider:hs,SAMLAuthProvider:An,PhoneAuthProvider:wc,PhoneMultiFactorGenerator:d_,RecaptchaVerifier:Md,TwitterAuthProvider:$i,Auth:li,AuthCredential:vn,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.17")}(K.Z)},8306:(ke,Ie,P)=>{"use strict";P.d(Ie,{y:()=>$});var d=P(930),K=P(727),F=P(8822),H=P(4671);var J=P(2416),Y=P(576),oe=P(2806);let $=(()=>{class Se{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const _e=new Se;return _e.source=this,_e.operator=Ue,_e}subscribe(Ue,_e,be){const qe=function me(Se){return Se&&Se instanceof d.Lv||function j(Se){return Se&&(0,Y.m)(Se.next)&&(0,Y.m)(Se.error)&&(0,Y.m)(Se.complete)}(Se)&&(0,K.Nn)(Se)}(Ue)?Ue:new d.Hp(Ue,_e,be);return(0,oe.x)(()=>{const{operator:Je,source:Pe}=this;qe.add(Je?Je.call(qe,Pe):Pe?this._subscribe(qe):this._trySubscribe(qe))}),qe}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(_e){Ue.error(_e)}}forEach(Ue,_e){return new(_e=V(_e))((be,qe)=>{const Je=new d.Hp({next:Pe=>{try{Ue(Pe)}catch(fe){qe(fe),Je.unsubscribe()}},error:qe,complete:be});this.subscribe(Je)})}_subscribe(Ue){var _e;return null===(_e=this.source)||void 0===_e?void 0:_e.subscribe(Ue)}[F.L](){return this}pipe(...Ue){return function te(Se){return 0===Se.length?H.y:1===Se.length?Se[0]:function(Ue){return Se.reduce((_e,be)=>be(_e),Ue)}}(Ue)(this)}toPromise(Ue){return new(Ue=V(Ue))((_e,be)=>{let qe;this.subscribe(Je=>qe=Je,Je=>be(Je),()=>_e(qe))})}}return Se.create=Me=>new Se(Me),Se})();function V(Se){var Me;return null!==(Me=Se??J.v.Promise)&&void 0!==Me?Me:Promise}},7579:(ke,Ie,P)=>{"use strict";P.d(Ie,{x:()=>J});var d=P(8306),K=P(727);const H=(0,P(3888).d)(oe=>function(){oe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var W=P(8737),te=P(2806);let J=(()=>{class oe extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(V){const j=new Y(this,this);return j.operator=V,j}_throwIfClosed(){if(this.closed)throw new H}next(V){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const j of this.currentObservers)j.next(V)}})}error(V){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=V;const{observers:j}=this;for(;j.length;)j.shift().error(V)}})}complete(){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:V}=this;for(;V.length;)V.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var V;return(null===(V=this.observers)||void 0===V?void 0:V.length)>0}_trySubscribe(V){return this._throwIfClosed(),super._trySubscribe(V)}_subscribe(V){return this._throwIfClosed(),this._checkFinalizedStatuses(V),this._innerSubscribe(V)}_innerSubscribe(V){const{hasError:j,isStopped:me,observers:Se}=this;return j||me?K.Lc:(this.currentObservers=null,Se.push(V),new K.w0(()=>{this.currentObservers=null,(0,W.P)(Se,V)}))}_checkFinalizedStatuses(V){const{hasError:j,thrownError:me,isStopped:Se}=this;j?V.error(me):Se&&V.complete()}asObservable(){const V=new d.y;return V.source=this,V}}return oe.create=($,V)=>new Y($,V),oe})();class Y extends J{constructor($,V){super(),this.destination=$,this.source=V}next($){var V,j;null===(j=null===(V=this.destination)||void 0===V?void 0:V.next)||void 0===j||j.call(V,$)}error($){var V,j;null===(j=null===(V=this.destination)||void 0===V?void 0:V.error)||void 0===j||j.call(V,$)}complete(){var $,V;null===(V=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===V||V.call($)}_subscribe($){var V,j;return null!==(j=null===(V=this.source)||void 0===V?void 0:V.subscribe($))&&void 0!==j?j:K.Lc}}},930:(ke,Ie,P)=>{"use strict";P.d(Ie,{Hp:()=>Ue,Lv:()=>j});var d=P(576),K=P(727),F=P(2416),H=P(7849),W=P(5032);const te=oe("C",void 0,void 0);function oe(Pe,fe,Te){return{kind:Pe,value:fe,error:Te}}var $=P(3410),V=P(2806);class j extends K.w0{constructor(fe){super(),this.isStopped=!1,fe?(this.destination=fe,(0,K.Nn)(fe)&&fe.add(this)):this.destination=Je}static create(fe,Te,Qe){return new Ue(fe,Te,Qe)}next(fe){this.isStopped?qe(function Y(Pe){return oe("N",Pe,void 0)}(fe),this):this._next(fe)}error(fe){this.isStopped?qe(function J(Pe){return oe("E",void 0,Pe)}(fe),this):(this.isStopped=!0,this._error(fe))}complete(){this.isStopped?qe(te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(fe){this.destination.next(fe)}_error(fe){try{this.destination.error(fe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const me=Function.prototype.bind;function Se(Pe,fe){return me.call(Pe,fe)}class Me{constructor(fe){this.partialObserver=fe}next(fe){const{partialObserver:Te}=this;if(Te.next)try{Te.next(fe)}catch(Qe){_e(Qe)}}error(fe){const{partialObserver:Te}=this;if(Te.error)try{Te.error(fe)}catch(Qe){_e(Qe)}else _e(fe)}complete(){const{partialObserver:fe}=this;if(fe.complete)try{fe.complete()}catch(Te){_e(Te)}}}class Ue extends j{constructor(fe,Te,Qe){let X;if(super(),(0,d.m)(fe)||!fe)X={next:fe??void 0,error:Te??void 0,complete:Qe??void 0};else{let Q;this&&F.v.useDeprecatedNextContext?(Q=Object.create(fe),Q.unsubscribe=()=>this.unsubscribe(),X={next:fe.next&&Se(fe.next,Q),error:fe.error&&Se(fe.error,Q),complete:fe.complete&&Se(fe.complete,Q)}):X=fe}this.destination=new Me(X)}}function _e(Pe){F.v.useDeprecatedSynchronousErrorHandling?(0,V.O)(Pe):(0,H.h)(Pe)}function qe(Pe,fe){const{onStoppedNotification:Te}=F.v;Te&&$.z.setTimeout(()=>Te(Pe,fe))}const Je={closed:!0,next:W.Z,error:function be(Pe){throw Pe},complete:W.Z}},727:(ke,Ie,P)=>{"use strict";P.d(Ie,{Lc:()=>te,w0:()=>W,Nn:()=>J});var d=P(576);const F=(0,P(3888).d)(oe=>function(V){oe(this),this.message=V?`${V.length} errors occurred during unsubscription:\n${V.map((j,me)=>`${me+1}) ${j.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=V});var H=P(8737);class W{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:V}=this;if(V)if(this._parentage=null,Array.isArray(V))for(const Se of V)Se.remove(this);else V.remove(this);const{initialTeardown:j}=this;if((0,d.m)(j))try{j()}catch(Se){$=Se instanceof F?Se.errors:[Se]}const{_finalizers:me}=this;if(me){this._finalizers=null;for(const Se of me)try{Y(Se)}catch(Me){$=$??[],Me instanceof F?$=[...$,...Me.errors]:$.push(Me)}}if($)throw new F($)}}add($){var V;if($&&$!==this)if(this.closed)Y($);else{if($ instanceof W){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(V=this._finalizers)&&void 0!==V?V:[]).push($)}}_hasParent($){const{_parentage:V}=this;return V===$||Array.isArray(V)&&V.includes($)}_addParent($){const{_parentage:V}=this;this._parentage=Array.isArray(V)?(V.push($),V):V?[V,$]:$}_removeParent($){const{_parentage:V}=this;V===$?this._parentage=null:Array.isArray(V)&&(0,H.P)(V,$)}remove($){const{_finalizers:V}=this;V&&(0,H.P)(V,$),$ instanceof W&&$._removeParent(this)}}W.EMPTY=(()=>{const oe=new W;return oe.closed=!0,oe})();const te=W.EMPTY;function J(oe){return oe instanceof W||oe&&"closed"in oe&&(0,d.m)(oe.remove)&&(0,d.m)(oe.add)&&(0,d.m)(oe.unsubscribe)}function Y(oe){(0,d.m)(oe)?oe():oe.unsubscribe()}},2416:(ke,Ie,P)=>{"use strict";P.d(Ie,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ke,Ie,P)=>{"use strict";P.d(Ie,{E:()=>K});const K=new(P(8306).y)(W=>W.complete())},8996:(ke,Ie,P)=>{"use strict";P.d(Ie,{D:()=>fe});var d=P(8421),K=P(5363),F=P(9468),te=P(8306),Y=P(2202),oe=P(576),$=P(9672);function j(Te,Qe){if(!Te)throw new Error("Iterable cannot be null");return new te.y(X=>{(0,$.f)(X,Qe,()=>{const Q=Te[Symbol.asyncIterator]();(0,$.f)(X,Qe,()=>{Q.next().then(we=>{we.done?X.complete():X.next(we.value)})},0,!0)})})}var me=P(3670),Se=P(8239),Me=P(1144),Ue=P(6495),_e=P(2206),be=P(4532),qe=P(3260);function fe(Te,Qe){return Qe?function Pe(Te,Qe){if(null!=Te){if((0,me.c)(Te))return function H(Te,Qe){return(0,d.Xf)(Te).pipe((0,F.R)(Qe),(0,K.Q)(Qe))}(Te,Qe);if((0,Me.z)(Te))return function J(Te,Qe){return new te.y(X=>{let Q=0;return Qe.schedule(function(){Q===Te.length?X.complete():(X.next(Te[Q++]),X.closed||this.schedule())})})}(Te,Qe);if((0,Se.t)(Te))return function W(Te,Qe){return(0,d.Xf)(Te).pipe((0,F.R)(Qe),(0,K.Q)(Qe))}(Te,Qe);if((0,_e.D)(Te))return j(Te,Qe);if((0,Ue.T)(Te))return function V(Te,Qe){return new te.y(X=>{let Q;return(0,$.f)(X,Qe,()=>{Q=Te[Y.h](),(0,$.f)(X,Qe,()=>{let we,ne;try{({value:we,done:ne}=Q.next())}catch(de){return void X.error(de)}ne?X.complete():X.next(we)},0,!0)}),()=>(0,oe.m)(Q?.return)&&Q.return()})}(Te,Qe);if((0,qe.L)(Te))return function Je(Te,Qe){return j((0,qe.Q)(Te),Qe)}(Te,Qe)}throw(0,be.z)(Te)}(Te,Qe):(0,d.Xf)(Te)}},8421:(ke,Ie,P)=>{"use strict";P.d(Ie,{Xf:()=>me});var d=P(655),K=P(1144),F=P(8239),H=P(8306),W=P(3670),te=P(2206),J=P(4532),Y=P(6495),oe=P(3260),$=P(576),V=P(7849),j=P(8822);function me(Pe){if(Pe instanceof H.y)return Pe;if(null!=Pe){if((0,W.c)(Pe))return function Se(Pe){return new H.y(fe=>{const Te=Pe[j.L]();if((0,$.m)(Te.subscribe))return Te.subscribe(fe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pe);if((0,K.z)(Pe))return function Me(Pe){return new H.y(fe=>{for(let Te=0;Te<Pe.length&&!fe.closed;Te++)fe.next(Pe[Te]);fe.complete()})}(Pe);if((0,F.t)(Pe))return function Ue(Pe){return new H.y(fe=>{Pe.then(Te=>{fe.closed||(fe.next(Te),fe.complete())},Te=>fe.error(Te)).then(null,V.h)})}(Pe);if((0,te.D)(Pe))return be(Pe);if((0,Y.T)(Pe))return function _e(Pe){return new H.y(fe=>{for(const Te of Pe)if(fe.next(Te),fe.closed)return;fe.complete()})}(Pe);if((0,oe.L)(Pe))return function qe(Pe){return be((0,oe.Q)(Pe))}(Pe)}throw(0,J.z)(Pe)}function be(Pe){return new H.y(fe=>{(function Je(Pe,fe){var Te,Qe,X,Q;return(0,d.mG)(this,void 0,void 0,function*(){try{for(Te=(0,d.KL)(Pe);!(Qe=yield Te.next()).done;)if(fe.next(Qe.value),fe.closed)return}catch(we){X={error:we}}finally{try{Qe&&!Qe.done&&(Q=Te.return)&&(yield Q.call(Te))}finally{if(X)throw X.error}}fe.complete()})})(Pe,fe).catch(Te=>fe.error(Te))})}},6451:(ke,Ie,P)=>{"use strict";P.d(Ie,{T:()=>te});var d=P(6131),K=P(8421),F=P(515),H=P(7669),W=P(8996);function te(...J){const Y=(0,H.yG)(J),oe=(0,H._6)(J,1/0),$=J;return $.length?1===$.length?(0,K.Xf)($[0]):(0,d.J)(oe)((0,W.D)($,Y)):F.E}},5403:(ke,Ie,P)=>{"use strict";P.d(Ie,{x:()=>K});var d=P(930);function K(H,W,te,J,Y){return new F(H,W,te,J,Y)}class F extends d.Lv{constructor(W,te,J,Y,oe,$){super(W),this.onFinalize=oe,this.shouldUnsubscribe=$,this._next=te?function(V){try{te(V)}catch(j){W.error(j)}}:super._next,this._error=Y?function(V){try{Y(V)}catch(j){W.error(j)}finally{this.unsubscribe()}}:super._error,this._complete=J?function(){try{J()}catch(V){W.error(V)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var W;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:te}=this;super.unsubscribe(),!te&&(null===(W=this.onFinalize)||void 0===W||W.call(this))}}}},4004:(ke,Ie,P)=>{"use strict";P.d(Ie,{U:()=>F});var d=P(4482),K=P(5403);function F(H,W){return(0,d.e)((te,J)=>{let Y=0;te.subscribe((0,K.x)(J,oe=>{J.next(H.call(W,oe,Y++))}))})}},6131:(ke,Ie,P)=>{"use strict";P.d(Ie,{J:()=>$});var d=P(4004),K=P(8421),F=P(4482),H=P(9672),W=P(5403),J=P(576);function Y(V,j,me=1/0){return(0,J.m)(j)?Y((Se,Me)=>(0,d.U)((Ue,_e)=>j(Se,Ue,Me,_e))((0,K.Xf)(V(Se,Me))),me):("number"==typeof j&&(me=j),(0,F.e)((Se,Me)=>function te(V,j,me,Se,Me,Ue,_e,be){const qe=[];let Je=0,Pe=0,fe=!1;const Te=()=>{fe&&!qe.length&&!Je&&j.complete()},Qe=Q=>Je<Se?X(Q):qe.push(Q),X=Q=>{Ue&&j.next(Q),Je++;let we=!1;(0,K.Xf)(me(Q,Pe++)).subscribe((0,W.x)(j,ne=>{Me?.(ne),Ue?Qe(ne):j.next(ne)},()=>{we=!0},void 0,()=>{if(we)try{for(Je--;qe.length&&Je<Se;){const ne=qe.shift();_e?(0,H.f)(j,_e,()=>X(ne)):X(ne)}Te()}catch(ne){j.error(ne)}}))};return V.subscribe((0,W.x)(j,Qe,()=>{fe=!0,Te()})),()=>{be?.()}}(Se,Me,V,me)))}var oe=P(4671);function $(V=1/0){return Y(oe.y,V)}},5363:(ke,Ie,P)=>{"use strict";P.d(Ie,{Q:()=>H});var d=P(9672),K=P(4482),F=P(5403);function H(W,te=0){return(0,K.e)((J,Y)=>{J.subscribe((0,F.x)(Y,oe=>(0,d.f)(Y,W,()=>Y.next(oe),te),()=>(0,d.f)(Y,W,()=>Y.complete(),te),oe=>(0,d.f)(Y,W,()=>Y.error(oe),te)))})}},3099:(ke,Ie,P)=>{"use strict";P.d(Ie,{B:()=>te});var d=P(8996),K=P(5698),F=P(7579),H=P(930),W=P(4482);function te(Y={}){const{connector:oe=(()=>new F.x),resetOnError:$=!0,resetOnComplete:V=!0,resetOnRefCountZero:j=!0}=Y;return me=>{let Se=null,Me=null,Ue=null,_e=0,be=!1,qe=!1;const Je=()=>{Me?.unsubscribe(),Me=null},Pe=()=>{Je(),Se=Ue=null,be=qe=!1},fe=()=>{const Te=Se;Pe(),Te?.unsubscribe()};return(0,W.e)((Te,Qe)=>{_e++,!qe&&!be&&Je();const X=Ue=Ue??oe();Qe.add(()=>{_e--,0===_e&&!qe&&!be&&(Me=J(fe,j))}),X.subscribe(Qe),Se||(Se=new H.Hp({next:Q=>X.next(Q),error:Q=>{qe=!0,Je(),Me=J(Pe,$,Q),X.error(Q)},complete:()=>{be=!0,Je(),Me=J(Pe,V),X.complete()}}),(0,d.D)(Te).subscribe(Se))})(me)}}function J(Y,oe,...$){return!0===oe?(Y(),null):!1===oe?null:oe(...$).pipe((0,K.q)(1)).subscribe(()=>Y())}},9468:(ke,Ie,P)=>{"use strict";P.d(Ie,{R:()=>K});var d=P(4482);function K(F,H=0){return(0,d.e)((W,te)=>{te.add(F.schedule(()=>W.subscribe(te),H))})}},5698:(ke,Ie,P)=>{"use strict";P.d(Ie,{q:()=>H});var d=P(515),K=P(4482),F=P(5403);function H(W){return W<=0?()=>d.E:(0,K.e)((te,J)=>{let Y=0;te.subscribe((0,F.x)(J,oe=>{++Y<=W&&(J.next(oe),W<=Y&&J.complete())}))})}},4408:(ke,Ie,P)=>{"use strict";P.d(Ie,{o:()=>W});var d=P(727);class K extends d.w0{constructor(J,Y){super()}schedule(J,Y=0){return this}}const F={setInterval(te,J,...Y){const{delegate:oe}=F;return oe?.setInterval?oe.setInterval(te,J,...Y):setInterval(te,J,...Y)},clearInterval(te){const{delegate:J}=F;return(J?.clearInterval||clearInterval)(te)},delegate:void 0};var H=P(8737);class W extends K{constructor(J,Y){super(J,Y),this.scheduler=J,this.work=Y,this.pending=!1}schedule(J,Y=0){if(this.closed)return this;this.state=J;const oe=this.id,$=this.scheduler;return null!=oe&&(this.id=this.recycleAsyncId($,oe,Y)),this.pending=!0,this.delay=Y,this.id=this.id||this.requestAsyncId($,this.id,Y),this}requestAsyncId(J,Y,oe=0){return F.setInterval(J.flush.bind(J,this),oe)}recycleAsyncId(J,Y,oe=0){if(null!=oe&&this.delay===oe&&!1===this.pending)return Y;F.clearInterval(Y)}execute(J,Y){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const oe=this._execute(J,Y);if(oe)return oe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(J,Y){let $,oe=!1;try{this.work(J)}catch(V){oe=!0,$=V||new Error("Scheduled action threw falsy error")}if(oe)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:J,scheduler:Y}=this,{actions:oe}=Y;this.work=this.state=this.scheduler=null,this.pending=!1,(0,H.P)(oe,this),null!=J&&(this.id=this.recycleAsyncId(Y,J,null)),this.delay=null,super.unsubscribe()}}}},7565:(ke,Ie,P)=>{"use strict";P.d(Ie,{v:()=>F});var d=P(6063);class K{constructor(W,te=K.now){this.schedulerActionCtor=W,this.now=te}schedule(W,te=0,J){return new this.schedulerActionCtor(this,W).schedule(J,te)}}K.now=d.l.now;class F extends K{constructor(W,te=K.now){super(W,te),this.actions=[],this._active=!1,this._scheduled=void 0}flush(W){const{actions:te}=this;if(this._active)return void te.push(W);let J;this._active=!0;do{if(J=W.execute(W.state,W.delay))break}while(W=te.shift());if(this._active=!1,J){for(;W=te.shift();)W.unsubscribe();throw J}}}},4986:(ke,Ie,P)=>{"use strict";P.d(Ie,{z:()=>F});var d=P(4408);const F=new(P(7565).v)(d.o)},6063:(ke,Ie,P)=>{"use strict";P.d(Ie,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(ke,Ie,P)=>{"use strict";P.d(Ie,{z:()=>d});const d={setTimeout(K,F,...H){const{delegate:W}=d;return W?.setTimeout?W.setTimeout(K,F,...H):setTimeout(K,F,...H)},clearTimeout(K){const{delegate:F}=d;return(F?.clearTimeout||clearTimeout)(K)},delegate:void 0}},2202:(ke,Ie,P)=>{"use strict";P.d(Ie,{h:()=>K});const K=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ke,Ie,P)=>{"use strict";P.d(Ie,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ke,Ie,P)=>{"use strict";P.d(Ie,{_6:()=>te,jO:()=>H,yG:()=>W});var d=P(576);function F(J){return J[J.length-1]}function H(J){return(0,d.m)(F(J))?J.pop():void 0}function W(J){return function K(J){return J&&(0,d.m)(J.schedule)}(F(J))?J.pop():void 0}function te(J,Y){return"number"==typeof F(J)?J.pop():Y}},8737:(ke,Ie,P)=>{"use strict";function d(K,F){if(K){const H=K.indexOf(F);0<=H&&K.splice(H,1)}}P.d(Ie,{P:()=>d})},3888:(ke,Ie,P)=>{"use strict";function d(K){const H=K(W=>{Error.call(W),W.stack=(new Error).stack});return H.prototype=Object.create(Error.prototype),H.prototype.constructor=H,H}P.d(Ie,{d:()=>d})},2806:(ke,Ie,P)=>{"use strict";P.d(Ie,{O:()=>H,x:()=>F});var d=P(2416);let K=null;function F(W){if(d.v.useDeprecatedSynchronousErrorHandling){const te=!K;if(te&&(K={errorThrown:!1,error:null}),W(),te){const{errorThrown:J,error:Y}=K;if(K=null,J)throw Y}}else W()}function H(W){d.v.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=W)}},9672:(ke,Ie,P)=>{"use strict";function d(K,F,H,W=0,te=!1){const J=F.schedule(function(){H(),te?K.add(this.schedule(null,W)):this.unsubscribe()},W);if(K.add(J),!te)return J}P.d(Ie,{f:()=>d})},4671:(ke,Ie,P)=>{"use strict";function d(K){return K}P.d(Ie,{y:()=>d})},1144:(ke,Ie,P)=>{"use strict";P.d(Ie,{z:()=>d});const d=K=>K&&"number"==typeof K.length&&"function"!=typeof K},2206:(ke,Ie,P)=>{"use strict";P.d(Ie,{D:()=>K});var d=P(576);function K(F){return Symbol.asyncIterator&&(0,d.m)(F?.[Symbol.asyncIterator])}},576:(ke,Ie,P)=>{"use strict";function d(K){return"function"==typeof K}P.d(Ie,{m:()=>d})},3670:(ke,Ie,P)=>{"use strict";P.d(Ie,{c:()=>F});var d=P(8822),K=P(576);function F(H){return(0,K.m)(H[d.L])}},6495:(ke,Ie,P)=>{"use strict";P.d(Ie,{T:()=>F});var d=P(2202),K=P(576);function F(H){return(0,K.m)(H?.[d.h])}},8239:(ke,Ie,P)=>{"use strict";P.d(Ie,{t:()=>K});var d=P(576);function K(F){return(0,d.m)(F?.then)}},3260:(ke,Ie,P)=>{"use strict";P.d(Ie,{L:()=>H,Q:()=>F});var d=P(655),K=P(576);function F(W){return(0,d.FC)(this,arguments,function*(){const J=W.getReader();try{for(;;){const{value:Y,done:oe}=yield(0,d.qq)(J.read());if(oe)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(Y)}}finally{J.releaseLock()}})}function H(W){return(0,K.m)(W?.getReader)}},4482:(ke,Ie,P)=>{"use strict";P.d(Ie,{e:()=>F});var d=P(576);function F(H){return W=>{if(function K(H){return(0,d.m)(H?.lift)}(W))return W.lift(function(te){try{return H(te,this)}catch(J){this.error(J)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ke,Ie,P)=>{"use strict";function d(){}P.d(Ie,{Z:()=>d})},7849:(ke,Ie,P)=>{"use strict";P.d(Ie,{h:()=>F});var d=P(2416),K=P(3410);function F(H){K.z.setTimeout(()=>{const{onUnhandledError:W}=d.v;if(!W)throw H;W(H)})}},4532:(ke,Ie,P)=>{"use strict";function d(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Ie,{z:()=>d})},5226:function(ke){ke.exports=function(){"use strict";const Ie="SweetAlert2:",d=C=>C.charAt(0).toUpperCase()+C.slice(1),K=C=>Array.prototype.slice.call(C),F=C=>{console.warn("".concat(Ie," ").concat("object"==typeof C?C.join(" "):C))},H=C=>{console.error("".concat(Ie," ").concat(C))},W=[],J=(C,D)=>{(C=>{W.includes(C)||(W.push(C),F(C))})('"'.concat(C,'" is deprecated and will be removed in the next major release. Please use "').concat(D,'" instead.'))},Y=C=>"function"==typeof C?C():C,oe=C=>C&&"function"==typeof C.toPromise,$=C=>oe(C)?C.toPromise():Promise.resolve(C),V=C=>C&&Promise.resolve(C)===C,j={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},me=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Se={},Me=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Ue=C=>Object.prototype.hasOwnProperty.call(j,C),_e=C=>-1!==me.indexOf(C),be=C=>Se[C],qe=C=>{Ue(C)||F('Unknown parameter "'.concat(C,'"'))},Je=C=>{Me.includes(C)&&F('The parameter "'.concat(C,'" is incompatible with toasts'))},Pe=C=>{be(C)&&J(C,be(C))},Qe=C=>{const D={};for(const k in C)D[C[k]]="swal2-"+C[k];return D},X=Qe(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","no-war"]),Q=Qe(["success","warning","info","question","error"]),we=()=>document.body.querySelector(".".concat(X.container)),ne=C=>{const D=we();return D?D.querySelector(C):null},de=C=>ne(".".concat(C)),ae=()=>de(X.popup),Ee=()=>de(X.icon),ve=()=>de(X.title),se=()=>de(X["html-container"]),Ge=()=>de(X.image),it=()=>de(X["progress-steps"]),gt=()=>de(X["validation-message"]),Be=()=>ne(".".concat(X.actions," .").concat(X.confirm)),_t=()=>ne(".".concat(X.actions," .").concat(X.deny)),Jt=()=>ne(".".concat(X.loader)),Ut=()=>ne(".".concat(X.actions," .").concat(X.cancel)),nr=()=>de(X.actions),Yt=()=>de(X.footer),Ot=()=>de(X["timer-progress-bar"]),Qr=()=>de(X.close),cr=()=>{const C=K(ae().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((k,q)=>{const Re=parseInt(k.getAttribute("tabindex")),tt=parseInt(q.getAttribute("tabindex"));return Re>tt?1:Re<tt?-1:0}),D=K(ae().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(k=>"-1"!==k.getAttribute("tabindex"));return(C=>{const D=[];for(let k=0;k<C.length;k++)-1===D.indexOf(C[k])&&D.push(C[k]);return D})(C.concat(D)).filter(k=>nn(k))},vr=()=>ut(document.body,X.shown)&&!ut(document.body,X["toast-shown"])&&!ut(document.body,X["no-backdrop"]),Gr=()=>ae()&&ut(ae(),X.toast),rr={previousBodyPadding:null},En=(C,D)=>{if(C.textContent="",D){const q=(new DOMParser).parseFromString(D,"text/html");K(q.querySelector("head").childNodes).forEach(Re=>{C.appendChild(Re)}),K(q.querySelector("body").childNodes).forEach(Re=>{C.appendChild(Re)})}},ut=(C,D)=>{if(!D)return!1;const k=D.split(/\s+/);for(let q=0;q<k.length;q++)if(!C.classList.contains(k[q]))return!1;return!0},Xt=(C,D,k)=>{if(((C,D)=>{K(C.classList).forEach(k=>{!Object.values(X).includes(k)&&!Object.values(Q).includes(k)&&!Object.values(D.showClass).includes(k)&&C.classList.remove(k)})})(C,D),D.customClass&&D.customClass[k]){if("string"!=typeof D.customClass[k]&&!D.customClass[k].forEach)return F("Invalid type of customClass.".concat(k,'! Expected string or iterable object, got "').concat(typeof D.customClass[k],'"'));vt(C,D.customClass[k])}},Cn=(C,D)=>{if(!D)return null;switch(D){case"select":case"textarea":case"file":return C.querySelector(".".concat(X.popup," > .").concat(X[D]));case"checkbox":return C.querySelector(".".concat(X.popup," > .").concat(X.checkbox," input"));case"radio":return C.querySelector(".".concat(X.popup," > .").concat(X.radio," input:checked"))||C.querySelector(".".concat(X.popup," > .").concat(X.radio," input:first-child"));case"range":return C.querySelector(".".concat(X.popup," > .").concat(X.range," input"));default:return C.querySelector(".".concat(X.popup," > .").concat(X.input))}},Ui=C=>{if(C.focus(),"file"!==C.type){const D=C.value;C.value="",C.value=D}},Nr=(C,D,k)=>{!C||!D||("string"==typeof D&&(D=D.split(/\s+/).filter(Boolean)),D.forEach(q=>{Array.isArray(C)?C.forEach(Re=>{k?Re.classList.add(q):Re.classList.remove(q)}):k?C.classList.add(q):C.classList.remove(q)}))},vt=(C,D)=>{Nr(C,D,!0)},sn=(C,D)=>{Nr(C,D,!1)},Yn=(C,D)=>{const k=K(C.childNodes);for(let q=0;q<k.length;q++)if(ut(k[q],D))return k[q]},ei=(C,D,k)=>{k==="".concat(parseInt(k))&&(k=parseInt(k)),k||0===parseInt(k)?C.style[D]="number"==typeof k?"".concat(k,"px"):k:C.style.removeProperty(D)},bt=function(C){C.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},He=C=>{C.style.display="none"},wt=(C,D,k,q)=>{const Re=C.querySelector(D);Re&&(Re.style[k]=q)},dr=function(C,D){D?bt(C,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):He(C)},nn=C=>!(!C||!(C.offsetWidth||C.offsetHeight||C.getClientRects().length)),Hr=C=>C.scrollHeight>C.clientHeight,ir=C=>{const D=window.getComputedStyle(C),k=parseFloat(D.getPropertyValue("animation-duration")||"0"),q=parseFloat(D.getPropertyValue("transition-duration")||"0");return k>0||q>0},Pr=function(C){let D=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const k=Ot();nn(k)&&(D&&(k.style.transition="none",k.style.width="100%"),setTimeout(()=>{k.style.transition="width ".concat(C/1e3,"s linear"),k.style.width="0%"},10))},ue=()=>typeof window>"u"||typeof document>"u",ie={},z=C=>new Promise(D=>{if(!C)return D();const k=window.scrollX,q=window.scrollY;ie.restoreFocusTimeout=setTimeout(()=>{ie.previousActiveElement instanceof HTMLElement?(ie.previousActiveElement.focus(),ie.previousActiveElement=null):document.body&&document.body.focus(),D()},100),window.scrollTo(k,q)}),xe='\n <div aria-labelledby="'.concat(X.title,'" aria-describedby="').concat(X["html-container"],'" class="').concat(X.popup,'" tabindex="-1">\n   <button type="button" class="').concat(X.close,'"></button>\n   <ul class="').concat(X["progress-steps"],'"></ul>\n   <div class="').concat(X.icon,'"></div>\n   <img class="').concat(X.image,'" />\n   <h2 class="').concat(X.title,'" id="').concat(X.title,'"></h2>\n   <div class="').concat(X["html-container"],'" id="').concat(X["html-container"],'"></div>\n   <input class="').concat(X.input,'" />\n   <input type="file" class="').concat(X.file,'" />\n   <div class="').concat(X.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(X.select,'"></select>\n   <div class="').concat(X.radio,'"></div>\n   <label for="').concat(X.checkbox,'" class="').concat(X.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(X.label,'"></span>\n   </label>\n   <textarea class="').concat(X.textarea,'"></textarea>\n   <div class="').concat(X["validation-message"],'" id="').concat(X["validation-message"],'"></div>\n   <div class="').concat(X.actions,'">\n     <div class="').concat(X.loader,'"></div>\n     <button type="button" class="').concat(X.confirm,'"></button>\n     <button type="button" class="').concat(X.deny,'"></button>\n     <button type="button" class="').concat(X.cancel,'"></button>\n   </div>\n   <div class="').concat(X.footer,'"></div>\n   <div class="').concat(X["timer-progress-bar-container"],'">\n     <div class="').concat(X["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),ot=()=>{ie.currentInstance.resetValidationMessage()},or=C=>{const D=(()=>{const C=we();return!!C&&(C.remove(),sn([document.documentElement,document.body],[X["no-backdrop"],X["toast-shown"],X["has-column"]]),!0)})();if(ue())return void H("SweetAlert2 requires document to initialize");const k=document.createElement("div");k.className=X.container,D&&vt(k,X["no-transition"]),En(k,xe);const q=(C=>"string"==typeof C?document.querySelector(C):C)(C.target);q.appendChild(k),(C=>{const D=ae();D.setAttribute("role",C.toast?"alert":"dialog"),D.setAttribute("aria-live",C.toast?"polite":"assertive"),C.toast||D.setAttribute("aria-modal","true")})(C),(C=>{"rtl"===window.getComputedStyle(C).direction&&vt(we(),X.rtl)})(q),(()=>{const C=ae(),D=Yn(C,X.input),k=Yn(C,X.file),q=C.querySelector(".".concat(X.range," input")),Re=C.querySelector(".".concat(X.range," output")),tt=Yn(C,X.select),en=C.querySelector(".".concat(X.checkbox," input")),Gt=Yn(C,X.textarea);D.oninput=ot,k.onchange=ot,tt.onchange=ot,en.onchange=ot,Gt.oninput=ot,q.oninput=()=>{ot(),Re.value=q.value},q.onchange=()=>{ot(),Re.value=q.value}})()},zt=(C,D)=>{C instanceof HTMLElement?D.appendChild(C):"object"==typeof C?Gn(C,D):C&&En(D,C)},Gn=(C,D)=>{C.jquery?hr(D,C):En(D,C.toString())},hr=(C,D)=>{if(C.textContent="",0 in D)for(let k=0;k in D;k++)C.appendChild(D[k].cloneNode(!0));else C.appendChild(D.cloneNode(!0))},Hn=(()=>{if(ue())return!1;const C=document.createElement("div"),D={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const k in D)if(Object.prototype.hasOwnProperty.call(D,k)&&typeof C.style[k]<"u")return D[k];return!1})(),et=(C,D)=>{const k=nr(),q=Jt();D.showConfirmButton||D.showDenyButton||D.showCancelButton?bt(k):He(k),Xt(k,D,"actions"),function Tt(C,D,k){const q=Be(),Re=_t(),tt=Ut();In(q,"confirm",k),In(Re,"deny",k),In(tt,"cancel",k),function rn(C,D,k,q){if(!q.buttonsStyling)return sn([C,D,k],X.styled);vt([C,D,k],X.styled),q.confirmButtonColor&&(C.style.backgroundColor=q.confirmButtonColor,vt(C,X["default-outline"])),q.denyButtonColor&&(D.style.backgroundColor=q.denyButtonColor,vt(D,X["default-outline"])),q.cancelButtonColor&&(k.style.backgroundColor=q.cancelButtonColor,vt(k,X["default-outline"]))}(q,Re,tt,k),k.reverseButtons&&(k.toast?(C.insertBefore(tt,q),C.insertBefore(Re,q)):(C.insertBefore(tt,D),C.insertBefore(Re,D),C.insertBefore(q,D)))}(k,q,D),En(q,D.loaderHtml),Xt(q,D,"loader")};function In(C,D,k){dr(C,k["show".concat(d(D),"Button")],"inline-block"),En(C,k["".concat(D,"ButtonText")]),C.setAttribute("aria-label",k["".concat(D,"ButtonAriaLabel")]),C.className=X[D],Xt(C,k,"".concat(D,"Button")),vt(C,k["".concat(D,"ButtonClass")])}const ss=(C,D)=>{const k=we();!k||(function $n(C,D){"string"==typeof D?C.style.background=D:D||vt([document.documentElement,document.body],X["no-backdrop"])}(k,D.backdrop),function ro(C,D){D in X?vt(C,X[D]):(F('The "position" parameter is not valid, defaulting to "center"'),vt(C,X.center))}(k,D.position),function Dn(C,D){if(D&&"string"==typeof D){const k="grow-".concat(D);k in X&&vt(C,X[k])}}(k,D.grow),Xt(k,D,"container"))};var St={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const gi=["input","file","range","select","radio","checkbox","textarea"],Pa=C=>{if(!vn[C.input])return H('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(C.input,'"'));const D=Di(C.input),k=vn[C.input](D,C);bt(D),setTimeout(()=>{Ui(k)})},as=(C,D)=>{const k=Cn(ae(),C);if(k){(C=>{for(let D=0;D<C.attributes.length;D++){const k=C.attributes[D].name;["type","value","style"].includes(k)||C.removeAttribute(k)}})(k);for(const q in D)k.setAttribute(q,D[q])}},To=C=>{const D=Di(C.input);"object"==typeof C.customClass&&vt(D,C.customClass.input)},Bn=(C,D)=>{(!C.placeholder||D.inputPlaceholder)&&(C.placeholder=D.inputPlaceholder)},Ii=(C,D,k)=>{if(k.inputLabel){C.id=X.input;const q=document.createElement("label"),Re=X["input-label"];q.setAttribute("for",C.id),q.className=Re,"object"==typeof k.customClass&&vt(q,k.customClass.inputLabel),q.innerText=k.inputLabel,D.insertAdjacentElement("beforebegin",q)}},Di=C=>Yn(ae(),X[C]||X.input),pr=(C,D)=>{["string","number"].includes(typeof D)?C.value="".concat(D):V(D)||F('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof D,'"'))},vn={};vn.text=vn.email=vn.password=vn.number=vn.tel=vn.url=(C,D)=>(pr(C,D.inputValue),Ii(C,C,D),Bn(C,D),C.type=D.input,C),vn.file=(C,D)=>(Ii(C,C,D),Bn(C,D),C),vn.range=(C,D)=>{const k=C.querySelector("input"),q=C.querySelector("output");return pr(k,D.inputValue),k.type=D.input,pr(q,D.inputValue),Ii(k,C,D),C},vn.select=(C,D)=>{if(C.textContent="",D.inputPlaceholder){const k=document.createElement("option");En(k,D.inputPlaceholder),k.value="",k.disabled=!0,k.selected=!0,C.appendChild(k)}return Ii(C,C,D),C},vn.radio=C=>(C.textContent="",C),vn.checkbox=(C,D)=>{const k=Cn(ae(),"checkbox");k.value="1",k.id=X.checkbox,k.checked=Boolean(D.inputValue);const q=C.querySelector("span");return En(q,D.inputPlaceholder),k},vn.textarea=(C,D)=>{pr(C,D.inputValue),Bn(C,D),Ii(C,C,D);return setTimeout(()=>{if("MutationObserver"in window){const q=parseInt(window.getComputedStyle(ae()).width);new MutationObserver(()=>{const tt=C.offsetWidth+(q=>parseInt(window.getComputedStyle(q).marginLeft)+parseInt(window.getComputedStyle(q).marginRight))(C);ae().style.width=tt>q?"".concat(tt,"px"):null}).observe(C,{attributes:!0,attributeFilter:["style"]})}}),C};const br=(C,D)=>{const k=se();Xt(k,D,"htmlContainer"),D.html?(zt(D.html,k),bt(k,"block")):D.text?(k.textContent=D.text,bt(k,"block")):He(k),((C,D)=>{const k=ae(),q=St.innerParams.get(C),Re=!q||D.input!==q.input;gi.forEach(tt=>{const en=Yn(k,X[tt]);as(tt,D.inputAttributes),en.className=X[tt],Re&&He(en)}),D.input&&(Re&&Pa(D),To(D))})(C,D)},ls=(C,D)=>{for(const k in Q)D.icon!==k&&sn(C,Q[k]);vt(C,Q[D.icon]),Un(C,D),us(),Xt(C,D,"icon")},us=()=>{const C=ae(),D=window.getComputedStyle(C).getPropertyValue("background-color"),k=C.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let q=0;q<k.length;q++)k[q].style.backgroundColor=D},Or=(C,D)=>{let q,k=C.innerHTML;D.iconHtml?q=ru(D.iconHtml):"success"===D.icon?(q='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',k=k.replace(/ style=".*?"/g,"")):q="error"===D.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':ru({question:"?",warning:"!",info:"i"}[D.icon]),k.trim()!==q.trim()&&En(C,q)},Un=(C,D)=>{if(D.iconColor){C.style.color=D.iconColor,C.style.borderColor=D.iconColor;for(const k of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])wt(C,k,"backgroundColor",D.iconColor);wt(C,".swal2-success-ring","borderColor",D.iconColor)}},ru=C=>'<div class="'.concat(X["icon-content"],'">').concat(C,"</div>"),js=C=>{const D=document.createElement("li");return vt(D,X["progress-step"]),En(D,C),D},Gs=C=>{const D=document.createElement("li");return vt(D,X["progress-step-line"]),C.progressStepsDistance&&ei(D,"width",C.progressStepsDistance),D},cs=(C,D)=>{C.className="".concat(X.popup," ").concat(nn(C)?D.showClass.popup:""),D.toast?(vt([document.documentElement,document.body],X["toast-shown"]),vt(C,X.toast)):vt(C,X.modal),Xt(C,D,"popup"),"string"==typeof D.customClass&&vt(C,D.customClass),D.icon&&vt(C,X["icon-".concat(D.icon)])},Zh=(C,D)=>{((C,D)=>{const k=we(),q=ae();D.toast?(ei(k,"width",D.width),q.style.width="100%",q.insertBefore(Jt(),Ee())):ei(q,"width",D.width),ei(q,"padding",D.padding),D.color&&(q.style.color=D.color),D.background&&(q.style.background=D.background),He(gt()),cs(q,D)})(0,D),ss(0,D),((C,D)=>{const k=it();if(!D.progressSteps||0===D.progressSteps.length)return He(k);bt(k),k.textContent="",D.currentProgressStep>=D.progressSteps.length&&F("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),D.progressSteps.forEach((q,Re)=>{const tt=js(q);if(k.appendChild(tt),Re===D.currentProgressStep&&vt(tt,X["active-progress-step"]),Re!==D.progressSteps.length-1){const en=Gs(D);k.appendChild(en)}})})(0,D),((C,D)=>{const k=St.innerParams.get(C),q=Ee();k&&D.icon===k.icon?(Or(q,D),ls(q,D)):D.icon||D.iconHtml?D.icon&&-1===Object.keys(Q).indexOf(D.icon)?(H('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(D.icon,'"')),He(q)):(bt(q),Or(q,D),ls(q,D),vt(q,D.showClass.icon)):He(q)})(C,D),((C,D)=>{const k=Ge();if(!D.imageUrl)return He(k);bt(k,""),k.setAttribute("src",D.imageUrl),k.setAttribute("alt",D.imageAlt),ei(k,"width",D.imageWidth),ei(k,"height",D.imageHeight),k.className=X.image,Xt(k,D,"image")})(0,D),((C,D)=>{const k=ve();dr(k,D.title||D.titleText,"block"),D.title&&zt(D.title,k),D.titleText&&(k.innerText=D.titleText),Xt(k,D,"title")})(0,D),((C,D)=>{const k=Qr();En(k,D.closeButtonHtml),Xt(k,D,"closeButton"),dr(k,D.showCloseButton),k.setAttribute("aria-label",D.closeButtonAriaLabel)})(0,D),br(C,D),et(0,D),((C,D)=>{const k=Yt();dr(k,D.footer),D.footer&&zt(D.footer,k),Xt(k,D,"footer")})(0,D),"function"==typeof D.didRender&&D.didRender(ae())},ji=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),wl=()=>{K(document.body.children).forEach(D=>{D.hasAttribute("data-previous-aria-hidden")?(D.setAttribute("aria-hidden",D.getAttribute("data-previous-aria-hidden")),D.removeAttribute("data-previous-aria-hidden")):D.removeAttribute("aria-hidden")})},Hs=["swal-title","swal-html","swal-footer"],ti=C=>{const D={};return K(C.querySelectorAll("swal-param")).forEach(k=>{ds(k,["name","value"]);const q=k.getAttribute("name"),Re=k.getAttribute("value");"boolean"==typeof j[q]&&"false"===Re&&(D[q]=!1),"object"==typeof j[q]&&(D[q]=JSON.parse(Re))}),D},td=C=>{const D={};return K(C.querySelectorAll("swal-button")).forEach(k=>{ds(k,["type","color","aria-label"]);const q=k.getAttribute("type");D["".concat(q,"ButtonText")]=k.innerHTML,D["show".concat(d(q),"Button")]=!0,k.hasAttribute("color")&&(D["".concat(q,"ButtonColor")]=k.getAttribute("color")),k.hasAttribute("aria-label")&&(D["".concat(q,"ButtonAriaLabel")]=k.getAttribute("aria-label"))}),D},Gi=C=>{const D={},k=C.querySelector("swal-image");return k&&(ds(k,["src","width","height","alt"]),k.hasAttribute("src")&&(D.imageUrl=k.getAttribute("src")),k.hasAttribute("width")&&(D.imageWidth=k.getAttribute("width")),k.hasAttribute("height")&&(D.imageHeight=k.getAttribute("height")),k.hasAttribute("alt")&&(D.imageAlt=k.getAttribute("alt"))),D},nd=C=>{const D={},k=C.querySelector("swal-icon");return k&&(ds(k,["type","color"]),k.hasAttribute("type")&&(D.icon=k.getAttribute("type")),k.hasAttribute("color")&&(D.iconColor=k.getAttribute("color")),D.iconHtml=k.innerHTML),D},iu=C=>{const D={},k=C.querySelector("swal-input");k&&(ds(k,["type","label","placeholder","value"]),D.input=k.getAttribute("type")||"text",k.hasAttribute("label")&&(D.inputLabel=k.getAttribute("label")),k.hasAttribute("placeholder")&&(D.inputPlaceholder=k.getAttribute("placeholder")),k.hasAttribute("value")&&(D.inputValue=k.getAttribute("value")));const q=C.querySelectorAll("swal-input-option");return q.length&&(D.inputOptions={},K(q).forEach(Re=>{ds(Re,["value"]);const tt=Re.getAttribute("value");D.inputOptions[tt]=Re.innerHTML})),D},Oa=(C,D)=>{const k={};for(const q in D){const Re=D[q],tt=C.querySelector(Re);tt&&(ds(tt,[]),k[Re.replace(/^swal-/,"")]=tt.innerHTML.trim())}return k},oo=C=>{const D=Hs.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);K(C.children).forEach(k=>{const q=k.tagName.toLowerCase();-1===D.indexOf(q)&&F("Unrecognized element <".concat(q,">"))})},ds=(C,D)=>{K(C.attributes).forEach(k=>{-1===D.indexOf(k.name)&&F(['Unrecognized attribute "'.concat(k.name,'" on <').concat(C.tagName.toLowerCase(),">."),"".concat(D.length?"Allowed attributes are: ".concat(D.join(", ")):"To set the value, use HTML within the element.")])})};var El={email:(C,D)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(C)?Promise.resolve():Promise.resolve(D||"Invalid email address"),url:(C,D)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(C)?Promise.resolve():Promise.resolve(D||"Invalid URL")};function Fa(C){(function rd(C){C.inputValidator||Object.keys(El).forEach(D=>{C.input===D&&(C.inputValidator=El[D])})})(C),C.showLoaderOnConfirm&&!C.preConfirm&&F("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function id(C){(!C.target||"string"==typeof C.target&&!document.querySelector(C.target)||"string"!=typeof C.target&&!C.target.appendChild)&&(F('Target parameter is not valid, defaulting to "body"'),C.target="body")}(C),"string"==typeof C.title&&(C.title=C.title.split("\n").join("<br />")),or(C)}class Hi{constructor(D,k){this.callback=D,this.remaining=k,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(D){const k=this.running;return k&&this.stop(),this.remaining+=D,k&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Yh=()=>{null===rr.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(rr.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(rr.previousBodyPadding+(()=>{const C=document.createElement("div");C.className=X["scrollbar-measure"],document.body.appendChild(C);const D=C.getBoundingClientRect().width-C.clientWidth;return document.body.removeChild(C),D})(),"px"))},so=()=>{const C=navigator.userAgent,D=!!C.match(/iPad/i)||!!C.match(/iPhone/i),k=!!C.match(/WebKit/i);D&&k&&!C.match(/CriOS/i)&&ae().scrollHeight>window.innerHeight-44&&(we().style.paddingBottom="".concat(44,"px"))},Cl=()=>{const C=we();let D;C.ontouchstart=k=>{D=ni(k)},C.ontouchmove=k=>{D&&(k.preventDefault(),k.stopPropagation())}},ni=C=>{const D=C.target,k=we();return!(ao(C)||hs(C)||D!==k&&(Hr(k)||"INPUT"===D.tagName||"TEXTAREA"===D.tagName||Hr(se())&&se().contains(D)))},ao=C=>C.touches&&C.touches.length&&"stylus"===C.touches[0].touchType,hs=C=>C.touches&&C.touches.length>1,$s=C=>{const D=we(),k=ae();"function"==typeof C.willOpen&&C.willOpen(k);const Re=window.getComputedStyle(document.body).overflowY;An(D,k,C),setTimeout(()=>{fs(D,k)},10),vr()&&(Mo(D,C.scrollbarPadding,Re),K(document.body.children).forEach(D=>{D===we()||D.contains(we())||(D.hasAttribute("aria-hidden")&&D.setAttribute("data-previous-aria-hidden",D.getAttribute("aria-hidden")),D.setAttribute("aria-hidden","true"))})),!Gr()&&!ie.previousActiveElement&&(ie.previousActiveElement=document.activeElement),"function"==typeof C.didOpen&&setTimeout(()=>C.didOpen(k)),sn(D,X["no-transition"])},su=C=>{const D=ae();if(C.target!==D)return;const k=we();D.removeEventListener(Hn,su),k.style.overflowY="auto"},fs=(C,D)=>{Hn&&ir(D)?(C.style.overflowY="hidden",D.addEventListener(Hn,su)):C.style.overflowY="auto"},Mo=(C,D,k)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!ut(document.body,X.iosfix)){const D=document.body.scrollTop;document.body.style.top="".concat(-1*D,"px"),vt(document.body,X.iosfix),Cl(),so()}})(),D&&"hidden"!==k&&Yh(),setTimeout(()=>{C.scrollTop=0})},An=(C,D,k)=>{vt(C,k.showClass.backdrop),D.style.setProperty("opacity","0","important"),bt(D,"grid"),setTimeout(()=>{vt(D,k.showClass.popup),D.style.removeProperty("opacity")},10),vt([document.documentElement,document.body],X.shown),k.heightAuto&&k.backdrop&&!k.toast&&vt([document.documentElement,document.body],X["height-auto"])},$i=C=>{let D=ae();D||new Wr,D=ae();const k=Jt();Gr()?He(Ee()):Va(D,C),bt(k),D.setAttribute("data-loading","true"),D.setAttribute("aria-busy","true"),D.focus()},Va=(C,D)=>{const k=nr(),q=Jt();!D&&nn(Be())&&(D=Be()),bt(k),D&&(He(D),q.setAttribute("data-button-to-replace",D.className)),q.parentNode.insertBefore(q,D),vt([C,k],X.loading)},Dl=C=>C.checked?1:0,Ba=C=>C.checked?C.value:null,au=C=>C.files.length?null!==C.getAttribute("multiple")?C.files:C.files[0]:null,qs=(C,D)=>{const k=ae(),q=Re=>cn[D.input](k,ko(Re),D);oe(D.inputOptions)||V(D.inputOptions)?($i(Be()),$(D.inputOptions).then(Re=>{C.hideLoading(),q(Re)})):"object"==typeof D.inputOptions?q(D.inputOptions):H("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof D.inputOptions))},od=(C,D)=>{const k=C.getInput();He(k),$(D.inputValue).then(q=>{k.value="number"===D.input?parseFloat(q)||0:"".concat(q),bt(k),k.focus(),C.hideLoading()}).catch(q=>{H("Error in inputValue promise: ".concat(q)),k.value="",bt(k),k.focus(),C.hideLoading()})},cn={select:(C,D,k)=>{const q=Yn(C,X.select),Re=(tt,en,Gt)=>{const fr=document.createElement("option");fr.value=Gt,En(fr,en),fr.selected=gs(Gt,k.inputValue),tt.appendChild(fr)};D.forEach(tt=>{const en=tt[0],Gt=tt[1];if(Array.isArray(Gt)){const fr=document.createElement("optgroup");fr.label=en,fr.disabled=!1,q.appendChild(fr),Gt.forEach(Lr=>Re(fr,Lr[1],Lr[0]))}else Re(q,Gt,en)}),q.focus()},radio:(C,D,k)=>{const q=Yn(C,X.radio);D.forEach(tt=>{const en=tt[0],Gt=tt[1],fr=document.createElement("input"),Lr=document.createElement("label");fr.type="radio",fr.name=X.radio,fr.value=en,gs(en,k.inputValue)&&(fr.checked=!0);const Bo=document.createElement("span");En(Bo,Gt),Bo.className=X.label,Lr.appendChild(fr),Lr.appendChild(Bo),q.appendChild(Lr)});const Re=q.querySelectorAll("input");Re.length&&Re[0].focus()}},ko=C=>{const D=[];return typeof Map<"u"&&C instanceof Map?C.forEach((k,q)=>{let Re=k;"object"==typeof Re&&(Re=ko(Re)),D.push([q,Re])}):Object.keys(C).forEach(k=>{let q=C[k];"object"==typeof q&&(q=ko(q)),D.push([k,q])}),D},gs=(C,D)=>D&&D.toString()===C.toString();function Ws(){const C=St.innerParams.get(this);if(!C)return;const D=St.domCache.get(this);He(D.loader),Gr()?C.icon&&bt(Ee()):Ks(D),sn([D.popup,D.actions],X.loading),D.popup.removeAttribute("aria-busy"),D.popup.removeAttribute("data-loading"),D.confirmButton.disabled=!1,D.denyButton.disabled=!1,D.cancelButton.disabled=!1}const Ks=C=>{const D=C.popup.getElementsByClassName(C.loader.getAttribute("data-button-to-replace"));D.length?bt(D[0],"inline-block"):!nn(Be())&&!nn(_t())&&!nn(Ut())&&He(C.actions)};var mi={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const zi=()=>Be()&&Be().click(),Tn=C=>{C.keydownTarget&&C.keydownHandlerAdded&&(C.keydownTarget.removeEventListener("keydown",C.keydownHandler,{capture:C.keydownListenerCapture}),C.keydownHandlerAdded=!1)},ar=(C,D,k)=>{const q=cr();if(q.length)return(D+=k)===q.length?D=0:-1===D&&(D=q.length-1),q[D].focus();ae().focus()},Ys=["ArrowRight","ArrowDown"],ms=["ArrowLeft","ArrowUp"],No=(C,D,k)=>{const q=St.innerParams.get(C);!q||D.isComposing||229===D.keyCode||(q.stopKeydownPropagation&&D.stopPropagation(),"Enter"===D.key?zr(C,D,q):"Tab"===D.key?Po(D,q):[...Ys,...ms].includes(D.key)?ys(D.key):"Escape"===D.key&&mt(D,q,k))},zr=(C,D,k)=>{if(Y(k.allowEnterKey)&&D.target&&C.getInput()&&D.target instanceof HTMLElement&&D.target.outerHTML===C.getInput().outerHTML){if(["textarea","file"].includes(k.input))return;zi(),D.preventDefault()}},Po=(C,D)=>{const k=C.target,q=cr();let Re=-1;for(let tt=0;tt<q.length;tt++)if(k===q[tt]){Re=tt;break}ar(0,Re,C.shiftKey?-1:1),C.stopPropagation(),C.preventDefault()},ys=C=>{const D=Be(),k=_t(),q=Ut();if(document.activeElement instanceof HTMLElement&&![D,k,q].includes(document.activeElement))return;const Re=Ys.includes(C)?"nextElementSibling":"previousElementSibling";let tt=document.activeElement;for(let en=0;en<nr().children.length;en++){if(tt=tt[Re],!tt)return;if(tt instanceof HTMLButtonElement&&nn(tt))break}tt instanceof HTMLButtonElement&&tt.focus()},mt=(C,D,k)=>{Y(D.allowEscapeKey)&&(C.preventDefault(),k(ji.esc))};function uo(C,D,k,q){Gr()?_s(C,q):(z(k).then(()=>_s(C,q)),Tn(ie)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(D.setAttribute("style","display:none !important"),D.removeAttribute("class"),D.innerHTML=""):D.remove(),vr()&&(null!==rr.previousBodyPadding&&(document.body.style.paddingRight="".concat(rr.previousBodyPadding,"px"),rr.previousBodyPadding=null),(()=>{if(ut(document.body,X.iosfix)){const C=parseInt(document.body.style.top,10);sn(document.body,X.iosfix),document.body.style.top="",document.body.scrollTop=-1*C}})(),wl()),function Ua(){sn([document.documentElement,document.body],[X.shown,X["height-auto"],X["no-backdrop"],X["toast-shown"]])}()}function qi(C){C=Tl(C);const D=mi.swalPromiseResolve.get(this),k=Qs(this);this.isAwaitingPromise()?C.isDismissed||(Ro(this),D(C)):k&&D(C)}const Qs=C=>{const D=ae();if(!D)return!1;const k=St.innerParams.get(C);if(!k||ut(D,k.hideClass.popup))return!1;sn(D,k.showClass.popup),vt(D,k.hideClass.popup);const q=we();return sn(q,k.showClass.backdrop),vt(q,k.hideClass.backdrop),Fe(C,D,k),!0};const Ro=C=>{C.isAwaitingPromise()&&(St.awaitingPromise.delete(C),St.innerParams.get(C)||C._destroy())},Tl=C=>typeof C>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},C),Fe=(C,D,k)=>{const q=we(),Re=Hn&&ir(D);"function"==typeof k.willClose&&k.willClose(D),Re?Nt(C,D,q,k.returnFocus,k.didClose):uo(C,q,k.returnFocus,k.didClose)},Nt=(C,D,k,q,Re)=>{ie.swalCloseEventFinishedCallback=uo.bind(null,C,k,q,Re),D.addEventListener(Hn,function(tt){tt.target===D&&(ie.swalCloseEventFinishedCallback(),delete ie.swalCloseEventFinishedCallback)})},_s=(C,D)=>{setTimeout(()=>{"function"==typeof D&&D.bind(C.params)(),C._destroy()})};function Ha(C,D,k){const q=St.domCache.get(C);D.forEach(Re=>{q[Re].disabled=k})}function Sn(C,D){if(!C)return!1;if("radio"===C.type){const q=C.parentNode.parentNode.querySelectorAll("input");for(let Re=0;Re<q.length;Re++)q[Re].disabled=D}else C.disabled=D}const za=C=>{const D={};return Object.keys(C).forEach(k=>{_e(k)?D[k]=C[k]:F("Invalid parameter to update: ".concat(k))}),D};const ii=C=>{ta(C),delete C.params,delete ie.keydownHandler,delete ie.keydownTarget,delete ie.currentInstance},ta=C=>{C.isAwaitingPromise()?(Ti(St,C),St.awaitingPromise.set(C,!0)):(Ti(mi,C),Ti(St,C))},Ti=(C,D)=>{for(const k in C)C[k].delete(D)};var oi=Object.freeze({hideLoading:Ws,disableLoading:Ws,getInput:function bn(C){const D=St.innerParams.get(C||this),k=St.domCache.get(C||this);return k?Cn(k.popup,D.input):null},close:qi,isAwaitingPromise:function ja(){return!!St.awaitingPromise.get(this)},rejectPromise:function Ga(C){const D=mi.swalPromiseReject.get(this);Ro(this),D&&D(C)},handleAwaitingPromise:Ro,closePopup:qi,closeModal:qi,closeToast:qi,enableButtons:function Js(){Ha(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function Oo(){Ha(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function yi(){return Sn(this.getInput(),!1)},disableInput:function $a(){return Sn(this.getInput(),!0)},showValidationMessage:function Xs(C){const D=St.domCache.get(this),k=St.innerParams.get(this);En(D.validationMessage,C),D.validationMessage.className=X["validation-message"],k.customClass&&k.customClass.validationMessage&&vt(D.validationMessage,k.customClass.validationMessage),bt(D.validationMessage);const q=this.getInput();q&&(q.setAttribute("aria-invalid",!0),q.setAttribute("aria-describedby",X["validation-message"]),Ui(q),vt(q,X.inputerror))},resetValidationMessage:function Ju(){const C=St.domCache.get(this);C.validationMessage&&He(C.validationMessage);const D=this.getInput();D&&(D.removeAttribute("aria-invalid"),D.removeAttribute("aria-describedby"),sn(D,X.inputerror))},getProgressSteps:function Xu(){return St.domCache.get(this).progressSteps},update:function ea(C){const D=ae(),k=St.innerParams.get(this);if(!D||ut(D,k.hideClass.popup))return F("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const q=za(C),Re=Object.assign({},k,q);Zh(this,Re),St.innerParams.set(this,Re),Object.defineProperties(this,{params:{value:Object.assign({},this.params,C),writable:!1,enumerable:!0}})},_destroy:function lr(){const C=St.domCache.get(this),D=St.innerParams.get(this);D?(C.popup&&ie.swalCloseEventFinishedCallback&&(ie.swalCloseEventFinishedCallback(),delete ie.swalCloseEventFinishedCallback),"function"==typeof D.didDestroy&&D.didDestroy(),ii(this)):ta(this)}});const Wa=(C,D)=>{const k=St.innerParams.get(C);if(!k.input)return H('The "input" parameter is needed to be set when using returnInputValueOn'.concat(d(D)));const q=((C,D)=>{const k=C.getInput();if(!k)return null;switch(D.input){case"checkbox":return Dl(k);case"radio":return Ba(k);case"file":return au(k);default:return D.inputAutoTrim?k.value.trim():k.value}})(C,k);k.inputValidator?ra(C,q,D):C.getInput().checkValidity()?"deny"===D?Fo(C,q):bs(C,q):(C.enableButtons(),C.showValidationMessage(k.validationMessage))},ra=(C,D,k)=>{const q=St.innerParams.get(C);C.disableInput(),Promise.resolve().then(()=>$(q.inputValidator(D,q.validationMessage))).then(tt=>{C.enableButtons(),C.enableInput(),tt?C.showValidationMessage(tt):"deny"===k?Fo(C,D):bs(C,D)})},Fo=(C,D)=>{const k=St.innerParams.get(C||void 0);k.showLoaderOnDeny&&$i(_t()),k.preDeny?(St.awaitingPromise.set(C||void 0,!0),Promise.resolve().then(()=>$(k.preDeny(D,k.validationMessage))).then(Re=>{!1===Re?(C.hideLoading(),Ro(C)):C.closePopup({isDenied:!0,value:typeof Re>"u"?D:Re})}).catch(Re=>vs(C||void 0,Re))):C.closePopup({isDenied:!0,value:D})},Ka=(C,D)=>{C.closePopup({isConfirmed:!0,value:D})},vs=(C,D)=>{C.rejectPromise(D)},bs=(C,D)=>{const k=St.innerParams.get(C||void 0);k.showLoaderOnConfirm&&$i(),k.preConfirm?(C.resetValidationMessage(),St.awaitingPromise.set(C||void 0,!0),Promise.resolve().then(()=>$(k.preConfirm(D,k.validationMessage))).then(Re=>{nn(gt())||!1===Re?(C.hideLoading(),Ro(C)):Ka(C,typeof Re>"u"?D:Re)}).catch(Re=>vs(C||void 0,Re))):Ka(C,D)},ia=(C,D,k)=>{D.popup.onclick=()=>{const q=St.innerParams.get(C);q&&(Lo(q)||q.timer||q.input)||k(ji.close)}},Lo=C=>C.showConfirmButton||C.showDenyButton||C.showCancelButton||C.showCloseButton;let oa=!1;const Sl=C=>{C.popup.onmousedown=()=>{C.container.onmouseup=function(D){C.container.onmouseup=void 0,D.target===C.container&&(oa=!0)}}},xl=C=>{C.container.onmousedown=()=>{C.popup.onmouseup=function(D){C.popup.onmouseup=void 0,(D.target===C.popup||C.popup.contains(D.target))&&(oa=!0)}}},Ml=(C,D,k)=>{D.container.onclick=q=>{const Re=St.innerParams.get(C);oa?oa=!1:q.target===D.container&&Y(Re.allowOutsideClick)&&k(ji.backdrop)}},uu=C=>C instanceof Element||(C=>"object"==typeof C&&C.jquery)(C);const Vo=()=>{if(ie.timeout)return(()=>{const C=Ot(),D=parseInt(window.getComputedStyle(C).width);C.style.removeProperty("transition"),C.style.width="100%";const q=D/parseInt(window.getComputedStyle(C).width)*100;C.style.removeProperty("transition"),C.style.width="".concat(q,"%")})(),ie.timeout.stop()},Za=()=>{if(ie.timeout){const C=ie.timeout.start();return Pr(C),C}};let Si=!1;const co={};const Qa=C=>{for(let D=C.target;D&&D!==document;D=D.parentNode)for(const k in co){const q=D.getAttribute(k);if(q)return void co[k].fire({template:q})}};var ec=Object.freeze({isValidParameter:Ue,isUpdatableParameter:_e,isDeprecatedParameter:be,argsToParams:C=>{const D={};return"object"!=typeof C[0]||uu(C[0])?["title","html","icon"].forEach((k,q)=>{const Re=C[q];"string"==typeof Re||uu(Re)?D[k]=Re:void 0!==Re&&H("Unexpected type of ".concat(k,'! Expected "string" or "Element", got ').concat(typeof Re))}):Object.assign(D,C[0]),D},isVisible:()=>nn(ae()),clickConfirm:zi,clickDeny:()=>_t()&&_t().click(),clickCancel:()=>Ut()&&Ut().click(),getContainer:we,getPopup:ae,getTitle:ve,getHtmlContainer:se,getImage:Ge,getIcon:Ee,getInputLabel:()=>de(X["input-label"]),getCloseButton:Qr,getActions:nr,getConfirmButton:Be,getDenyButton:_t,getCancelButton:Ut,getLoader:Jt,getFooter:Yt,getTimerProgressBar:Ot,getFocusableElements:cr,getValidationMessage:gt,isLoading:()=>ae().hasAttribute("data-loading"),fire:function sa(){const C=this;for(var D=arguments.length,k=new Array(D),q=0;q<D;q++)k[q]=arguments[q];return new C(...k)},mixin:function Pn(C){return class D extends(this){_main(q,Re){return super._main(q,Object.assign({},C,Re))}}},showLoading:$i,enableLoading:$i,getTimerLeft:()=>ie.timeout&&ie.timeout.getTimerLeft(),stopTimer:Vo,resumeTimer:Za,toggleTimer:()=>{const C=ie.timeout;return C&&(C.running?Vo():Za())},increaseTimer:C=>{if(ie.timeout){const D=ie.timeout.increase(C);return Pr(D,!0),D}},isTimerRunning:()=>ie.timeout&&ie.timeout.isRunning(),bindClickHandler:function Qn(){co[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Si||(document.body.addEventListener("click",Qa),Si=!0)}});let xi;class Fr{constructor(){if(typeof window>"u")return;xi=this;for(var D=arguments.length,k=new Array(D),q=0;q<D;q++)k[q]=arguments[q];const Re=Object.freeze(this.constructor.argsToParams(k));Object.defineProperties(this,{params:{value:Re,writable:!1,enumerable:!0,configurable:!0}});const tt=xi._main(xi.params);St.promise.set(this,tt)}_main(D){let k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(C=>{!C.backdrop&&C.allowOutsideClick&&F('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const D in C)qe(D),C.toast&&Je(D),Pe(D)})(Object.assign({},k,D)),ie.currentInstance&&(ie.currentInstance._destroy(),vr()&&wl()),ie.currentInstance=xi;const q=ld(D,k);Fa(q),Object.freeze(q),ie.timeout&&(ie.timeout.stop(),delete ie.timeout),clearTimeout(ie.restoreFocusTimeout);const Re=Es(xi);return Zh(xi,q),St.innerParams.set(xi,q),ho(xi,Re,q)}then(D){return St.promise.get(this).then(D)}finally(D){return St.promise.get(this).finally(D)}}const ho=(C,D,k)=>new Promise((q,Re)=>{const tt=en=>{C.closePopup({isDismissed:!0,dismiss:en})};mi.swalPromiseResolve.set(C,q),mi.swalPromiseReject.set(C,Re),D.confirmButton.onclick=()=>(C=>{const D=St.innerParams.get(C);C.disableButtons(),D.input?Wa(C,"confirm"):bs(C,!0)})(C),D.denyButton.onclick=()=>(C=>{const D=St.innerParams.get(C);C.disableButtons(),D.returnInputValueOnDeny?Wa(C,"deny"):Fo(C,!1)})(C),D.cancelButton.onclick=()=>((C,D)=>{C.disableButtons(),D(ji.cancel)})(C,tt),D.closeButton.onclick=()=>tt(ji.close),((C,D,k)=>{St.innerParams.get(C).toast?ia(C,D,k):(Sl(D),xl(D),Ml(C,D,k))})(C,D,tt),((C,D,k,q)=>{Tn(D),k.toast||(D.keydownHandler=Re=>No(C,Re,q),D.keydownTarget=k.keydownListenerCapture?window:ae(),D.keydownListenerCapture=k.keydownListenerCapture,D.keydownTarget.addEventListener("keydown",D.keydownHandler,{capture:D.keydownListenerCapture}),D.keydownHandlerAdded=!0)})(C,ie,k,tt),((C,D)=>{"select"===D.input||"radio"===D.input?qs(C,D):["text","email","number","tel","textarea"].includes(D.input)&&(oe(D.inputValue)||V(D.inputValue))&&($i(Be()),od(C,D))})(C,k),$s(k),aa(ie,k,tt),du(D,k),setTimeout(()=>{D.container.scrollTop=0})}),ld=(C,D)=>{const k=(C=>{const D="string"==typeof C.template?document.querySelector(C.template):C.template;if(!D)return{};const k=D.content;return oo(k),Object.assign(ti(k),td(k),Gi(k),nd(k),iu(k),Oa(k,Hs))})(C),q=Object.assign({},j,D,k,C);return q.showClass=Object.assign({},j.showClass,q.showClass),q.hideClass=Object.assign({},j.hideClass,q.hideClass),q},Es=C=>{const D={popup:ae(),container:we(),actions:nr(),confirmButton:Be(),denyButton:_t(),cancelButton:Ut(),loader:Jt(),closeButton:Qr(),validationMessage:gt(),progressSteps:it()};return St.domCache.set(C,D),D},aa=(C,D,k)=>{const q=Ot();He(q),D.timer&&(C.timeout=new Hi(()=>{k("timer"),delete C.timeout},D.timer),D.timerProgressBar&&(bt(q),Xt(q,D,"timerProgressBar"),setTimeout(()=>{C.timeout&&C.timeout.running&&Pr(D.timer)})))},du=(C,D)=>{if(!D.toast){if(!Y(D.allowEnterKey))return cd();ud(C,D)||ar(0,-1,1)}},ud=(C,D)=>D.focusDeny&&nn(C.denyButton)?(C.denyButton.focus(),!0):D.focusCancel&&nn(C.cancelButton)?(C.cancelButton.focus(),!0):!(!D.focusConfirm||!nn(C.confirmButton)||(C.confirmButton.focus(),0)),cd=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)&&Math.random()<.1){const C=document.createElement("div");C.className="leave-russia-now-and-apply-your-skills-to-the-world",En(C,'\n      <div>\n        \u0415\u0441\u043b\u0438 \u043c\u044b \u043d\u0435 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043c \u0432\u043e\u0439\u043d\u0443, \u043e\u043d\u0430 \u043f\u0440\u0438\u0434\u0435\u0442 \u0432 \u0434\u043e\u043c <strong>\u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0438\u0437 \u043d\u0430\u0441</strong> \u0438 \u0435\u0451 \u043f\u043e\u0441\u043b\u0435\u0434\u0441\u0442\u0432\u0438\u044f \u0431\u0443\u0434\u0443\u0442 <strong>\u0443\u0436\u0430\u0441\u0430\u044e\u0449\u0438\u043c\u0438</strong>.\n      </div>\n      <div>\n        \u041f\u0443\u0442\u0438\u043d\u0441\u043a\u0438\u0439 \u0440\u0435\u0436\u0438\u043c \u0437\u0430 20 \u0441 \u043b\u0438\u0448\u043d\u0438\u043c \u043b\u0435\u0442 \u0441\u0432\u043e\u0435\u0433\u043e \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043e\u0432\u0430\u043d\u0438\u044f \u0432\u0434\u043e\u043b\u0431\u0438\u043b \u043d\u0430\u043c, \u0447\u0442\u043e \u043c\u044b \u0431\u0435\u0441\u0441\u0438\u043b\u044c\u043d\u044b \u0438 \u043e\u0434\u0438\u043d \u0447\u0435\u043b\u043e\u0432\u0435\u043a \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043d\u0438\u0447\u0435\u0433\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c. <strong>\u042d\u0442\u043e \u043d\u0435 \u0442\u0430\u043a!</strong>\n      </div>\n      <div>\n        \u0412 \u043d\u0438\u0436\u0435\u043f\u0440\u0438\u0432\u0435\u0434\u0451\u043d\u043d\u043e\u043c \u0432\u0438\u0434\u0435\u043e \u043e\u0431\u044a\u044f\u0441\u043d\u044f\u0435\u0442\u0441\u044f \u043a\u0430\u043a \u043a\u0430\u0436\u0434\u044b\u0439 \u0438\u0437 \u043d\u0430\u0441 \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u043c\u043e\u0447\u044c \u0432 \u0442\u043e\u043c, <strong>\u0447\u0442\u043e\u0431\u044b \u044d\u0442\u0430 \u0431\u0435\u0441\u0441\u043c\u044b\u0441\u043b\u0435\u043d\u043d\u0430\u044f \u0438 \u0431\u0435\u0441\u0447\u0435\u043b\u043e\u0432\u0435\u0447\u043d\u0430\u044f \u0432\u043e\u0439\u043d\u0430 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043b\u0430\u0441\u044c</strong>:\n      </div>\n      <iframe width="560" height="315" src="https://www.youtube.com/embed/4CfDhaRkw7I" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n      <div>\n        \u041d\u0435\u0442 \u0432\u043e\u0439\u043d\u0435!\n      </div>\n      ');const D=document.createElement("button");D.innerHTML="&times;",D.onclick=()=>C.remove(),C.appendChild(D),window.addEventListener("load",()=>{setTimeout(()=>{document.body.appendChild(C)},1e3)})}Object.assign(Fr.prototype,oi),Object.assign(Fr,ec),Object.keys(oi).forEach(C=>{Fr[C]=function(){if(xi)return xi[C](...arguments)}}),Fr.DismissReason=ji,Fr.version="11.4.20";const Wr=Fr;return Wr.default=Wr,Wr}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(Ie,P){var d=Ie.createElement("style");if(Ie.getElementsByTagName("head")[0].appendChild(d),d.styleSheet)d.styleSheet.disabled||(d.styleSheet.cssText=P);else try{d.innerHTML=P}catch{d.innerText=P}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px hsla(0deg,0%,0%,.075),0 1px 2px hsla(0deg,0%,0%,.075),1px 2px 4px hsla(0deg,0%,0%,.075),1px 3px 8px hsla(0deg,0%,0%,.075),2px 4px 16px hsla(0deg,0%,0%,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:0 0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:0 0;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:0 0;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:0 0;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.leave-russia-now-and-apply-your-skills-to-the-world{display:flex;position:fixed;z-index:1939;top:0;right:0;bottom:0;left:0;flex-direction:column;align-items:center;justify-content:center;padding:25px 0 20px;background:#20232a;color:#fff;text-align:center}.leave-russia-now-and-apply-your-skills-to-the-world div{max-width:560px;margin:10px;line-height:146%}.leave-russia-now-and-apply-your-skills-to-the-world iframe{max-width:100%;max-height:55.5555555556vmin;margin:16px auto}.leave-russia-now-and-apply-your-skills-to-the-world strong{border-bottom:2px dashed #fff}.leave-russia-now-and-apply-your-skills-to-the-world button{display:flex;position:fixed;z-index:1940;top:0;right:0;align-items:center;justify-content:center;width:48px;height:48px;margin-right:10px;margin-bottom:-10px;border:none;background:0 0;color:#aaa;font-size:48px;font-weight:700;cursor:pointer}.leave-russia-now-and-apply-your-skills-to-the-world button:hover{color:#fff}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(ke,Ie,P)=>{"use strict";function H(ne,de){var ae={};for(var Ee in ne)Object.prototype.hasOwnProperty.call(ne,Ee)&&de.indexOf(Ee)<0&&(ae[Ee]=ne[Ee]);if(null!=ne&&"function"==typeof Object.getOwnPropertySymbols){var ve=0;for(Ee=Object.getOwnPropertySymbols(ne);ve<Ee.length;ve++)de.indexOf(Ee[ve])<0&&Object.prototype.propertyIsEnumerable.call(ne,Ee[ve])&&(ae[Ee[ve]]=ne[Ee[ve]])}return ae}function Y(ne,de,ae,Ee){return new(ae||(ae=Promise))(function(se,Ge){function it(_t){try{Be(Ee.next(_t))}catch(xn){Ge(xn)}}function gt(_t){try{Be(Ee.throw(_t))}catch(xn){Ge(xn)}}function Be(_t){_t.done?se(_t.value):function ve(se){return se instanceof ae?se:new ae(function(Ge){Ge(se)})}(_t.value).then(it,gt)}Be((Ee=Ee.apply(ne,de||[])).next())})}function _e(ne){return this instanceof _e?(this.v=ne,this):new _e(ne)}function be(ne,de,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,Ee=ae.apply(ne,de||[]),se=[];return ve={},Ge("next"),Ge("throw"),Ge("return"),ve[Symbol.asyncIterator]=function(){return this},ve;function Ge(Jt){Ee[Jt]&&(ve[Jt]=function(Ut){return new Promise(function(nr,Yt){se.push([Jt,Ut,nr,Yt])>1||it(Jt,Ut)})})}function it(Jt,Ut){try{!function gt(Jt){Jt.value instanceof _e?Promise.resolve(Jt.value.v).then(Be,_t):xn(se[0][2],Jt)}(Ee[Jt](Ut))}catch(nr){xn(se[0][3],nr)}}function Be(Jt){it("next",Jt)}function _t(Jt){it("throw",Jt)}function xn(Jt,Ut){Jt(Ut),se.shift(),se.length&&it(se[0][0],se[0][1])}}function Je(ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,de=ne[Symbol.asyncIterator];return de?de.call(ne):(ne=function j(ne){var de="function"==typeof Symbol&&Symbol.iterator,ae=de&&ne[de],Ee=0;if(ae)return ae.call(ne);if(ne&&"number"==typeof ne.length)return{next:function(){return ne&&Ee>=ne.length&&(ne=void 0),{value:ne&&ne[Ee++],done:!ne}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}(ne),ae={},Ee("next"),Ee("throw"),Ee("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function Ee(se){ae[se]=ne[se]&&function(Ge){return new Promise(function(it,gt){!function ve(se,Ge,it,gt){Promise.resolve(gt).then(function(Be){se({value:Be,done:it})},Ge)}(it,gt,(Ge=ne[se](Ge)).done,Ge.value)})}}}P.d(Ie,{FC:()=>be,KL:()=>Je,_T:()=>H,mG:()=>Y,qq:()=>_e})},4650:(ke,Ie,P)=>{"use strict";P.d(Ie,{$8M:()=>el,AFp:()=>H0,ALo:()=>zm,AaK:()=>Y,BQk:()=>Lu,CHM:()=>_s,CRH:()=>nI,CZH:()=>Ch,CqO:()=>qp,D6c:()=>Cy,EJc:()=>fT,EiD:()=>Du,EpF:()=>Mv,F4k:()=>gm,FYo:()=>f0,FiY:()=>mo,G48:()=>Df,Gf:()=>Ym,GfV:()=>UC,Gpc:()=>V,JOm:()=>Yi,JVY:()=>ul,KtG:()=>Ha,L6k:()=>p_,LAX:()=>Cd,LFG:()=>Ke,LSH:()=>Ad,Lbi:()=>di,MAs:()=>Tv,NdJ:()=>Nv,OlP:()=>pn,Oqu:()=>Im,Q6J:()=>wo,QGY:()=>kv,Qsj:()=>BC,R0b:()=>Io,RDi:()=>au,Rgc:()=>mh,SBq:()=>af,TTD:()=>ni,TgZ:()=>$p,W1O:()=>Jm,WLB:()=>zC,X6Q:()=>gy,Xpm:()=>he,Y36:()=>wa,YNc:()=>ME,Yjl:()=>or,Yz7:()=>Ut,ZZ4:()=>Tf,_Bn:()=>c0,_UZ:()=>Sv,_c5:()=>Ey,_uU:()=>WE,aQg:()=>wy,cJS:()=>Yt,cg1:()=>zv,dDg:()=>_T,dqk:()=>He,eBb:()=>hg,eFA:()=>dy,ekj:()=>wm,eoX:()=>Hu,g9A:()=>iy,h0i:()=>Gc,hGG:()=>Sf,hM9:()=>UA,hij:()=>Dm,iGM:()=>A0,ifc:()=>bt,ip1:()=>G0,kL8:()=>pC,lG2:()=>jt,lcZ:()=>qm,lri:()=>zc,mCW:()=>Iu,n5z:()=>fo,oAB:()=>Ct,oxw:()=>PE,pB0:()=>f_,q3G:()=>gr,q4F:()=>m0,qLn:()=>Au,qOj:()=>bv,qZA:()=>fm,qzn:()=>jl,rWj:()=>II,sBO:()=>eb,sIi:()=>Oc,s_b:()=>ff,soG:()=>bf,uIk:()=>Lc,vHH:()=>Me,vpe:()=>xa,wAp:()=>Dt,xp6:()=>vw,ynx:()=>zp,z3N:()=>ll,zSh:()=>j_,zs3:()=>pl});var d=P(7579),K=P(727),F=P(8306),H=P(6451),W=P(3099);function te(i){for(let s in i)if(i[s]===te)return s;throw Error("Could not find renamed property on target object.")}function J(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function Y(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Y).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function oe(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const $=te({__forward_ref__:te});function V(i){return i.__forward_ref__=V,i.toString=function(){return Y(this())},i}function j(i){return me(i)?i():i}function me(i){return"function"==typeof i&&i.hasOwnProperty($)&&i.__forward_ref__===V}class Me extends Error{constructor(s,a){super(function Ue(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}(s,a)),this.code=s}}function _e(i){return"string"==typeof i?i:null==i?"":String(i)}function fe(i,s){throw new Me(-201,!1)}function gt(i,s){null==i&&function Be(i,s,a,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${a} ${u} ${s} <=Actual]`))}(s,i,null,"!=")}function Ut(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Yt(i){return{providers:i.providers||[],imports:i.imports||[]}}function Ot(i){return Qr(i,Gr)||Qr(i,rr)}function Qr(i,s){return i.hasOwnProperty(s)?i[s]:null}function vr(i){return i&&(i.hasOwnProperty(no)||i.hasOwnProperty(En))?i[no]:null}const Gr=te({\u0275prov:te}),no=te({\u0275inj:te}),rr=te({ngInjectableDef:te}),En=te({ngInjectorDef:te});var ut=(()=>((ut=ut||{})[ut.Default=0]="Default",ut[ut.Host=1]="Host",ut[ut.Self=2]="Self",ut[ut.SkipSelf=4]="SkipSelf",ut[ut.Optional=8]="Optional",ut))();let Xr;function Cn(i){const s=Xr;return Xr=i,s}function Ui(i,s,a){const u=Ot(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&ut.Optional?null:void 0!==s?s:void fe(Y(i))}function vt(i){return{toString:i}.toString()}var sn=(()=>((sn=sn||{})[sn.OnPush=0]="OnPush",sn[sn.Default=1]="Default",sn))(),bt=(()=>{return(i=bt||(bt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",bt;var i})();const He=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),nn={},At=[],Hr=te({\u0275cmp:te}),ir=te({\u0275dir:te}),Pr=te({\u0275pipe:te}),an=te({\u0275mod:te}),ue=te({\u0275fac:te}),Z=te({__NG_ELEMENT_ID__:te});let ie=0;function he(i){return vt(()=>{const a=!0===i.standalone,u={},h={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===sn.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||At,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||bt.Emulated,id:"c"+ie++,styles:i.styles||At,_:null,setInput:null,schemas:i.schemas||null,tView:null},g=i.dependencies,_=i.features;return h.inputs=dn(i.inputs,u),h.outputs=dn(i.outputs),_&&_.forEach(w=>w(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(xe).filter(We):null,h.pipeDefs=g?()=>("function"==typeof g?g():g).map(hr).filter(We):null,h})}function xe(i){return zt(i)||Gn(i)}function We(i){return null!==i}const ot={};function Ct(i){return vt(()=>{const s={type:i.type,bootstrap:i.bootstrap||At,declarations:i.declarations||At,imports:i.imports||At,exports:i.exports||At,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(ot[i.id]=i.type),s})}function dn(i,s){if(null==i)return nn;const a={};for(const u in i)if(i.hasOwnProperty(u)){let h=i[u],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),a[h]=u,s&&(s[h]=g)}return a}const jt=he;function or(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function zt(i){return i[Hr]||null}function Gn(i){return i[ir]||null}function hr(i){return i[Pr]||null}function zn(i){return Array.isArray(i)&&"object"==typeof i[1]}function $r(i){return Array.isArray(i)&&!0===i[1]}function js(i){return 0!=(8&i.flags)}function Gs(i){return 2==(2&i.flags)}function So(i){return 1==(1&i.flags)}function Ai(i){return null!==i.template}function cs(i){return 0!=(256&i[2])}function so(i,s){return i.hasOwnProperty(ue)?i[ue]:null}class Cl{constructor(s,a,u){this.previousValue=s,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function ni(){return ao}function ao(i){return i.type.prototype.ngOnChanges&&(i.setInput=Il),hs}function hs(){const i=$s(this),s=i?.current;if(s){const a=i.previous;if(a===nn)i.previous=s;else for(let u in s)a[u]=s[u];i.current=null,this.ngOnChanges(s)}}function Il(i,s,a,u){const h=$s(i)||function su(i,s){return i[ps]=s}(i,{previous:nn,current:null}),g=h.current||(h.current={}),_=h.previous,w=this.declaredInputs[a],I=_[w];g[w]=new Cl(I&&I.currentValue,s,_===nn),i[u]=s}ni.ngInherit=!0;const ps="__ngSimpleChanges__";function $s(i){return i[ps]||null}let Ba;function au(i){Ba=i}function cn(i){return!!i.listen}const Ws={createRenderer:(i,s)=>{throw new Error("Renderer3 disabled")}};function bn(i){for(;Array.isArray(i);)i=i[0];return i}function zi(i,s){return bn(s[i])}function sr(i,s){return bn(s[i.index])}function Tn(i,s){return i.data[s]}function lo(i,s){return i[s]}function ar(i,s){const a=s[i];return zn(a)?a:a[0]}function Ys(i){return 4==(4&i[2])}function ms(i){return 64==(64&i[2])}function zr(i,s){return null==s?null:i[s]}function Po(i){i[18]=0}function ys(i,s){i[5]+=s;let a=i,u=i[3];for(;null!==u&&(1===s&&1===a[5]||-1===s&&0===a[5]);)u[5]+=s,a=u,u=u[3]}const mt={lFrame:oa(null),bindingsEnabled:!0};function Ga(){return mt.bindingsEnabled}function Fe(){return mt.lFrame.lView}function Nt(){return mt.lFrame.tView}function _s(i){return mt.lFrame.contextLView=i,i[8]}function Ha(i){return mt.lFrame.contextLView=null,i}function Sn(){let i=Js();for(;null!==i&&64===i.type;)i=i.parent;return i}function Js(){return mt.lFrame.currentTNode}function yi(i,s){const a=mt.lFrame;a.currentTNode=i,a.isParent=s}function $a(){return mt.lFrame.isParent}function Xs(){mt.lFrame.isParent=!1}function lr(){const i=mt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Ti(){return mt.lFrame.bindingIndex++}function lu(i,s){const a=mt.lFrame;a.bindingIndex=a.bindingRootIndex=i,ra(s)}function ra(i){mt.lFrame.currentDirectiveIndex=i}function Ka(){return mt.lFrame.currentQueryIndex}function vs(i){mt.lFrame.currentQueryIndex=i}function bs(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function ws(i,s,a){if(a&ut.SkipSelf){let h=s,g=i;for(;!(h=h.parent,null!==h||a&ut.Host||(h=bs(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;s=h,i=g}const u=mt.lFrame=Lo();return u.currentTNode=s,u.lView=i,!0}function ia(i){const s=Lo(),a=i[1];mt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Lo(){const i=mt.lFrame,s=null===i?null:i.child;return null===s?oa(i):s}function oa(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Sl(){const i=mt.lFrame;return mt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const xl=Sl;function Ml(){const i=Sl();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function qr(){return mt.lFrame.selectedIndex}function sa(i){mt.lFrame.selectedIndex=i}function Pn(){const i=mt.lFrame;return Tn(i.tView,i.selectedIndex)}function Si(i,s){for(let a=s.directiveStart,u=s.directiveEnd;a<u;a++){const g=i.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:w,ngAfterViewInit:I,ngAfterViewChecked:x,ngOnDestroy:O}=g;_&&(i.contentHooks||(i.contentHooks=[])).push(-a,_),w&&((i.contentHooks||(i.contentHooks=[])).push(a,w),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,w)),I&&(i.viewHooks||(i.viewHooks=[])).push(-a,I),x&&((i.viewHooks||(i.viewHooks=[])).push(a,x),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,x)),null!=O&&(i.destroyHooks||(i.destroyHooks=[])).push(a,O)}}function co(i,s,a){ec(i,s,3,a)}function Qn(i,s,a,u){(3&i[2])===a&&ec(i,s,a,u)}function Qa(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function ec(i,s,a,u){const g=u??-1,_=s.length-1;let w=0;for(let I=void 0!==u?65535&i[18]:0;I<_;I++)if("number"==typeof s[I+1]){if(w=s[I],null!=u&&w>=u)break}else s[I]<0&&(i[18]+=65536),(w<g||-1==g)&&(xi(i,a,s,I),i[18]=(4294901760&i[18])+I+2),I++}function xi(i,s,a,u){const h=a[u]<0,g=a[u+1],w=i[h?-a[u]:a[u]];if(h){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{g.call(w)}finally{}}}else try{g.call(w)}finally{}}class ho{constructor(s,a,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function D(i,s,a){const u=cn(i);let h=0;for(;h<a.length;){const g=a[h];if("number"==typeof g){if(0!==g)break;h++;const _=a[h++],w=a[h++],I=a[h++];u?i.setAttribute(s,w,I,_):s.setAttributeNS(_,w,I)}else{const _=g,w=a[++h];q(_)?u&&i.setProperty(s,_,w):u?i.setAttribute(s,_,w):s.setAttribute(_,w),h++}}return h}function k(i){return 3===i||4===i||6===i}function q(i){return 64===i.charCodeAt(0)}function Re(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let u=0;u<s.length;u++){const h=s[u];"number"==typeof h?a=h:0===a||tt(i,a,h,null,-1===a||2===a?s[++u]:null)}}return i}function tt(i,s,a,u,h){let g=0,_=i.length;if(-1===s)_=-1;else for(;g<i.length;){const w=i[g++];if("number"==typeof w){if(w===s){_=-1;break}if(w>s){_=g-1;break}}}for(;g<i.length;){const w=i[g];if("number"==typeof w)break;if(w===a){if(null===u)return void(null!==h&&(i[g+1]=h));if(u===i[g+1])return void(i[g+2]=h)}g++,null!==u&&g++,null!==h&&g++}-1!==_&&(i.splice(_,0,s),g=_+1),i.splice(g++,0,a),null!==u&&i.splice(g++,0,u),null!==h&&i.splice(g++,0,h)}function en(i){return-1!==i}function Gt(i){return 32767&i}function Lr(i,s){let a=function fr(i){return i>>16}(i),u=s;for(;a>0;)u=u[15],a--;return u}let Bo=!0;function Ja(i){const s=Bo;return Bo=i,s}let la=0;const Rn={};function Uo(i,s){const a=hu(i,s);if(-1!==a)return a;const u=s[1];u.firstCreatePass&&(i.injectorIndex=s.length,si(u.data,i),si(s,null),si(u.blueprint,null));const h=ua(i,s),g=i.injectorIndex;if(en(h)){const _=Gt(h),w=Lr(h,s),I=w[1].data;for(let x=0;x<8;x++)s[g+x]=w[_+x]|I[_+x]}return s[g+8]=h,g}function si(i,s){i.push(0,0,0,0,0,0,0,0,s)}function hu(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function ua(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,u=null,h=s;for(;null!==h;){if(u=Ol(h),null===u)return-1;if(a++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function Cs(i,s,a){!function On(i,s,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(Z)&&(u=a[Z]),null==u&&(u=a[Z]=la++);const h=255&u;s.data[i+(h>>5)]|=1<<h}(i,s,a)}function jo(i,s,a){if(a&ut.Optional)return i;fe()}function Sr(i,s,a,u){if(a&ut.Optional&&void 0===u&&(u=null),0==(a&(ut.Self|ut.Host))){const h=i[9],g=Cn(void 0);try{return h?h.get(s,u,a&ut.Optional):Ui(s,u,a&ut.Optional)}finally{Cn(g)}}return jo(u,0,a)}function Rl(i,s,a,u=ut.Default,h){if(null!==i){if(1024&s[2]){const _=function tg(i,s,a,u,h){let g=i,_=s;for(;null!==g&&null!==_&&1024&_[2]&&!(256&_[2]);){const w=hd(g,_,a,u|ut.Self,Rn);if(w!==Rn)return w;let I=g.parent;if(!I){const x=_[21];if(x){const O=x.get(a,Rn,u);if(O!==Rn)return O}I=Ol(_),_=_[15]}g=I}return h}(i,s,a,u,Rn);if(_!==Rn)return _}const g=hd(i,s,a,u,Rn);if(g!==Rn)return g}return Sr(s,a,u,h)}function hd(i,s,a,u,h){const g=function Is(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Z)?i[Z]:void 0;return"number"==typeof s?s>=0?255&s:wr:s}(a);if("function"==typeof g){if(!ws(s,i,u))return u&ut.Host?jo(h,0,u):Sr(s,a,u,h);try{const _=g(u);if(null!=_||u&ut.Optional)return _;fe()}finally{xl()}}else if("number"==typeof g){let _=null,w=hu(i,s),I=-1,x=u&ut.Host?s[16][6]:null;for((-1===w||u&ut.SkipSelf)&&(I=-1===w?ua(i,s):s[w+8],-1!==I&&Wi(u,!1)?(_=s[1],w=Gt(I),s=Lr(I,s)):w=-1);-1!==w;){const O=s[1];if(pd(g,w,O.data)){const B=Qh(w,s,a,_,u,x);if(B!==Rn)return B}I=s[w+8],-1!==I&&Wi(u,s[1].data[w+8]===x)&&pd(g,w,s)?(_=O,w=Gt(I),s=Lr(I,s)):w=-1}}return h}function Qh(i,s,a,u,h,g){const _=s[1],w=_.data[i+8],O=tc(w,_,a,null==u?Gs(w)&&Bo:u!=_&&0!=(3&w.type),h&ut.Host&&g===w);return null!==O?po(s,_,O,w):Rn}function tc(i,s,a,u,h){const g=i.providerIndexes,_=s.data,w=1048575&g,I=i.directiveStart,O=g>>20,ee=h?w+O:i.directiveEnd;for(let ge=u?w:w+O;ge<ee;ge++){const Ne=_[ge];if(ge<I&&a===Ne||ge>=I&&Ne.type===a)return ge}if(h){const ge=_[I];if(ge&&Ai(ge)&&ge.type===a)return I}return null}function po(i,s,a,u){let h=i[a];const g=s.data;if(function ld(i){return i instanceof ho}(h)){const _=h;_.resolving&&function qe(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Me(-200,`Circular dependency in DI detected for ${i}${a}`)}(function be(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():_e(i)}(g[a]));const w=Ja(_.canSeeViewProviders);_.resolving=!0;const I=_.injectImpl?Cn(_.injectImpl):null;ws(i,u,ut.Default);try{h=i[a]=_.factory(void 0,g,i,u),s.firstCreatePass&&a>=u.directiveStart&&function Ya(i,s,a){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:g}=s.type.prototype;if(u){const _=ao(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,_)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,h),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,g))}(a,g[a],s)}finally{null!==I&&Cn(I),Ja(w),_.resolving=!1,xl()}}return h}function pd(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function Wi(i,s){return!(i&ut.Self||i&ut.Host&&s)}class Go{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,u){return Rl(this._tNode,this._lView,s,u,a)}}function wr(){return new Go(Sn(),Fe())}function fo(i){return vt(()=>{const s=i.prototype.constructor,a=s[ue]||Xa(s),u=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==u;){const g=h[ue]||Xa(h);if(g&&g!==a)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Xa(i){return me(i)?()=>{const s=Xa(j(i));return s&&s()}:so(i)}function Ol(i){const s=i[1],a=s.type;return 2===a?s.declTNode:1===a?i[6]:null}function el(i){return function Pl(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const u=a.length;let h=0;for(;h<u;){const g=a[h];if(k(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<u&&"string"==typeof a[h];)h++;else{if(g===s)return a[h+1];h+=2}}}return null}(Sn(),i)}const da="__parameters__";function tl(i,s,a){return vt(()=>{const u=function nc(i){return function(...a){if(i){const u=i(...a);for(const h in u)this[h]=u[h]}}}(s);function h(...g){if(this instanceof h)return u.apply(this,g),this;const _=new h(...g);return w.annotation=_,w;function w(I,x,O){const B=I.hasOwnProperty(da)?I[da]:Object.defineProperty(I,da,{value:[]})[da];for(;B.length<=O;)B.push(null);return(B[O]=B[O]||[]).push(_),I}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}class pn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Ut({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Er(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let u=i[a];Array.isArray(u)?(s===i&&(s=i.slice(0,a)),Er(u,s)):s!==i&&s.push(u)}return s}function fn(i,s){i.forEach(a=>Array.isArray(a)?fn(a,s):s(a))}function _i(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function ha(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function ai(i,s,a){let u=Ll(i,s);return u>=0?i[1|u]=a:(u=~u,function gu(i,s,a,u){let h=i.length;if(h==s)i.push(a,u);else if(1===h)i.push(u,i[0]),i[0]=a;else{for(h--,i.push(i[h-1],i[h]);h>s;)i[h]=i[h-2],h--;i[s]=a,i[s+1]=u}}(i,u,s,a)),u}function Fl(i,s){const a=Ll(i,s);if(a>=0)return i[1|a]}function Ll(i,s){return function yu(i,s,a){let u=0,h=i.length>>a;for(;h!==u;){const g=u+(h-u>>1),_=i[g<<a];if(s===_)return g<<a;_>s?h=g:u=g+1}return~(h<<a)}(i,s,1)}const Ts={},pa="__NG_DI_FLAG__",A="ngTempTokenPath",R=/\n/gm,ce="__source";let ye;function Oe(i){const s=ye;return ye=i,s}function Xe(i,s=ut.Default){if(void 0===ye)throw new Me(-203,!1);return null===ye?Ui(i,void 0,s):ye.get(i,s&ut.Optional?null:void 0,s)}function Ke(i,s=ut.Default){return(function Xt(){return Xr}()||Xe)(j(i),s)}function pt(i){const s=[];for(let a=0;a<i.length;a++){const u=j(i[a]);if(Array.isArray(u)){if(0===u.length)throw new Me(900,!1);let h,g=ut.Default;for(let _=0;_<u.length;_++){const w=u[_],I=vi(w);"number"==typeof I?-1===I?h=w.token:g|=I:h=w}s.push(Ke(h,g))}else s.push(Ke(u))}return s}function Jn(i,s){return i[pa]=s,i.prototype[pa]=s,i}function vi(i){return i[pa]}const mo=Jn(tl("Optional"),8),Ki=Jn(tl("SkipSelf"),4);let cc;function Cu(i){return function ap(){if(void 0===cc&&(cc=null,He.trustedTypes))try{cc=He.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return cc}()?.createHTML(i)||i}class al{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ul extends al{getTypeName(){return"HTML"}}class d_ extends al{getTypeName(){return"Style"}}class dg extends al{getTypeName(){return"Script"}}class hc extends al{getTypeName(){return"URL"}}class h_ extends al{getTypeName(){return"ResourceURL"}}function ll(i){return i instanceof al?i.changingThisBreaksApplicationSecurity:i}function jl(i,s){const a=function ew(i){return i instanceof al&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function ul(i){return new Ul(i)}function p_(i){return new d_(i)}function hg(i){return new dg(i)}function Cd(i){return new hc(i)}function f_(i){return new h_(i)}class g_{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Cu(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class cp{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Cu(s),a;const u=this.inertDocument.createElement("body");return u.innerHTML=Cu(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(s){const a=s.attributes;for(let h=a.length-1;0<h;h--){const _=a.item(h).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&s.removeAttribute(_)}let u=s.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const hp=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,fc=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Iu(i){return(i=String(i)).match(hp)||i.match(fc)?i:"unsafe:"+i}function qo(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function gc(...i){const s={};for(const a of i)for(const u in a)a.hasOwnProperty(u)&&(s[u]=!0);return s}const pp=qo("area,br,col,hr,img,wbr"),fp=qo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Gl=qo("rp,rt"),mc=gc(pp,gc(fp,qo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),gc(Gl,qo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),gc(Gl,fp)),fg=qo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),yc=qo("srcset"),mp=gc(fg,yc,qo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Hl=qo("script,style,template");class gg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!mc.hasOwnProperty(a))return this.sanitizedSomething=!0,!Hl.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=s.attributes;for(let h=0;h<u.length;h++){const g=u.item(h),_=g.name,w=_.toLowerCase();if(!mp.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let I=g.value;fg[w]&&(I=Iu(I)),yc[w]&&(i=I,I=(i=String(i)).split(",").map(s=>Iu(s.trim())).join(", ")),this.buf.push(" ",_,'="',_c(I),'"')}var i;return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();mc.hasOwnProperty(a)&&!pp.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(_c(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const mg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,__=/([^\#-~ |!])/g;function _c(i){return i.replace(/&/g,"&amp;").replace(mg,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(__,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Dd;function Du(i,s){let a=null;try{Dd=Dd||function pc(i){const s=new cp(i);return function dp(){try{return!!(new window.DOMParser).parseFromString(Cu(""),"text/html")}catch{return!1}}()?new g_(s):s}(i);let u=s?String(s):"";a=Dd.getInertBodyElement(u);let h=5,g=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=g,g=a.innerHTML,a=Dd.getInertBodyElement(u)}while(u!==g);return Cu((new gg).sanitizeChildren(vc(a)||a))}finally{if(a){const u=vc(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function vc(i){return"content"in i&&function yp(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var gr=(()=>((gr=gr||{})[gr.NONE=0]="NONE",gr[gr.HTML=1]="HTML",gr[gr.STYLE=2]="STYLE",gr[gr.SCRIPT=3]="SCRIPT",gr[gr.URL=4]="URL",gr[gr.RESOURCE_URL=5]="RESOURCE_URL",gr))();function Ad(i){const s=function fa(){const i=Fe();return i&&i[12]}();return s?s.sanitize(gr.URL,i)||"":jl(i,"URL")?ll(i):Iu(_e(i))}function Sd(i){return i.ngOriginalError}class Au{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Sd(s);for(;a&&Sd(a);)a=Sd(a);return a||null}}const bc=new Map;let Xn=0;const wc="__ngContext__";function qt(i,s){zn(s)?(i[wc]=s[20],function Cp(i){bc.set(i[20],i)}(s)):i[wc]=s}function Md(i){const s=i[wc];return"number"==typeof s?function Tu(i){return bc.get(i)||null}(s):s||null}function kd(i){const s=Md(i);return s?zn(s)?s:s.lView:null}const Ze=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(He))();var Yi=(()=>((Yi=Yi||{})[Yi.Important=1]="Important",Yi[Yi.DashCase=2]="DashCase",Yi))();function dl(i,s){return undefined(i,s)}function Cr(i){const s=i[3];return $r(s)?s[3]:s}function C_(i){return _a(i[13])}function ya(i){return _a(i[4])}function _a(i){for(;null!==i&&!$r(i);)i=i[4];return i}function Rd(i,s,a,u,h){if(null!=u){let g,_=!1;$r(u)?g=u:zn(u)&&(_=!0,u=u[0]);const w=bn(u);0===i&&null!==a?null==h?D_(s,a,w):hl(s,a,w,h||null,!0):1===i&&null!==a?hl(s,a,w,h||null,!0):2===i?function xg(i,s,a){const u=Dp(i,s);u&&function cw(i,s,a,u){cn(i)?i.removeChild(s,a,u):s.removeChild(a)}(i,u,s,a)}(s,w,_):3===i&&s.destroyNode(w),null!=g&&function BD(i,s,a,u,h){const g=a[7];g!==bn(a)&&Rd(s,i,u,g,h);for(let w=10;w<a.length;w++){const I=a[w];xp(I[1],I,i,s,u,g)}}(s,i,g,a,h)}}function Vr(i,s,a){if(cn(i))return i.createElement(s,a);{const u=null!==a?function Dl(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(a):null;return null===u?i.createElement(s):i.createElementNS(u,s)}}function Ig(i,s){const a=i[9],u=a.indexOf(s),h=s[3];512&s[2]&&(s[2]&=-513,ys(h,-1)),a.splice(u,1)}function Od(i,s){if(i.length<=10)return;const a=10+s,u=i[a];if(u){const h=u[17];null!==h&&h!==i&&Ig(h,u),s>0&&(i[a-1][4]=u[4]);const g=ha(i,10+s);!function aw(i,s){xp(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const _=g[19];null!==_&&_.detachView(g[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function Ac(i,s){if(!(128&s[2])){const a=s[11];cn(a)&&a.destroyNode&&xp(i,s,a,3,null,null),function OD(i){let s=i[13];if(!s)return I_(i[1],i);for(;s;){let a=null;if(zn(s))a=s[13];else{const u=s[10];u&&(a=u)}if(!a){for(;s&&!s[4]&&s!==i;)zn(s)&&I_(s[1],s),s=s[3];null===s&&(s=i),zn(s)&&I_(s[1],s),a=s&&s[4]}s=a}}(s)}}function I_(i,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function LD(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let u=0;u<a.length;u+=2){const h=s[a[u]];if(!(h instanceof ho)){const g=a[u+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const w=h[g[_]],I=g[_+1];try{I.call(w)}finally{}}else try{g.call(h)}finally{}}}}(i,s),function Ip(i,s){const a=i.cleanup,u=s[7];let h=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const _=a[g+1],w="function"==typeof _?_(s):bn(s[_]),I=u[h=a[g+2]],x=a[g+3];"boolean"==typeof x?w.removeEventListener(a[g],I,x):x>=0?u[h=x]():u[h=-x].unsubscribe(),g+=2}else{const _=u[h=a[g+1]];a[g].call(_)}if(null!==u){for(let g=h+1;g<u.length;g++)u[g]();s[7]=null}}(i,s),1===s[1].type&&cn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&$r(s[3])){a!==s[3]&&Ig(a,s);const u=s[19];null!==u&&u.detachView(i)}!function Ko(i){bc.delete(i[20])}(s)}}function uw(i,s,a){return function Fd(i,s,a){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return a[0];if(2&u.flags){const h=i.data[u.directiveStart].encapsulation;if(h===bt.None||h===bt.Emulated)return null}return sr(u,a)}(i,s.parent,a)}function hl(i,s,a,u,h){cn(i)?i.insertBefore(s,a,u,h):(T_(s)?s.content:s).insertBefore(a,u,h)}function D_(i,s,a){cn(i)?i.appendChild(s,a):(T_(s)?s.content:s).appendChild(a)}function A_(i,s,a,u,h){null!==u?hl(i,s,a,u,h):D_(i,s,a)}function T_(i){return"TEMPLATE"===i.tagName&&void 0!==i.content}function Dp(i,s){return cn(i)?i.parentNode(s):s.parentNode}let x_=function Dg(i,s,a){return 40&i.type?sr(i,a):null};function Sg(i,s,a,u){const h=uw(i,u,s),g=s[11],w=function S_(i,s,a){return x_(i,s,a)}(u.parent||s[6],u,s);if(null!=h)if(Array.isArray(a))for(let I=0;I<a.length;I++)A_(g,h,a[I],w,!1);else A_(g,h,a,w,!1)}function Ap(i,s){if(null!==s){const a=s.type;if(3&a)return sr(s,i);if(4&a)return Tp(-1,i[s.index]);if(8&a){const u=s.child;if(null!==u)return Ap(i,u);{const h=i[s.index];return $r(h)?Tp(-1,h):bn(h)}}if(32&a)return dl(s,i)()||bn(i[s.index]);{const u=hw(i,s);return null!==u?Array.isArray(u)?u[0]:Ap(Cr(i[16]),u):Ap(i,s.next)}}return null}function hw(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Tp(i,s){const a=10+i+1;if(a<s.length){const u=s[a],h=u[1].firstChild;if(null!==h)return Ap(u,h)}return s[7]}function Sp(i,s,a,u,h,g,_){for(;null!=a;){const w=u[a.index],I=a.type;if(_&&0===s&&(w&&qt(bn(w),u),a.flags|=4),64!=(64&a.flags))if(8&I)Sp(i,s,a.child,u,h,g,!1),Rd(s,i,h,w,g);else if(32&I){const x=dl(a,u);let O;for(;O=x();)Rd(s,i,h,O,g);Rd(s,i,h,w,g)}else 16&I?M_(i,s,u,a,h,g):Rd(s,i,h,w,g);a=_?a.projectionNext:a.next}}function xp(i,s,a,u,h,g){Sp(a,u,i.firstChild,s,h,g,!1)}function M_(i,s,a,u,h,g){const _=a[16],I=_[6].projection[u.projection];if(Array.isArray(I))for(let x=0;x<I.length;x++)Rd(s,i,h,I[x],g);else Sp(i,s,I,_[3],h,g,!0)}function pw(i,s,a){cn(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function Mg(i,s,a){cn(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function k_(i,s,a){let u=i.length;for(;;){const h=i.indexOf(s,a);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const g=s.length;if(h+g===u||i.charCodeAt(h+g)<=32)return h}a=h+1}}const fw="ng-template";function GD(i,s,a){let u=0;for(;u<i.length;){let h=i[u++];if(a&&"class"===h){if(h=i[u],-1!==k_(h.toLowerCase(),s,0))return!0}else if(1===h){for(;u<i.length&&"string"==typeof(h=i[u++]);)if(h.toLowerCase()===s)return!0;return!1}}return!1}function gw(i){return 4===i.type&&i.value!==fw}function HD(i,s,a){return s===(4!==i.type||a?i.value:fw)}function $D(i,s,a){let u=4;const h=i.attrs||[],g=function qD(i){for(let s=0;s<i.length;s++)if(k(i[s]))return s;return i.length}(h);let _=!1;for(let w=0;w<s.length;w++){const I=s[w];if("number"!=typeof I){if(!_)if(4&u){if(u=2|1&u,""!==I&&!HD(i,I,a)||""===I&&1===s.length){if(Ms(u))return!1;_=!0}}else{const x=8&u?I:s[++w];if(8&u&&null!==i.attrs){if(!GD(i.attrs,x,a)){if(Ms(u))return!1;_=!0}continue}const B=mw(8&u?"class":I,h,gw(i),a);if(-1===B){if(Ms(u))return!1;_=!0;continue}if(""!==x){let ee;ee=B>g?"":h[B+1].toLowerCase();const ge=8&u?ee:null;if(ge&&-1!==k_(ge,x,0)||2&u&&x!==ee){if(Ms(u))return!1;_=!0}}}}else{if(!_&&!Ms(u)&&!Ms(I))return!1;if(_&&Ms(I))continue;_=!1,u=I|1&u}}return Ms(u)||_}function Ms(i){return 0==(1&i)}function mw(i,s,a,u){if(null===s)return-1;let h=0;if(u||!a){let g=!1;for(;h<s.length;){const _=s[h];if(_===i)return h;if(3===_||6===_)g=!0;else{if(1===_||2===_){let w=s[++h];for(;"string"==typeof w;)w=s[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=g?1:2}return-1}return function Mu(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const u=i[a];if("number"==typeof u)return-1;if(u===s)return a;a++}return-1}(s,i)}function yw(i,s,a=!1){for(let u=0;u<s.length;u++)if($D(i,s[u],a))return!0;return!1}function _w(i,s){return i?":not("+s.trim()+")":s}function WD(i){let s=i[0],a=1,u=2,h="",g=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&u){const w=i[++a];h+="["+_+(w.length>0?'="'+w+'"':"")+"]"}else 8&u?h+="."+_:4&u&&(h+=" "+_);else""!==h&&!Ms(_)&&(s+=_w(g,h),h=""),u=_,g=g||!Ms(u);a++}return""!==h&&(s+=_w(g,h)),s}const Ft={};function vw(i){bw(Nt(),Fe(),qr()+i,!1)}function bw(i,s,a,u){if(!u)if(3==(3&s[2])){const g=i.preOrderCheckHooks;null!==g&&co(s,g,a)}else{const g=i.preOrderHooks;null!==g&&Qn(s,g,0,a)}sa(a)}const F_=new pn("ENVIRONMENT_INITIALIZER"),L_=new pn("INJECTOR_DEF_TYPES");function JD(...i){return{\u0275providers:V_(0,i)}}function V_(i,...s){const a=[],u=new Set;let h;return fn(s,g=>{const _=g;Ng(_,a,[],u)&&(h||(h=[]),h.push(_))}),void 0!==h&&B_(h,a),a}function B_(i,s){for(let a=0;a<i.length;a++){const{providers:h}=i[a];fn(h,g=>{s.push(g)})}}function Ng(i,s,a,u){if(!(i=j(i)))return!1;let h=null,g=vr(i);const _=!g&&zt(i);if(g||_){if(_&&!_.standalone)return!1;h=i}else{const I=i.ngModule;if(g=vr(I),!g)return!1;h=I}const w=u.has(h);if(_){if(w)return!1;if(u.add(h),_.dependencies){const I="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const x of I)Ng(x,s,a,u)}}else{if(!g)return!1;{if(null!=g.imports&&!w){let x;u.add(h);try{fn(g.imports,O=>{Ng(O,s,a,u)&&(x||(x=[]),x.push(O))})}finally{}void 0!==x&&B_(x,s)}if(!w){const x=so(h)||(()=>new h);s.push({provide:h,useFactory:x,deps:At},{provide:L_,useValue:h,multi:!0},{provide:F_,useValue:()=>Ke(h),multi:!0})}const I=g.providers;null==I||w||fn(I,O=>{s.push(O)})}}return h!==i&&void 0!==i.providers}const Cw=te({provide:String,useValue:te});function Pg(i){return null!==i&&"object"==typeof i&&Cw in i}function Lt(i){return"function"==typeof i}const kn=new pn("INJECTOR",-1);class Rg{get(s,a=Ts){if(a===Ts){const u=new Error(`NullInjectorError: No provider for ${Y(s)}!`);throw u.name="NullInjectorError",u}return a}}const j_=new pn("Set Injector scope."),Nu={},Iw={};let Kn;function Wt(){return void 0===Kn&&(Kn=new Rg),Kn}class Kr{}class Dw extends Kr{constructor(s,a,u,h){super(),this.parent=a,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,H_(s,_=>this.processProvider(_)),this.records.set(kn,Vd(void 0,this)),h.has("environment")&&this.records.set(Kr,Vd(void 0,this));const g=this.records.get(j_);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(L_.multi,At,ut.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}get(s,a=Ts,u=ut.Default){this.assertNotDestroyed();const h=Oe(this),g=Cn(void 0);try{if(!(u&ut.SkipSelf)){let w=this.records.get(s);if(void 0===w){const I=function G_(i){return"function"==typeof i||"object"==typeof i&&i instanceof pn}(s)&&Ot(s);w=I&&this.injectableDefInScope(I)?Vd(Mp(s),Nu):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(u&ut.Self?Wt():this.parent).get(s,a=u&ut.Optional&&a===Ts?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[A]=_[A]||[]).unshift(Y(s)),h)throw _;return function sl(i,s,a,u){const h=i[A];throw s[ce]&&h.unshift(s[ce]),i.message=function bu(i,s,a,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let h=Y(s);if(Array.isArray(s))h=s.map(Y).join(" -> ");else if("object"==typeof s){let g=[];for(let _ in s)if(s.hasOwnProperty(_)){let w=s[_];g.push(_+":"+("string"==typeof w?JSON.stringify(w):Y(w)))}h=`{${g.join(", ")}}`}return`${a}${u?"("+u+")":""}[${h}]: ${i.replace(R,"\n  ")}`}("\n"+i.message,h,a,u),i.ngTokenPath=h,i[A]=null,i}(_,s,"R3InjectorError",this.source)}throw _}finally{Cn(g),Oe(h)}}resolveInjectorInitializers(){const s=Oe(this),a=Cn(void 0);try{const u=this.get(F_.multi,At,ut.Self);for(const h of u)h()}finally{Oe(s),Cn(a)}}toString(){const s=[],a=this.records;for(const u of a.keys())s.push(Y(u));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Me(205,!1)}processProvider(s){let a=Lt(s=j(s))?s:j(s&&s.provide);const u=function XD(i){return Pg(i)?Vd(void 0,i.useValue):Vd(Aw(i),Nu)}(s);if(Lt(s)||!0!==s.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=Vd(void 0,Nu,!0),h.factory=()=>pt(h.multi),this.records.set(a,h)),a=s,h.multi.push(s)}this.records.set(a,u)}hydrate(s,a){return a.value===Nu&&(a.value=Iw,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Tc(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=j(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Mp(i){const s=Ot(i),a=null!==s?s.factory:so(i);if(null!==a)return a;if(i instanceof pn)throw new Me(204,!1);if(i instanceof Function)return function ks(i){const s=i.length;if(s>0)throw function rl(i,s){const a=[];for(let u=0;u<i;u++)a.push(s);return a}(s,"?"),new Me(204,!1);const a=function Jr(i){const s=i&&(i[Gr]||i[rr]);if(s){const a=function cr(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Me(204,!1)}function Aw(i,s,a){let u;if(Lt(i)){const h=j(i);return so(h)||Mp(h)}if(Pg(i))u=()=>j(i.useValue);else if(function gn(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...pt(i.deps||[]));else if(function wn(i){return!(!i||!i.useExisting)}(i))u=()=>Ke(j(i.useExisting));else{const h=j(i&&(i.useClass||i.provide));if(!function Tw(i){return!!i.deps}(i))return so(h)||Mp(h);u=()=>new h(...pt(i.deps))}return u}function Vd(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function kp(i){return!!i.\u0275providers}function H_(i,s){for(const a of i)Array.isArray(a)?H_(a,s):kp(a)?H_(a.\u0275providers,s):s(a)}function Sw(i,s=null,a=null,u){const h=$_(i,s,a,u);return h.resolveInjectorInitializers(),h}function $_(i,s=null,a=null,u,h=new Set){const g=[a||At,JD(i)];return u=u||("object"==typeof i?void 0:Y(i)),new Dw(g,s||Wt(),u||null,h)}let pl=(()=>{class i{static create(a,u){if(Array.isArray(a))return Sw({name:""},u,a,"");{const h=a.name??"";return Sw({name:h},a.parent,a.providers,h)}}}return i.THROW_IF_NOT_FOUND=Ts,i.NULL=new Rg,i.\u0275prov=Ut({token:i,providedIn:"any",factory:()=>Ke(kn)}),i.__NG_ELEMENT_ID__=-1,i})();function wa(i,s=ut.Default){const a=Fe();return null===a?Ke(i,s):Rl(Sn(),a,j(i),s)}function ql(i,s){return i<<17|s<<2}function Qi(i){return i>>17&32767}function Rp(i){return 2|i}function Zo(i){return(131068&i)>>2}function nv(i,s){return-131069&i|s<<2}function rv(i){return 1|i}function Zd(i,s){const a=i.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const h=a[u],g=a[u+1];if(-1!==g){const _=i.data[g];vs(h),_.contentQueries(2,s[g],g)}}}function kc(i,s,a,u,h,g,_,w,I,x,O){const B=s.blueprint.slice();return B[0]=h,B[2]=76|u,(null!==O||i&&1024&i[2])&&(B[2]|=1024),Po(B),B[3]=B[15]=i,B[8]=a,B[10]=_||i&&i[10],B[11]=w||i&&i[11],B[12]=I||i&&i[12]||null,B[9]=x||i&&i[9]||null,B[6]=g,B[20]=function Wo(){return Xn++}(),B[21]=O,B[16]=2==s.type?i[16]:B,B}function Ns(i,s,a,u,h){let g=i.data[s];if(null===g)g=function Kg(i,s,a,u,h){const g=Js(),_=$a(),I=i.data[s]=function h1(i,s,a,u,h,g){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,a,s,u,h);return null===i.firstChild&&(i.firstChild=I),null!==g&&(_?null==g.child&&null!==I.parent&&(g.child=I):null===g.next&&(g.next=I)),I}(i,s,a,u,h),function na(){return mt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=u,g.attrs=h;const _=function Oo(){const i=mt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();g.injectorIndex=null===_?-1:_.injectorIndex}return yi(g,!0),g}function Yo(i,s,a,u){if(0===a)return-1;const h=s.length;for(let g=0;g<a;g++)s.push(u),i.blueprint.push(u),i.data.push(null);return h}function Nc(i,s,a){ia(s);try{const u=i.viewQuery;null!==u&&om(1,u,a);const h=i.template;null!==h&&Lp(i,s,h,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Zd(i,s),i.staticViewQueries&&om(2,i.viewQuery,a);const g=i.components;null!==g&&function Jw(i,s){for(let a=0;a<s.length;a++)I1(i,s[a])}(s,g)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[2]&=-5,Ml()}}function Ia(i,s,a,u){const h=s[2];if(128!=(128&h)){ia(s);try{Po(s),function ta(i){return mt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Lp(i,s,a,2,u);const _=3==(3&h);if(_){const x=i.preOrderCheckHooks;null!==x&&co(s,x,null)}else{const x=i.preOrderHooks;null!==x&&Qn(s,x,0,null),Qa(s,0)}if(function E1(i){for(let s=C_(i);null!==s;s=ya(s)){if(!s[2])continue;const a=s[9];for(let u=0;u<a.length;u++){const h=a[u],g=h[3];0==(512&h[2])&&ys(g,1),h[2]|=512}}}(s),function w1(i){for(let s=C_(i);null!==s;s=ya(s))for(let a=10;a<s.length;a++){const u=s[a],h=u[1];ms(u)&&Ia(h,u,h.template,u[8])}}(s),null!==i.contentQueries&&Zd(i,s),_){const x=i.contentCheckHooks;null!==x&&co(s,x)}else{const x=i.contentHooks;null!==x&&Qn(s,x,1),Qa(s,1)}!function Ca(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const h=a[u];if(h<0)sa(~h);else{const g=h,_=a[++u],w=a[++u];lu(_,g),w(2,s[g])}}}finally{sa(-1)}}(i,s);const w=i.components;null!==w&&function lv(i,s){for(let a=0;a<s.length;a++)C1(i,s[a])}(s,w);const I=i.viewQuery;if(null!==I&&om(2,I,u),_){const x=i.viewCheckHooks;null!==x&&co(s,x)}else{const x=i.viewHooks;null!==x&&Qn(s,x,2),Qa(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,ys(s[3],-1))}finally{Ml()}}}function Xw(i,s,a,u){const h=s[10],_=Ys(s);try{!_&&h.begin&&h.begin(),_&&Nc(i,s,u),Ia(i,s,a,u)}finally{!_&&h.end&&h.end()}}function Lp(i,s,a,u,h){const g=qr(),_=2&u;try{sa(-1),_&&s.length>22&&bw(i,s,22,!1),a(u,h)}finally{sa(g)}}function eE(i,s,a){if(js(s)){const h=s.directiveEnd;for(let g=s.directiveStart;g<h;g++){const _=i.data[g];_.contentQueries&&_.contentQueries(1,a[g],g)}}}function uv(i,s,a){!Ga()||(function sE(i,s,a,u){const h=a.directiveStart,g=a.directiveEnd;i.firstCreatePass||Uo(a,s),qt(u,s);const _=a.initialInputs;for(let w=h;w<g;w++){const I=i.data[w],x=Ai(I);x&&dE(s,a,I);const O=po(s,i,w,a);qt(O,s),null!==_&&hE(0,w-h,O,I,0,_),x&&(ar(a.index,s)[8]=O)}}(i,s,a,sr(a,s)),128==(128&a.flags)&&function m1(i,s,a){const u=a.directiveStart,h=a.directiveEnd,g=a.index,_=function Wa(){return mt.lFrame.currentDirectiveIndex}();try{sa(g);for(let w=u;w<h;w++){const I=i.data[w],x=s[w];ra(w),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&aE(I,x)}}finally{sa(-1),ra(_)}}(i,s,a))}function cv(i,s,a=sr){const u=s.localNames;if(null!==u){let h=s.index+1;for(let g=0;g<u.length;g+=2){const _=u[g+1],w=-1===_?a(s,i):i[_];i[h++]=w}}}function tE(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Zg(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Zg(i,s,a,u,h,g,_,w,I,x){const O=22+u,B=O+h,ee=function c1(i,s){const a=[];for(let u=0;u<s;u++)a.push(u<i?null:Ft);return a}(O,B),ge="function"==typeof x?x():x;return ee[1]={type:i,blueprint:ee,template:a,queries:null,viewQuery:w,declTNode:s,data:ee.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:I,consts:ge,incompleteFirstPass:!1}}function rE(i,s,a,u){const h=fE(s);null===a?h.push(u):(h.push(a),i.firstCreatePass&&sm(i).push(u,h.length-1))}function iE(i,s,a){for(let u in i)if(i.hasOwnProperty(u)){const h=i[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(s,h):a[u]=[s,h]}return a}function pv(i,s,a,u){let h=!1;if(Ga()){const g=function lE(i,s,a){const u=i.directiveRegistry;let h=null;if(u)for(let g=0;g<u.length;g++){const _=u[g];yw(a,_.selectors,!1)&&(h||(h=[]),Cs(Uo(a,s),i,_.type),Ai(_)?(Xg(i,a),h.unshift(_)):h.push(_))}return h}(i,s,a),_=null===u?null:{"":-1};if(null!==g){h=!0,uE(a,i.data.length,g.length);for(let O=0;O<g.length;O++){const B=g[O];B.providersResolver&&B.providersResolver(B)}let w=!1,I=!1,x=Yo(i,s,g.length,null);for(let O=0;O<g.length;O++){const B=g[O];a.mergedAttrs=Re(a.mergedAttrs,B.hostAttrs),cE(i,a,s,x,B),_1(x,B,_),null!==B.contentQueries&&(a.flags|=8),(null!==B.hostBindings||null!==B.hostAttrs||0!==B.hostVars)&&(a.flags|=128);const ee=B.type.prototype;!w&&(ee.ngOnChanges||ee.ngOnInit||ee.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),w=!0),!I&&(ee.ngOnChanges||ee.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),I=!0),x++}!function p1(i,s){const u=s.directiveEnd,h=i.data,g=s.attrs,_=[];let w=null,I=null;for(let x=s.directiveStart;x<u;x++){const O=h[x],B=O.inputs,ee=null===g||gw(s)?null:v1(B,g);_.push(ee),w=iE(B,x,w),I=iE(O.outputs,x,I)}null!==w&&(w.hasOwnProperty("class")&&(s.flags|=16),w.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=_,s.inputs=w,s.outputs=I}(i,a)}_&&function y1(i,s,a){if(s){const u=i.localNames=[];for(let h=0;h<s.length;h+=2){const g=a[s[h+1]];if(null==g)throw new Me(-301,!1);u.push(s[h],g)}}}(a,u,_)}return a.mergedAttrs=Re(a.mergedAttrs,a.attrs),h}function Jg(i,s,a,u,h,g){const _=g.hostBindings;if(_){let w=i.hostBindingOpCodes;null===w&&(w=i.hostBindingOpCodes=[]);const I=~s.index;(function oE(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(w)!=I&&w.push(I),w.push(u,h,_)}}function aE(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Xg(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function _1(i,s,a){if(a){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)a[s.exportAs[u]]=i;Ai(s)&&(a[""]=i)}}function uE(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function cE(i,s,a,u,h){i.data[u]=h;const g=h.factory||(h.factory=so(h.type)),_=new ho(g,Ai(h),wa);i.blueprint[u]=_,a[u]=_,Jg(i,s,0,u,Yo(i,a,h.hostVars,Ft),h)}function dE(i,s,a){const u=sr(s,i),h=tE(a),g=i[10],_=tm(i,kc(i,h,null,a.onPush?32:16,u,s,g,g.createRenderer(u,a),null,null,null));i[s.index]=_}function Jo(i,s,a,u,h,g){const _=sr(i,s);!function Vp(i,s,a,u,h,g,_){if(null==g)cn(i)?i.removeAttribute(s,h,a):s.removeAttribute(h);else{const w=null==_?_e(g):_(g,u||"",h);cn(i)?i.setAttribute(s,h,w,a):a?s.setAttributeNS(a,h,w):s.setAttribute(h,w)}}(s[11],_,g,i.value,a,u,h)}function hE(i,s,a,u,h,g){const _=g[s];if(null!==_){const w=u.setInput;for(let I=0;I<_.length;){const x=_[I++],O=_[I++],B=_[I++];null!==w?u.setInput(a,B,x,O):a[O]=B}}}function v1(i,s){let a=null,u=0;for(;u<s.length;){const h=s[u];if(0!==h)if(5!==h){if("number"==typeof h)break;i.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,i[h],s[u+1])),u+=2}else u+=2;else u+=4}return a}function em(i,s,a,u){return new Array(i,!0,!1,s,null,0,u,a,null,null)}function C1(i,s){const a=ar(s,i);if(ms(a)){const u=a[1];48&a[2]?Ia(u,a,u.template,a[8]):a[5]>0&&fv(a)}}function fv(i){for(let u=C_(i);null!==u;u=ya(u))for(let h=10;h<u.length;h++){const g=u[h];if(512&g[2]){const _=g[1];Ia(_,g,_.template,g[8])}else g[5]>0&&fv(g)}const a=i[1].components;if(null!==a)for(let u=0;u<a.length;u++){const h=ar(a[u],i);ms(h)&&h[5]>0&&fv(h)}}function I1(i,s){const a=ar(s,i),u=a[1];(function D1(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(u,a),Nc(u,a,a[8])}function tm(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function nm(i){for(;i;){i[2]|=32;const s=Cr(i);if(cs(i)&&!s)return i;i=s}return null}function pE(i){!function rm(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],u=kd(a);if(null!==u){const h=u[1];Xw(h,u,h.template,a)}}}(i[8])}function om(i,s,a){vs(0),s(i,a)}const S1=(()=>Promise.resolve(null))();function fE(i){return i[7]||(i[7]=[])}function sm(i){return i.cleanup||(i.cleanup=[])}function gE(i,s){const a=i[9],u=a?a.get(Au,null):null;u&&u.handleError(s)}function mE(i,s,a,u,h){for(let g=0;g<a.length;){const _=a[g++],w=a[g++],I=s[_],x=i.data[_];null!==x.setInput?x.setInput(I,h,u,w):I[w]=h}}function fl(i,s,a){const u=zi(s,i);!function Cg(i,s,a){cn(i)?i.setValue(s,a):s.textContent=a}(i[11],u,a)}function Da(i,s,a){let u=a?i.styles:null,h=a?i.classes:null,g=0;if(null!==s)for(let _=0;_<s.length;_++){const w=s[_];"number"==typeof w?g=w:1==g?h=oe(h,w):2==g&&(u=oe(u,w+": "+s[++_]+";"))}a?i.styles=u:i.stylesWithoutHost=u,a?i.classes=h:i.classesWithoutHost=h}function vv(){const i=Sn();Si(Fe()[1],i)}function bv(i){let s=function um(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const u=[i];for(;s;){let h;if(Ai(i))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Me(903,!1);h=s.\u0275dir}if(h){if(a){u.push(h);const _=i;_.inputs=wv(i.inputs),_.declaredInputs=wv(i.declaredInputs),_.outputs=wv(i.outputs);const w=h.hostBindings;w&&Ev(i,w);const I=h.viewQuery,x=h.contentQueries;if(I&&O1(i,I),x&&F1(i,x),J(i.inputs,h.inputs),J(i.declaredInputs,h.declaredInputs),J(i.outputs,h.outputs),Ai(h)&&h.data.animation){const O=i.data;O.animation=(O.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let _=0;_<g.length;_++){const w=g[_];w&&w.ngInherit&&w(i),w===bv&&(a=!1)}}s=Object.getPrototypeOf(s)}!function Gp(i){let s=0,a=null;for(let u=i.length-1;u>=0;u--){const h=i[u];h.hostVars=s+=h.hostVars,h.hostAttrs=Re(h.hostAttrs,a=Re(a,h.hostAttrs))}}(u)}function wv(i){return i===nn?{}:i===At?[]:i}function O1(i,s){const a=i.viewQuery;i.viewQuery=a?(u,h)=>{s(u,h),a(u,h)}:s}function F1(i,s){const a=i.contentQueries;i.contentQueries=a?(u,h,g)=>{s(u,h,g),a(u,h,g)}:s}function Ev(i,s){const a=i.hostBindings;i.hostBindings=a?(u,h)=>{s(u,h),a(u,h)}:s}let cm=null;function Rc(){if(!cm){const i=He.Symbol;if(i&&i.iterator)cm=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const u=s[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(cm=u)}}}return cm}function Oc(i){return!!Xd(i)&&(Array.isArray(i)||!(i instanceof Map)&&Rc()in i)}function Xd(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Ps(i,s,a){return i[s]=a}function Ni(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Lc(i,s,a,u){const h=Fe();return Ni(h,Ti(),s)&&(Nt(),Jo(Pn(),h,i,s,a,u)),Lc}function ME(i,s,a,u,h,g,_,w){const I=Fe(),x=Nt(),O=i+22,B=x.firstCreatePass?function xE(i,s,a,u,h,g,_,w,I){const x=s.consts,O=Ns(s,i,4,_||null,zr(x,w));pv(s,a,O,zr(x,I)),Si(s,O);const B=O.tViews=Zg(2,O,u,h,g,s.directiveRegistry,s.pipeRegistry,null,s.schemas,x);return null!==s.queries&&(s.queries.template(s,O),B.queries=s.queries.embeddedTView(O)),O}(O,x,I,s,a,u,h,g,_):x.data[O];yi(B,!1);const ee=I[11].createComment("");Sg(x,I,ee,B),qt(ee,I),tm(I,I[O]=em(ee,I,ee,B)),So(B)&&uv(x,I,B),null!=_&&cv(I,B,w)}function Tv(i){return lo(function Xu(){return mt.lFrame.contextLView}(),22+i)}function wo(i,s,a){const u=Fe();return Ni(u,Ti(),s)&&function Qo(i,s,a,u,h,g,_,w){const I=sr(s,a);let O,x=s.inputs;!w&&null!=x&&(O=x[u])?(mE(i,a,O,u,h),Gs(s)&&function Yg(i,s){const a=ar(s,i);16&a[2]||(a[2]|=32)}(a,s.index)):3&s.type&&(u=function f1(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),h=null!=_?_(h,s.value||"",u):h,cn(g)?g.setProperty(I,u,h):q(u)||(I.setProperty?I.setProperty(u,h):I[u]=h))}(Nt(),Pn(),u,i,s,u[11],a,!1),wo}function pm(i,s,a,u,h){const _=h?"class":"style";mE(i,a,s.inputs[_],_,u)}function $p(i,s,a,u){const h=Fe(),g=Nt(),_=22+i,w=h[11],I=h[_]=Vr(w,s,function cu(){return mt.lFrame.currentNamespace}()),x=g.firstCreatePass?function B1(i,s,a,u,h,g,_){const w=s.consts,x=Ns(s,i,2,h,zr(w,g));return pv(s,a,x,zr(w,_)),null!==x.attrs&&Da(x,x.attrs,!1),null!==x.mergedAttrs&&Da(x,x.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,x),x}(_,g,h,0,s,a,u):g.data[_];yi(x,!0);const O=x.mergedAttrs;null!==O&&D(w,I,O);const B=x.classes;null!==B&&Mg(w,I,B);const ee=x.styles;return null!==ee&&pw(w,I,ee),64!=(64&x.flags)&&Sg(g,h,I,x),0===function qi(){return mt.lFrame.elementDepthCount}()&&qt(I,h),function ja(){mt.lFrame.elementDepthCount++}(),So(x)&&(uv(g,h,x),eE(g,x,h)),null!==u&&cv(h,x),$p}function fm(){let i=Sn();$a()?Xs():(i=i.parent,yi(i,!1));const s=i;!function Qs(){mt.lFrame.elementDepthCount--}();const a=Nt();return a.firstCreatePass&&(Si(a,i),js(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function ud(i){return 0!=(16&i.flags)}(s)&&pm(a,s,Fe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function cd(i){return 0!=(32&i.flags)}(s)&&pm(a,s,Fe(),s.stylesWithoutHost,!1),fm}function Sv(i,s,a,u){return $p(i,s,a,u),fm(),Sv}function zp(i,s,a){const u=Fe(),h=Nt(),g=i+22,_=h.firstCreatePass?function U1(i,s,a,u,h){const g=s.consts,_=zr(g,u),w=Ns(s,i,8,"ng-container",_);return null!==_&&Da(w,_,!0),pv(s,a,w,zr(g,h)),null!==s.queries&&s.queries.elementStart(s,w),w}(g,h,u,s,a):h.data[g];yi(_,!0);const w=u[g]=u[11].createComment("");return Sg(h,u,w,_),qt(w,u),So(_)&&(uv(h,u,_),eE(h,_,u)),null!=a&&cv(u,_),zp}function Lu(){let i=Sn();const s=Nt();return $a()?Xs():(i=i.parent,yi(i,!1)),s.firstCreatePass&&(Si(s,i),js(i)&&s.queries.elementEnd(i)),Lu}function Mv(){return Fe()}function kv(i){return!!i&&"function"==typeof i.then}function gm(i){return!!i&&"function"==typeof i.subscribe}const qp=gm;function Nv(i,s,a,u){const h=Fe(),g=Nt(),_=Sn();return function kE(i,s,a,u,h,g,_,w){const I=So(u),O=i.firstCreatePass&&sm(i),B=s[8],ee=fE(s);let ge=!0;if(3&u.type||w){const nt=sr(u,s),lt=w?w(nt):nt,It=ee.length,Ve=w?yt=>w(bn(yt[u.index])):u.index;if(cn(a)){let yt=null;if(!w&&I&&(yt=function j1(i,s,a,u){const h=i.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const _=h[g];if(_===a&&h[g+1]===u){const w=s[7],I=h[g+2];return w.length>I?w[I]:null}"string"==typeof _&&(g+=2)}return null}(i,s,h,u.index)),null!==yt)(yt.__ngLastListenerFn__||yt).__ngNextListenerFn__=g,yt.__ngLastListenerFn__=g,ge=!1;else{g=ym(u,s,B,g,!1);const ln=a.listen(lt,h,g);ee.push(g,ln),O&&O.push(h,Ve,It,It+1)}}else g=ym(u,s,B,g,!0),lt.addEventListener(h,g,_),ee.push(g),O&&O.push(h,Ve,It,_)}else g=ym(u,s,B,g,!1);const Ne=u.outputs;let $e;if(ge&&null!==Ne&&($e=Ne[h])){const nt=$e.length;if(nt)for(let lt=0;lt<nt;lt+=2){const jn=s[$e[lt]][$e[lt+1]].subscribe(g),Xl=ee.length;ee.push(g,jn),O&&O.push(h,u.index,Xl,-(Xl+1))}}}(g,h,h[11],_,i,s,!!a,u),Nv}function NE(i,s,a,u){try{return!1!==a(u)}catch(h){return gE(i,h),!1}}function ym(i,s,a,u,h){return function g(_){if(_===Function)return u;nm(2&i.flags?ar(i.index,s):s);let I=NE(s,0,u,_),x=g.__ngNextListenerFn__;for(;x;)I=NE(s,0,x,_)&&I,x=x.__ngNextListenerFn__;return h&&!1===I&&(_.preventDefault(),_.returnValue=!1),I}}function PE(i=1){return function kl(i){return(mt.lFrame.contextLView=function uu(i,s){for(;i>0;)s=s[15],i--;return s}(i,mt.lFrame.contextLView))[8]}(i)}function Kp(i,s,a,u,h){const g=i[a+1],_=null===s;let w=u?Qi(g):Zo(g),I=!1;for(;0!==w&&(!1===I||_);){const O=i[w+1];Fv(i[w],s)&&(I=!0,i[w+1]=u?rv(O):Rp(O)),w=u?Qi(O):Zo(O)}I&&(i[a+1]=u?Rp(g):rv(g))}function Fv(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Ll(i,s)>=0}function wm(i,s){return function ts(i,s,a,u){const h=Fe(),g=Nt(),_=function oi(i){const s=mt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);g.firstUpdatePass&&function HE(i,s,a,u){const h=i.data;if(null===h[a+1]){const g=h[qr()],_=function GE(i,s){return s>=i.expandoStartIndex}(i,a);(function qE(i,s){return 0!=(i.flags&(s?16:32))})(g,u)&&null===s&&!_&&(s=!1),s=function W1(i,s,a,u){const h=function Fo(i){const s=mt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let g=u?s.residualClasses:s.residualStyles;if(null===h)0===(u?s.classBindings:s.styleBindings)&&(a=uh(a=Yp(null,i,s,a,u),s.attrs,u),g=null);else{const _=s.directiveStylingLast;if(-1===_||i[_]!==h)if(a=Yp(h,i,s,a,u),null===g){let I=function Em(i,s,a){const u=a?s.classBindings:s.styleBindings;if(0!==Zo(u))return i[Qi(u)]}(i,s,u);void 0!==I&&Array.isArray(I)&&(I=Yp(null,i,s,I[1],u),I=uh(I,s.attrs,u),function Cm(i,s,a,u){i[Qi(a?s.classBindings:s.styleBindings)]=u}(i,s,u,I))}else g=function Zp(i,s,a){let u;const h=s.directiveEnd;for(let g=1+s.directiveStylingLast;g<h;g++)u=uh(u,i[g].hostAttrs,a);return uh(u,s.attrs,a)}(i,s,u)}return void 0!==g&&(u?s.residualClasses=g:s.residualStyles=g),a}(h,g,s,u),function LE(i,s,a,u,h,g){let _=g?s.classBindings:s.styleBindings,w=Qi(_),I=Zo(_);i[u]=a;let O,x=!1;if(Array.isArray(a)){const B=a;O=B[1],(null===O||Ll(B,O)>0)&&(x=!0)}else O=a;if(h)if(0!==I){const ee=Qi(i[w+1]);i[u+1]=ql(ee,w),0!==ee&&(i[ee+1]=nv(i[ee+1],u)),i[w+1]=function n1(i,s){return 131071&i|s<<17}(i[w+1],u)}else i[u+1]=ql(w,0),0!==w&&(i[w+1]=nv(i[w+1],u)),w=u;else i[u+1]=ql(I,0),0===w?w=u:i[I+1]=nv(i[I+1],u),I=u;x&&(i[u+1]=Rp(i[u+1])),Kp(i,O,u,!0),Kp(i,O,u,!1),function VE(i,s,a,u,h){const g=h?i.residualClasses:i.residualStyles;null!=g&&"string"==typeof s&&Ll(g,s)>=0&&(a[u+1]=rv(a[u+1]))}(s,O,i,u,g),_=ql(w,I),g?s.classBindings=_:s.styleBindings=_}(h,g,s,a,_,u)}}(g,i,_,u),s!==Ft&&Ni(h,_,s)&&function Gv(i,s,a,u,h,g,_,w){if(!(3&s.type))return;const I=i.data,x=I[w+1];Qp(function Op(i){return 1==(1&i)}(x)?Os(I,s,a,h,Zo(x),_):void 0)||(Qp(g)||function Gd(i){return 2==(2&i)}(x)&&(g=Os(I,null,a,h,w,_)),function UD(i,s,a,u,h){const g=cn(i);if(s)h?g?i.addClass(a,u):a.classList.add(u):g?i.removeClass(a,u):a.classList.remove(u);else{let _=-1===u.indexOf("-")?void 0:Yi.DashCase;if(null==h)g?i.removeStyle(a,u,_):a.style.removeProperty(u);else{const w="string"==typeof h&&h.endsWith("!important");w&&(h=h.slice(0,-10),_|=Yi.Important),g?i.setStyle(a,u,h,_):a.style.setProperty(u,h,w?"important":"")}}}(u,_,zi(qr(),a),h,g))}(g,g.data[qr()],h,h[11],i,h[_+1]=function K1(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=Y(ll(i)))),i}(s,a),u,_)}(i,s,null,!0),wm}function Yp(i,s,a,u,h){let g=null;const _=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<_&&(g=s[w],u=uh(u,g.hostAttrs,h),g!==i);)w++;return null!==i&&(a.directiveStylingLast=w),u}function uh(i,s,a){const u=a?1:2;let h=-1;if(null!==s)for(let g=0;g<s.length;g++){const _=s[g];"number"==typeof _?h=_:h===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),ai(i,_,!!a||s[++g]))}return void 0===i?null:i}function Os(i,s,a,u,h,g){const _=null===s;let w;for(;h>0;){const I=i[h],x=Array.isArray(I),O=x?I[1]:I,B=null===O;let ee=a[h+1];ee===Ft&&(ee=B?At:void 0);let ge=B?Fl(ee,u):O===u?ee:void 0;if(x&&!Qp(ge)&&(ge=Fl(I,u)),Qp(ge)&&(w=ge,_))return w;const Ne=i[h+1];h=_?Qi(Ne):Zo(Ne)}if(null!==s){let I=g?s.residualClasses:s.residualStyles;null!=I&&(w=Fl(I,u))}return w}function Qp(i){return void 0!==i}function WE(i,s=""){const a=Fe(),u=Nt(),h=i+22,g=u.firstCreatePass?Ns(u,h,1,s,null):u.data[h],_=a[h]=function Dc(i,s){return cn(i)?i.createText(s):i.createTextNode(s)}(a[11],s);Sg(u,a,_,g),yi(g,!1)}function Im(i){return Dm("",i,""),Im}function Dm(i,s,a){const u=Fe(),h=function th(i,s,a,u){return Ni(i,Ti(),a)?s+_e(a)+u:Ft}(u,i,s,a);return h!==Ft&&fl(u,qr(),h),Dm}const jc=void 0;var dA=["en",[["a","p"],["AM","PM"],jc],[["AM","PM"],jc,jc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jc,"{1} 'at' {0}",jc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function cA(i){const a=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let Jp={};function zv(i){const s=function hA(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=qv(s);if(a)return a;const u=s.split("-")[0];if(a=qv(u),a)return a;if("en"===u)return dA;throw new Me(701,!1)}function pC(i){return zv(i)[Dt.PluralCase]}function qv(i){return i in Jp||(Jp[i]=He.ng&&He.ng.common&&He.ng.common.locales&&He.ng.common.locales[i]),Jp[i]}var Dt=(()=>((Dt=Dt||{})[Dt.LocaleId=0]="LocaleId",Dt[Dt.DayPeriodsFormat=1]="DayPeriodsFormat",Dt[Dt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Dt[Dt.DaysFormat=3]="DaysFormat",Dt[Dt.DaysStandalone=4]="DaysStandalone",Dt[Dt.MonthsFormat=5]="MonthsFormat",Dt[Dt.MonthsStandalone=6]="MonthsStandalone",Dt[Dt.Eras=7]="Eras",Dt[Dt.FirstDayOfWeek=8]="FirstDayOfWeek",Dt[Dt.WeekendRange=9]="WeekendRange",Dt[Dt.DateFormat=10]="DateFormat",Dt[Dt.TimeFormat=11]="TimeFormat",Dt[Dt.DateTimeFormat=12]="DateTimeFormat",Dt[Dt.NumberSymbols=13]="NumberSymbols",Dt[Dt.NumberFormats=14]="NumberFormats",Dt[Dt.CurrencyCode=15]="CurrencyCode",Dt[Dt.CurrencySymbol=16]="CurrencySymbol",Dt[Dt.CurrencyName=17]="CurrencyName",Dt[Dt.Currencies=18]="Currencies",Dt[Dt.Directionality=19]="Directionality",Dt[Dt.PluralCase=20]="PluralCase",Dt[Dt.ExtraData=21]="ExtraData",Dt))();const Ir="en-US";let fC=Ir;function of(i,s,a,u,h){if(i=j(i),Array.isArray(i))for(let g=0;g<i.length;g++)of(i[g],s,a,u,h);else{const g=Nt(),_=Fe();let w=Lt(i)?i:j(i.provide),I=Aw(i);const x=Sn(),O=1048575&x.providerIndexes,B=x.directiveStart,ee=x.providerIndexes>>20;if(Lt(i)||!i.multi){const ge=new ho(I,h,wa),Ne=a0(w,s,h?O:O+ee,B);-1===Ne?(Cs(Uo(x,_),g,w),s0(g,i,s.length),s.push(w),x.directiveStart++,x.directiveEnd++,h&&(x.providerIndexes+=1048576),a.push(ge),_.push(ge)):(a[Ne]=ge,_[Ne]=ge)}else{const ge=a0(w,s,O+ee,B),Ne=a0(w,s,O,O+ee),$e=ge>=0&&a[ge],nt=Ne>=0&&a[Ne];if(h&&!nt||!h&&!$e){Cs(Uo(x,_),g,w);const lt=function u0(i,s,a,u,h){const g=new ho(i,a,wa);return g.multi=[],g.index=s,g.componentProviders=0,LC(g,h,u&&!a),g}(h?l0:Lm,a.length,h,u,I);!h&&nt&&(a[Ne].providerFactory=lt),s0(g,i,s.length,0),s.push(w),x.directiveStart++,x.directiveEnd++,h&&(x.providerIndexes+=1048576),a.push(lt),_.push(lt)}else s0(g,i,ge>-1?ge:Ne,LC(a[h?Ne:ge],I,!h&&u));!h&&u&&nt&&a[Ne].componentProviders++}}}function s0(i,s,a,u){const h=Lt(s),g=function ku(i){return!!i.useClass}(s);if(h||g){const I=(g?j(s.useClass):s).prototype.ngOnDestroy;if(I){const x=i.destroyHooks||(i.destroyHooks=[]);if(!h&&s.multi){const O=x.indexOf(a);-1===O?x.push(a,[u,I]):x[O+1].push(u,I)}else x.push(a,I)}}}function LC(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function a0(i,s,a,u){for(let h=a;h<u;h++)if(s[h]===i)return h;return-1}function Lm(i,s,a,u){return sf(this.multi,[])}function l0(i,s,a,u){const h=this.multi;let g;if(this.providerFactory){const _=this.providerFactory.componentProviders,w=po(a,a[1],this.providerFactory.index,u);g=w.slice(0,_),sf(h,g);for(let I=_;I<w.length;I++)g.push(w[I])}else g=[],sf(h,g);return g}function sf(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function c0(i,s=[]){return a=>{a.providersResolver=(u,h)=>function FC(i,s,a){const u=Nt();if(u.firstCreatePass){const h=Ai(i);of(a,u.data,u.blueprint,h,!0),of(s,u.data,u.blueprint,h,!1)}}(u,h?h(i):i,s)}}class PA{resolveComponentFactory(s){throw function NA(i){const s=Error(`No component factory found for ${Y(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let Vm=(()=>{class i{}return i.NULL=new PA,i})();class Gc{}class VC{}function FA(){return ph(Sn(),Fe())}function ph(i,s){return new af(sr(i,s))}let af=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=FA,i})();function LA(i){return i instanceof af?i.nativeElement:i}class f0{}let BC=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function VA(){const i=Fe(),a=ar(Sn().index,i);return function g0(i){return i[11]}(zn(a)?a:i)}(),i})(),BA=(()=>{class i{}return i.\u0275prov=Ut({token:i,providedIn:"root",factory:()=>null}),i})();class UC{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const m0=new UC("14.0.4"),Bm={};function lf(i,s,a,u,h=!1){for(;null!==a;){const g=s[a.index];if(null!==g&&u.push(bn(g)),$r(g))for(let w=10;w<g.length;w++){const I=g[w],x=I[1].firstChild;null!==x&&lf(I[1],I,x,u)}const _=a.type;if(8&_)lf(i,s,a.child,u);else if(32&_){const w=dl(a,s);let I;for(;I=w();)u.push(I)}else if(16&_){const w=hw(s,a);if(Array.isArray(w))u.push(...w);else{const I=Cr(s[16]);lf(I[1],I,w,u,!0)}}a=h?a.projectionNext:a.next}return u}class fh{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return lf(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if($r(s)){const a=s[8],u=a?a.indexOf(this):-1;u>-1&&(Od(s,u),ha(a,u))}this._attachedToViewContainer=!1}Ac(this._lView[1],this._lView)}onDestroy(s){rE(this._lView[1],this._lView,null,s)}markForCheck(){nm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function im(i,s,a){const u=s[10];u.begin&&u.begin();try{Ia(i,s,i.template,a)}catch(h){throw gE(s,h),h}finally{u.end&&u.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function RD(i,s){xp(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Me(902,!1);this._appRef=s}}class jC extends fh{constructor(s){super(s),this._view=s}detectChanges(){pE(this._view)}checkNoChanges(){}get context(){return null}}class GC extends Vm{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=zt(s);return new uf(a,this.ngModule)}}function HC(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class Qx{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,u){const h=this.injector.get(s,Bm,u);return h!==Bm||a===Bm?h:this.parentInjector.get(s,a,u)}}class uf extends VC{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function kg(i){return i.map(WD).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return HC(this.componentDef.inputs)}get outputs(){return HC(this.componentDef.outputs)}create(s,a,u,h){let g=(h=h||this.ngModule)instanceof Kr?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const _=g?new Qx(s,g):s,w=_.get(f0,Ws),I=_.get(BA,null),x=w.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",B=u?function dv(i,s,a){if(cn(i))return i.selectRootElement(s,a===bt.ShadowDom);let u="string"==typeof s?i.querySelector(s):s;return u.textContent="",u}(x,u,this.componentDef.encapsulation):Vr(w.createRenderer(null,this.componentDef),O,function Yx(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(O)),ee=this.componentDef.onPush?288:272,ge=function jp(i,s){return{components:[],scheduler:i||Ze,clean:S1,playerHandler:s||null,flags:0}}(),Ne=Zg(0,null,null,1,0,null,null,null,null,null),$e=kc(null,Ne,ge,ee,null,null,w,x,I,_,null);let nt,lt;ia($e);try{const It=function _v(i,s,a,u,h,g){const _=a[1];a[22]=i;const I=Ns(_,22,2,"#host",null),x=I.mergedAttrs=s.hostAttrs;null!==x&&(Da(I,x,!0),null!==i&&(D(h,i,x),null!==I.classes&&Mg(h,i,I.classes),null!==I.styles&&pw(h,i,I.styles)));const O=u.createRenderer(i,s),B=kc(a,tE(s),null,s.onPush?32:16,a[22],I,u,O,g||null,null,null);return _.firstCreatePass&&(Cs(Uo(I,a),_,s.type),Xg(_,I),uE(I,a.length,1)),tm(a,B),a[22]=B}(B,this.componentDef,$e,w,x);if(B)if(u)D(x,B,["ng-version",m0.full]);else{const{attrs:Ve,classes:yt}=function Ld(i){const s=[],a=[];let u=1,h=2;for(;u<i.length;){let g=i[u];if("string"==typeof g)2===h?""!==g&&s.push(g,i[++u]):8===h&&a.push(g);else{if(!Ms(h))break;h=g}u++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);Ve&&D(x,B,Ve),yt&&yt.length>0&&Mg(x,B,yt.join(" "))}if(lt=Tn(Ne,22),void 0!==a){const Ve=lt.projection=[];for(let yt=0;yt<this.ngContentSelectors.length;yt++){const ln=a[yt];Ve.push(null!=ln?Array.from(ln):null)}}nt=function Jd(i,s,a,u,h){const g=a[1],_=function Qg(i,s,a){const u=Sn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),cE(i,u,s,Yo(i,s,1,null),a));const h=po(s,i,u.directiveStart,u);qt(h,s);const g=sr(u,s);return g&&qt(g,s),h}(g,a,s);if(u.components.push(_),i[8]=_,null!==h)for(const I of h)I(_,s);if(s.contentQueries){const I=Sn();s.contentQueries(1,_,I.directiveStart)}const w=Sn();return!g.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(sa(w.index),Jg(a[1],w,0,w.directiveStart,w.directiveEnd,s),aE(s,_)),_}(It,this.componentDef,$e,ge,[vv]),Nc(Ne,$e,null)}finally{Ml()}return new $C(this.componentType,nt,ph(lt,$e),$e,lt)}}class $C extends class OA{}{constructor(s,a,u,h,g){super(),this.location=u,this._rootLView=h,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new jC(h),this.componentType=s}get injector(){return new Go(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function UA(i,s){return new y0(i,s??null)}class y0 extends Gc{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new GC(this);const u=function Hn(i,s){const a=i[an]||null;if(!a&&!0===s)throw new Error(`Type ${Y(i)} does not have '\u0275mod' property.`);return a}(s);this._bootstrapComponents=function Wn(i){return i instanceof Function?i():i}(u.bootstrap),this._r3Injector=$_(s,a,[{provide:Gc,useValue:this},{provide:Vm,useValue:this.componentFactoryResolver}],Y(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(s)}get(s,a=pl.THROW_IF_NOT_FOUND,u=ut.Default){return s===pl||s===Gc||s===kn?this:this._r3Injector.get(s,a,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class cf extends class RA{}{constructor(s){super(),this.moduleType=s}create(s){return new y0(this.moduleType,s)}}function zC(i,s,a,u,h){return function WC(i,s,a,u,h,g,_){const w=s+a;return function gl(i,s,a,u){const h=Ni(i,s,a);return Ni(i,s+1,u)||h}(i,w,h,g)?Ps(i,w+2,_?u.call(_,h,g):u(h,g)):jm(i,w+2)}(Fe(),lr(),i,s,a,u,h)}function jm(i,s){const a=i[s];return a===Ft?void 0:a}function zm(i,s){const a=Nt();let u;const h=i+22;a.firstCreatePass?(u=function v0(i,s){if(s)for(let a=s.length-1;a>=0;a--){const u=s[a];if(i===u.name)return u}}(s,a.pipeRegistry),a.data[h]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,u.onDestroy)):u=a.data[h];const g=u.factory||(u.factory=so(u.type)),_=Cn(wa);try{const w=Ja(!1),I=g();return Ja(w),function hm(i,s,a,u){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=u}(a,Fe(),h,I),I}finally{Cn(_)}}function qm(i,s,a){const u=i+22,h=Fe(),g=lo(h,u);return function gh(i,s){return i[1].data[s].pure}(h,u)?function qC(i,s,a,u,h,g){const _=s+a;return Ni(i,_,h)?Ps(i,_+1,g?u.call(g,h):u(h)):jm(i,_+1)}(h,lr(),s,g.transform,a,g):g.transform(a)}function Wm(i){return s=>{setTimeout(i,void 0,s)}}const xa=class ZC extends d.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,u){let h=s,g=a||(()=>null),_=u;if(s&&"object"==typeof s){const I=s;h=I.next?.bind(I),g=I.error?.bind(I),_=I.complete?.bind(I)}this.__isAsync&&(g=Wm(g),h&&(h=Wm(h)),_&&(_=Wm(_)));const w=super.subscribe({next:h,error:g,complete:_});return s instanceof K.w0&&s.add(w),w}};function hf(){return this._results[Rc()]()}class b0{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Rc(),u=b0.prototype;u[a]||(u[a]=hf)}get changes(){return this._changes||(this._changes=new xa)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const u=this;u.dirty=!1;const h=Er(s);(this._changesDetected=!function fu(i,s,a){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let h=i[u],g=s[u];if(a&&(h=a(h),g=a(g)),g!==h)return!1}return!0}(u._results,h,a))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let mh=(()=>{class i{}return i.__NG_ELEMENT_ID__=YC,i})();const WA=mh,KA=class extends WA{constructor(s,a,u){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(s,a){const u=this._declarationTContainer.tViews,h=kc(this._declarationLView,u,s,16,null,u.declTNode,null,null,null,null,a||null);h[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(h[19]=_.createEmbeddedView(u)),Nc(u,h,s),new fh(h)}};function YC(){return pf(Sn(),Fe())}function pf(i,s){return 4&i.type?new KA(s,i,ph(i,s)):null}let ff=(()=>{class i{}return i.__NG_ELEMENT_ID__=ZA,i})();function ZA(){return JC(Sn(),Fe())}const YA=ff,QC=class extends YA{constructor(s,a,u){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=u}get element(){return ph(this._hostTNode,this._hostLView)}get injector(){return new Go(this._hostTNode,this._hostLView)}get parentInjector(){const s=ua(this._hostTNode,this._hostLView);if(en(s)){const a=Lr(s,this._hostLView),u=Gt(s);return new Go(a[1].data[u+8],a)}return new Go(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=w0(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,u){let h,g;"number"==typeof u?h=u:null!=u&&(h=u.index,g=u.injector);const _=s.createEmbeddedView(a||{},g);return this.insert(_,h),_}createComponent(s,a,u,h,g){const _=s&&!function go(i){return"function"==typeof i}(s);let w;if(_)w=a;else{const B=a||{};w=B.index,u=B.injector,h=B.projectableNodes,g=B.environmentInjector||B.ngModuleRef}const I=_?s:new uf(zt(s)),x=u||this.parentInjector;if(!g&&null==I.ngModule){const ee=(_?x:this.parentInjector).get(Kr,null);ee&&(g=ee)}const O=I.create(x,h,void 0,g);return this.insert(O.hostView,w),O}insert(s,a){const u=s._lView,h=u[1];if(function No(i){return $r(i[3])}(u)){const O=this.indexOf(s);if(-1!==O)this.detach(O);else{const B=u[3],ee=new QC(B,B[6],B[3]);ee.detach(ee.indexOf(s))}}const g=this._adjustIndex(a),_=this._lContainer;!function FD(i,s,a,u){const h=10+u,g=a.length;u>0&&(a[h-1][4]=s),u<g-10?(s[4]=a[h],_i(a,10+u,s)):(a.push(s),s[4]=null),s[3]=a;const _=s[17];null!==_&&a!==_&&function lw(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(_,s);const w=s[19];null!==w&&w.insertView(i),s[2]|=64}(h,u,_,g);const w=Tp(g,_),I=u[11],x=Dp(I,_[7]);return null!==x&&function PD(i,s,a,u,h,g){u[0]=h,u[6]=s,xp(i,u,a,1,h,g)}(h,_[6],I,u,x,w),s.attachToViewContainerRef(),_i(E0(_),g,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=w0(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),u=Od(this._lContainer,a);u&&(ha(E0(this._lContainer),a),Ac(u[1],u))}detach(s){const a=this._adjustIndex(s,-1),u=Od(this._lContainer,a);return u&&null!=ha(E0(this._lContainer),a)?new fh(u):null}_adjustIndex(s,a=0){return s??this.length+a}};function w0(i){return i[8]}function E0(i){return i[8]||(i[8]=[])}function JC(i,s){let a;const u=s[i.index];if($r(u))a=u;else{let h;if(8&i.type)h=bn(u);else{const g=s[11];h=g.createComment("");const _=sr(i,s);hl(g,Dp(g,_),h,function dw(i,s){return cn(i)?i.nextSibling(s):s.nextSibling}(g,_),!1)}s[i.index]=a=em(u,s,h,i),tm(s,a)}return new QC(a,i,s)}class C0{constructor(s){this.queryList=s,this.matches=null}clone(){return new C0(this.queryList)}setDirty(){this.queryList.setDirty()}}class I0{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const u=null!==s.contentQueries?s.contentQueries[0]:a.length,h=[];for(let g=0;g<u;g++){const _=a.getByIndex(g);h.push(this.queries[_.indexInDeclarationView].clone())}return new I0(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==gf(s,a).matches&&this.queries[a].setDirty()}}class eI{constructor(s,a,u=null){this.predicate=s,this.flags=a,this.read=u}}class Km{constructor(s=[]){this.queries=s}elementStart(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let u=0;u<this.length;u++){const h=null!==a?a.length:0,g=this.getByIndex(u).embeddedTView(s,h);g&&(g.indexInDeclarationView=u,null!==a?a.push(g):a=[g])}return null!==a?new Km(a):null}template(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Zm{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Zm(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const g=u[h];this.matchTNodeWithReadOption(s,a,JA(a,g)),this.matchTNodeWithReadOption(s,a,tc(a,s,g,!1,!1))}else u===mh?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,tc(a,s,u,!1,!1))}matchTNodeWithReadOption(s,a,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===af||h===ff||h===mh&&4&a.type)this.addMatch(a.index,-2);else{const g=tc(a,s,h,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,u)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function JA(i,s){const a=i.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===s)return a[u+1];return null}function eT(i,s,a,u){return-1===a?function XA(i,s){return 11&i.type?ph(i,s):4&i.type?pf(i,s):null}(s,i):-2===a?function Co(i,s,a){return a===af?ph(s,i):a===mh?pf(s,i):a===ff?JC(s,i):void 0}(i,s,u):po(i,i[1],a,s)}function tI(i,s,a,u){const h=s[19].queries[u];if(null===h.matches){const g=i.data,_=a.matches,w=[];for(let I=0;I<_.length;I+=2){const x=_[I];w.push(x<0?null:eT(s,g[x],_[I+1],a.metadata.read))}h.matches=w}return h.matches}function D0(i,s,a,u){const h=i.queries.getByIndex(a),g=h.matches;if(null!==g){const _=tI(i,s,h,a);for(let w=0;w<g.length;w+=2){const I=g[w];if(I>0)u.push(_[w/2]);else{const x=g[w+1],O=s[-I];for(let B=10;B<O.length;B++){const ee=O[B];ee[17]===ee[3]&&D0(ee[1],ee,x,u)}if(null!==O[9]){const B=O[9];for(let ee=0;ee<B.length;ee++){const ge=B[ee];D0(ge[1],ge,x,u)}}}}}return u}function A0(i){const s=Fe(),a=Nt(),u=Ka();vs(u+1);const h=gf(a,u);if(i.dirty&&Ys(s)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const g=h.crossesNgTemplate?D0(a,s,u,[]):tI(a,s,h,u);i.reset(g,LA),i.notifyOnChanges()}return!0}return!1}function Ym(i,s,a){const u=Nt();u.firstCreatePass&&(function Qm(i,s,a){null===i.queries&&(i.queries=new Km),i.queries.track(new Zm(s,a))}(u,new eI(i,s,a),-1),2==(2&s)&&(u.staticViewQueries=!0)),function ct(i,s,a){const u=new b0(4==(4&a));rE(i,s,u,u.destroy),null===s[19]&&(s[19]=new I0),s[19].queries.push(new C0(u))}(u,Fe(),s)}function nI(){return function Yl(i,s){return i[19].queries[s].queryList}(Fe(),Ka())}function gf(i,s){return i.queries.getByIndex(s)}function Jm(i,s){return pf(i,s)}function ry(...i){}const G0=new pn("Application Initializer");let Ch=(()=>{class i{constructor(a){this.appInits=a,this.resolve=ry,this.reject=ry,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(kv(g))a.push(g);else if(qp(g)){const _=new Promise((w,I)=>{g.subscribe({complete:w,error:I})});a.push(_)}}Promise.all(a).then(()=>{u()}).catch(h=>{this.reject(h)}),0===a.length&&u(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Ke(G0,8))},i.\u0275prov=Ut({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const H0=new pn("AppId",{providedIn:"root",factory:function fI(){return`${vf()}${vf()}${vf()}`}});function vf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const iy=new pn("Platform Initializer"),di=new pn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ei=new pn("appBootstrapListener"),bf=new pn("LocaleId",{providedIn:"root",factory:()=>function Pt(i,s=ut.Default){return Ke(i,s)}(bf,ut.Optional|ut.SkipSelf)||function pT(){return typeof $localize<"u"&&$localize.locale||Ir}()}),fT=new pn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),oy=(()=>Promise.resolve(0))();function wf(i){typeof Zone>"u"?oy.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Io{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xa(!1),this.onMicrotaskEmpty=new xa(!1),this.onStable=new xa(!1),this.onError=new xa(!1),typeof Zone>"u")throw new Me(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&a,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function z0(){let i=He.requestAnimationFrame,s=He.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function EI(i){const s=()=>{!function wI(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(He,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,sy(i),i.isCheckStableRunning=!0,$c(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),sy(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,h,g,_,w)=>{try{return Ef(i),a.invokeTask(h,g,_,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||i.shouldCoalesceRunChangeDetection)&&s(),CI(i)}},onInvoke:(a,u,h,g,_,w,I)=>{try{return Ef(i),a.invoke(h,g,_,w,I)}finally{i.shouldCoalesceRunChangeDetection&&s(),CI(i)}},onHasTask:(a,u,h,g)=>{a.hasTask(h,g),u===h&&("microTask"==g.change?(i._hasPendingMicrotasks=g.microTask,sy(i),$c(i)):"macroTask"==g.change&&(i.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,u,h,g)=>(a.handleError(h,g),i.runOutsideAngular(()=>i.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Io.isInAngularZone())throw new Me(909,!1)}static assertNotInAngularZone(){if(Io.isInAngularZone())throw new Me(909,!1)}run(s,a,u){return this._inner.run(s,a,u)}runTask(s,a,u,h){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+h,s,mT,ry,ry);try{return g.runTask(_,a,u)}finally{g.cancelTask(_)}}runGuarded(s,a,u){return this._inner.runGuarded(s,a,u)}runOutsideAngular(s){return this._outer.run(s)}}const mT={};function $c(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function sy(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Ef(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function CI(i){i._nesting--,$c(i)}class yT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xa,this.onMicrotaskEmpty=new xa,this.onStable=new xa,this.onError=new xa}run(s,a,u){return s.apply(a,u)}runGuarded(s,a,u){return s.apply(a,u)}runOutsideAngular(s){return s()}runTask(s,a,u,h){return s.apply(a,u)}}const zc=new pn(""),II=new pn("");let Ih,_T=(()=>{class i{constructor(a,u,h){this._ngZone=a,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ih||(function DI(i){Ih=i}(h),h.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Io.assertNotInAngularZone(),wf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())wf(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,h){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:h})}whenStable(a,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,h){return[]}}return i.\u0275fac=function(a){return new(a||i)(Ke(Io),Ke(Hu),Ke(II))},i.\u0275prov=Ut({token:i,factory:i.\u0275fac}),i})(),Hu=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return Ih?.findTestabilityInTree(this,a,u)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Ut({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),Ql=null;const Dh=new pn("AllowMultipleToken"),ay=new pn("PlatformDestroyListeners");function dy(i,s,a=[]){const u=`Platform: ${s}`,h=new pn(u);return(g=[])=>{let _=qc();if(!_||_.injector.get(Dh,!1)){const w=[...a,...g,{provide:h,useValue:!0}];i?i(w):function q0(i){if(Ql&&!Ql.get(Dh,!1))throw new Me(400,!1);Ql=i;const s=i.get(Y0);(function W0(i){const s=i.get(iy,null);s&&s.forEach(a=>a())})(i)}(function hy(i=[],s){return pl.create({name:s,providers:[{provide:j_,useValue:"platform"},{provide:ay,useValue:new Set([()=>Ql=null])},...i]})}(w,u))}return function K0(i){const s=qc();if(!s)throw new Me(401,!1);return s}()}}function qc(){return Ql?.get(Y0)??null}let Y0=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const h=function Q0(i,s){let a;return a="noop"===i?new yT:("zone.js"===i?void 0:i)||new Io(s),a}(u?.ngZone,function SI(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(u)),g=[{provide:Io,useValue:h}];return h.run(()=>{const _=pl.create({providers:g,parent:this.injector,name:a.moduleType.name}),w=a.create(_),I=w.injector.get(Au,null);if(!I)throw new Me(402,!1);return h.runOutsideAngular(()=>{const x=h.onError.subscribe({next:O=>{I.handleError(O)}});w.onDestroy(()=>{If(this._modules,w),x.unsubscribe()})}),function Cf(i,s,a){try{const u=a();return kv(u)?u.catch(h=>{throw s.runOutsideAngular(()=>i.handleError(h)),h}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(I,h,()=>{const x=w.injector.get(Ch);return x.runInitializers(),x.donePromise.then(()=>(function Tm(i){gt(i,"Expected localeId to be defined"),"string"==typeof i&&(fC=i.toLowerCase().replace(/_/g,"-"))}(w.injector.get(bf,Ir)||Ir),this._moduleDoBootstrap(w),w))})})}bootstrapModule(a,u=[]){const h=py({},u);return function AI(i,s,a){const u=new cf(a);return Promise.resolve(u)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(a){const u=a.injector.get(fy);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Me(403,!1);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Me(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(ay,null);a&&(a.forEach(u=>u()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Ke(pl))},i.\u0275prov=Ut({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function py(i,s){return Array.isArray(s)?s.reduce(py,i):{...i,...s}}let fy=(()=>{class i{constructor(a,u,h){this._zone=a,this._injector=u,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new F.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),_=new F.y(w=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{Io.assertNotInAngularZone(),wf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{Io.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{I.unsubscribe(),x.unsubscribe()}});this.isStable=(0,H.T)(g,_.pipe((0,W.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,u){const h=a instanceof VC;if(!this._injector.get(Ch).done)throw!h&&function _h(i){const s=zt(i)||Gn(i)||hr(i);return null!==s&&s.standalone}(a),new Me(405,false);let _;_=h?a:this._injector.get(Vm).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const w=function uy(i){return i.isBoundToModule}(_)?void 0:this._injector.get(Gc),x=_.create(pl.NULL,[],u||_.selector,w),O=x.location.nativeElement,B=x.injector.get(zc,null);return B?.registerApplication(O),x.onDestroy(()=>{this.detachView(x.hostView),If(this.components,x),B?.unregisterApplication(O)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new Me(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;If(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Ei,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>If(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Me(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(Ke(Io),Ke(pl),Ke(Au))},i.\u0275prov=Ut({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function If(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let Ah=!0,X0=!1;function gy(){return X0=!0,Ah}function Df(){if(X0)throw new Error("Cannot enable prod mode after platform setup.");Ah=!1}let eb=(()=>{class i{}return i.__NG_ELEMENT_ID__=Sh,i})();function Sh(i){return function tb(i,s,a){if(Gs(i)&&!a){const u=ar(i.index,s);return new fh(u,u)}return 47&i.type?new fh(s[16],s):null}(Sn(),Fe(),16==(16&i))}class Jl{constructor(){}supports(s){return Oc(s)}create(s){return new RI(s)}}const PI=(i,s)=>s;class RI{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||PI}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,u=this._removalsHead,h=0,g=null;for(;a||u;){const _=!u||a&&a.currentIndex<LI(u,h,g)?a:u,w=LI(_,h,g),I=_.currentIndex;if(_===u)h--,u=u._nextRemoved;else if(a=a._next,null==_.previousIndex)h++;else{g||(g=[]);const x=w-h,O=I-h;if(x!=O){for(let ee=0;ee<x;ee++){const ge=ee<g.length?g[ee]:g[ee]=0,Ne=ge+ee;O<=Ne&&Ne<x&&(g[ee]=ge+1)}g[_.previousIndex]=O-x}}w!==I&&s(_,w,I)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Oc(s))throw new Me(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,g,_,a=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)g=s[w],_=this._trackByFn(w,g),null!==a&&Object.is(a.trackById,_)?(u&&(a=this._verifyReinsertion(a,g,_,w)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,_,w),u=!0),a=a._next}else h=0,function Dv(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Rc()]();let u;for(;!(u=a.next()).done;)s(u.value)}}(s,w=>{_=this._trackByFn(h,w),null!==a&&Object.is(a.trackById,_)?(u&&(a=this._verifyReinsertion(a,w,_,h)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,_,h),u=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,u,h){let g;return null===s?g=this._itTail:(g=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,g,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,g,h)):s=this._addAfter(new OI(a,u),g,h),s}_verifyReinsertion(s,a,u,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?s=this._reinsertAfter(g,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,g=s._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(s,a,u),this._addToMoves(s,u),s}_moveAfter(s,a,u){return this._unlink(s),this._insertAfter(s,a,u),this._addToMoves(s,u),s}_addAfter(s,a,u){return this._insertAfter(s,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,u){const h=null===a?this._itHead:a._next;return s._next=h,s._prev=a,null===h?this._itTail=s:h._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new FI),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,u=s._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new FI),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class OI{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kh{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const a=s._prevDup,u=s._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class FI{constructor(){this.map=new Map}put(s){const a=s.trackById;let u=this.map.get(a);u||(u=new kh,this.map.set(a,u)),u.add(s)}get(s,a){const h=this.map.get(s);return h?h.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function LI(i,s,a){const u=i.previousIndex;if(null===u)return u;let h=0;return a&&u<a.length&&(h=a[u]),u+s+h}class ib{constructor(){}supports(s){return s instanceof Map||Xd(s)}create(){return new ET}}class ET{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Xd(s)))throw new Me(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(h,u);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const u=s._prev;return a._next=s,a._prev=u,s._prev=a,u&&(u._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,a);const g=h._prev,_=h._next;return g&&(g._next=_),_&&(_._prev=g),h._next=null,h._prev=null,h}const u=new VI(s);return this._records.set(s,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(u=>a(s[u],u))}}class VI{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ob(){return new Tf([new Jl])}let Tf=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(null!=u){const h=u.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||ob()),deps:[[i,new Ki,new mo]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(null!=u)return u;throw new Me(901,!1)}}return i.\u0275prov=Ut({token:i,providedIn:"root",factory:ob}),i})();function sb(){return new wy([new ib])}let wy=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(u){const h=u.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||sb()),deps:[[i,new Ki,new mo]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(u)return u;throw new Me(901,!1)}}return i.\u0275prov=Ut({token:i,providedIn:"root",factory:sb}),i})();const Ey=dy(null,"core",[]);let Sf=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Ke(fy))},i.\u0275mod=Ct({type:i}),i.\u0275inj=Yt({}),i})();function Cy(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},3942:(ke,Ie,P)=>{"use strict";P.d(Ie,{Z:()=>Me});var d=P(2090),K=P(4859),F=P(9681),H=P(1877);class W{constructor(_e,be){this._delegate=_e,this.firebase=be,(0,F._addComponent)(_e,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(_e,be=F._DEFAULT_ENTRY_NAME){var qe;this._delegate.checkDestroyed();const Je=this._delegate.container.getProvider(_e);return!Je.isInitialized()&&"EXPLICIT"===(null===(qe=Je.getComponent())||void 0===qe?void 0:qe.instantiationMode)&&Je.initialize(),Je.getImmediate({identifier:be})}_removeServiceInstance(_e,be=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(be)}_addComponent(_e){(0,F._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,F._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const J=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function oe(){const Ue=function Y(Ue){const _e={},be={__esModule:!0,initializeApp:function Pe(X,Q={}){const we=F.initializeApp(X,Q);if((0,d.r3)(_e,we.name))return _e[we.name];const ne=new Ue(we,be);return _e[we.name]=ne,ne},app:Je,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function Te(X){const Q=X.name,we=Q.replace("-compat","");if(F._registerComponent(X)&&"PUBLIC"===X.type){const ne=(de=Je())=>{if("function"!=typeof de[we])throw J.create("invalid-app-argument",{appName:Q});return de[we]()};void 0!==X.serviceProps&&(0,d.ZB)(ne,X.serviceProps),be[we]=ne,Ue.prototype[we]=function(...de){return this._getService.bind(this,Q).apply(this,X.multipleInstances?de:[])}}return"PUBLIC"===X.type?be[we]:null},removeApp:function qe(X){delete _e[X]},useAsService:function Qe(X,Q){return"serverAuth"===Q?null:Q},modularAPIs:F}};function Je(X){if(!(0,d.r3)(_e,X=X||F._DEFAULT_ENTRY_NAME))throw J.create("no-app",{appName:X});return _e[X]}return be.default=be,Object.defineProperty(be,"apps",{get:function fe(){return Object.keys(_e).map(X=>_e[X])}}),Je.App=Ue,be}(W);return Ue.INTERNAL=Object.assign(Object.assign({},Ue.INTERNAL),{createFirebaseNamespace:oe,extendNamespace:function _e(be){(0,d.ZB)(Ue,be)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),Ue}(),V=new H.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){V.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ue=self.firebase.SDK_VERSION;Ue&&Ue.indexOf("LITE")>=0&&V.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Me=$;!function Se(Ue){(0,F.registerVersion)("@firebase/app-compat","0.1.28",Ue)}()},9681:(ke,Ie,P)=>{"use strict";P.r(Ie),P.d(Ie,{FirebaseError:()=>H.ZR,SDK_VERSION:()=>Gr,_DEFAULT_ENTRY_NAME:()=>gt,_addComponent:()=>Jt,_addOrOverwriteComponent:()=>Ut,_apps:()=>_t,_clearComponents:()=>Qr,_components:()=>xn,_getProvider:()=>Yt,_registerComponent:()=>nr,_removeServiceInstance:()=>Ot,deleteApp:()=>ut,getApp:()=>rr,getApps:()=>En,initializeApp:()=>no,onLog:()=>Cn,registerVersion:()=>Xt,setLogLevel:()=>Ui});var d=P(5861),K=P(4859),F=P(1877),H=P(2090),W=P(8766);class te{constructor(z){this.container=z}getPlatformInfoString(){return this.container.getProviders().map(xe=>{if(function J(he){return"VERSION"===he.getComponent()?.type}(xe)){const We=xe.getImmediate();return`${We.library}/${We.version}`}return null}).filter(xe=>xe).join(" ")}}const Y="@firebase/app",$=new F.Yd("@firebase/app"),gt="[DEFAULT]",Be={[Y]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_t=new Map,xn=new Map;function Jt(he,z){try{he.container.addComponent(z)}catch(xe){$.debug(`Component ${z.name} failed to register with FirebaseApp ${he.name}`,xe)}}function Ut(he,z){he.container.addOrOverwriteComponent(z)}function nr(he){const z=he.name;if(xn.has(z))return $.debug(`There were multiple attempts to register component ${z}.`),!1;xn.set(z,he);for(const xe of _t.values())Jt(xe,he);return!0}function Yt(he,z){const xe=he.container.getProvider("heartbeat").getImmediate({optional:!0});return xe&&xe.triggerHeartbeat(),he.container.getProvider(z)}function Ot(he,z,xe=gt){Yt(he,z).clearInstance(xe)}function Qr(){xn.clear()}const cr=new H.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class vr{constructor(z,xe,We){this._isDeleted=!1,this._options=Object.assign({},z),this._config=Object.assign({},xe),this._name=xe.name,this._automaticDataCollectionEnabled=xe.automaticDataCollectionEnabled,this._container=We,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(z){this.checkDestroyed(),this._automaticDataCollectionEnabled=z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(z){this._isDeleted=z}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}const Gr="9.8.4";function no(he,z={}){"object"!=typeof z&&(z={name:z});const xe=Object.assign({name:gt,automaticDataCollectionEnabled:!1},z),We=xe.name;if("string"!=typeof We||!We)throw cr.create("bad-app-name",{appName:String(We)});const ot=_t.get(We);if(ot){if((0,H.vZ)(he,ot.options)&&(0,H.vZ)(xe,ot.config))return ot;throw cr.create("duplicate-app",{appName:We})}const Ct=new K.H0(We);for(const dn of xn.values())Ct.addComponent(dn);const un=new vr(he,xe,Ct);return _t.set(We,un),un}function rr(he=gt){const z=_t.get(he);if(!z)throw cr.create("no-app",{appName:he});return z}function En(){return Array.from(_t.values())}function ut(he){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,d.Z)(function*(he){const z=he.name;_t.has(z)&&(_t.delete(z),yield Promise.all(he.container.getProviders().map(xe=>xe.delete())),he.isDeleted=!0)})).apply(this,arguments)}function Xt(he,z,xe){var We;let ot=null!==(We=Be[he])&&void 0!==We?We:he;xe&&(ot+=`-${xe}`);const Ct=ot.match(/\s|\//),un=z.match(/\s|\//);if(Ct||un){const dn=[`Unable to register library "${ot}" with version "${z}":`];return Ct&&dn.push(`library name "${ot}" contains illegal characters (whitespace or "/")`),Ct&&un&&dn.push("and"),un&&dn.push(`version name "${z}" contains illegal characters (whitespace or "/")`),void $.warn(dn.join(" "))}nr(new K.wA(`${ot}-version`,()=>({library:ot,version:z}),"VERSION"))}function Cn(he,z){if(null!==he&&"function"!=typeof he)throw cr.create("invalid-log-argument");(0,F.Am)(he,z)}function Ui(he){(0,F.Ub)(he)}const sn="firebase-heartbeat-store";let Yn=null;function ei(){return Yn||(Yn=(0,W.X3)("firebase-heartbeat-database",1,{upgrade:(he,z)=>{0===z&&he.createObjectStore(sn)}}).catch(he=>{throw cr.create("storage-open",{originalErrorMessage:he.message})})),Yn}function He(){return(He=(0,d.Z)(function*(he){var z;try{return(yield ei()).transaction(sn).objectStore(sn).get(nn(he))}catch(xe){throw cr.create("storage-get",{originalErrorMessage:null===(z=xe)||void 0===z?void 0:z.message})}})).apply(this,arguments)}function wt(he,z){return dr.apply(this,arguments)}function dr(){return(dr=(0,d.Z)(function*(he,z){var xe;try{const ot=(yield ei()).transaction(sn,"readwrite");return yield ot.objectStore(sn).put(z,nn(he)),ot.done}catch(We){throw cr.create("storage-set",{originalErrorMessage:null===(xe=We)||void 0===xe?void 0:xe.message})}})).apply(this,arguments)}function nn(he){return`${he.name}!${he.options.appId}`}class ir{constructor(z){this.container=z,this._heartbeatsCache=null;const xe=this.container.getProvider("app").getImmediate();this._storage=new ue(xe),this._heartbeatsCachePromise=this._storage.read().then(We=>(this._heartbeatsCache=We,We))}triggerHeartbeat(){var z=this;return(0,d.Z)(function*(){const We=z.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ot=Pr();if(null===z._heartbeatsCache&&(z._heartbeatsCache=yield z._heartbeatsCachePromise),z._heartbeatsCache.lastSentHeartbeatDate!==ot&&!z._heartbeatsCache.heartbeats.some(Ct=>Ct.date===ot))return z._heartbeatsCache.heartbeats.push({date:ot,agent:We}),z._heartbeatsCache.heartbeats=z._heartbeatsCache.heartbeats.filter(Ct=>{const un=new Date(Ct.date).valueOf();return Date.now()-un<=2592e6}),z._storage.overwrite(z._heartbeatsCache)})()}getHeartbeatsHeader(){var z=this;return(0,d.Z)(function*(){if(null===z._heartbeatsCache&&(yield z._heartbeatsCachePromise),null===z._heartbeatsCache||0===z._heartbeatsCache.heartbeats.length)return"";const xe=Pr(),{heartbeatsToSend:We,unsentEntries:ot}=function an(he,z=1024){const xe=[];let We=he.slice();for(const ot of he){const Ct=xe.find(un=>un.agent===ot.agent);if(Ct){if(Ct.dates.push(ot.date),Z(xe)>z){Ct.dates.pop();break}}else if(xe.push({agent:ot.agent,dates:[ot.date]}),Z(xe)>z){xe.pop();break}We=We.slice(1)}return{heartbeatsToSend:xe,unsentEntries:We}}(z._heartbeatsCache.heartbeats),Ct=(0,H.L)(JSON.stringify({version:2,heartbeats:We}));return z._heartbeatsCache.lastSentHeartbeatDate=xe,ot.length>0?(z._heartbeatsCache.heartbeats=ot,yield z._storage.overwrite(z._heartbeatsCache)):(z._heartbeatsCache.heartbeats=[],z._storage.overwrite(z._heartbeatsCache)),Ct})()}}function Pr(){return(new Date).toISOString().substring(0,10)}class ue{constructor(z){this.app=z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,H.hl)()&&(0,H.eu)().then(()=>!0).catch(()=>!1)})()}read(){var z=this;return(0,d.Z)(function*(){return(yield z._canUseIndexedDBPromise)&&(yield function bt(he){return He.apply(this,arguments)}(z.app))||{heartbeats:[]}})()}overwrite(z){var xe=this;return(0,d.Z)(function*(){var We;if(yield xe._canUseIndexedDBPromise){const Ct=yield xe.read();return wt(xe.app,{lastSentHeartbeatDate:null!==(We=z.lastSentHeartbeatDate)&&void 0!==We?We:Ct.lastSentHeartbeatDate,heartbeats:z.heartbeats})}})()}add(z){var xe=this;return(0,d.Z)(function*(){var We;if(yield xe._canUseIndexedDBPromise){const Ct=yield xe.read();return wt(xe.app,{lastSentHeartbeatDate:null!==(We=z.lastSentHeartbeatDate)&&void 0!==We?We:Ct.lastSentHeartbeatDate,heartbeats:[...Ct.heartbeats,...z.heartbeats]})}})()}}function Z(he){return(0,H.L)(JSON.stringify({version:2,heartbeats:he})).length}!function ie(he){nr(new K.wA("platform-logger",z=>new te(z),"PRIVATE")),nr(new K.wA("heartbeat",z=>new ir(z),"PRIVATE")),Xt(Y,"0.7.27",he),Xt(Y,"0.7.27","esm2017"),Xt("fire-js","")}("")},4859:(ke,Ie,P)=>{"use strict";P.d(Ie,{H0:()=>Y,wA:()=>F,zt:()=>W});var d=P(5861),K=P(2090);class F{constructor($,V,j){this.name=$,this.instanceFactory=V,this.type=j,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const H="[DEFAULT]";class W{constructor($,V){this.name=$,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const V=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(V)){const j=new K.BH;if(this.instancesDeferred.set(V,j),this.isInitialized(V)||this.shouldAutoInitialize())try{const me=this.getOrInitializeService({instanceIdentifier:V});me&&j.resolve(me)}catch{}}return this.instancesDeferred.get(V).promise}getImmediate($){var V;const j=this.normalizeInstanceIdentifier($?.identifier),me=null!==(V=$?.optional)&&void 0!==V&&V;if(!this.isInitialized(j)&&!this.shouldAutoInitialize()){if(me)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:j})}catch(Se){if(me)return null;throw Se}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function J(oe){return"EAGER"===oe.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:H})}catch{}for(const[V,j]of this.instancesDeferred.entries()){const me=this.normalizeInstanceIdentifier(V);try{const Se=this.getOrInitializeService({instanceIdentifier:me});j.resolve(Se)}catch{}}}}clearInstance($=H){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,d.Z)(function*(){const V=Array.from($.instances.values());yield Promise.all([...V.filter(j=>"INTERNAL"in j).map(j=>j.INTERNAL.delete()),...V.filter(j=>"_delete"in j).map(j=>j._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=H){return this.instances.has($)}getOptions($=H){return this.instancesOptions.get($)||{}}initialize($={}){const{options:V={}}=$,j=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(j))throw Error(`${this.name}(${j}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const me=this.getOrInitializeService({instanceIdentifier:j,options:V});for(const[Se,Me]of this.instancesDeferred.entries())j===this.normalizeInstanceIdentifier(Se)&&Me.resolve(me);return me}onInit($,V){var j;const me=this.normalizeInstanceIdentifier(V),Se=null!==(j=this.onInitCallbacks.get(me))&&void 0!==j?j:new Set;Se.add($),this.onInitCallbacks.set(me,Se);const Me=this.instances.get(me);return Me&&$(Me,me),()=>{Se.delete($)}}invokeOnInitCallbacks($,V){const j=this.onInitCallbacks.get(V);if(j)for(const me of j)try{me($,V)}catch{}}getOrInitializeService({instanceIdentifier:$,options:V={}}){let j=this.instances.get($);if(!j&&this.component&&(j=this.component.instanceFactory(this.container,{instanceIdentifier:(oe=$,oe===H?void 0:oe),options:V}),this.instances.set($,j),this.instancesOptions.set($,V),this.invokeOnInitCallbacks(j,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,j)}catch{}var oe;return j||null}normalizeInstanceIdentifier($=H){return this.component?this.component.multipleInstances?$:H:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Y{constructor($){this.name=$,this.providers=new Map}addComponent($){const V=this.getProvider($.name);if(V.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);V.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const V=new W($,this);return this.providers.set($,V),V}getProviders(){return Array.from(this.providers.values())}}},1877:(ke,Ie,P)=>{"use strict";P.d(Ie,{Am:()=>oe,Ub:()=>Y,Yd:()=>J,in:()=>K});const d=[];var K=(()=>{return($=K||(K={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",K;var $})();const F={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},H=K.INFO,W={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},te=($,V,...j)=>{if(V<$.logLevel)return;const me=(new Date).toISOString(),Se=W[V];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);console[Se](`[${me}]  ${$.name}:`,...j)};class J{constructor(V){this.name=V,this._logLevel=H,this._logHandler=te,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in K))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"==typeof V?F[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(...V){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...V),this._logHandler(this,K.DEBUG,...V)}log(...V){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...V),this._logHandler(this,K.VERBOSE,...V)}info(...V){this._userLogHandler&&this._userLogHandler(this,K.INFO,...V),this._logHandler(this,K.INFO,...V)}warn(...V){this._userLogHandler&&this._userLogHandler(this,K.WARN,...V),this._logHandler(this,K.WARN,...V)}error(...V){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...V),this._logHandler(this,K.ERROR,...V)}}function Y($){d.forEach(V=>{V.setLogLevel($)})}function oe($,V){for(const j of d){let me=null;V&&V.level&&(me=F[V.level]),j.userLogHandler=null===$?null:(Se,Me,...Ue)=>{const _e=Ue.map(be=>{if(null==be)return null;if("string"==typeof be)return be;if("number"==typeof be||"boolean"==typeof be)return be.toString();if(be instanceof Error)return be.message;try{return JSON.stringify(be)}catch{return null}}).filter(be=>be).join(" ");Me>=(me??Se.logLevel)&&$({level:K[Me].toLowerCase(),message:_e,args:Ue,type:Se.name})}}}},8766:(ke,Ie,P)=>{"use strict";P.d(Ie,{Lj:()=>Pe,X3:()=>Je});var d=P(5861);let F,H;const J=new WeakMap,Y=new WeakMap,oe=new WeakMap,$=new WeakMap,V=new WeakMap;let Se={get(Q,we,ne){if(Q instanceof IDBTransaction){if("done"===we)return Y.get(Q);if("objectStoreNames"===we)return Q.objectStoreNames||oe.get(Q);if("store"===we)return ne.objectStoreNames[1]?void 0:ne.objectStore(ne.objectStoreNames[0])}return be(Q[we])},set:(Q,we,ne)=>(Q[we]=ne,!0),has:(Q,we)=>Q instanceof IDBTransaction&&("done"===we||"store"===we)||we in Q};function _e(Q){return"function"==typeof Q?function Ue(Q){return Q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function te(){return H||(H=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Q)?function(...we){return Q.apply(qe(this),we),be(J.get(this))}:function(...we){return be(Q.apply(qe(this),we))}:function(we,...ne){const de=Q.call(qe(this),we,...ne);return oe.set(de,we.sort?we.sort():[we]),be(de)}}(Q):(Q instanceof IDBTransaction&&function me(Q){if(Y.has(Q))return;const we=new Promise((ne,de)=>{const ae=()=>{Q.removeEventListener("complete",Ee),Q.removeEventListener("error",ve),Q.removeEventListener("abort",ve)},Ee=()=>{ne(),ae()},ve=()=>{de(Q.error||new DOMException("AbortError","AbortError")),ae()};Q.addEventListener("complete",Ee),Q.addEventListener("error",ve),Q.addEventListener("abort",ve)});Y.set(Q,we)}(Q),((Q,we)=>we.some(ne=>Q instanceof ne))(Q,function W(){return F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Q,Se):Q)}function be(Q){if(Q instanceof IDBRequest)return function j(Q){const we=new Promise((ne,de)=>{const ae=()=>{Q.removeEventListener("success",Ee),Q.removeEventListener("error",ve)},Ee=()=>{ne(be(Q.result)),ae()},ve=()=>{de(Q.error),ae()};Q.addEventListener("success",Ee),Q.addEventListener("error",ve)});return we.then(ne=>{ne instanceof IDBCursor&&J.set(ne,Q)}).catch(()=>{}),V.set(we,Q),we}(Q);if($.has(Q))return $.get(Q);const we=_e(Q);return we!==Q&&($.set(Q,we),V.set(we,Q)),we}const qe=Q=>V.get(Q);function Je(Q,we,{blocked:ne,upgrade:de,blocking:ae,terminated:Ee}={}){const ve=indexedDB.open(Q,we),se=be(ve);return de&&ve.addEventListener("upgradeneeded",Ge=>{de(be(ve.result),Ge.oldVersion,Ge.newVersion,be(ve.transaction))}),ne&&ve.addEventListener("blocked",()=>ne()),se.then(Ge=>{Ee&&Ge.addEventListener("close",()=>Ee()),ae&&Ge.addEventListener("versionchange",()=>ae())}).catch(()=>{}),se}function Pe(Q,{blocked:we}={}){const ne=indexedDB.deleteDatabase(Q);return we&&ne.addEventListener("blocked",()=>we()),be(ne).then(()=>{})}const fe=["get","getKey","getAll","getAllKeys","count"],Te=["put","add","delete","clear"],Qe=new Map;function X(Q,we){if(!(Q instanceof IDBDatabase)||we in Q||"string"!=typeof we)return;if(Qe.get(we))return Qe.get(we);const ne=we.replace(/FromIndex$/,""),de=we!==ne,ae=Te.includes(ne);if(!(ne in(de?IDBIndex:IDBObjectStore).prototype)||!ae&&!fe.includes(ne))return;const Ee=function(){var ve=(0,d.Z)(function*(se,...Ge){const it=this.transaction(se,ae?"readwrite":"readonly");let gt=it.store;return de&&(gt=gt.index(Ge.shift())),(yield Promise.all([gt[ne](...Ge),ae&&it.done]))[0]});return function(Ge){return ve.apply(this,arguments)}}();return Qe.set(we,Ee),Ee}!function Me(Q){Se=Q(Se)}(Q=>({...Q,get:(we,ne,de)=>X(we,ne)||Q.get(we,ne,de),has:(we,ne)=>!!X(we,ne)||Q.has(we,ne)}))},5861:(ke,Ie,P)=>{"use strict";function d(F,H,W,te,J,Y,oe){try{var $=F[Y](oe),V=$.value}catch(j){return void W(j)}$.done?H(V):Promise.resolve(V).then(te,J)}function K(F){return function(){var H=this,W=arguments;return new Promise(function(te,J){var Y=F.apply(H,W);function oe(V){d(Y,te,J,oe,$,"next",V)}function $(V){d(Y,te,J,oe,$,"throw",V)}oe(void 0)})}}P.d(Ie,{Z:()=>K})}},ke=>{ke(ke.s=5708)}]);