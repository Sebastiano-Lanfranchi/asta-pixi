(self.webpackChunkasta_pixi=self.webpackChunkasta_pixi||[]).push([[179],{2011:(yt,Ne,V)=>{"use strict";V.d(Ne,{Dh:()=>ge,GT:()=>De,cc:()=>ze,hO:()=>ot,on:()=>X,pX:()=>pe,xv:()=>xe});var g=V(4650),H=V(127),O=V(2680);yt=V.hmd(yt);const ce=["ngOnDestroy"],pe=(be,tt,Je,Le={})=>new Proxy(be,{get:(Ve,Te)=>Je.runOutsideAngular(()=>{var nt;if(be[Te])return!(null===(nt=Le?.spy)||void 0===nt)&&nt.get&&Le.spy.get(Te,be[Te]),be[Te];if(ce.indexOf(Te)>-1)return()=>{};const B=tt.toPromise().then(_e=>{const me=_e&&_e[Te];return"function"==typeof me?me.bind(_e):me&&me.then?me.then(te=>Je.run(()=>te)):Je.run(()=>me)});return new Proxy(()=>{},{get:(_e,me)=>B[me],apply:(_e,me,te)=>B.then(oe=>{var re;const ve=oe&&oe(...te);return!(null===(re=Le?.spy)||void 0===re)&&re.apply&&Le.spy.apply(Te,te,ve),ve})})})}),De=(be,tt)=>{tt.forEach(Je=>{Object.getOwnPropertyNames(Je.prototype||Je).forEach(Le=>{Object.defineProperty(be.prototype,Le,Object.getOwnPropertyDescriptor(Je.prototype||Je,Le))})})};class we{constructor(tt){return tt}}const ge=new g.OlP("angularfire2.app.options"),xe=new g.OlP("angularfire2.app.name");function X(be,tt,Je){const Ve="object"==typeof Je&&Je||{};Ve.name=Ve.name||"string"==typeof Je&&Je||"[DEFAULT]";const nt=H.Z.apps.filter(B=>B&&B.name===Ve.name)[0]||tt.runOutsideAngular(()=>H.Z.initializeApp(be,Ve));try{JSON.stringify(be)!==JSON.stringify(nt.options)&&Z("error",`${nt.name} Firebase App already initialized with different options${yt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new we(nt)}const Z=(be,...tt)=>{(0,g.X6Q)()&&typeof console<"u"&&console[be](...tt)},ae={provide:we,useFactory:X,deps:[ge,g.R0b,[new g.FiY,xe]]};let ot=(()=>{class be{constructor(Je){H.Z.registerVersion("angularfire",O.q4.full,"core"),H.Z.registerVersion("angularfire",O.q4.full,"app-compat"),H.Z.registerVersion("angular",g.q4F.full,Je.toString())}static initializeApp(Je,Le){return{ngModule:be,providers:[{provide:ge,useValue:Je},{provide:xe,useValue:Le}]}}}return be.\u0275fac=function(Je){return new(Je||be)(g.LFG(g.Lbi))},be.\u0275mod=g.oAB({type:be}),be.\u0275inj=g.cJS({providers:[ae]}),be})();function ze(be,tt,Je,Le,Ve){const[,Te,nt]=globalThis.\u0275AngularfireInstanceCache.find(B=>B[0]===be)||[];if(Te)return function je(be,tt){try{return be.toString()===tt.toString()}catch{return be===tt}}(Ve,nt)||(Ie("error",`${tt} was already initialized on the ${Je} Firebase App with different settings.${et?" You may need to reload as Firebase is not HMR aware.":""}`),Ie("warn",{is:Ve,was:nt})),Te;{const B=Le();return globalThis.\u0275AngularfireInstanceCache.push([be,B,Ve]),B}}const et=!!yt.hot,Ie=(be,...tt)=>{(0,g.X6Q)()&&typeof console<"u"&&console[be](...tt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2680:(yt,Ne,V)=>{"use strict";V.d(Ne,{q4:()=>qo,iC:()=>td,HU:()=>Mf,vb:()=>Lh,JM:()=>aa,u3:()=>ua});var g=V(4650),H=V(5867),O=V(5861),ce=V(9681),pe=V(2090),De=V(4859),we=V(1877),ge=V(8766);const xe="@firebase/installations",X="0.5.11",ae=`w:${X}`,ot="FIS_v2",tt=new pe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Je(A){return A instanceof pe.ZR&&A.code.includes("request-failed")}function Le({projectId:A}){return`https://firebaseinstallations.googleapis.com/v1/projects/${A}/installations`}function Ve(A){return{token:A.token,requestStatus:2,expiresIn:oe(A.expiresIn),creationTime:Date.now()}}function Te(A,T){return nt.apply(this,arguments)}function nt(){return(nt=(0,O.Z)(function*(A,T){const G=(yield T.json()).error;return tt.create("request-failed",{requestName:A,serverCode:G.code,serverMessage:G.message,serverStatus:G.status})})).apply(this,arguments)}function B({apiKey:A}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A})}function _e(A,{refreshToken:T}){const P=B(A);return P.append("Authorization",function re(A){return`${ot} ${A}`}(T)),P}function me(A){return te.apply(this,arguments)}function te(){return(te=(0,O.Z)(function*(A){const T=yield A();return T.status>=500&&T.status<600?A():T})).apply(this,arguments)}function oe(A){return Number(A.replace("s","000"))}function ve(A,T){return fe.apply(this,arguments)}function fe(){return(fe=(0,O.Z)(function*({appConfig:A,heartbeatServiceProvider:T},{fid:P}){const G=Le(A),ne=B(A),he=T.getImmediate({optional:!0});if(he){const bt=yield he.getHeartbeatsHeader();bt&&ne.append("x-firebase-client",bt)}const He={method:"POST",headers:ne,body:JSON.stringify({fid:P,authVersion:ot,appId:A.appId,sdkVersion:ae})},dt=yield me(()=>fetch(G,He));if(dt.ok){const bt=yield dt.json();return{fid:bt.fid||P,registrationStatus:2,refreshToken:bt.refreshToken,authToken:Ve(bt.authToken)}}throw yield Te("Create Installation",dt)})).apply(this,arguments)}function Ge(A){return new Promise(T=>{setTimeout(T,A)})}const tn=/^[cdef][\w-]{21}$/;function Ze(){try{const A=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(A),A[0]=112+A[0]%16;const P=function nn(A){return function _t(A){return btoa(String.fromCharCode(...A)).replace(/\+/g,"-").replace(/\//g,"_")}(A).substr(0,22)}(A);return tn.test(P)?P:""}catch{return""}}function Wn(A){return`${A.appName}!${A.appId}`}const un=new Map;function $t(A,T){const P=Wn(A);bn(P,T),function Jr(A,T){const P=function xn(){return!Sr&&"BroadcastChannel"in self&&(Sr=new BroadcastChannel("[Firebase] FID Change"),Sr.onmessage=A=>{bn(A.data.key,A.data.fid)}),Sr}();P&&P.postMessage({key:A,fid:T}),function ii(){0===un.size&&Sr&&(Sr.close(),Sr=null)}()}(P,T)}function bn(A,T){const P=un.get(A);if(P)for(const G of P)G(T)}let Sr=null;const Cn="firebase-installations-store";let Ln=null;function ht(){return Ln||(Ln=(0,ge.X3)("firebase-installations-database",1,{upgrade:(A,T)=>{0===T&&A.createObjectStore(Cn)}})),Ln}function Lr(A,T){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,O.Z)(function*(A,T){const P=Wn(A),ne=(yield ht()).transaction(Cn,"readwrite"),he=ne.objectStore(Cn),Re=yield he.get(P);return yield he.put(T,P),yield ne.done,(!Re||Re.fid!==T.fid)&&$t(A,T.fid),T})).apply(this,arguments)}function en(A){return gr.apply(this,arguments)}function gr(){return(gr=(0,O.Z)(function*(A){const T=Wn(A),G=(yield ht()).transaction(Cn,"readwrite");yield G.objectStore(Cn).delete(T),yield G.done})).apply(this,arguments)}function tr(A,T){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,O.Z)(function*(A,T){const P=Wn(A),ne=(yield ht()).transaction(Cn,"readwrite"),he=ne.objectStore(Cn),Re=yield he.get(P),He=T(Re);return void 0===He?yield he.delete(P):yield he.put(He,P),yield ne.done,He&&(!Re||Re.fid!==He.fid)&&$t(A,He.fid),He})).apply(this,arguments)}function sn(A){return kn.apply(this,arguments)}function kn(){return(kn=(0,O.Z)(function*(A){let T;const P=yield tr(A.appConfig,G=>{const ne=Vr(G),he=Et(A,ne);return T=he.registrationPromise,he.installationEntry});return""===P.fid?{installationEntry:yield T}:{installationEntry:P,registrationPromise:T}})).apply(this,arguments)}function Vr(A){return Er(A||{fid:Ze(),registrationStatus:0})}function Et(A,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(tt.create("app-offline"))};const P={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},G=function qe(A,T){return pt.apply(this,arguments)}(A,P);return{installationEntry:P,registrationPromise:G}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:Br(A)}:{installationEntry:T}}function pt(){return(pt=(0,O.Z)(function*(A,T){try{const P=yield ve(A,T);return Lr(A.appConfig,P)}catch(P){throw Je(P)&&409===P.customData.serverCode?yield en(A.appConfig):yield Lr(A.appConfig,{fid:T.fid,registrationStatus:0}),P}})).apply(this,arguments)}function Br(A){return gn.apply(this,arguments)}function gn(){return(gn=(0,O.Z)(function*(A){let T=yield kt(A.appConfig);for(;1===T.registrationStatus;)yield Ge(100),T=yield kt(A.appConfig);if(0===T.registrationStatus){const{installationEntry:P,registrationPromise:G}=yield sn(A);return G||P}return T})).apply(this,arguments)}function kt(A){return tr(A,T=>{if(!T)throw tt.create("installation-not-found");return Er(T)})}function Er(A){return function Rn(A){return 1===A.registrationStatus&&A.registrationTime+1e4<Date.now()}(A)?{fid:A.fid,registrationStatus:0}:A}function wn(A,T){return hn.apply(this,arguments)}function hn(){return(hn=(0,O.Z)(function*({appConfig:A,heartbeatServiceProvider:T},P){const G=ee(A,P),ne=_e(A,P),he=T.getImmediate({optional:!0});if(he){const bt=yield he.getHeartbeatsHeader();bt&&ne.append("x-firebase-client",bt)}const He={method:"POST",headers:ne,body:JSON.stringify({installation:{sdkVersion:ae,appId:A.appId}})},dt=yield me(()=>fetch(G,He));if(dt.ok)return Ve(yield dt.json());throw yield Te("Generate Auth Token",dt)})).apply(this,arguments)}function ee(A,{fid:T}){return`${Le(A)}/${T}/authTokens:generate`}function W(A){return Y.apply(this,arguments)}function Y(){return(Y=(0,O.Z)(function*(A,T=!1){let P;const G=yield tr(A.appConfig,he=>{if(!Lt(he))throw tt.create("not-registered");const Re=he.authToken;if(!T&&cn(Re))return he;if(1===Re.requestStatus)return P=ie(A,T),he;{if(!navigator.onLine)throw tt.create("app-offline");const He=Kt(he);return P=Ye(A,He),He}});return P?yield P:G.authToken})).apply(this,arguments)}function ie(A,T){return $.apply(this,arguments)}function $(){return($=(0,O.Z)(function*(A,T){let P=yield Ce(A.appConfig);for(;1===P.authToken.requestStatus;)yield Ge(100),P=yield Ce(A.appConfig);const G=P.authToken;return 0===G.requestStatus?W(A,T):G})).apply(this,arguments)}function Ce(A){return tr(A,T=>{if(!Lt(T))throw tt.create("not-registered");return function de(A){return 1===A.requestStatus&&A.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Ye(A,T){return st.apply(this,arguments)}function st(){return(st=(0,O.Z)(function*(A,T){try{const P=yield wn(A,T),G=Object.assign(Object.assign({},T),{authToken:P});return yield Lr(A.appConfig,G),P}catch(P){if(!Je(P)||401!==P.customData.serverCode&&404!==P.customData.serverCode){const G=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Lr(A.appConfig,G)}else yield en(A.appConfig);throw P}})).apply(this,arguments)}function Lt(A){return void 0!==A&&2===A.registrationStatus}function cn(A){return 2===A.requestStatus&&!function _n(A){const T=Date.now();return T<A.creationTime||A.creationTime+A.expiresIn<T+36e5}(A)}function Kt(A){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},A),{authToken:T})}function K(){return(K=(0,O.Z)(function*(A){const T=A,{installationEntry:P,registrationPromise:G}=yield sn(T);return G?G.catch(console.error):W(T).catch(console.error),P.fid})).apply(this,arguments)}function Ke(){return(Ke=(0,O.Z)(function*(A,T=!1){const P=A;return yield vt(P),(yield W(P,T)).token})).apply(this,arguments)}function vt(A){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,O.Z)(function*(A){const{registrationPromise:T}=yield sn(A);T&&(yield T)})).apply(this,arguments)}function Ti(A){return tt.create("missing-app-config-values",{valueName:A})}const Vt="installations",No=A=>{const T=A.getProvider("app").getImmediate(),P=function Pt(A){if(!A||!A.options)throw Ti("App Configuration");if(!A.name)throw Ti("App Name");const T=["projectId","apiKey","appId"];for(const P of T)if(!A.options[P])throw Ti(P);return{appName:A.name,projectId:A.options.projectId,apiKey:A.options.apiKey,appId:A.options.appId}}(T);return{app:T,appConfig:P,heartbeatServiceProvider:(0,ce._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Vs=A=>{const T=A.getProvider("app").getImmediate(),P=(0,ce._getProvider)(T,Vt).getImmediate();return{getId:()=>function q(A){return K.apply(this,arguments)}(P),getToken:ne=>function Ae(A){return Ke.apply(this,arguments)}(P,ne)}};(function ao(){(0,ce._registerComponent)(new De.wA(Vt,No,"PUBLIC")),(0,ce._registerComponent)(new De.wA("installations-internal",Vs,"PRIVATE"))})(),(0,ce.registerVersion)(xe,X),(0,ce.registerVersion)(xe,X,"esm2017");const Qn="@firebase/remote-config",yr=new pe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class cl{constructor(T,P,G,ne){this.client=T,this.storage=P,this.storageCache=G,this.logger=ne}isCachedDataFresh(T,P){if(!P)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const G=Date.now()-P,ne=G<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${G}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${ne}.`),ne}fetch(T){var P=this;return(0,O.Z)(function*(){const[G,ne]=yield Promise.all([P.storage.getLastSuccessfulFetchTimestampMillis(),P.storage.getLastSuccessfulFetchResponse()]);if(ne&&P.isCachedDataFresh(T.cacheMaxAgeMillis,G))return ne;T.eTag=ne&&ne.eTag;const he=yield P.client.fetch(T),Re=[P.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===he.status&&Re.push(P.storage.setLastSuccessfulFetchResponse(he)),yield Promise.all(Re),he})()}}function Us(A=navigator){return A.languages&&A.languages[0]||A.language}class Hi{constructor(T,P,G,ne,he,Re){this.firebaseInstallations=T,this.sdkVersion=P,this.namespace=G,this.projectId=ne,this.apiKey=he,this.appId=Re}fetch(T){var P=this;return(0,O.Z)(function*(){var G,ne,he;const[Re,He]=yield Promise.all([P.firebaseInstallations.getId(),P.firebaseInstallations.getToken()]),bt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${P.projectId}/namespaces/${P.namespace}:fetch?key=${P.apiKey}`,Ot={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},It={sdk_version:P.sdkVersion,app_instance_id:Re,app_instance_id_token:He,app_id:P.appId,language_code:Us()},Pr={method:"POST",headers:Ot,body:JSON.stringify(It)},wi=fetch(bt,Pr),cu=new Promise((vo,Ei)=>{T.signal.addEventListener(()=>{const kl=new Error("The operation was aborted.");kl.name="AbortError",Ei(kl)})});let eo;try{yield Promise.race([wi,cu]),eo=yield wi}catch(vo){let Ei="fetch-client-network";throw"AbortError"===(null===(G=vo)||void 0===G?void 0:G.name)&&(Ei="fetch-timeout"),yr.create(Ei,{originalErrorMessage:null===(ne=vo)||void 0===ne?void 0:ne.message})}let ei=eo.status;const xl=eo.headers.get("ETag")||void 0;let _o,ca;if(200===eo.status){let vo;try{vo=yield eo.json()}catch(Ei){throw yr.create("fetch-client-parse",{originalErrorMessage:null===(he=Ei)||void 0===he?void 0:he.message})}_o=vo.entries,ca=vo.state}if("INSTANCE_STATE_UNSPECIFIED"===ca?ei=500:"NO_CHANGE"===ca?ei=304:("NO_TEMPLATE"===ca||"EMPTY_CONFIG"===ca)&&(_o={}),304!==ei&&200!==ei)throw yr.create("fetch-status",{httpStatus:ei});return{status:ei,eTag:xl,config:_o}})()}}class $i{constructor(T,P){this.client=T,this.storage=P}fetch(T){var P=this;return(0,O.Z)(function*(){const G=(yield P.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return P.attemptFetch(T,G)})()}attemptFetch(T,{throttleEndTimeMillis:P,backoffCount:G}){var ne=this;return(0,O.Z)(function*(){yield function Bu(A,T){return new Promise((P,G)=>{const ne=Math.max(T-Date.now(),0),he=setTimeout(P,ne);A.addEventListener(()=>{clearTimeout(he),G(yr.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,P);try{const he=yield ne.client.fetch(T);return yield ne.storage.deleteThrottleMetadata(),he}catch(he){if(!function Mi(A){if(!(A instanceof pe.ZR&&A.customData))return!1;const T=Number(A.customData.httpStatus);return 429===T||500===T||503===T||504===T}(he))throw he;const Re={throttleEndTimeMillis:Date.now()+(0,pe.$s)(G),backoffCount:G+1};return yield ne.storage.setThrottleMetadata(Re),ne.attemptFetch(T,Re)}})()}}class Uc{constructor(T,P,G,ne,he){this.app=T,this._client=P,this._storageCache=G,this._storage=ne,this._logger=he,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function js(A,T){var P;const G=A.target.error||void 0;return yr.create(T,{originalErrorMessage:G&&(null===(P=G)||void 0===P?void 0:P.message)})}const ss="app_namespace_store";class Yl{constructor(T,P,G,ne=function jc(){return new Promise((A,T)=>{var P;try{const G=indexedDB.open("firebase_remote_config",1);G.onerror=ne=>{T(js(ne,"storage-open"))},G.onsuccess=ne=>{A(ne.target.result)},G.onupgradeneeded=ne=>{0===ne.oldVersion&&ne.target.result.createObjectStore(ss,{keyPath:"compositeKey"})}}catch(G){T(yr.create("storage-open",{originalErrorMessage:null===(P=G)||void 0===P?void 0:P.message}))}})}()){this.appId=T,this.appName=P,this.namespace=G,this.openDbPromise=ne}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var P=this;return(0,O.Z)(function*(){const G=yield P.openDbPromise;return new Promise((ne,he)=>{var Re;const dt=G.transaction([ss],"readonly").objectStore(ss),bt=P.createCompositeKey(T);try{const Ot=dt.get(bt);Ot.onerror=It=>{he(js(It,"storage-get"))},Ot.onsuccess=It=>{const Pr=It.target.result;ne(Pr?Pr.value:void 0)}}catch(Ot){he(yr.create("storage-get",{originalErrorMessage:null===(Re=Ot)||void 0===Re?void 0:Re.message}))}})})()}set(T,P){var G=this;return(0,O.Z)(function*(){const ne=yield G.openDbPromise;return new Promise((he,Re)=>{var He;const bt=ne.transaction([ss],"readwrite").objectStore(ss),Ot=G.createCompositeKey(T);try{const It=bt.put({compositeKey:Ot,value:P});It.onerror=Pr=>{Re(js(Pr,"storage-set"))},It.onsuccess=()=>{he()}}catch(It){Re(yr.create("storage-set",{originalErrorMessage:null===(He=It)||void 0===He?void 0:He.message}))}})})()}delete(T){var P=this;return(0,O.Z)(function*(){const G=yield P.openDbPromise;return new Promise((ne,he)=>{var Re;const dt=G.transaction([ss],"readwrite").objectStore(ss),bt=P.createCompositeKey(T);try{const Ot=dt.delete(bt);Ot.onerror=It=>{he(js(It,"storage-delete"))},Ot.onsuccess=()=>{ne()}}catch(Ot){he(yr.create("storage-delete",{originalErrorMessage:null===(Re=Ot)||void 0===Re?void 0:Re.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class co{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,O.Z)(function*(){const P=T.storage.getLastFetchStatus(),G=T.storage.getLastSuccessfulFetchTimestampMillis(),ne=T.storage.getActiveConfig(),he=yield P;he&&(T.lastFetchStatus=he);const Re=yield G;Re&&(T.lastSuccessfulFetchTimestampMillis=Re);const He=yield ne;He&&(T.activeConfig=He)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function xh(){return _i.apply(this,arguments)}function _i(){return(_i=(0,O.Z)(function*(){if(!(0,pe.hl)())return!1;try{return yield(0,pe.eu)()}catch{return!1}})).apply(this,arguments)}!function dl(){(0,ce._registerComponent)(new De.wA("remote-config",function A(T,{instanceIdentifier:P}){const G=T.getProvider("app").getImmediate(),ne=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw yr.create("registration-window");if(!(0,pe.hl)())throw yr.create("indexed-db-unavailable");const{projectId:he,apiKey:Re,appId:He}=G.options;if(!he)throw yr.create("registration-project-id");if(!Re)throw yr.create("registration-api-key");if(!He)throw yr.create("registration-app-id");const dt=new Yl(He,G.name,P=P||"firebase"),bt=new co(dt),Ot=new we.Yd(Qn);Ot.logLevel=we.in.ERROR;const It=new Hi(ne,ce.SDK_VERSION,P,he,Re,He),Pr=new $i(It,dt),wi=new cl(Pr,dt,bt,Ot),cu=new Uc(G,wi,bt,dt,Ot);return function ka(A){const T=(0,pe.m9)(A);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(cu),cu},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(Qn,"0.3.10"),(0,ce.registerVersion)(Qn,"0.3.10","esm2017")}();const zi="/firebase-messaging-sw.js",Wi="/firebase-cloud-messaging-push-scope",Oo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ql="google.c.a.c_id",Gs="google.c.a.c_l",Pa="google.c.a.ts",Fo="google.c.a.e";var qi=(()=>{return(A=qi||(qi={})).PUSH_RECEIVED="push-received",A.NOTIFICATION_CLICKED="notification-clicked",qi;var A})();function Kn(A){const T=new Uint8Array(A);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ki(A){const P=(A+"=".repeat((4-A.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),G=atob(P),ne=new Uint8Array(G.length);for(let he=0;he<G.length;++he)ne[he]=G.charCodeAt(he);return ne}const Hs="fcm_token_details_db",Jl="fcm_token_object_Store";function Xl(A){return ls.apply(this,arguments)}function ls(){return ls=(0,O.Z)(function*(A){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(he=>he.name).includes(Hs))return null;let T=null;return(yield(0,ge.X3)(Hs,5,{upgrade:(G=(0,O.Z)(function*(ne,he,Re,He){var dt;if(he<2||!ne.objectStoreNames.contains(Jl))return;const bt=He.objectStore(Jl),Ot=yield bt.index("fcmSenderId").get(A);if(yield bt.clear(),Ot)if(2===he){const It=Ot;if(!It.auth||!It.p256dh||!It.endpoint)return;T={token:It.fcmToken,createTime:null!==(dt=It.createTime)&&void 0!==dt?dt:Date.now(),subscriptionOptions:{auth:It.auth,p256dh:It.p256dh,endpoint:It.endpoint,swScope:It.swScope,vapidKey:"string"==typeof It.vapidKey?It.vapidKey:Kn(It.vapidKey)}}}else if(3===he){const It=Ot;T={token:It.fcmToken,createTime:It.createTime,subscriptionOptions:{auth:Kn(It.auth),p256dh:Kn(It.p256dh),endpoint:It.endpoint,swScope:It.swScope,vapidKey:Kn(It.vapidKey)}}}else if(4===he){const It=Ot;T={token:It.fcmToken,createTime:It.createTime,subscriptionOptions:{auth:Kn(It.auth),p256dh:Kn(It.p256dh),endpoint:It.endpoint,swScope:It.swScope,vapidKey:Kn(It.vapidKey)}}}}),function(he,Re,He,dt){return G.apply(this,arguments)})})).close(),yield(0,ge.Lj)(Hs),yield(0,ge.Lj)("fcm_vapid_details_db"),yield(0,ge.Lj)("undefined"),hl(T)?T:null;var G}),ls.apply(this,arguments)}function hl(A){if(!A||!A.subscriptionOptions)return!1;const{subscriptionOptions:T}=A;return"number"==typeof A.createTime&&A.createTime>0&&"string"==typeof A.token&&A.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const En="firebase-messaging-store";let Zi=null;function us(){return Zi||(Zi=(0,ge.X3)("firebase-messaging-database",1,{upgrade:(A,T)=>{0===T&&A.createObjectStore(En)}})),Zi}function $s(A){return cs.apply(this,arguments)}function cs(){return(cs=(0,O.Z)(function*(A){const T=ir(A),G=yield(yield us()).transaction(En).objectStore(En).get(T);if(G)return G;{const ne=yield Xl(A.appConfig.senderId);if(ne)return yield On(A,ne),ne}})).apply(this,arguments)}function On(A,T){return xi.apply(this,arguments)}function xi(){return(xi=(0,O.Z)(function*(A,T){const P=ir(A),ne=(yield us()).transaction(En,"readwrite");return yield ne.objectStore(En).put(T,P),yield ne.done,T})).apply(this,arguments)}function ds(A){return ho.apply(this,arguments)}function ho(){return(ho=(0,O.Z)(function*(A){const T=ir(A),G=(yield us()).transaction(En,"readwrite");yield G.objectStore(En).delete(T),yield G.done})).apply(this,arguments)}function ir({appConfig:A}){return A.appId}const Vn=new pe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Lo(A,T){return or.apply(this,arguments)}function or(){return(or=(0,O.Z)(function*(A,T){var P;const G=yield po(A),ne=Bo(T),he={method:"POST",headers:G,body:JSON.stringify(ne)};let Re;try{Re=yield(yield fetch(Ws(A.appConfig),he)).json()}catch(He){throw Vn.create("token-subscribe-failed",{errorInfo:null===(P=He)||void 0===P?void 0:P.toString()})}if(Re.error)throw Vn.create("token-subscribe-failed",{errorInfo:Re.error.message});if(!Re.token)throw Vn.create("token-subscribe-no-token");return Re.token})).apply(this,arguments)}function Oa(A,T){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,O.Z)(function*(A,T){var P;const G=yield po(A),ne=Bo(T.subscriptionOptions),he={method:"PATCH",headers:G,body:JSON.stringify(ne)};let Re;try{Re=yield(yield fetch(`${Ws(A.appConfig)}/${T.token}`,he)).json()}catch(He){throw Vn.create("token-update-failed",{errorInfo:null===(P=He)||void 0===P?void 0:P.toString()})}if(Re.error)throw Vn.create("token-update-failed",{errorInfo:Re.error.message});if(!Re.token)throw Vn.create("token-update-no-token");return Re.token})).apply(this,arguments)}function zs(A,T){return kr.apply(this,arguments)}function kr(){return(kr=(0,O.Z)(function*(A,T){var P;const ne={method:"DELETE",headers:yield po(A)};try{const Re=yield(yield fetch(`${Ws(A.appConfig)}/${T}`,ne)).json();if(Re.error)throw Vn.create("token-unsubscribe-failed",{errorInfo:Re.error.message})}catch(he){throw Vn.create("token-unsubscribe-failed",{errorInfo:null===(P=he)||void 0===P?void 0:P.toString()})}})).apply(this,arguments)}function Ws({projectId:A}){return`https://fcmregistrations.googleapis.com/v1/projects/${A}/registrations`}function po(A){return wt.apply(this,arguments)}function wt(){return(wt=(0,O.Z)(function*({appConfig:A,installations:T}){const P=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A.apiKey,"x-goog-firebase-installations-auth":`FIS ${P}`})})).apply(this,arguments)}function Bo({p256dh:A,auth:T,endpoint:P,vapidKey:G}){const ne={web:{endpoint:P,auth:T,p256dh:A}};return G!==Oo&&(ne.web.applicationPubKey=G),ne}const qs=6048e5;function hs(A){return ps.apply(this,arguments)}function ps(){return(ps=(0,O.Z)(function*(A){const T=yield Fa(A.swRegistration,A.vapidKey),P={vapidKey:A.vapidKey,swScope:A.swRegistration.scope,endpoint:T.endpoint,auth:Kn(T.getKey("auth")),p256dh:Kn(T.getKey("p256dh"))},G=yield $s(A.firebaseDependencies);if(G){if(Gn(G.subscriptionOptions,P))return Date.now()>=G.createTime+qs?Ks(A,{token:G.token,createTime:Date.now(),subscriptionOptions:P}):G.token;try{yield zs(A.firebaseDependencies,G.token)}catch(ne){console.warn(ne)}return Fe(A.firebaseDependencies,P)}return Fe(A.firebaseDependencies,P)})).apply(this,arguments)}function fl(A){return fs.apply(this,arguments)}function fs(){return(fs=(0,O.Z)(function*(A){const T=yield $s(A.firebaseDependencies);T&&(yield zs(A.firebaseDependencies,T.token),yield ds(A.firebaseDependencies));const P=yield A.swRegistration.pushManager.getSubscription();return!P||P.unsubscribe()})).apply(this,arguments)}function Ks(A,T){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,O.Z)(function*(A,T){try{const P=yield Oa(A.firebaseDependencies,T),G=Object.assign(Object.assign({},T),{token:P,createTime:Date.now()});return yield On(A.firebaseDependencies,G),P}catch(P){throw yield fl(A),P}})).apply(this,arguments)}function Fe(A,T){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,O.Z)(function*(A,T){const G={token:yield Lo(A,T),createTime:Date.now(),subscriptionOptions:T};return yield On(A,G),G.token})).apply(this,arguments)}function Fa(A,T){return gs.apply(this,arguments)}function gs(){return(gs=(0,O.Z)(function*(A,T){return(yield A.pushManager.getSubscription())||A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ki(T)})})).apply(this,arguments)}function Gn(A,T){return T.vapidKey===A.vapidKey&&T.endpoint===A.endpoint&&T.auth===A.auth&&T.p256dh===A.p256dh}function Uo(A){const T={from:A.from,collapseKey:A.collapse_key,messageId:A.fcmMessageId};return function Ys(A,T){if(!T.notification)return;A.notification={};const P=T.notification.title;P&&(A.notification.title=P);const G=T.notification.body;G&&(A.notification.body=G);const ne=T.notification.image;ne&&(A.notification.image=ne)}(T,A),function vi(A,T){!T.data||(A.data=T.data)}(T,A),function ms(A,T){var P,G,ne,he,Re;if(!(T.fcmOptions||null!==(P=T.notification)&&void 0!==P&&P.click_action))return;A.fcmOptions={};const He=null!==(ne=null===(G=T.fcmOptions)||void 0===G?void 0:G.link)&&void 0!==ne?ne:null===(he=T.notification)||void 0===he?void 0:he.click_action;He&&(A.fcmOptions.link=He);const dt=null===(Re=T.fcmOptions)||void 0===Re?void 0:Re.analytics_label;dt&&(A.fcmOptions.analyticsLabel=dt)}(T,A),T}function gl(A){return"object"==typeof A&&!!A&&Ql in A}function Hu(A,T){const P=[];for(let G=0;G<A.length;G++)P.push(A.charAt(G)),G<T.length&&P.push(T.charAt(G));return P.join("")}function yl(A){return Vn.create("missing-app-config-values",{valueName:A})}Hu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Hu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ys{constructor(T,P,G){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ne=function ml(A){if(!A||!A.options)throw yl("App Configuration Object");if(!A.name)throw yl("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:P}=A;for(const G of T)if(!P[G])throw yl(G);return{appName:A.name,projectId:P.projectId,apiKey:P.apiKey,appId:P.appId,senderId:P.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:ne,installations:P,analyticsProvider:G}}_delete(){return Promise.resolve()}}function Ir(A){return jr.apply(this,arguments)}function jr(){return(jr=(0,O.Z)(function*(A){var T;try{A.swRegistration=yield navigator.serviceWorker.register(zi,{scope:Wi}),A.swRegistration.update().catch(()=>{})}catch(P){throw Vn.create("failed-service-worker-registration",{browserErrorMessage:null===(T=P)||void 0===T?void 0:T.message})}})).apply(this,arguments)}function _l(A,T){return ai.apply(this,arguments)}function ai(){return(ai=(0,O.Z)(function*(A,T){if(!T&&!A.swRegistration&&(yield Ir(A)),T||!A.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Vn.create("invalid-sw-registration");A.swRegistration=T}})).apply(this,arguments)}function ki(A,T){return jo.apply(this,arguments)}function jo(){return(jo=(0,O.Z)(function*(A,T){T?A.vapidKey=T:A.vapidKey||(A.vapidKey=Oo)})).apply(this,arguments)}function La(){return(La=(0,O.Z)(function*(A,T){if(!navigator)throw Vn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Vn.create("permission-blocked");return yield ki(A,T?.vapidKey),yield _l(A,T?.serviceWorkerRegistration),hs(A)})).apply(this,arguments)}function tu(A,T,P){return Go.apply(this,arguments)}function Go(){return(Go=(0,O.Z)(function*(A,T,P){const G=Qs(T);(yield A.firebaseDependencies.analyticsProvider.get()).logEvent(G,{message_id:P[Ql],message_name:P[Gs],message_time:P[Pa],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Qs(A){switch(A){case qi.NOTIFICATION_CLICKED:return"notification_open";case qi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ho(){return(Ho=(0,O.Z)(function*(A,T){const P=T.data;if(!P.isFirebaseMessaging)return;A.onMessageHandler&&P.messageType===qi.PUSH_RECEIVED&&("function"==typeof A.onMessageHandler?A.onMessageHandler(Uo(P)):A.onMessageHandler.next(Uo(P)));const G=P.data;gl(G)&&"1"===G[Fo]&&(yield tu(A,P.messageType,G))})).apply(this,arguments)}const $o="@firebase/messaging",Ni=A=>{const T=new ys(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),A.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",P=>function Va(A,T){return Ho.apply(this,arguments)}(T,P)),T},vl=A=>{const T=A.getProvider("messaging").getImmediate();return{getToken:G=>function eu(A,T){return La.apply(this,arguments)}(T,G)}};function bl(){return wl.apply(this,arguments)}function wl(){return(wl=(0,O.Z)(function*(){try{yield(0,pe.eu)()}catch{return!1}return typeof window<"u"&&(0,pe.hl)()&&(0,pe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ua(){(0,ce._registerComponent)(new De.wA("messaging",Ni,"PUBLIC")),(0,ce._registerComponent)(new De.wA("messaging-internal",vl,"PRIVATE")),(0,ce.registerVersion)($o,"0.9.15"),(0,ce.registerVersion)($o,"0.9.15","esm2017")}();const ja="analytics",$c="firebase_id",_s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vs="https://www.googletagmanager.com/gtag/js",sr=new we.Yd("@firebase/analytics");function Ga(A){return Promise.all(A.map(T=>T.catch(P=>P)))}function zu(A,T){const P=document.createElement("script");P.src=`${vs}?l=${A}&id=${T}`,P.async=!0,document.head.appendChild(P)}function Gr(A,T,P,G,ne,he){return bs.apply(this,arguments)}function bs(){return(bs=(0,O.Z)(function*(A,T,P,G,ne,he){const Re=G[ne];try{if(Re)yield T[Re];else{const dt=(yield Ga(P)).find(bt=>bt.measurementId===ne);dt&&(yield T[dt.appId])}}catch(He){sr.error(He)}A("config",ne,he)})).apply(this,arguments)}function Dl(A,T,P,G,ne){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,O.Z)(function*(A,T,P,G,ne){try{let he=[];if(ne&&ne.send_to){let Re=ne.send_to;Array.isArray(Re)||(Re=[Re]);const He=yield Ga(P);for(const dt of Re){const bt=He.find(It=>It.measurementId===dt),Ot=bt&&T[bt.appId];if(!Ot){he=[];break}he.push(Ot)}}0===he.length&&(he=Object.values(T)),yield Promise.all(he),A("event",G,ne||{})}catch(he){sr.error(he)}})).apply(this,arguments)}function zc(){const A=window.document.getElementsByTagName("script");for(const T of Object.values(A))if(T.src&&T.src.includes(vs))return T;return null}const Nr=new pe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),z=new class x{constructor(T={},P=1e3){this.throttleMetadata=T,this.intervalMillis=P}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,P){this.throttleMetadata[T]=P}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function ke(A){return new Headers({Accept:"application/json","x-goog-api-key":A})}function it(A){return St.apply(this,arguments)}function St(){return(St=(0,O.Z)(function*(A){var T;const{appId:P,apiKey:G}=A,ne={method:"GET",headers:ke(G)},he=_s.replace("{app-id}",P),Re=yield fetch(he,ne);if(200!==Re.status&&304!==Re.status){let He="";try{const dt=yield Re.json();null!==(T=dt.error)&&void 0!==T&&T.message&&(He=dt.error.message)}catch{}throw Nr.create("config-fetch-failed",{httpStatus:Re.status,responseMessage:He})}return Re.json()})).apply(this,arguments)}function ar(A){return lr.apply(this,arguments)}function lr(){return(lr=(0,O.Z)(function*(A,T=z,P){const{appId:G,apiKey:ne,measurementId:he}=A.options;if(!G)throw Nr.create("no-app-id");if(!ne){if(he)return{measurementId:he,appId:G};throw Nr.create("no-api-key")}const Re=T.getThrottleMetadata(G)||{backoffCount:0,throttleEndTimeMillis:Date.now()},He=new Wu;return setTimeout((0,O.Z)(function*(){He.abort()}),void 0!==P?P:6e4),ui({appId:G,apiKey:ne,measurementId:he},Re,He,T)})).apply(this,arguments)}function ui(A,T,P){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,O.Z)(function*(A,{throttleEndTimeMillis:T,backoffCount:P},G,ne=z){var he,Re;const{appId:He,measurementId:dt}=A;try{yield ru(G,T)}catch(bt){if(dt)return sr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${dt} provided in the "measurementId" field in the local Firebase config. [${null===(he=bt)||void 0===he?void 0:he.message}]`),{appId:He,measurementId:dt};throw bt}try{const bt=yield it(A);return ne.deleteThrottleMetadata(He),bt}catch(bt){const Ot=bt;if(!Df(Ot)){if(ne.deleteThrottleMetadata(He),dt)return sr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${dt} provided in the "measurementId" field in the local Firebase config. [${Ot?.message}]`),{appId:He,measurementId:dt};throw bt}const It=503===Number(null===(Re=Ot?.customData)||void 0===Re?void 0:Re.httpStatus)?(0,pe.$s)(P,ne.intervalMillis,30):(0,pe.$s)(P,ne.intervalMillis),Pr={throttleEndTimeMillis:Date.now()+It,backoffCount:P+1};return ne.setThrottleMetadata(He,Pr),sr.debug(`Calling attemptFetch again in ${It} millis`),ui(A,Pr,G,ne)}})).apply(this,arguments)}function ru(A,T){return new Promise((P,G)=>{const ne=Math.max(T-Date.now(),0),he=setTimeout(P,ne);A.addEventListener(()=>{clearTimeout(he),G(Nr.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function Df(A){if(!(A instanceof pe.ZR&&A.customData))return!1;const T=Number(A.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Wu{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}function iu(){return go.apply(this,arguments)}function go(){return(go=(0,O.Z)(function*(){var A;if(!(0,pe.hl)())return sr.warn(Nr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,pe.eu)()}catch(T){return sr.warn(Nr.create("indexeddb-unavailable",{errorInfo:null===(A=T)||void 0===A?void 0:A.toString()}).message),!1}return!0})).apply(this,arguments)}function Nn(){return(Nn=(0,O.Z)(function*(A,T,P,G,ne,he,Re){var He;const dt=ar(A);dt.then(wi=>{P[wi.measurementId]=wi.appId,A.options.measurementId&&wi.measurementId!==A.options.measurementId&&sr.warn(`The measurement ID in the local Firebase config (${A.options.measurementId}) does not match the measurement ID fetched from the server (${wi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(wi=>sr.error(wi)),T.push(dt);const bt=iu().then(wi=>{if(wi)return G.getId()}),[Ot,It]=yield Promise.all([dt,bt]);zc()||zu(he,Ot.measurementId),ne("js",new Date);const Pr=null!==(He=Re?.config)&&void 0!==He?He:{};return Pr.origin="firebase",Pr.update=!0,null!=It&&(Pr[$c]=It),ne("config",Ot.measurementId,Pr),Ot.measurementId})).apply(this,arguments)}class ws{constructor(T){this.app=T}_delete(){return delete Qi[this.app.options.appId],Promise.resolve()}}let Qi={},za=[];const Wa={};let Ji,Hr,Wo="dataLayer",ou=!1;function Cl(A,T,P){!function Cf(){const A=[];if((0,pe.ru)()&&A.push("This is a browser extension environment."),(0,pe.zI)()||A.push("Cookies are not available."),A.length>0){const T=A.map((G,ne)=>`(${ne+1}) ${G}`).join(" "),P=Nr.create("invalid-analytics-context",{errorInfo:T});sr.warn(P.message)}}();const G=A.options.appId;if(!G)throw Nr.create("no-app-id");if(!A.options.apiKey){if(!A.options.measurementId)throw Nr.create("no-api-key");sr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${A.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Qi[G])throw Nr.create("already-exists",{id:G});if(!ou){!function li(A){let T=[];Array.isArray(window[A])?T=window[A]:window[A]=T}(Wo);const{wrappedGtag:he,gtagCore:Re}=function nu(A,T,P,G,ne){let he=function(...Re){window[G].push(arguments)};return window[ne]&&"function"==typeof window[ne]&&(he=window[ne]),window[ne]=function $a(A,T,P,G){function he(){return(he=(0,O.Z)(function*(Re,He,dt){try{"event"===Re?yield Dl(A,T,P,He,dt):"config"===Re?yield Gr(A,T,P,G,He,dt):A("set",He)}catch(bt){sr.error(bt)}})).apply(this,arguments)}return function ne(Re,He,dt){return he.apply(this,arguments)}}(he,A,T,P),{gtagCore:he,wrappedGtag:window[ne]}}(Qi,za,Wa,Wo,"gtag");Hr=he,Ji=Re,ou=!0}return Qi[G]=function Jn(A,T,P,G,ne,he,Re){return Nn.apply(this,arguments)}(A,za,Wa,T,Ji,Wo,P),new ws(A)}function ea(){return(ea=(0,O.Z)(function*(A,T,P,G,ne){if(ne&&ne.global)A("event",P,G);else{const he=yield T;A("event",P,Object.assign(Object.assign({},G),{send_to:he}))}})).apply(this,arguments)}function ra(){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,O.Z)(function*(){if((0,pe.ru)()||!(0,pe.zI)()||!(0,pe.hl)())return!1;try{return yield(0,pe.eu)()}catch{return!1}})).apply(this,arguments)}const vn="@firebase/analytics";!function Nh(){(0,ce._registerComponent)(new De.wA(ja,(T,{options:P})=>Cl(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),P),"PUBLIC")),(0,ce._registerComponent)(new De.wA("analytics-internal",function A(T){try{const P=T.getProvider(ja).getImmediate();return{logEvent:(G,ne,he)=>function Yc(A,T,P,G){A=(0,pe.m9)(A),function Al(A,T,P,G,ne){return ea.apply(this,arguments)}(Hr,Qi[A.app.options.appId],T,P,G).catch(ne=>sr.error(ne))}(P,G,ne,he)}}catch(P){throw Nr.create("interop-component-reg-failed",{reason:P})}},"PRIVATE")),(0,ce.registerVersion)(vn,"0.7.11"),(0,ce.registerVersion)(vn,"0.7.11","esm2017")}();var Tf=V(4408),Ph=V(7565);const Rh=new class su extends Ph.v{}(class Yu extends Tf.o{constructor(T,P){super(T,P),this.scheduler=T,this.work=P}schedule(T,P=0){return P>0?super.schedule(T,P):(this.delay=P,this.state=T,this.scheduler.flush(this),this)}execute(T,P){return P>0||this.closed?super.execute(T,P):this._execute(T,P)}requestAsyncId(T,P,G=0){return null!=G&&G>0||null==G&&this.delay>0?super.requestAsyncId(T,P,G):T.flush(this)}});var Oh=V(4986),au=V(8306),Zn=V(576),ia=V(4482),Ds=V(5403),Qu=V(4671),ur=V(9468),Fn=V(5363);const qo=new g.GfV("7.4.1"),oa="__angularfire_symbol__analyticsIsSupportedValue",Ka="__angularfire_symbol__analyticsIsSupported",Sl="__angularfire_symbol__remoteConfigIsSupportedValue",Za="__angularfire_symbol__remoteConfigIsSupported",Ju="__angularfire_symbol__messagingIsSupportedValue",lu="__angularfire_symbol__messagingIsSupported";function aa(A,T,P){if(T){if(1===T.length)return T[0];const he=T.filter(Re=>Re.app===P);if(1===he.length)return he[0]}return P.container.getProvider(A).getImmediate({optional:!0})}globalThis[Ka]||(globalThis[Ka]=ra().then(A=>globalThis[oa]=A).catch(()=>globalThis[oa]=!1)),globalThis[lu]||(globalThis[lu]=bl().then(A=>globalThis[Ju]=A).catch(()=>globalThis[Ju]=!1)),globalThis[Za]||(globalThis[Za]=xh().then(A=>globalThis[Sl]=A).catch(()=>globalThis[Sl]=!1));const Lh=(A,T)=>{const P=T?[T]:(0,H.C6)(),G=[];return P.forEach(ne=>{ne.container.getProvider(A).instances.forEach(Re=>{G.includes(Re)||G.push(Re)})}),G};function Ya(){}class Ml{constructor(T,P=Rh){this.zone=T,this.delegate=P}now(){return this.delegate.now()}schedule(T,P,G){const ne=this.zone;return this.delegate.schedule(function(Re){ne.runGuarded(()=>{T.apply(this,[Re])})},P,G)}}class Sf{constructor(T){this.zone=T,this.task=null}call(T,P){const G=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ya,{},Ya,Ya)),P.pipe(function Jc(A,T,P){const G=(0,Zn.m)(A)||T||P?{next:A,error:T,complete:P}:A;return G?(0,ia.e)((ne,he)=>{var Re;null===(Re=G.subscribe)||void 0===Re||Re.call(G);let He=!0;ne.subscribe((0,Ds.x)(he,dt=>{var bt;null===(bt=G.next)||void 0===bt||bt.call(G,dt),he.next(dt)},()=>{var dt;He=!1,null===(dt=G.complete)||void 0===dt||dt.call(G),he.complete()},dt=>{var bt;He=!1,null===(bt=G.error)||void 0===bt||bt.call(G,dt),he.error(dt)},()=>{var dt,bt;He&&(null===(dt=G.unsubscribe)||void 0===dt||dt.call(G)),null===(bt=G.finalize)||void 0===bt||bt.call(G)}))}):Qu.y}({next:G,complete:G,error:G})).subscribe(T).add(G)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Mf=(()=>{class A{constructor(P){this.ngZone=P,this.outsideAngular=P.runOutsideAngular(()=>new Ml(Zone.current)),this.insideAngular=P.run(()=>new Ml(Zone.current,Oh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return A.\u0275fac=function(P){return new(P||A)(g.LFG(g.R0b))},A.\u0275prov=g.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function Cs(){const A=globalThis.\u0275AngularFireScheduler;if(!A)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return A}function Xu(A){return Cs().ngZone.runOutsideAngular(()=>A())}function yo(A){return Cs().ngZone.run(()=>A())}function td(A){return Cs(),function As(A){return function(P){return(P=P.lift(new Sf(A.ngZone))).pipe((0,ur.R)(A.outsideAngular),(0,Fn.Q)(A.insideAngular))}}(Cs())(A)}const la=(A,T)=>function(){const G=arguments;return T&&setTimeout(()=>{"scheduled"===T.state&&T.invoke()},10),yo(()=>A.apply(void 0,G))},ua=(A,T)=>function(){let P;const G=arguments;for(let he=0;he<arguments.length;he++)"function"==typeof G[he]&&(T&&(P||(P=yo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ya,{},Ya,Ya)))),G[he]=la(G[he],P));const ne=Xu(()=>A.apply(this,G));if(!T){if(ne instanceof au.y){const he=Cs();return ne.pipe((0,ur.R)(he.outsideAngular),(0,Fn.Q)(he.insideAngular))}return yo(()=>ne)}return ne instanceof au.y?ne.pipe(td):ne instanceof Promise?yo(()=>new Promise((he,Re)=>ne.then(He=>yo(()=>he(He)),He=>yo(()=>Re(He))))):"function"==typeof ne&&P?function(){return setTimeout(()=>{P&&"scheduled"===P.state&&P.invoke()},10),ne.apply(this,arguments)}:yo(()=>ne)}},3673:(yt,Ne,V)=>{"use strict";V.d(Ne,{$:()=>Ws,A:()=>Z,B:()=>ze,G:()=>Vs,H:()=>jn,J:()=>$i,L:()=>cn,M:()=>_i,N:()=>ju,P:()=>Jc,Q:()=>Ql,R:()=>Nh,T:()=>Gs,U:()=>Oo,V:()=>qi,W:()=>Kn,X:()=>Xl,Y:()=>Ra,Z:()=>Lo,_:()=>Oa,a:()=>D,a0:()=>hs,a1:()=>fl,a2:()=>Ks,a3:()=>Fe,a4:()=>Fa,a5:()=>Gn,a6:()=>Ys,a7:()=>vi,a8:()=>gl,a9:()=>Hu,aA:()=>cu,aB:()=>bt,aC:()=>uu,aD:()=>ed,aE:()=>nr,aI:()=>ke,aL:()=>Fo,aa:()=>Ir,ab:()=>_l,ac:()=>ki,af:()=>tu,ag:()=>Qs,ah:()=>Va,ak:()=>En,al:()=>Il,an:()=>vs,ao:()=>bs,ap:()=>pn,aq:()=>me,ar:()=>Tt,as:()=>vt,at:()=>Je,au:()=>Ny,av:()=>_o,aw:()=>Le,ax:()=>B,ay:()=>oe,az:()=>_n,b:()=>Nr,c:()=>lu,d:()=>Xc,e:()=>Fh,f:()=>la,g:()=>ne,h:()=>T,i:()=>Cl,j:()=>He,k:()=>od,l:()=>Rh,m:()=>sd,o:()=>ge,r:()=>Oh,s:()=>Ph,u:()=>Ds});var g=V(5861),H=V(2090),O=V(9681),ce=V(655),pe=V(1877),De=V(4859);const ge={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ze=function ae(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},je=function ot(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},et=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),be=new pe.Yd("@firebase/auth");function tt(v,...f){be.logLevel<=pe.in.ERROR&&be.error(`Auth (${O.SDK_VERSION}): ${v}`,...f)}function Je(v,...f){throw nt(v,...f)}function Le(v,...f){return nt(v,...f)}function Ve(v,f,m){const E=Object.assign(Object.assign({},je()),{[f]:m});return new H.LL("auth","Firebase",E).create(f,{appName:v.name})}function Te(v,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Je(v,"argument-error"),Ve(v,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nt(v,...f){if("string"!=typeof v){const m=f[0],E=[...f.slice(1)];return E[0]&&(E[0].appName=v.name),v._errorFactory.create(m,...E)}return et.create(v,...f)}function B(v,f,...m){if(!v)throw nt(f,...m)}function _e(v){const f="INTERNAL ASSERTION FAILED: "+v;throw tt(f),new Error(f)}function me(v,f){v||_e(f)}const te=new Map;function oe(v){me(v instanceof Function,"Expected a class definition");let f=te.get(v);return f?(me(f instanceof v,"Instance stored in cache mismatched with class"),f):(f=new v,te.set(v,f),f)}function fe(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Ge(){return"http:"===_t()||"https:"===_t()}function _t(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Ze{constructor(f,m){this.shortDelay=f,this.longDelay=m,me(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function tn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ge()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function nn(v,f){me(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class Wn{static initialize(f,m,E){this.fetchImpl=f,m&&(this.headersImpl=m),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void _e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void _e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void _e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const un={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},$t=new Ze(3e4,6e4);function Ft(v,f){return v.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:v.tenantId}):f}function on(v,f,m,E){return bn.apply(this,arguments)}function bn(){return(bn=(0,g.Z)(function*(v,f,m,E,N={}){return Jr(v,N,(0,g.Z)(function*(){let L={},ue={};E&&("GET"===f?ue=E:L={body:JSON.stringify(E)});const Oe=(0,H.xO)(Object.assign({key:v.config.apiKey},ue)).slice(1),ut=yield v._getAdditionalHeaders();return ut["Content-Type"]="application/json",v.languageCode&&(ut["X-Firebase-Locale"]=v.languageCode),Wn.fetch()(Mr(v,v.config.apiHost,m,Oe),Object.assign({method:f,headers:ut,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function Jr(v,f,m){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,g.Z)(function*(v,f,m){v._canInitEmulator=!1;const E=Object.assign(Object.assign({},un),f);try{const N=new mi(v),L=yield Promise.race([m(),N.promise]);N.clearNetworkTimeout();const ue=yield L.json();if("needConfirmation"in ue)throw Cn(v,"account-exists-with-different-credential",ue);if(L.ok&&!("errorMessage"in ue))return ue;{const Oe=L.ok?ue.errorMessage:ue.error.message,[ut,Dt]=Oe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ut)throw Cn(v,"credential-already-in-use",ue);if("EMAIL_EXISTS"===ut)throw Cn(v,"email-already-in-use",ue);if("USER_DISABLED"===ut)throw Cn(v,"user-disabled",ue);const Zt=E[ut]||ut.toLowerCase().replace(/[_\s]+/g,"-");if(Dt)throw Ve(v,Zt,Dt);Je(v,Zt)}}catch(N){if(N instanceof H.ZR)throw N;Je(v,"network-request-failed")}})).apply(this,arguments)}function xn(v,f,m,E){return ii.apply(this,arguments)}function ii(){return(ii=(0,g.Z)(function*(v,f,m,E,N={}){const L=yield on(v,f,m,E,N);return"mfaPendingCredential"in L&&Je(v,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function Mr(v,f,m,E){const N=`${f}${m}?${E}`;return v.config.emulator?nn(v.config,N):`${v.config.apiScheme}://${N}`}class mi{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,E)=>{this.timer=setTimeout(()=>E(Le(this.auth,"network-request-failed")),$t.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Cn(v,f,m){const E={appName:v.name};m.email&&(E.email=m.email),m.phoneNumber&&(E.phoneNumber=m.phoneNumber);const N=Le(v,f,E);return N.customData._tokenResponse=m,N}function ht(){return(ht=(0,g.Z)(function*(v,f){return on(v,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Lr(v,f){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,g.Z)(function*(v,f){return on(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function en(v,f){return gr.apply(this,arguments)}function gr(){return(gr=(0,g.Z)(function*(v,f){return on(v,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function tr(v){if(v)try{const f=new Date(Number(v));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function kn(){return(kn=(0,g.Z)(function*(v,f=!1){const m=(0,H.m9)(v),E=yield m.getIdToken(f),N=Et(E);B(N&&N.exp&&N.auth_time&&N.iat,m.auth,"internal-error");const L="object"==typeof N.firebase?N.firebase:void 0,ue=L?.sign_in_provider;return{claims:N,token:E,authTime:tr(Vr(N.auth_time)),issuedAtTime:tr(Vr(N.iat)),expirationTime:tr(Vr(N.exp)),signInProvider:ue||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function Vr(v){return 1e3*Number(v)}function Et(v){var f;const[m,E,N]=v.split(".");if(void 0===m||void 0===E||void 0===N)return tt("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,H.tV)(E);return L?JSON.parse(L):(tt("Failed to decode base64 JWT payload"),null)}catch(L){return tt("Caught error parsing JWT payload as JSON",null===(f=L)||void 0===f?void 0:f.toString()),null}}function pt(v,f){return Br.apply(this,arguments)}function Br(){return(Br=(0,g.Z)(function*(v,f,m=!1){if(m)return f;try{return yield f}catch(E){throw E instanceof H.ZR&&gn(E)&&v.auth.currentUser===v&&(yield v.auth.signOut()),E}})).apply(this,arguments)}function gn({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class kt{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const N=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const E=this.getInterval(f);this.timerId=setTimeout((0,g.Z)(function*(){yield m.iteration()}),E)}iteration(){var f=this;return(0,g.Z)(function*(){var m;try{yield f.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===(null===(m=E)||void 0===m?void 0:m.code)&&f.schedule(!0))}f.schedule()})()}}class Er{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=tr(this.lastLoginAt),this.creationTime=tr(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Rn(v){return wn.apply(this,arguments)}function wn(){return(wn=(0,g.Z)(function*(v){var f;const m=v.auth,E=yield v.getIdToken(),N=yield pt(v,en(m,{idToken:E}));B(N?.users.length,m,"internal-error");const L=N.users[0];v._notifyReloadListener(L);const ue=null!==(f=L.providerUserInfo)&&void 0!==f&&f.length?Y(L.providerUserInfo):[],Oe=W(v.providerData,ue),Zt=!!v.isAnonymous&&!(v.email&&L.passwordHash||Oe?.length),cr={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:Oe,metadata:new Er(L.createdAt,L.lastLoginAt),isAnonymous:Zt};Object.assign(v,cr)})).apply(this,arguments)}function ee(){return(ee=(0,g.Z)(function*(v){const f=(0,H.m9)(v);yield Rn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function W(v,f){return[...v.filter(E=>!f.some(N=>N.providerId===E.providerId)),...f]}function Y(v){return v.map(f=>{var{providerId:m}=f,E=(0,ce._T)(f,["providerId"]);return{providerId:m,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function $(){return($=(0,g.Z)(function*(v,f){const m=yield Jr(v,{},(0,g.Z)(function*(){const E=(0,H.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:N,apiKey:L}=v.config,ue=Mr(v,N,"/v1/token",`key=${L}`),Oe=yield v._getAdditionalHeaders();return Oe["Content-Type"]="application/x-www-form-urlencoded",Wn.fetch()(ue,{method:"POST",headers:Oe,body:E})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ce{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){B(f.idToken,"internal-error"),B(typeof f.idToken<"u","internal-error"),B(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function qe(v){const f=Et(v);return B(f,"internal-error"),B(typeof f.exp<"u","internal-error"),B(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var E=this;return(0,g.Z)(function*(){return B(!E.accessToken||E.refreshToken,f,"user-token-expired"),m||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(f,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var E=this;return(0,g.Z)(function*(){const{accessToken:N,refreshToken:L,expiresIn:ue}=yield function ie(v,f){return $.apply(this,arguments)}(f,m);E.updateTokensAndExpiration(N,L,Number(ue))})()}updateTokensAndExpiration(f,m,E){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(f,m){const{refreshToken:E,accessToken:N,expirationTime:L}=m,ue=new Ce;return E&&(B("string"==typeof E,"internal-error",{appName:f}),ue.refreshToken=E),N&&(B("string"==typeof N,"internal-error",{appName:f}),ue.accessToken=N),L&&(B("number"==typeof L,"internal-error",{appName:f}),ue.expirationTime=L),ue}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Ce,this.toJSON())}_performRefresh(){return _e("not implemented")}}function Ye(v,f){B("string"==typeof v||typeof v>"u","internal-error",{appName:f})}class st{constructor(f){var{uid:m,auth:E,stsTokenManager:N}=f,L=(0,ce._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=E,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new Er(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,g.Z)(function*(){const E=yield pt(m,m.stsTokenManager.getToken(m.auth,f));return B(E,m.auth,"internal-error"),m.accessToken!==E&&(m.accessToken=E,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),E})()}getIdTokenResult(f){return function sn(v){return kn.apply(this,arguments)}(this,f)}reload(){return function hn(v){return ee.apply(this,arguments)}(this)}_assign(f){this!==f&&(B(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new st(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){B(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var E=this;return(0,g.Z)(function*(){let N=!1;f.idToken&&f.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(f),N=!0),m&&(yield Rn(E)),yield E.auth._persistUserIfCurrent(E),N&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var f=this;return(0,g.Z)(function*(){const m=yield f.getIdToken();return yield pt(f,function Ln(v,f){return ht.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var E,N,L,ue,Oe,ut,Dt,Zt;const cr=null!==(E=m.displayName)&&void 0!==E?E:void 0,bo=null!==(N=m.email)&&void 0!==N?N:void 0,wo=null!==(L=m.phoneNumber)&&void 0!==L?L:void 0,rc=null!==(ue=m.photoURL)&&void 0!==ue?ue:void 0,Eo=null!==(Oe=m.tenantId)&&void 0!==Oe?Oe:void 0,Pl=null!==(ut=m._redirectEventId)&&void 0!==ut?ut:void 0,ld=null!==(Dt=m.createdAt)&&void 0!==Dt?Dt:void 0,$h=null!==(Zt=m.lastLoginAt)&&void 0!==Zt?Zt:void 0,{uid:Rl,emailVerified:Uf,isAnonymous:Ry,providerData:zh,stsTokenManager:ud}=m;B(Rl&&ud,f,"internal-error");const jf=Ce.fromJSON(this.name,ud);B("string"==typeof Rl,f,"internal-error"),Ye(cr,f.name),Ye(bo,f.name),B("boolean"==typeof Uf,f,"internal-error"),B("boolean"==typeof Ry,f,"internal-error"),Ye(wo,f.name),Ye(rc,f.name),Ye(Eo,f.name),Ye(Pl,f.name),Ye(ld,f.name),Ye($h,f.name);const Ol=new st({uid:Rl,auth:f,email:bo,emailVerified:Uf,displayName:cr,isAnonymous:Ry,photoURL:rc,phoneNumber:wo,tenantId:Eo,stsTokenManager:jf,createdAt:ld,lastLoginAt:$h});return zh&&Array.isArray(zh)&&(Ol.providerData=zh.map(Oy=>Object.assign({},Oy))),Pl&&(Ol._redirectEventId=Pl),Ol}static _fromIdTokenResponse(f,m,E=!1){return(0,g.Z)(function*(){const N=new Ce;N.updateFromServerResponse(m);const L=new st({uid:m.localId,auth:f,stsTokenManager:N,isAnonymous:E});return yield Rn(L),L})()}}const cn=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(m,E){var N=this;return(0,g.Z)(function*(){N.storage[m]=E})()}_get(m){var E=this;return(0,g.Z)(function*(){const N=E.storage[m];return void 0===N?null:N})()}_remove(m){var E=this;return(0,g.Z)(function*(){delete E.storage[m]})()}_addListener(m,E){}_removeListener(m,E){}}return v.type="NONE",v})();function _n(v,f,m){return`firebase:${v}:${f}:${m}`}class Kt{constructor(f,m,E){this.persistence=f,this.auth=m,this.userKey=E;const{config:N,name:L}=this.auth;this.fullUserKey=_n(this.userKey,N.apiKey,L),this.fullPersistenceKey=_n("persistence",N.apiKey,L),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,g.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?st._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,g.Z)(function*(){if(m.persistence===f)return;const E=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,E?m.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,E="authUser"){return(0,g.Z)(function*(){if(!m.length)return new Kt(oe(cn),f,E);const N=(yield Promise.all(m.map(function(){var Dt=(0,g.Z)(function*(Zt){if(yield Zt._isAvailable())return Zt});return function(Zt){return Dt.apply(this,arguments)}}()))).filter(Dt=>Dt);let L=N[0]||oe(cn);const ue=_n(E,f.config.apiKey,f.name);let Oe=null;for(const Dt of m)try{const Zt=yield Dt._get(ue);if(Zt){const cr=st._fromJSON(f,Zt);Dt!==L&&(Oe=cr),L=Dt;break}}catch{}const ut=N.filter(Dt=>Dt._shouldAllowMigration);return L._shouldAllowMigration&&ut.length?(L=ut[0],Oe&&(yield L._set(ue,Oe.toJSON())),yield Promise.all(m.map(function(){var Dt=(0,g.Z)(function*(Zt){if(Zt!==L)try{yield Zt._remove(ue)}catch{}});return function(Zt){return Dt.apply(this,arguments)}}())),new Kt(L,f,E)):new Kt(L,f,E)})()}}function de(v){const f=v.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Ke(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(q(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Pe(f))return"Blackberry";if(at(f))return"Webos";if(K(f))return"Safari";if((f.includes("chrome/")||Ae(f))&&!f.includes("edge/"))return"Chrome";if(vt(f))return"Android";{const E=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function q(v=(0,H.z$)()){return/firefox\//i.test(v)}function K(v=(0,H.z$)()){const f=v.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Ae(v=(0,H.z$)()){return/crios\//i.test(v)}function Ke(v=(0,H.z$)()){return/iemobile/i.test(v)}function vt(v=(0,H.z$)()){return/android/i.test(v)}function Pe(v=(0,H.z$)()){return/blackberry/i.test(v)}function at(v=(0,H.z$)()){return/webos/i.test(v)}function Tt(v=(0,H.z$)()){return/iphone|ipad|ipod/i.test(v)}function pn(v=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function pr(v=(0,H.z$)()){return Tt(v)||vt(v)||at(v)||Pe(v)||/windows phone/i.test(v)||Ke(v)}function Pt(v,f=[]){let m;switch(v){case"Browser":m=de((0,H.z$)());break;case"Worker":m=`${de((0,H.z$)())}-${v}`;break;default:m=v}const E=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${O.SDK_VERSION}/${E}`}class Ti{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const E=L=>new Promise((ue,Oe)=>{try{ue(f(L))}catch(ut){Oe(ut)}});E.onAbort=m,this.queue.push(E);const N=this.queue.length-1;return()=>{this.queue[N]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,g.Z)(function*(){var E;if(m.auth.currentUser===f)return;const N=[];try{for(const L of m.queue)yield L(f),L.onAbort&&N.push(L.onAbort)}catch(L){N.reverse();for(const ue of N)try{ue()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(E=L)||void 0===E?void 0:E.message})}})()}}class Vt{constructor(f,m,E){this.app=f,this.heartbeatServiceProvider=m,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new No(this),this.idTokenSubscription=new No(this),this.beforeStateQueue=new Ti(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=et,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(f,m){var E=this;return m&&(this._popupRedirectResolver=oe(m)),this._initializationPromise=this.queue((0,g.Z)(function*(){var N,L;if(!E._deleted&&(E.persistenceManager=yield Kt.create(E,f),!E._deleted)){if(null!==(N=E._popupRedirectResolver)&&void 0!==N&&N._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(m),E.lastNotifiedUid=(null===(L=E.currentUser)||void 0===L?void 0:L.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,g.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,g.Z)(function*(){var E;const N=yield m.assertedPersistence.getCurrentUser();let L=N,ue=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Oe=null===(E=m.redirectUser)||void 0===E?void 0:E._redirectEventId,ut=L?._redirectEventId,Dt=yield m.tryRedirectSignIn(f);(!Oe||Oe===ut)&&Dt?.user&&(L=Dt.user,ue=!0)}if(!L)return m.directlySetCurrentUser(null);if(!L._redirectEventId){if(ue)try{yield m.beforeStateQueue.runMiddleware(L)}catch(Oe){L=N,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Oe))}return L?m.reloadAndSetCurrentUserOrClear(L):m.directlySetCurrentUser(null)}return B(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===L._redirectEventId?m.directlySetCurrentUser(L):m.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(f){var m=this;return(0,g.Z)(function*(){let E=null;try{E=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,g.Z)(function*(){var E;try{yield Rn(f)}catch(N){if("auth/network-request-failed"!==(null===(E=N)||void 0===E?void 0:E.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Bt(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var f=this;return(0,g.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,g.Z)(function*(){const E=f?(0,H.m9)(f):null;return E&&B(E.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(E&&E._clone(m))})()}_updateCurrentUser(f,m=!1){var E=this;return(0,g.Z)(function*(){if(!E._deleted)return f&&B(E.tenantId===f.tenantId,E,"tenant-id-mismatch"),m||(yield E.beforeStateQueue.runMiddleware(f)),E.queue((0,g.Z)(function*(){yield E.directlySetCurrentUser(f),E.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,g.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,g.Z)(function*(){yield m.assertedPersistence.setPersistence(oe(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new H.LL("auth","Firebase",f())}onAuthStateChanged(f,m,E){return this.registerStateListener(this.authStateSubscription,f,m,E)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,E){return this.registerStateListener(this.idTokenSubscription,f,m,E)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var E=this;return(0,g.Z)(function*(){const N=yield E.getOrInitRedirectPersistenceManager(m);return null===f?N.removeCurrentUser():N.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,g.Z)(function*(){if(!m.redirectPersistenceManager){const E=f&&oe(f)||m._popupRedirectResolver;B(E,m,"argument-error"),m.redirectPersistenceManager=yield Kt.create(m,[oe(E._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,g.Z)(function*(){var E,N;return m._isInitialized&&(yield m.queue((0,g.Z)(function*(){}))),(null===(E=m._currentUser)||void 0===E?void 0:E._redirectEventId)===f?m._currentUser:(null===(N=m.redirectUser)||void 0===N?void 0:N._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,g.Z)(function*(){if(f===m.currentUser)return m.queue((0,g.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,E,N){if(this._deleted)return()=>{};const L="function"==typeof m?m:m.next.bind(m),ue=this._isInitialized?Promise.resolve():this._initializationPromise;return B(ue,this,"internal-error"),ue.then(()=>L(this.currentUser)),"function"==typeof m?f.addObserver(m,E,N):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,g.Z)(function*(){m.currentUser&&m.currentUser!==f&&(m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh()),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return B(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Pt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,g.Z)(function*(){var m;const E={"X-Client-Version":f.clientVersion};f.app.options.appId&&(E["X-Firebase-gmpid"]=f.app.options.appId);const N=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return N&&(E["X-Firebase-Client"]=N),E})()}}function nr(v){return(0,H.m9)(v)}class No{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,H.ne)(m=>this.observer=m)}get next(){return B(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Vs(v,f,m){const E=nr(v);B(E._canInitEmulator,E,"emulator-config-failed"),B(/^https?:\/\//.test(f),E,"invalid-emulator-scheme");const N=!!m?.disableWarnings,L=ao(f),{host:ue,port:Oe}=function Qn(v){const f=ao(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(f.length));if(!m)return{host:"",port:null};const E=m[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(E);if(N){const L=N[1];return{host:L,port:yi(E.substr(L.length+1))}}{const[L,ue]=E.split(":");return{host:L,port:yi(ue)}}}(f);E.config.emulator={url:`${L}//${ue}${null===Oe?"":`:${Oe}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:ue,port:Oe,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:N})}),N||function Gi(){function v(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function ao(v){const f=v.indexOf(":");return f<0?"":v.substr(0,f+1)}function yi(v){if(!v)return null;const f=Number(v);return isNaN(f)?null:f}class jn{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return _e("not implemented")}_getIdTokenResponse(f){return _e("not implemented")}_linkToIdToken(f,m){return _e("not implemented")}_getReauthenticationResolver(f){return _e("not implemented")}}function qn(v,f){return yr.apply(this,arguments)}function yr(){return(yr=(0,g.Z)(function*(v,f){return on(v,"POST","/v1/accounts:resetPassword",Ft(v,f))})).apply(this,arguments)}function Tn(v,f){return ll.apply(this,arguments)}function ll(){return(ll=(0,g.Z)(function*(v,f){return on(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Lu(v,f){return lo.apply(this,arguments)}function lo(){return(lo=(0,g.Z)(function*(v,f){return on(v,"POST","/v1/accounts:update",Ft(v,f))})).apply(this,arguments)}function Si(){return(Si=(0,g.Z)(function*(v,f){return xn(v,"POST","/v1/accounts:signInWithPassword",Ft(v,f))})).apply(this,arguments)}function os(v,f){return oi.apply(this,arguments)}function oi(){return(oi=(0,g.Z)(function*(v,f){return on(v,"POST","/v1/accounts:sendOobCode",Ft(v,f))})).apply(this,arguments)}function rr(v,f){return ka.apply(this,arguments)}function ka(){return(ka=(0,g.Z)(function*(v,f){return os(v,f)})).apply(this,arguments)}function _r(v,f){return xr.apply(this,arguments)}function xr(){return(xr=(0,g.Z)(function*(v,f){return os(v,f)})).apply(this,arguments)}function ul(v,f){return Po.apply(this,arguments)}function Po(){return(Po=(0,g.Z)(function*(v,f){return os(v,f)})).apply(this,arguments)}function Bs(v,f){return si.apply(this,arguments)}function si(){return(si=(0,g.Z)(function*(v,f){return os(v,f)})).apply(this,arguments)}function Vu(){return(Vu=(0,g.Z)(function*(v,f){return xn(v,"POST","/v1/accounts:signInWithEmailLink",Ft(v,f))})).apply(this,arguments)}function cl(){return(cl=(0,g.Z)(function*(v,f){return xn(v,"POST","/v1/accounts:signInWithEmailLink",Ft(v,f))})).apply(this,arguments)}class Us extends jn{constructor(f,m,E,N=null){super("password",E),this._email=f,this._password=m,this._tenantId=N}static _fromEmailAndPassword(f,m){return new Us(f,m,"password")}static _fromEmailAndCode(f,m,E=null){return new Us(f,m,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,g.Z)(function*(){switch(m.signInMethod){case"password":return function xa(v,f){return Si.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Na(v,f){return Vu.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Je(f,"internal-error")}})()}_linkToIdToken(f,m){var E=this;return(0,g.Z)(function*(){switch(E.signInMethod){case"password":return Tn(f,{idToken:m,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Ro(v,f){return cl.apply(this,arguments)}(f,{idToken:m,email:E._email,oobCode:E._password});default:Je(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Hi(v,f){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,g.Z)(function*(v,f){return xn(v,"POST","/v1/accounts:signInWithIdp",Ft(v,f))})).apply(this,arguments)}class $i extends jn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new $i(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Je("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:N}=m,L=(0,ce._T)(m,["providerId","signInMethod"]);if(!E||!N)return null;const ue=new $i(E,N);return ue.idToken=L.idToken||void 0,ue.accessToken=L.accessToken||void 0,ue.secret=L.secret,ue.nonce=L.nonce,ue.pendingToken=L.pendingToken||null,ue}_getIdTokenResponse(f){return Hi(f,this.buildRequest())}_linkToIdToken(f,m){const E=this.buildRequest();return E.idToken=m,Hi(f,E)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Hi(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,H.xO)(m)}return f}}function Bc(v,f){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,g.Z)(function*(v,f){return on(v,"POST","/v1/accounts:sendVerificationCode",Ft(v,f))})).apply(this,arguments)}function js(){return(js=(0,g.Z)(function*(v,f){return xn(v,"POST","/v1/accounts:signInWithPhoneNumber",Ft(v,f))})).apply(this,arguments)}function uo(){return(uo=(0,g.Z)(function*(v,f){const m=yield xn(v,"POST","/v1/accounts:signInWithPhoneNumber",Ft(v,f));if(m.temporaryProof)throw Cn(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Uu={USER_NOT_FOUND:"user-not-found"};function Yl(){return(Yl=(0,g.Z)(function*(v,f){return xn(v,"POST","/v1/accounts:signInWithPhoneNumber",Ft(v,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Uu)})).apply(this,arguments)}class co extends jn{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new co({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new co({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function Uc(v,f){return js.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function ss(v,f){return uo.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function jc(v,f){return Yl.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:E,verificationCode:N}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:E,code:N}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:E,phoneNumber:N,temporaryProof:L}=f;return E||m||N||L?new co({verificationId:m,verificationCode:E,phoneNumber:N,temporaryProof:L}):null}}class as{constructor(f){var m,E,N,L,ue,Oe;const ut=(0,H.zd)((0,H.pd)(f)),Dt=null!==(m=ut.apiKey)&&void 0!==m?m:null,Zt=null!==(E=ut.oobCode)&&void 0!==E?E:null,cr=function dl(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=ut.mode)&&void 0!==N?N:null);B(Dt&&Zt&&cr,"argument-error"),this.apiKey=Dt,this.operation=cr,this.code=Zt,this.continueUrl=null!==(L=ut.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(ue=ut.languageCode)&&void 0!==ue?ue:null,this.tenantId=null!==(Oe=ut.tenantId)&&void 0!==Oe?Oe:null}static parseLink(f){const m=function Mh(v){const f=(0,H.zd)((0,H.pd)(v)).link,m=f?(0,H.zd)((0,H.pd)(f)).deep_link_id:null,E=(0,H.zd)((0,H.pd)(v)).deep_link_id;return(E?(0,H.zd)((0,H.pd)(E)).link:null)||E||m||f||v}(f);try{return new as(m)}catch{return null}}}let _i=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,E){return Us._fromEmailAndPassword(m,E)}static credentialWithLink(m,E){const N=as.parseLink(E);return B(N,"argument-error"),Us._fromEmailAndCode(m,N.code,N.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class zi{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Wi extends zi{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Oo extends Wi{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return B("providerId"in m&&"signInMethod"in m,"argument-error"),$i._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return B(f.idToken||f.accessToken,"argument-error"),$i._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Oo.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Oo.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:E,oauthTokenSecret:N,pendingToken:L,nonce:ue,providerId:Oe}=f;if(!E&&!N&&!m&&!L||!Oe)return null;try{return new Oo(Oe)._credential({idToken:m,accessToken:E,nonce:ue,pendingToken:L})}catch{return null}}}let ju=(()=>{class v extends Wi{constructor(){super("facebook.com")}static credential(m){return $i._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Ql=(()=>{class v extends Wi{constructor(){super("google.com"),this.addScope("profile")}static credential(m,E){return $i._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:E})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:E,oauthAccessToken:N}=m;if(!E&&!N)return null;try{return v.credential(E,N)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Gs=(()=>{class v extends Wi{constructor(){super("github.com")}static credential(m){return $i._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Fo extends jn{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return Hi(f,this.buildRequest())}_linkToIdToken(f,m){const E=this.buildRequest();return E.idToken=m,Hi(f,E)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Hi(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:N,pendingToken:L}=m;return E&&N&&L&&E===N?new Fo(E,L):null}static _create(f,m){return new Fo(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class qi extends zi{constructor(f){B(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return qi.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return qi.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Fo.fromJSON(f);return B(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:E}=f;if(!m||!E)return null;try{return Fo._create(E,m)}catch{return null}}}let Kn=(()=>{class v extends Wi{constructor(){super("twitter.com")}static credential(m,E){return $i._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:E})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:E,oauthTokenSecret:N}=m;if(!E||!N)return null;try{return v.credential(E,N)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Ki(v,f){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,g.Z)(function*(v,f){return xn(v,"POST","/v1/accounts:signUp",Ft(v,f))})).apply(this,arguments)}class Ur{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,E,N=!1){return(0,g.Z)(function*(){const L=yield st._fromIdTokenResponse(f,E,N),ue=Jl(E);return new Ur({user:L,providerId:ue,_tokenResponse:E,operationType:m})})()}static _forOperation(f,m,E){return(0,g.Z)(function*(){yield f._updateTokensIfNecessary(E,!0);const N=Jl(E);return new Ur({user:f,providerId:N,_tokenResponse:E,operationType:m})})()}}function Jl(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Xl(v){return ls.apply(this,arguments)}function ls(){return(ls=(0,g.Z)(function*(v){var f;const m=nr(v);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new Ur({user:m.currentUser,providerId:null,operationType:"signIn"});const E=yield Ki(m,{returnSecureToken:!0}),N=yield Ur._fromIdTokenResponse(m,"signIn",E,!0);return yield m._updateCurrentUser(N.user),N})).apply(this,arguments)}class hl extends H.ZR{constructor(f,m,E,N){var L;super(m.code,m.message),this.operationType=E,this.user=N,Object.setPrototypeOf(this,hl.prototype),this.customData={appName:f.name,tenantId:null!==(L=f.tenantId)&&void 0!==L?L:void 0,_serverResponse:m.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(f,m,E,N){return new hl(f,m,E,N)}}function pl(v,f,m,E){return("reauthenticate"===f?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?hl._fromErrorAndOperation(v,L,f,E):L})}function Gc(v){return new Set(v.map(({providerId:f})=>f).filter(f=>!!f))}function En(v,f){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,g.Z)(function*(v,f){const m=(0,H.m9)(v);yield cs(!0,m,f);const{providerUserInfo:E}=yield Lr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),N=Gc(E||[]);return m.providerData=m.providerData.filter(L=>N.has(L.providerId)),N.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function us(v,f){return $s.apply(this,arguments)}function $s(){return($s=(0,g.Z)(function*(v,f,m=!1){const E=yield pt(v,f._linkToIdToken(v.auth,yield v.getIdToken()),m);return Ur._forOperation(v,"link",E)})).apply(this,arguments)}function cs(v,f,m){return On.apply(this,arguments)}function On(){return(On=(0,g.Z)(function*(v,f,m){yield Rn(f);const N=!1===v?"provider-already-linked":"no-such-provider";B(Gc(f.providerData).has(m)===v,f.auth,N)})).apply(this,arguments)}function xi(v,f){return ds.apply(this,arguments)}function ds(){return(ds=(0,g.Z)(function*(v,f,m=!1){var E;const{auth:N}=v,L="reauthenticate";try{const ue=yield pt(v,pl(N,L,f,v),m);B(ue.idToken,N,"internal-error");const Oe=Et(ue.idToken);B(Oe,N,"internal-error");const{sub:ut}=Oe;return B(v.uid===ut,N,"user-mismatch"),Ur._forOperation(v,L,ue)}catch(ue){throw"auth/user-not-found"===(null===(E=ue)||void 0===E?void 0:E.code)&&Je(N,"user-mismatch"),ue}})).apply(this,arguments)}function ho(v,f){return ir.apply(this,arguments)}function ir(){return(ir=(0,g.Z)(function*(v,f,m=!1){const E="signIn",N=yield pl(v,E,f),L=yield Ur._fromIdTokenResponse(v,E,N);return m||(yield v._updateCurrentUser(L.user)),L})).apply(this,arguments)}function Ra(v,f){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,g.Z)(function*(v,f){return ho(nr(v),f)})).apply(this,arguments)}function Lo(v,f){return or.apply(this,arguments)}function or(){return(or=(0,g.Z)(function*(v,f){const m=(0,H.m9)(v);return yield cs(!1,m,f.providerId),us(m,f)})).apply(this,arguments)}function Oa(v,f){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,g.Z)(function*(v,f){return xi((0,H.m9)(v),f)})).apply(this,arguments)}function zs(v,f){return kr.apply(this,arguments)}function kr(){return(kr=(0,g.Z)(function*(v,f){return xn(v,"POST","/v1/accounts:signInWithCustomToken",Ft(v,f))})).apply(this,arguments)}function Ws(v,f){return po.apply(this,arguments)}function po(){return(po=(0,g.Z)(function*(v,f){const m=nr(v),E=yield zs(m,{token:f,returnSecureToken:!0}),N=yield Ur._fromIdTokenResponse(m,"signIn",E);return yield m._updateCurrentUser(N.user),N})).apply(this,arguments)}class wt{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?Bo._fromServerResponse(f,m):Je(f,"internal-error")}}class Bo extends wt{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new Bo(m)}}function qs(v,f,m){var E;B((null===(E=m.url)||void 0===E?void 0:E.length)>0,v,"invalid-continue-uri"),B(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(B(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(B(m.android.packageName.length>0,v,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function hs(v,f,m){return ps.apply(this,arguments)}function ps(){return(ps=(0,g.Z)(function*(v,f,m){const E=(0,H.m9)(v),N={requestType:"PASSWORD_RESET",email:f};m&&qs(E,N,m),yield _r(E,N)})).apply(this,arguments)}function fl(v,f,m){return fs.apply(this,arguments)}function fs(){return(fs=(0,g.Z)(function*(v,f,m){yield qn((0,H.m9)(v),{oobCode:f,newPassword:m})})).apply(this,arguments)}function Ks(v,f){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,g.Z)(function*(v,f){yield Lu((0,H.m9)(v),{oobCode:f})})).apply(this,arguments)}function Fe(v,f){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,g.Z)(function*(v,f){const m=(0,H.m9)(v),E=yield qn(m,{oobCode:f}),N=E.requestType;switch(B(N,m,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":B(E.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":B(E.mfaInfo,m,"internal-error");default:B(E.email,m,"internal-error")}let L=null;return E.mfaInfo&&(L=wt._fromServerResponse(nr(m),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:L},operation:N}})).apply(this,arguments)}function Fa(v,f){return gs.apply(this,arguments)}function gs(){return(gs=(0,g.Z)(function*(v,f){const{data:m}=yield Fe((0,H.m9)(v),f);return m.email})).apply(this,arguments)}function Gn(v,f,m){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,g.Z)(function*(v,f,m){const E=nr(v),N=yield Ki(E,{returnSecureToken:!0,email:f,password:m}),L=yield Ur._fromIdTokenResponse(E,"signIn",N);return yield E._updateCurrentUser(L.user),L})).apply(this,arguments)}function Ys(v,f,m){return Ra((0,H.m9)(v),_i.credential(f,m))}function vi(v,f,m){return ms.apply(this,arguments)}function ms(){return(ms=(0,g.Z)(function*(v,f,m){const E=(0,H.m9)(v),N={requestType:"EMAIL_SIGNIN",email:f};B(m.handleCodeInApp,E,"argument-error"),m&&qs(E,N,m),yield ul(E,N)})).apply(this,arguments)}function gl(v,f){return"EMAIL_SIGNIN"===as.parseLink(f)?.operation}function Hu(v,f,m){return ml.apply(this,arguments)}function ml(){return(ml=(0,g.Z)(function*(v,f,m){const E=(0,H.m9)(v),N=_i.credentialWithLink(f,m||fe());return B(N._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Ra(E,N)})).apply(this,arguments)}function yl(v,f){return ys.apply(this,arguments)}function ys(){return(ys=(0,g.Z)(function*(v,f){return on(v,"POST","/v1/accounts:createAuthUri",Ft(v,f))})).apply(this,arguments)}function Ir(v,f){return jr.apply(this,arguments)}function jr(){return(jr=(0,g.Z)(function*(v,f){const E={identifier:f,continueUri:Ge()?fe():"http://localhost"},{signinMethods:N}=yield yl((0,H.m9)(v),E);return N||[]})).apply(this,arguments)}function _l(v,f){return ai.apply(this,arguments)}function ai(){return(ai=(0,g.Z)(function*(v,f){const m=(0,H.m9)(v),N={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};f&&qs(m.auth,N,f);const{email:L}=yield rr(m.auth,N);L!==v.email&&(yield v.reload())})).apply(this,arguments)}function ki(v,f,m){return jo.apply(this,arguments)}function jo(){return(jo=(0,g.Z)(function*(v,f,m){const E=(0,H.m9)(v),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:f};m&&qs(E.auth,L,m);const{email:ue}=yield Bs(E.auth,L);ue!==v.email&&(yield v.reload())})).apply(this,arguments)}function eu(v,f){return La.apply(this,arguments)}function La(){return(La=(0,g.Z)(function*(v,f){return on(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function tu(v,f){return Go.apply(this,arguments)}function Go(){return(Go=(0,g.Z)(function*(v,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const E=(0,H.m9)(v),L={idToken:yield E.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},ue=yield pt(E,eu(E.auth,L));E.displayName=ue.displayName||null,E.photoURL=ue.photoUrl||null;const Oe=E.providerData.find(({providerId:ut})=>"password"===ut);Oe&&(Oe.displayName=E.displayName,Oe.photoURL=E.photoURL),yield E._updateTokensIfNecessary(ue)})).apply(this,arguments)}function Qs(v,f){return Ho((0,H.m9)(v),f,null)}function Va(v,f){return Ho((0,H.m9)(v),null,f)}function Ho(v,f,m){return $o.apply(this,arguments)}function $o(){return($o=(0,g.Z)(function*(v,f,m){const{auth:E}=v,L={idToken:yield v.getIdToken(),returnSecureToken:!0};f&&(L.email=f),m&&(L.password=m);const ue=yield pt(v,Tn(E,L));yield v._updateTokensIfNecessary(ue,!0)})).apply(this,arguments)}class Ni{constructor(f,m,E={}){this.isNewUser=f,this.providerId=m,this.profile=E}}class vl extends Ni{constructor(f,m,E,N){super(f,m,E),this.username=N}}class Ua extends Ni{constructor(f,m){super(f,"facebook.com",m)}}class bl extends vl{constructor(f,m){super(f,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class wl extends Ni{constructor(f,m){super(f,"google.com",m)}}class El extends vl{constructor(f,m,E){super(f,"twitter.com",m,E)}}function Il(v){const{user:f,_tokenResponse:m}=v;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Ba(v){var f,m;if(!v)return null;const{providerId:E}=v,N=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},L=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!E&&v?.idToken){const ue=null===(m=null===(f=Et(v.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(ue)return new Ni(L,"anonymous"!==ue&&"custom"!==ue?ue:null)}if(!E)return null;switch(E){case"facebook.com":return new Ua(L,N);case"github.com":return new bl(L,N);case"google.com":return new wl(L,N);case"twitter.com":return new El(L,N,v.screenName||null);case"custom":case"anonymous":return new Ni(L,null);default:return new Ni(L,E,N)}}(m)}class fo{constructor(f,m){this.type=f,this.credential=m}static _fromIdtoken(f){return new fo("enroll",f)}static _fromMfaPendingCredential(f){return new fo("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,E;if(f?.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return fo._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(E=f.multiFactorSession)&&void 0!==E&&E.idToken)return fo._fromIdtoken(f.multiFactorSession.idToken)}return null}}class _s{constructor(f,m,E){this.session=f,this.hints=m,this.signInResolver=E}static _fromError(f,m){const E=nr(f),N=m.customData._serverResponse,L=(N.mfaInfo||[]).map(Oe=>wt._fromServerResponse(E,Oe));B(N.mfaPendingCredential,E,"internal-error");const ue=fo._fromMfaPendingCredential(N.mfaPendingCredential);return new _s(ue,L,function(){var Oe=(0,g.Z)(function*(ut){const Dt=yield ut._process(E,ue);delete N.mfaInfo,delete N.mfaPendingCredential;const Zt=Object.assign(Object.assign({},N),{idToken:Dt.idToken,refreshToken:Dt.refreshToken});switch(m.operationType){case"signIn":const cr=yield Ur._fromIdTokenResponse(E,m.operationType,Zt);return yield E._updateCurrentUser(cr.user),cr;case"reauthenticate":return B(m.user,E,"internal-error"),Ur._forOperation(m.user,m.operationType,Zt);default:Je(E,"internal-error")}});return function(ut){return Oe.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,g.Z)(function*(){return m.signInResolver(f)})()}}function vs(v,f){var m;const E=(0,H.m9)(v),N=f;return B(f.customData.operationType,E,"argument-error"),B(null===(m=N.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,E,"argument-error"),_s._fromError(E,N)}function sr(v,f){return on(v,"POST","/v2/accounts/mfaEnrollment:start",Ft(v,f))}class li{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(E=>wt._fromServerResponse(f.auth,E)))})}static _fromUser(f){return new li(f)}getSession(){var f=this;return(0,g.Z)(function*(){return fo._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,m){var E=this;return(0,g.Z)(function*(){const N=f,L=yield E.getSession(),ue=yield pt(E.user,N._process(E.user.auth,L,m));return yield E.user._updateTokensIfNecessary(ue),E.user.reload()})()}unenroll(f){var m=this;return(0,g.Z)(function*(){var E;const N="string"==typeof f?f:f.uid,L=yield m.user.getIdToken(),ue=yield pt(m.user,function zu(v,f){return on(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Ft(v,f))}(m.user.auth,{idToken:L,mfaEnrollmentId:N}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Oe})=>Oe!==N),yield m.user._updateTokensIfNecessary(ue);try{yield m.user.reload()}catch(Oe){if("auth/user-token-expired"!==(null===(E=Oe)||void 0===E?void 0:E.code))throw Oe}})()}}const Gr=new WeakMap;function bs(v){const f=(0,H.m9)(v);return Gr.has(f)||Gr.set(f,li._fromUser(f)),Gr.get(f)}const Dl="__sak";class Ha{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Dl,"1"),this.storage.removeItem(Dl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Nr=(()=>{class v extends Ha{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,E)=>this.onStorageEvent(m,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function $a(){const v=(0,H.z$)();return K(v)||Tt(v)}()&&function An(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=pr(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const E of Object.keys(this.listeners)){const N=this.storage.getItem(E),L=this.localCache[E];N!==L&&m(E,L,N)}}onStorageEvent(m,E=!1){if(!m.key)return void this.forAllChangedKeys((Oe,ut,Dt)=>{this.notifyListeners(Oe,Dt)});const N=m.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Oe=this.storage.getItem(N);if(m.newValue!==Oe)null!==m.newValue?this.storage.setItem(N,m.newValue):this.storage.removeItem(N);else if(this.localCache[N]===m.newValue&&!E)return}const L=()=>{const Oe=this.storage.getItem(N);!E&&this.localCache[N]===Oe||this.notifyListeners(N,Oe)},ue=this.storage.getItem(N);!function At(){return(0,H.w1)()&&10===document.documentMode}()||ue===m.newValue||m.newValue===m.oldValue?L():setTimeout(L,10)}notifyListeners(m,E){this.localCache[m]=E;const N=this.listeners[m];if(N)for(const L of Array.from(N))L(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,E,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:E,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,E){var N=()=>super._set,L=this;return(0,g.Z)(function*(){yield N().call(L,m,E),L.localCache[m]=JSON.stringify(E)})()}_get(m){var E=()=>super._get,N=this;return(0,g.Z)(function*(){const L=yield E().call(N,m);return N.localCache[m]=JSON.stringify(L),L})()}_remove(m){var E=()=>super._remove,N=this;return(0,g.Z)(function*(){yield E().call(N,m),delete N.localCache[m]})()}}return v.type="LOCAL",v})(),D=(()=>{class v extends Ha{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,E){}_removeListener(m,E){}}return v.type="SESSION",v})();let z=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const E=this.receivers.find(L=>L.isListeningto(m));if(E)return E;const N=new v(m);return this.receivers.push(N),N}isListeningto(m){return this.eventTarget===m}handleEvent(m){var E=this;return(0,g.Z)(function*(){const N=m,{eventId:L,eventType:ue,data:Oe}=N.data,ut=E.handlersMap[ue];if(!ut?.size)return;N.ports[0].postMessage({status:"ack",eventId:L,eventType:ue});const Dt=Array.from(ut).map(function(){var cr=(0,g.Z)(function*(bo){return bo(N.origin,Oe)});return function(bo){return cr.apply(this,arguments)}}()),Zt=yield function x(v){return Promise.all(v.map(function(){var f=(0,g.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(E){return{fulfilled:!1,reason:E}}});return function(m){return f.apply(this,arguments)}}()))}(Dt);N.ports[0].postMessage({status:"done",eventId:L,eventType:ue,response:Zt})})()}_subscribe(m,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(E)}_unsubscribe(m,E){this.handlersMap[m]&&E&&this.handlersMap[m].delete(E),(!E||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function ke(v="",f=10){let m="";for(let E=0;E<f;E++)m+=Math.floor(10*Math.random());return v+m}class it{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,E=50){var N=this;return(0,g.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let ue,Oe;return new Promise((ut,Dt)=>{const Zt=ke("",20);L.port1.start();const cr=setTimeout(()=>{Dt(new Error("unsupported_event"))},E);Oe={messageChannel:L,onMessage(bo){const wo=bo;if(wo.data.eventId===Zt)switch(wo.data.status){case"ack":clearTimeout(cr),ue=setTimeout(()=>{Dt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ue),ut(wo.data.response);break;default:clearTimeout(cr),clearTimeout(ue),Dt(new Error("invalid_response"))}}},N.handlers.add(Oe),L.port1.addEventListener("message",Oe.onMessage),N.target.postMessage({eventType:f,eventId:Zt,data:m},[L.port2])}).finally(()=>{Oe&&N.removeMessageHandler(Oe)})})()}}function St(){return window}function lr(){return typeof St().WorkerGlobalScope<"u"&&"function"==typeof St().importScripts}function Yi(){return(Yi=(0,g.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Wu="firebaseLocalStorageDb",go="firebaseLocalStorage",Jn="fbase_key";class Nn{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function ws(v,f){return v.transaction([go],f?"readwrite":"readonly").objectStore(go)}function za(){const v=indexedDB.open(Wu,1);return new Promise((f,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const E=v.result;try{E.createObjectStore(go,{keyPath:Jn})}catch(N){m(N)}}),v.addEventListener("success",(0,g.Z)(function*(){const E=v.result;E.objectStoreNames.contains(go)?f(E):(E.close(),yield function Qi(){const v=indexedDB.deleteDatabase(Wu);return new Nn(v).toPromise()}(),f(yield za()))}))})}function Wa(v,f,m){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,g.Z)(function*(v,f,m){const E=ws(v,!0).put({[Jn]:f,value:m});return new Nn(E).toPromise()})).apply(this,arguments)}function Ji(){return(Ji=(0,g.Z)(function*(v,f){const m=ws(v,!1).get(f),E=yield new Nn(m).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Hr(v,f){const m=ws(v,!0).delete(f);return new Nn(m).toPromise()}const Cl=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,g.Z)(function*(){return m.db||(m.db=yield za()),m.db})()}_withRetries(m){var E=this;return(0,g.Z)(function*(){let N=0;for(;;)try{const L=yield E._openDb();return yield m(L)}catch(L){if(N++>3)throw L;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,g.Z)(function*(){return lr()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,g.Z)(function*(){m.receiver=z._getInstance(function Df(){return lr()?self:null}()),m.receiver._subscribe("keyChanged",function(){var E=(0,g.Z)(function*(N,L){return{keyProcessed:(yield m._poll()).includes(L.key)}});return function(N,L){return E.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var E=(0,g.Z)(function*(N,L){return["keyChanged"]});return function(N,L){return E.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,g.Z)(function*(){var E,N;if(m.activeServiceWorker=yield function ui(){return Yi.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new it(m.activeServiceWorker);const L=yield m.sender._send("ping",{},800);!L||(null===(E=L[0])||void 0===E?void 0:E.fulfilled)&&(null===(N=L[0])||void 0===N?void 0:N.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var E=this;return(0,g.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function ru(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:m},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const m=yield za();return yield Wa(m,Dl,"1"),yield Hr(m,Dl),!0}catch{}return!1})()}_withPendingWrite(m){var E=this;return(0,g.Z)(function*(){E.pendingWrites++;try{yield m()}finally{E.pendingWrites--}})()}_set(m,E){var N=this;return(0,g.Z)(function*(){return N._withPendingWrite((0,g.Z)(function*(){return yield N._withRetries(L=>Wa(L,m,E)),N.localCache[m]=E,N.notifyServiceWorker(m)}))})()}_get(m){var E=this;return(0,g.Z)(function*(){const N=yield E._withRetries(L=>function qu(v,f){return Ji.apply(this,arguments)}(L,m));return E.localCache[m]=N,N})()}_remove(m){var E=this;return(0,g.Z)(function*(){return E._withPendingWrite((0,g.Z)(function*(){return yield E._withRetries(N=>Hr(N,m)),delete E.localCache[m],E.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,g.Z)(function*(){const E=yield m._withRetries(ue=>{const Oe=ws(ue,!1).getAll();return new Nn(Oe).toPromise()});if(!E)return[];if(0!==m.pendingWrites)return[];const N=[],L=new Set;for(const{fbase_key:ue,value:Oe}of E)L.add(ue),JSON.stringify(m.localCache[ue])!==JSON.stringify(Oe)&&(m.notifyListeners(ue,Oe),N.push(ue));for(const ue of Object.keys(m.localCache))m.localCache[ue]&&!L.has(ue)&&(m.notifyListeners(ue,null),N.push(ue));return N})()}notifyListeners(m,E){this.localCache[m]=E;const N=this.listeners[m];if(N)for(const L of Array.from(N))L(E)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Al(v,f){return on(v,"POST","/v2/accounts/mfaSignIn:start",Ft(v,f))}function bi(){return(bi=(0,g.Z)(function*(v){return(yield on(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function vr(v){return new Promise((f,m)=>{const E=document.createElement("script");E.setAttribute("src",v),E.onload=f,E.onerror=N=>{const L=Le("internal-error");L.customData=N,m(L)},E.type="text/javascript",E.charset="UTF-8",function ta(){var v,f;return null!==(f=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==f?f:document}().appendChild(E)})}function mo(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Es=1e12;class Ku{constructor(f){this.auth=f,this.counter=Es,this._widgets=new Map}render(f,m){const E=this.counter;return this._widgets.set(E,new na(f,this.auth.name,m||{})),this.counter++,E}reset(f){var m;const E=f||Es;null===(m=this._widgets.get(E))||void 0===m||m.delete(),this._widgets.delete(E)}getResponse(f){var m;return(null===(m=this._widgets.get(f||Es))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,g.Z)(function*(){var E;return null===(E=m._widgets.get(f||Es))||void 0===E||E.execute(),""})()}}class na{constructor(f,m,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof f?document.getElementById(f):f;B(N,"argument-error",{appName:m}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ra(v){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<v;E++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xi=mo("rcb"),Kc=new Ze(3e4,6e4);class qa{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!St().grecaptcha}load(f,m=""){return B(function Zc(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(St().grecaptcha):new Promise((E,N)=>{const L=St().setTimeout(()=>{N(Le(f,"network-request-failed"))},Kc.get());St()[Xi]=()=>{St().clearTimeout(L),delete St()[Xi];const Oe=St().grecaptcha;if(!Oe)return void N(Le(f,"internal-error"));const ut=Oe.render;Oe.render=(Dt,Zt)=>{const cr=ut(Dt,Zt);return this.counter++,cr},this.hostLanguage=m,E(Oe)},vr(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:Xi,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(L),N(Le(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!St().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Yc{load(f){return(0,g.Z)(function*(){return new Ku(f)})()}clearedOneInstance(){}}const vn="recaptcha",Qc={theme:"light",type:"image"};class Nh{constructor(f,m=Object.assign({},Qc),E){this.parameters=m,this.type=vn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=nr(E),this.isInvisible="invisible"===this.parameters.size,B(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof f?document.getElementById(f):f;B(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Yc:new qa,this.validateStartingState()}verify(){var f=this;return(0,g.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),E=f.getAssertedRecaptcha();return E.getResponse(m)||new Promise(L=>{const ue=Oe=>{!Oe||(f.tokenChangeListeners.delete(ue),L(Oe))};f.tokenChangeListeners.add(ue),f.isInvisible&&E.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){B(!this.parameters.sitekey,this.auth,"argument-error"),B(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),B(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(E=>E(m)),"function"==typeof f)f(m);else if("string"==typeof f){const E=St()[f];"function"==typeof E&&E(m)}}}assertNotDestroyed(){B(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,g.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const E=document.createElement("div");m.appendChild(E),m=E}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,g.Z)(function*(){B(Ge()&&!lr(),f.auth,"internal-error"),yield function Tf(){let v=null;return new Promise(f=>{"complete"!==document.readyState?(v=()=>f(),window.addEventListener("load",v)):f()}).catch(f=>{throw v&&window.removeEventListener("load",v),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function qc(v){return bi.apply(this,arguments)}(f.auth);B(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return B(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Yu{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=co._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function Ph(v,f,m){return su.apply(this,arguments)}function su(){return(su=(0,g.Z)(function*(v,f,m){const E=nr(v),N=yield Zn(E,f,(0,H.m9)(m));return new Yu(N,L=>Ra(E,L))})).apply(this,arguments)}function Rh(v,f,m){return Is.apply(this,arguments)}function Is(){return(Is=(0,g.Z)(function*(v,f,m){const E=(0,H.m9)(v);yield cs(!1,E,"phone");const N=yield Zn(E.auth,f,(0,H.m9)(m));return new Yu(N,L=>Lo(E,L))})).apply(this,arguments)}function Oh(v,f,m){return au.apply(this,arguments)}function au(){return(au=(0,g.Z)(function*(v,f,m){const E=(0,H.m9)(v),N=yield Zn(E.auth,f,(0,H.m9)(m));return new Yu(N,L=>Oa(E,L))})).apply(this,arguments)}function Zn(v,f,m){return ia.apply(this,arguments)}function ia(){return(ia=(0,g.Z)(function*(v,f,m){var E;const N=yield m.verify();try{let L;if(B("string"==typeof N,v,"argument-error"),B(m.type===vn,v,"argument-error"),L="string"==typeof f?{phoneNumber:f}:f,"session"in L){const ue=L.session;if("phoneNumber"in L)return B("enroll"===ue.type,v,"internal-error"),(yield sr(v,{idToken:ue.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{B("signin"===ue.type,v,"internal-error");const Oe=(null===(E=L.multiFactorHint)||void 0===E?void 0:E.uid)||L.multiFactorUid;return B(Oe,v,"missing-multi-factor-info"),(yield Al(v,{mfaPendingCredential:ue.credential,mfaEnrollmentId:Oe,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ue}=yield Bc(v,{phoneNumber:L.phoneNumber,recaptchaToken:N});return ue}}finally{m._reset()}})).apply(this,arguments)}function Ds(v,f){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,g.Z)(function*(v,f){yield us((0,H.m9)(v),f)})).apply(this,arguments)}let Jc=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=nr(m)}verifyPhoneNumber(m,E){return Zn(this.auth,m,(0,H.m9)(E))}static credential(m,E){return co._fromVerification(m,E)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:E,temporaryProof:N}=m;return E&&N?co._fromTokenResponse(E,N):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function ur(v,f){return f?oe(f):(B(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Fn extends jn{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Hi(f,this._buildIdpRequest())}_linkToIdToken(f,m){return Hi(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return Hi(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function qo(v){return ho(v.auth,new Fn(v),v.bypassAuthState)}function oa(v){const{auth:f,user:m}=v;return B(m,f,"internal-error"),xi(m,new Fn(v),v.bypassAuthState)}function Ka(v){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,g.Z)(function*(v){const{auth:f,user:m}=v;return B(m,f,"internal-error"),us(m,new Fn(v),v.bypassAuthState)})).apply(this,arguments)}class Za{constructor(f,m,E,N,L=!1){this.auth=f,this.resolver=E,this.user=N,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,g.Z)(function*(E,N){f.pendingPromise={resolve:E,reject:N};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(L){f.reject(L)}});return function(E,N){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,g.Z)(function*(){const{urlResponse:E,sessionId:N,postBody:L,tenantId:ue,error:Oe,type:ut}=f;if(Oe)return void m.reject(Oe);const Dt={auth:m.auth,requestUri:E,sessionId:N,tenantId:ue||void 0,postBody:L||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(ut)(Dt))}catch(Zt){m.reject(Zt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return qo;case"linkViaPopup":case"linkViaRedirect":return Ka;case"reauthViaPopup":case"reauthViaRedirect":return oa;default:Je(this.auth,"internal-error")}}resolve(f){me(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){me(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ju=new Ze(2e3,1e4);function lu(v,f,m){return sa.apply(this,arguments)}function sa(){return(sa=(0,g.Z)(function*(v,f,m){const E=nr(v);Te(v,f,zi);const N=ur(E,m);return new Lh(E,"signInViaPopup",f,N).executeNotNull()})).apply(this,arguments)}function Fh(v,f,m){return $r.apply(this,arguments)}function $r(){return($r=(0,g.Z)(function*(v,f,m){const E=(0,H.m9)(v);Te(E.auth,f,zi);const N=ur(E.auth,m);return new Lh(E.auth,"reauthViaPopup",f,N,E).executeNotNull()})).apply(this,arguments)}function Xc(v,f,m){return aa.apply(this,arguments)}function aa(){return(aa=(0,g.Z)(function*(v,f,m){const E=(0,H.m9)(v);Te(E.auth,f,zi);const N=ur(E.auth,m);return new Lh(E.auth,"linkViaPopup",f,N,E).executeNotNull()})).apply(this,arguments)}let Lh=(()=>{class v extends Za{constructor(m,E,N,L,ue){super(m,E,L,ue),this.provider=N,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,g.Z)(function*(){const E=yield m.execute();return B(E,m.auth,"internal-error"),E})()}onExecution(){var m=this;return(0,g.Z)(function*(){me(1===m.filter.length,"Popup operations only handle one event");const E=ke();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],E),m.authWindow.associatedEvent=E,m.resolver._originValidation(m.auth).catch(N=>{m.reject(N)}),m.resolver._isIframeWebStorageSupported(m.auth,N=>{N||m.reject(Le(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Le(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var E,N;this.pollId=null!==(N=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==N&&N.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Le(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Ju.get())};m()}}return v.currentPopupAction=null,v})();const Ml=new Map;class Sf extends Za{constructor(f,m,E=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,E),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,g.Z)(function*(){let E=Ml.get(m.auth._key());if(!E){try{const L=(yield function Mf(v,f){return Cs.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;E=()=>Promise.resolve(L)}catch(N){E=()=>Promise.reject(N)}Ml.set(m.auth._key(),E)}return m.bypassAuthState||Ml.set(m.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,E=this;return(0,g.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(E,f);if("unknown"!==f.type){if(f.eventId){const N=yield E.auth._redirectUserForId(f.eventId);if(N)return E.user=N,m().call(E,f);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function Cs(){return(Cs=(0,g.Z)(function*(v,f){const m=As(f),E=td(v);if(!(yield E._isAvailable()))return!1;const N="true"===(yield E._get(m));return yield E._remove(m),N})).apply(this,arguments)}function Xu(v,f){return yo.apply(this,arguments)}function yo(){return(yo=(0,g.Z)(function*(v,f){return td(v)._set(As(f),"true")})).apply(this,arguments)}function ed(){Ml.clear()}function uu(v,f){Ml.set(v._key(),f)}function td(v){return oe(v._redirectPersistence)}function As(v){return _n("pendingRedirect",v.config.apiKey,v.name)}function la(v,f,m){return function ua(v,f,m){return A.apply(this,arguments)}(v,f,m)}function A(){return(A=(0,g.Z)(function*(v,f,m){const E=nr(v);Te(v,f,zi);const N=ur(E,m);return yield Xu(N,E),N._openRedirect(E,f,"signInViaRedirect")})).apply(this,arguments)}function T(v,f,m){return function P(v,f,m){return G.apply(this,arguments)}(v,f,m)}function G(){return(G=(0,g.Z)(function*(v,f,m){const E=(0,H.m9)(v);Te(E.auth,f,zi);const N=ur(E.auth,m);yield Xu(N,E.auth);const L=yield It(E);return N._openRedirect(E.auth,f,"reauthViaRedirect",L)})).apply(this,arguments)}function ne(v,f,m){return function he(v,f,m){return Re.apply(this,arguments)}(v,f,m)}function Re(){return(Re=(0,g.Z)(function*(v,f,m){const E=(0,H.m9)(v);Te(E.auth,f,zi);const N=ur(E.auth,m);yield cs(!1,E,f.providerId),yield Xu(N,E.auth);const L=yield It(E);return N._openRedirect(E.auth,f,"linkViaRedirect",L)})).apply(this,arguments)}function He(v,f){return dt.apply(this,arguments)}function dt(){return(dt=(0,g.Z)(function*(v,f){return yield nr(v)._initializationPromise,bt(v,f,!1)})).apply(this,arguments)}function bt(v,f){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,g.Z)(function*(v,f,m=!1){const E=nr(v),N=ur(E,f),ue=yield new Sf(E,N,m).execute();return ue&&!m&&(delete ue.user._redirectEventId,yield E._persistUserIfCurrent(ue.user),yield E._setRedirectUser(null,f)),ue})).apply(this,arguments)}function It(v){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,g.Z)(function*(v){const f=ke(`${v.uid}:::`);return v._redirectEventId=f,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),f})).apply(this,arguments)}class cu{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(f,E)&&(m=!0,this.sendToConsumer(f,E),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function xl(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ei(v);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var E;if(f.error&&!ei(f)){const N=(null===(E=f.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";m.onError(Le(this.auth,N))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const E=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&E}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(eo(f))}saveEventToCache(f){this.cachedEventUids.add(eo(f)),this.lastProcessedEventTime=Date.now()}}function eo(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(f=>f).join("-")}function ei({type:v,error:f}){return"unknown"===v&&"auth/no-auth-event"===f?.code}function _o(v){return ca.apply(this,arguments)}function ca(){return(ca=(0,g.Z)(function*(v,f={}){return on(v,"GET","/v1/projects",f)})).apply(this,arguments)}const vo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ei=/^https?/;function nd(){return(nd=(0,g.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:f}=yield _o(v);for(const m of f)try{if(xf(m))return}catch{}Je(v,"unauthorized-domain")})).apply(this,arguments)}function xf(v){const f=fe(),{protocol:m,hostname:E}=new URL(f);if(v.startsWith("chrome-extension://")){const ue=new URL(v);return""===ue.hostname&&""===E?"chrome-extension:"===m&&v.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&ue.hostname===E}if(!Ei.test(m))return!1;if(vo.test(v))return E===v;const N=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(E)}const Sy=new Ze(3e4,6e4);function Qa(){const v=St().___jsl;if(v?.H)for(const f of Object.keys(v.H))if(v.H[f].r=v.H[f].r||[],v.H[f].L=v.H[f].L||[],v.H[f].r=[...v.H[f].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let Vh=null;function bb(v){return Vh=Vh||function ec(v){return new Promise((f,m)=>{var E,N,L;function ue(){Qa(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Qa(),m(Le(v,"network-request-failed"))},timeout:Sy.get()})}if(null!==(N=null===(E=St().gapi)||void 0===E?void 0:E.iframes)&&void 0!==N&&N.Iframe)f(gapi.iframes.getContext());else{if(null===(L=St().gapi)||void 0===L||!L.load){const Oe=mo("iframefcb");return St()[Oe]=()=>{gapi.load?ue():m(Le(v,"network-request-failed"))},vr(`https://apis.google.com/js/api.js?onload=${Oe}`).catch(ut=>m(ut))}ue()}}).catch(f=>{throw Vh=null,f})}(v),Vh}const Bh=new Ze(5e3,15e3),My={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Uh(v){const f=v.config;B(f.authDomain,v,"auth-domain-config-required");const m=f.emulator?nn(f,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,E={apiKey:f.apiKey,appName:v.name,v:O.SDK_VERSION},N=Nf.get(v.config.apiHost);N&&(E.eid=N);const L=v._getFrameworks();return L.length&&(E.fw=L.join(",")),`${m}?${(0,H.xO)(E).slice(1)}`}function jh(){return jh=(0,g.Z)(function*(v){const f=yield bb(v),m=St().gapi;return B(m,v,"internal-error"),f.open({where:document.body,url:Uh(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:My,dontclear:!0},E=>new Promise(function(){var N=(0,g.Z)(function*(L,ue){yield E.restyle({setHideOnLeave:!1});const Oe=Le(v,"network-request-failed"),ut=St().setTimeout(()=>{ue(Oe)},Bh.get());function Dt(){St().clearTimeout(ut),L(E)}E.ping(Dt).then(Dt,()=>{ue(Oe)})});return function(L,ue){return N.apply(this,arguments)}}()))}),jh.apply(this,arguments)}const xy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class hu{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ny(v,f,m,E,N,L){B(v.config.authDomain,v,"auth-domain-config-required"),B(v.config.apiKey,v,"invalid-api-key");const ue={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:E,v:O.SDK_VERSION,eventId:N};if(f instanceof zi){f.setDefaultLanguage(v.languageCode),ue.providerId=f.providerId||"",(0,H.xb)(f.getCustomParameters())||(ue.customParameters=JSON.stringify(f.getCustomParameters()));for(const[ut,Dt]of Object.entries(L||{}))ue[ut]=Dt}if(f instanceof Wi){const ut=f.getScopes().filter(Dt=>""!==Dt);ut.length>0&&(ue.scopes=ut.join(","))}v.tenantId&&(ue.tid=v.tenantId);const Oe=ue;for(const ut of Object.keys(Oe))void 0===Oe[ut]&&delete Oe[ut];return`${function Hh({config:v}){return v.emulator?nn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,H.xO)(Oe).slice(1)}`}const id="webStorageSupport",od=class Ff{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=D,this._completeRedirectFn=bt,this._overrideRedirectResult=uu}_openPopup(f,m,E,N){var L=this;return(0,g.Z)(function*(){var ue;me(null===(ue=L.eventManagers[f._key()])||void 0===ue?void 0:ue.manager,"_initialize() not called before _openPopup()");const Oe=Ny(f,m,E,fe(),N);return function Rf(v,f,m,E=500,N=600){const L=Math.max((window.screen.availHeight-N)/2,0).toString(),ue=Math.max((window.screen.availWidth-E)/2,0).toString();let Oe="";const ut=Object.assign(Object.assign({},xy),{width:E.toString(),height:N.toString(),top:L,left:ue}),Dt=(0,H.z$)().toLowerCase();m&&(Oe=Ae(Dt)?"_blank":m),q(Dt)&&(f=f||"http://localhost",ut.scrollbars="yes");const Zt=Object.entries(ut).reduce((bo,[wo,rc])=>`${bo}${wo}=${rc},`,"");if(function mr(v=(0,H.z$)()){var f;return Tt(v)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Dt)&&"_self"!==Oe)return function pu(v,f){const m=document.createElement("a");m.href=v,m.target=f;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(E)}(f||"",Oe),new hu(null);const cr=window.open(f||"",Oe,Zt);B(cr,v,"popup-blocked");try{cr.focus()}catch{}return new hu(cr)}(f,Oe,ke())})()}_openRedirect(f,m,E,N){var L=this;return(0,g.Z)(function*(){return yield L._originValidation(f),function ar(v){St().location.href=v}(Ny(f,m,E,fe(),N)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:N,promise:L}=this.eventManagers[m];return N?Promise.resolve(N):(me(L,"If manager is not set, promise should be"),L)}const E=this.initAndGetManager(f);return this.eventManagers[m]={promise:E},E.catch(()=>{delete this.eventManagers[m]}),E}initAndGetManager(f){var m=this;return(0,g.Z)(function*(){const E=yield function rd(v){return jh.apply(this,arguments)}(f),N=new cu(f);return E.register("authEvent",L=>(B(L?.authEvent,f,"invalid-auth-event"),{status:N.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:N},m.iframes[f._key()]=E,N})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(id,{type:id},N=>{var L;const ue=null===(L=N?.[0])||void 0===L?void 0:L[id];void 0!==ue&&m(!!ue),Je(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function kl(v){return nd.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return pr()||K()||Tt()}};class tc extends class Lf{constructor(f){this.factorId=f}_process(f,m,E){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,E);case"signin":return this._finalizeSignIn(f,m.credential);default:return _e("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new tc(f)}_finalizeEnroll(f,m,E){return function Ga(v,f){return on(v,"POST","/v2/accounts/mfaEnrollment:finalize",Ft(v,f))}(f,{idToken:m,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function ea(v,f){return on(v,"POST","/v2/accounts/mfaSignIn:finalize",Ft(v,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let sd=(()=>{class v{constructor(){}static assertion(m){return tc._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var Vf="@firebase/auth";class ad{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,g.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(E=>{var N;f((null===(N=E)||void 0===N?void 0:N.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){B(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function Nl(v){(0,O._registerComponent)(new De.wA("auth",(f,{options:m})=>{const E=f.getProvider("app").getImmediate(),N=f.getProvider("heartbeat"),{apiKey:L,authDomain:ue}=E.options;return((Oe,ut)=>{B(L&&!L.includes(":"),"invalid-api-key",{appName:Oe.name}),B(!ue?.includes(":"),"argument-error",{appName:Oe.name});const Dt={apiKey:L,authDomain:ue,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pt(v)},Zt=new Vt(Oe,ut,Dt);return function ve(v,f){const m=f?.persistence||[],E=(Array.isArray(m)?m:[m]).map(oe);f?.errorMap&&v._updateErrorMap(f.errorMap),v._initializeWithPersistence(E,f?.popupRedirectResolver)}(Zt,m),Zt})(E,N)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,E)=>{f.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new De.wA("auth-internal",f=>{const m=nr(f.getProvider("auth").getImmediate());return new ad(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(Vf,"0.20.4",function Py(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,O.registerVersion)(Vf,"0.20.4","esm2017")}("Browser")},2090:(yt,Ne,V)=>{"use strict";V.d(Ne,{$s:()=>Er,BH:()=>ot,DV:()=>on,Dv:()=>gr,G6:()=>B,GJ:()=>$t,L:()=>ge,LL:()=>fe,Mn:()=>Te,Pz:()=>Bt,Sg:()=>ze,UG:()=>Ie,UI:()=>Jr,US:()=>De,Wj:()=>sn,Yr:()=>nt,ZB:()=>Z,ZR:()=>ve,b$:()=>Je,cI:()=>tn,d:()=>Le,dS:()=>Vr,eu:()=>me,g5:()=>O,gK:()=>tr,gQ:()=>Cn,h$:()=>we,hl:()=>_e,hu:()=>H,jU:()=>be,lb:()=>kn,m9:()=>hn,ne:()=>Ln,p$:()=>X,pd:()=>mi,r3:()=>Ft,ru:()=>tt,tV:()=>xe,uI:()=>et,ug:()=>Et,vZ:()=>Sr,w1:()=>Ve,w9:()=>un,xO:()=>ii,xb:()=>bn,z$:()=>je,zI:()=>te,zd:()=>Mr});const H=function(ee,W){if(!ee)throw O(W)},O=function(ee){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+ee)},ce=function(ee){const W=[];let Y=0;for(let ie=0;ie<ee.length;ie++){let $=ee.charCodeAt(ie);$<128?W[Y++]=$:$<2048?(W[Y++]=$>>6|192,W[Y++]=63&$|128):55296==(64512&$)&&ie+1<ee.length&&56320==(64512&ee.charCodeAt(ie+1))?($=65536+((1023&$)<<10)+(1023&ee.charCodeAt(++ie)),W[Y++]=$>>18|240,W[Y++]=$>>12&63|128,W[Y++]=$>>6&63|128,W[Y++]=63&$|128):(W[Y++]=$>>12|224,W[Y++]=$>>6&63|128,W[Y++]=63&$|128)}return W},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ee,W){if(!Array.isArray(ee))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,ie=[];for(let $=0;$<ee.length;$+=3){const Ce=ee[$],Ye=$+1<ee.length,st=Ye?ee[$+1]:0,Lt=$+2<ee.length,cn=Lt?ee[$+2]:0;let de=(15&st)<<2|cn>>6,q=63&cn;Lt||(q=64,Ye||(de=64)),ie.push(Y[Ce>>2],Y[(3&Ce)<<4|st>>4],Y[de],Y[q])}return ie.join("")},encodeString(ee,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(ee):this.encodeByteArray(ce(ee),W)},decodeString(ee,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(ee):function(ee){const W=[];let Y=0,ie=0;for(;Y<ee.length;){const $=ee[Y++];if($<128)W[ie++]=String.fromCharCode($);else if($>191&&$<224){const Ce=ee[Y++];W[ie++]=String.fromCharCode((31&$)<<6|63&Ce)}else if($>239&&$<365){const Lt=((7&$)<<18|(63&ee[Y++])<<12|(63&ee[Y++])<<6|63&ee[Y++])-65536;W[ie++]=String.fromCharCode(55296+(Lt>>10)),W[ie++]=String.fromCharCode(56320+(1023&Lt))}else{const Ce=ee[Y++],Ye=ee[Y++];W[ie++]=String.fromCharCode((15&$)<<12|(63&Ce)<<6|63&Ye)}}return W.join("")}(this.decodeStringToByteArray(ee,W))},decodeStringToByteArray(ee,W){this.init_();const Y=W?this.charToByteMapWebSafe_:this.charToByteMap_,ie=[];for(let $=0;$<ee.length;){const Ce=Y[ee.charAt($++)],st=$<ee.length?Y[ee.charAt($)]:0;++$;const cn=$<ee.length?Y[ee.charAt($)]:64;++$;const Kt=$<ee.length?Y[ee.charAt($)]:64;if(++$,null==Ce||null==st||null==cn||null==Kt)throw Error();ie.push(Ce<<2|st>>4),64!==cn&&(ie.push(st<<4&240|cn>>2),64!==Kt&&ie.push(cn<<6&192|Kt))}return ie},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ee=0;ee<this.ENCODED_VALS.length;ee++)this.byteToCharMap_[ee]=this.ENCODED_VALS.charAt(ee),this.charToByteMap_[this.byteToCharMap_[ee]]=ee,this.byteToCharMapWebSafe_[ee]=this.ENCODED_VALS_WEBSAFE.charAt(ee),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ee]]=ee,ee>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ee)]=ee,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ee)]=ee)}}},we=function(ee){const W=ce(ee);return De.encodeByteArray(W,!0)},ge=function(ee){return we(ee).replace(/\./g,"")},xe=function(ee){try{return De.decodeString(ee,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function X(ee){return Z(void 0,ee)}function Z(ee,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===ee&&(ee={});break;case Array:ee=[];break;default:return W}for(const Y in W)!W.hasOwnProperty(Y)||!ae(Y)||(ee[Y]=Z(ee[Y],W[Y]));return ee}function ae(ee){return"__proto__"!==ee}class ot{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,Y)=>{this.resolve=W,this.reject=Y})}wrapCallback(W){return(Y,ie)=>{Y?this.reject(Y):this.resolve(ie),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(Y):W(Y,ie))}}}function ze(ee,W){if(ee.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ie=W||"demo-project",$=ee.iat||0,Ce=ee.sub||ee.user_id;if(!Ce)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ye=Object.assign({iss:`https://securetoken.google.com/${ie}`,aud:ie,iat:$,exp:$+3600,auth_time:$,sub:Ce,user_id:Ce,firebase:{sign_in_provider:"custom",identities:{}}},ee);return[ge(JSON.stringify({alg:"none",type:"JWT"})),ge(JSON.stringify(Ye)),""].join(".")}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function et(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function Ie(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function be(){return"object"==typeof self&&self.self===self}function tt(){const ee="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ee&&void 0!==ee.id}function Je(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Le(){return je().indexOf("Electron/")>=0}function Ve(){const ee=je();return ee.indexOf("MSIE ")>=0||ee.indexOf("Trident/")>=0}function Te(){return je().indexOf("MSAppHost/")>=0}function nt(){return!1}function B(){return!Ie()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _e(){return"object"==typeof indexedDB}function me(){return new Promise((ee,W)=>{try{let Y=!0;const ie="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(ie);$.onsuccess=()=>{$.result.close(),Y||self.indexedDB.deleteDatabase(ie),ee(!0)},$.onupgradeneeded=()=>{Y=!1},$.onerror=()=>{var Ce;W((null===(Ce=$.error)||void 0===Ce?void 0:Ce.message)||"")}}catch(Y){W(Y)}})}function te(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ve extends Error{constructor(W,Y,ie){super(Y),this.code=W,this.customData=ie,this.name="FirebaseError",Object.setPrototypeOf(this,ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fe.prototype.create)}}class fe{constructor(W,Y,ie){this.service=W,this.serviceName=Y,this.errors=ie}create(W,...Y){const ie=Y[0]||{},$=`${this.service}/${W}`,Ce=this.errors[W],Ye=Ce?function Ge(ee,W){return ee.replace(_t,(Y,ie)=>{const $=W[ie];return null!=$?String($):`<${ie}?>`})}(Ce,ie):"Error";return new ve($,`${this.serviceName}: ${Ye} (${$}).`,ie)}}const _t=/\{\$([^}]+)}/g;function tn(ee){return JSON.parse(ee)}function Bt(ee){return JSON.stringify(ee)}const Ze=function(ee){let W={},Y={},ie={},$="";try{const Ce=ee.split(".");W=tn(xe(Ce[0])||""),Y=tn(xe(Ce[1])||""),$=Ce[2],ie=Y.d||{},delete Y.d}catch{}return{header:W,claims:Y,data:ie,signature:$}},un=function(ee){const Y=Ze(ee).claims;return!!Y&&"object"==typeof Y&&Y.hasOwnProperty("iat")},$t=function(ee){const W=Ze(ee).claims;return"object"==typeof W&&!0===W.admin};function Ft(ee,W){return Object.prototype.hasOwnProperty.call(ee,W)}function on(ee,W){if(Object.prototype.hasOwnProperty.call(ee,W))return ee[W]}function bn(ee){for(const W in ee)if(Object.prototype.hasOwnProperty.call(ee,W))return!1;return!0}function Jr(ee,W,Y){const ie={};for(const $ in ee)Object.prototype.hasOwnProperty.call(ee,$)&&(ie[$]=W.call(Y,ee[$],$,ee));return ie}function Sr(ee,W){if(ee===W)return!0;const Y=Object.keys(ee),ie=Object.keys(W);for(const $ of Y){if(!ie.includes($))return!1;const Ce=ee[$],Ye=W[$];if(xn(Ce)&&xn(Ye)){if(!Sr(Ce,Ye))return!1}else if(Ce!==Ye)return!1}for(const $ of ie)if(!Y.includes($))return!1;return!0}function xn(ee){return null!==ee&&"object"==typeof ee}function ii(ee){const W=[];for(const[Y,ie]of Object.entries(ee))Array.isArray(ie)?ie.forEach($=>{W.push(encodeURIComponent(Y)+"="+encodeURIComponent($))}):W.push(encodeURIComponent(Y)+"="+encodeURIComponent(ie));return W.length?"&"+W.join("&"):""}function Mr(ee){const W={};return ee.replace(/^\?/,"").split("&").forEach(ie=>{if(ie){const[$,Ce]=ie.split("=");W[decodeURIComponent($)]=decodeURIComponent(Ce)}}),W}function mi(ee){const W=ee.indexOf("?");if(!W)return"";const Y=ee.indexOf("#",W);return ee.substring(W,Y>0?Y:void 0)}class Cn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let W=1;W<this.blockSize;++W)this.pad_[W]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(W,Y){Y||(Y=0);const ie=this.W_;if("string"==typeof W)for(let Kt=0;Kt<16;Kt++)ie[Kt]=W.charCodeAt(Y)<<24|W.charCodeAt(Y+1)<<16|W.charCodeAt(Y+2)<<8|W.charCodeAt(Y+3),Y+=4;else for(let Kt=0;Kt<16;Kt++)ie[Kt]=W[Y]<<24|W[Y+1]<<16|W[Y+2]<<8|W[Y+3],Y+=4;for(let Kt=16;Kt<80;Kt++){const de=ie[Kt-3]^ie[Kt-8]^ie[Kt-14]^ie[Kt-16];ie[Kt]=4294967295&(de<<1|de>>>31)}let cn,_n,$=this.chain_[0],Ce=this.chain_[1],Ye=this.chain_[2],st=this.chain_[3],Lt=this.chain_[4];for(let Kt=0;Kt<80;Kt++){Kt<40?Kt<20?(cn=st^Ce&(Ye^st),_n=1518500249):(cn=Ce^Ye^st,_n=1859775393):Kt<60?(cn=Ce&Ye|st&(Ce|Ye),_n=2400959708):(cn=Ce^Ye^st,_n=3395469782);const de=($<<5|$>>>27)+cn+Lt+_n+ie[Kt]&4294967295;Lt=st,st=Ye,Ye=4294967295&(Ce<<30|Ce>>>2),Ce=$,$=de}this.chain_[0]=this.chain_[0]+$&4294967295,this.chain_[1]=this.chain_[1]+Ce&4294967295,this.chain_[2]=this.chain_[2]+Ye&4294967295,this.chain_[3]=this.chain_[3]+st&4294967295,this.chain_[4]=this.chain_[4]+Lt&4294967295}update(W,Y){if(null==W)return;void 0===Y&&(Y=W.length);const ie=Y-this.blockSize;let $=0;const Ce=this.buf_;let Ye=this.inbuf_;for(;$<Y;){if(0===Ye)for(;$<=ie;)this.compress_(W,$),$+=this.blockSize;if("string"==typeof W){for(;$<Y;)if(Ce[Ye]=W.charCodeAt($),++Ye,++$,Ye===this.blockSize){this.compress_(Ce),Ye=0;break}}else for(;$<Y;)if(Ce[Ye]=W[$],++Ye,++$,Ye===this.blockSize){this.compress_(Ce),Ye=0;break}}this.inbuf_=Ye,this.total_+=Y}digest(){const W=[];let Y=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let $=this.blockSize-1;$>=56;$--)this.buf_[$]=255&Y,Y/=256;this.compress_(this.buf_);let ie=0;for(let $=0;$<5;$++)for(let Ce=24;Ce>=0;Ce-=8)W[ie]=this.chain_[$]>>Ce&255,++ie;return W}}function Ln(ee,W){const Y=new ht(ee,W);return Y.subscribe.bind(Y)}class ht{constructor(W,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{W(this)}).catch(ie=>{this.error(ie)})}next(W){this.forEachObserver(Y=>{Y.next(W)})}error(W){this.forEachObserver(Y=>{Y.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,Y,ie){let $;if(void 0===W&&void 0===Y&&void 0===ie)throw new Error("Missing Observer.");$=function Xt(ee,W){if("object"!=typeof ee||null===ee)return!1;for(const Y of W)if(Y in ee&&"function"==typeof ee[Y])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:Y,complete:ie},void 0===$.next&&($.next=en),void 0===$.error&&($.error=en),void 0===$.complete&&($.complete=en);const Ce=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch{}}),this.observers.push($),Ce}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,W)}sendOne(W,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{Y(this.observers[W])}catch(ie){typeof console<"u"&&console.error&&console.error(ie)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function en(){}const gr=function(ee,W,Y,ie){let $;if(ie<W?$="at least "+W:ie>Y&&($=0===Y?"none":"no more than "+Y),$)throw new Error(ee+" failed: Was called with "+ie+(1===ie?" argument.":" arguments.")+" Expects "+$+".")};function tr(ee,W){return`${ee} failed: ${W} argument `}function sn(ee,W,Y,ie){if((!ie||Y)&&"function"!=typeof Y)throw new Error(tr(ee,W)+"must be a valid function.")}function kn(ee,W,Y,ie){if((!ie||Y)&&("object"!=typeof Y||null===Y))throw new Error(tr(ee,W)+"must be a valid context object.")}const Vr=function(ee){const W=[];let Y=0;for(let ie=0;ie<ee.length;ie++){let $=ee.charCodeAt(ie);if($>=55296&&$<=56319){const Ce=$-55296;ie++,H(ie<ee.length,"Surrogate pair missing trail surrogate."),$=65536+(Ce<<10)+(ee.charCodeAt(ie)-56320)}$<128?W[Y++]=$:$<2048?(W[Y++]=$>>6|192,W[Y++]=63&$|128):$<65536?(W[Y++]=$>>12|224,W[Y++]=$>>6&63|128,W[Y++]=63&$|128):(W[Y++]=$>>18|240,W[Y++]=$>>12&63|128,W[Y++]=$>>6&63|128,W[Y++]=63&$|128)}return W},Et=function(ee){let W=0;for(let Y=0;Y<ee.length;Y++){const ie=ee.charCodeAt(Y);ie<128?W++:ie<2048?W+=2:ie>=55296&&ie<=56319?(W+=4,Y++):W+=3}return W};function Er(ee,W=1e3,Y=2){const ie=W*Math.pow(Y,ee),$=Math.round(.5*ie*(Math.random()-.5)*2);return Math.min(144e5,ie+$)}function hn(ee){return ee&&ee._delegate?ee._delegate:ee}},8721:(yt,Ne,V)=>{"use strict";var g=V(4650);let H=null;function O(){return H}const we=new g.OlP("DocumentToken");class os{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let oi=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,l,c)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new os(o.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===l?void 0:l);else if(null!==l){const p=r.get(l);r.move(p,c),rr(p,o)}});for(let o=0,l=r.length;o<l;o++){const p=r.get(o).context;p.index=o,p.count=l,p.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{rr(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},n.\u0275dir=g.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function rr(n,e){n.context.$implicit=e.item}let _r=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new xr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ul("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ul("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.s_b),g.Y36(g.Rgc))},n.\u0275dir=g.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class xr{constructor(){this.$implicit=null,this.ngIf=null}}function ul(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,g.AaK)(e)}'.`)}let qi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})();function Xl(n){return"server"===n}class xi extends class On extends class De{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function pe(n){H||(H=n)}(new xi)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ho(){return ds=ds||document.querySelector("base"),ds?ds.getAttribute("href"):null}();return null==t?null:function Ra(n){ir=ir||document.createElement("a"),ir.setAttribute("href",n);const e=ir.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ds=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ll(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let ir,ds=null;const Vn=new g.OlP("TRANSITION_ID"),or=[{provide:g.ip1,useFactory:function Lo(n,e,t){return()=>{t.get(g.CZH).donePromise.then(()=>{const r=O(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)r.remove(o[l])})}},deps:[Vn,we,g.zs3],multi:!0}];let Vo=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const zs=new g.OlP("EventManagerPlugins");let kr=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let l=0;l<o.length;l++){const c=o[l];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(zs),g.LFG(g.R0b))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class Ws{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=O().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let po=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),wt=(()=>{class n extends po{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(l=>{const c=this._doc.createElement("style");c.textContent=l,o.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Bo),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Bo))}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(we))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function Bo(n){O().remove(n)}const qs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},hs=/%COMP%/g;function Ut(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?Ut(n,o,t):(o=o.replace(hs,n),t.push(o))}return t}function Fa(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Gn=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Uo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case g.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new gl(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case g.ifc.ShadowDom:return new Hu(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=Ut(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(kr),g.LFG(wt),g.LFG(g.AFp))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class Uo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(qs[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(ms(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(ms(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const l=qs[o];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=qs[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(g.JOm.DashCase|g.JOm.Important)?e.style.setProperty(t,r,o&g.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&g.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Fa(r)):this.eventManager.addEventListener(e,t,Fa(r))}}function ms(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class gl extends Uo{constructor(e,t,r,o){super(e),this.component=r;const l=Ut(o+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function Zs(n){return"_ngcontent-%COMP%".replace(hs,n)}(o+"-"+r.id),this.hostAttr=function Fe(n){return"_nghost-%COMP%".replace(hs,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Hu extends Uo{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Ut(o.id,o.styles,[]);for(let c=0;c<l.length;c++){const p=document.createElement("style");p.textContent=l[c],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ml=(()=>{class n extends Ws{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(we))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const yl=["alt","control","meta","shift"],Ir={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},_l={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ai=(()=>{class n extends Ws{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const l=n.parseEventName(r),c=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,l.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(r.pop());let c="";if(yl.forEach(_=>{const w=r.indexOf(_);w>-1&&(r.splice(w,1),c+=_+".")}),c+=l,0!=r.length||0===l.length)return null;const p={};return p.domEventName=o,p.fullKey=c,p}static getEventFullKey(t){let r="",o=function ki(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&jr.hasOwnProperty(e)&&(e=jr[e]))}return Ir[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),yl.forEach(l=>{l!=o&&_l[l](t)&&(r+=l+".")}),r+=o,r}static eventCallback(t,r,o){return l=>{n.getEventFullKey(l)===t&&o.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(we))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const Ho=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:"browser"},{provide:g.g9A,useValue:function tu(){xi.makeCurrent()},multi:!0},{provide:we,useFactory:function Qs(){return(0,g.RDi)(document),document},deps:[]}]),$o=new g.OlP(""),Ba=[{provide:g.rWj,useClass:class Oa{addToWindow(e){g.dqk.getAngularTestability=(r,o=!0)=>{const l=e.findTestabilityInTree(r,o);if(null==l)throw new Error("Could not find testability for element.");return l},g.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(r=>{const o=g.dqk.getAllAngularTestabilities();let l=o.length,c=!1;const p=function(_){c=c||_,l--,0==l&&r(c)};o.forEach(function(_){_.whenStable(p)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:g.lri,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]}],Ni=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function Go(){return new g.qLn},deps:[]},{provide:zs,useClass:ml,multi:!0,deps:[we,g.R0b,g.Lbi]},{provide:zs,useClass:ai,multi:!0,deps:[we]},{provide:Gn,useClass:Gn,deps:[kr,wt,g.AFp]},{provide:g.FYo,useExisting:Gn},{provide:po,useExisting:wt},{provide:wt,useClass:wt,deps:[we]},{provide:kr,useClass:kr,deps:[zs,g.R0b]},{provide:class cs{},useClass:Vo,deps:[]},[]];let vl=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:g.AFp,useValue:t.appId},{provide:Vn,useExisting:g.AFp},or]}}}return n.\u0275fac=function(t){return new(t||n)(g.LFG($o,12))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[...Ni,...Ba],imports:[qi,g.hGG]}),n})();typeof window<"u"&&window;var it=V(2011),St=V(8996),ar=V(8306);const{isArray:lr}=Array,{getPrototypeOf:ui,prototype:Yi,keys:ru}=Object;var iu=V(8421),go=V(7669),Jn=V(5403),Nn=V(4004);const{isArray:ws}=Array;function Wa(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}let qu=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.Qsj),g.Y36(g.SBq))},n.\u0275dir=g.lG2({type:n}),n})(),Ji=(()=>{class n extends qu{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=g.n5z(n)))(r||n)}}(),n.\u0275dir=g.lG2({type:n,features:[g.qOj]}),n})();const Hr=new g.OlP("NgValueAccessor"),Cf={provide:Hr,useExisting:(0,g.Gpc)(()=>ea),multi:!0},Al=new g.OlP("CompositionEventMode");let ea=(()=>{class n extends qu{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Cl(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(Al,8))},n.\u0275dir=g.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&g.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[g._Bn([Cf]),g.qOj]}),n})();function bi(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const vr=new g.OlP("NgValidators"),mo=new g.OlP("NgAsyncValidators");function Zc(n){return null}function Yc(n){return null!=n}function vn(n){return(0,g.QGY)(n)?(0,St.D)(n):n}function Qc(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Nh(n,e){return e.map(t=>t(n))}function Yu(n){return n.map(e=>function Tf(n){return!n.validate}(e)?e:t=>e.validate(t))}function su(n){return null!=n?function Ph(n){if(!n)return null;const e=n.filter(Yc);return 0==e.length?null:function(t){return Qc(Nh(t,e))}}(Yu(n)):null}function Rh(n){if(!n)return null;const e=n.filter(Yc);return 0==e.length?null:function(t){return function Wo(...n){const e=(0,go.jO)(n),{args:t,keys:r}=function Df(n){if(1===n.length){const e=n[0];if(lr(e))return{args:e,keys:null};if(function Wu(n){return n&&"object"==typeof n&&ui(n)===Yi}(e)){const t=ru(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n),o=new ar.y(l=>{const{length:c}=t;if(!c)return void l.complete();const p=new Array(c);let _=c,w=c;for(let S=0;S<c;S++){let k=!1;(0,iu.Xf)(t[S]).subscribe((0,Jn.x)(l,j=>{k||(k=!0,w--),p[S]=j},()=>_--,void 0,()=>{(!_||!k)&&(w||l.next(r?Wa(r,p):p),l.complete())}))}});return e?o.pipe(function za(n){return(0,Nn.U)(e=>function Qi(n,e){return ws(e)?n(...e):n(e)}(n,e))}(e)):o}(Nh(t,e).map(vn)).pipe((0,Nn.U)(Qc))}}function Is(n){return null!=n?Rh(Yu(n)):null}function Oh(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function ia(n){return n?Array.isArray(n)?n:[n]:[]}function Ds(n,e){return Array.isArray(n)?n.includes(e):n===e}function Qu(n,e){const t=ia(e);return ia(n).forEach(o=>{Ds(t,o)||t.push(o)}),t}function Jc(n,e){return ia(e).filter(t=>!Ds(n,t))}class ur{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=su(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Is(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Fn extends ur{get formDirective(){return null}get path(){return null}}class qo extends ur{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let Za=(()=>{class n extends class oa{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(qo,2))},n.\u0275dir=g.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&g.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[g.qOj]}),n})();const la="VALID",ua="INVALID",A="PENDING",T="DISABLED";function G(n){return Array.isArray(n)?su(n):n||null}function he(n){return Array.isArray(n)?Is(n):n||null}function Re(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function ei(n,e){(function vo(n,e){const t=function au(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(Oh(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Zn(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(Oh(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();_o(e._rawValidators,o),_o(e._rawAsyncValidators,o)})(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function kl(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&xf(n,e)})}(n,e),function Sy(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function nd(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&xf(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function ca(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function _o(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function xf(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Gh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function ky(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Lf={provide:qo,useExisting:(0,g.Gpc)(()=>sd)},tc=(()=>Promise.resolve(null))();let sd=(()=>{class n extends qo{constructor(t,r,o,l,c){super(),this._changeDetectorRef=c,this.control=new class extends class bt{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=G(this._rawValidators),this._composedAsyncValidatorFn=he(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===la}get invalid(){return this.status===ua}get pending(){return this.status==A}get disabled(){return this.status===T}get enabled(){return this.status!==T}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=G(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=he(e)}addValidators(e){this.setValidators(Qu(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Qu(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Jc(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Jc(e,this._rawAsyncValidators))}hasValidator(e){return Ds(this._rawValidators,e)}hasAsyncValidator(e){return Ds(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=A,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=T,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=la,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===la||this.status===A)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?T:la}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=A,this._hasOwnPendingAsyncValidator=!0;const t=vn(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?T:this.errors?ua:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(A)?A:this._anyControlsHaveStatus(ua)?ua:la}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Re(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}{constructor(e=null,t,r){super(function P(n){return(Re(n)?n.validators:n)||null}(t),function ne(n,e){return(Re(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Re(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=ky(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Gh(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Gh(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){ky(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},this._registered=!1,this.update=new g.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function Uh(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(l=>{l.constructor===ea?t=l:function My(n){return Object.getPrototypeOf(n.constructor)===Ji}(l)?r=l:o=l}),o||r||t||null}(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function kf(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ei(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){tc.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=0!==r&&(0,g.D6c)(r);tc.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function eo(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(Fn,9),g.Y36(vr,10),g.Y36(mo,10),g.Y36(Hr,10),g.Y36(g.sBO,8))},n.\u0275dir=g.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g._Bn([Lf]),g.qOj,g.TTD]}),n})();const Bf={provide:Hr,useExisting:(0,g.Gpc)(()=>ad),multi:!0};let ad=(()=>{class n extends Ji{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=g.n5z(n)))(r||n)}}(),n.\u0275dir=g.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&g.NdJ("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[g._Bn([Bf]),g.qOj]}),n})(),nc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})();const Pl={provide:Hr,useExisting:(0,g.Gpc)(()=>Rl),multi:!0};function ld(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Rl=(()=>{class n extends Ji{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const o=ld(this._getOptionId(t),t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function $h(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=g.n5z(n)))(r||n)}}(),n.\u0275dir=g.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&g.NdJ("change",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([Pl]),g.qOj]}),n})(),Uf=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(ld(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(Rl,9))},n.\u0275dir=g.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Ry={provide:Hr,useExisting:(0,g.Gpc)(()=>Ol),multi:!0};function zh(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Ol=(()=>{class n extends Ji{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const o=t.map(l=>this._getOptionId(l));r=(l,c)=>{l._setSelected(o.indexOf(c.toString())>-1)}}else r=(o,l)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const o=[],l=r.selectedOptions;if(void 0!==l){const c=l;for(let p=0;p<c.length;p++){const w=this._getOptionValue(c[p].value);o.push(w)}}else{const c=r.options;for(let p=0;p<c.length;p++){const _=c[p];if(_.selected){const w=this._getOptionValue(_.value);o.push(w)}}}this.value=o,t(o)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function ud(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=g.n5z(n)))(r||n)}}(),n.\u0275dir=g.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&g.NdJ("change",function(l){return r.onChange(l.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([Ry]),g.qOj]}),n})(),Oy=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(zh(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(zh(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(Ol,9))},n.\u0275dir=g.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let ic=(()=>{class n{constructor(){this._validator=Zc}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Zc,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=g.lG2({type:n,features:[g.TTD]}),n})();const pC={provide:vr,useExisting:(0,g.Gpc)(()=>Wh),multi:!0};let Wh=(()=>{class n extends ic{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>function Fy(n){return"number"==typeof n?n:parseFloat(n)}(t),this.createValidator=t=>function Es(n){return e=>{if(bi(e.value)||bi(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=g.n5z(n)))(r||n)}}(),n.\u0275dir=g.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&g.uIk("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[g._Bn([pC]),g.qOj]}),n})(),MM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[nc]}),n})(),Kh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[MM]}),n})();var kb=V(4986);function oc(...n){const e=(0,go.yG)(n);return(0,St.D)(n,e)}var Ly=V(6451),zf=V(3099),Ja=V(4482);function Fl(n,e){return(0,Ja.e)((t,r)=>{let o=null,l=0,c=!1;const p=()=>c&&!o&&r.complete();t.subscribe((0,Jn.x)(r,_=>{o?.unsubscribe();let w=0;const S=l++;(0,iu.Xf)(n(_,S)).subscribe(o=(0,Jn.x)(r,k=>r.next(e?e(_,k,S,w++):k),()=>{o=null,p()}))},()=>{c=!0,p()}))})}function vC(n,e,t,r,o){return(l,c)=>{let p=t,_=e,w=0;l.subscribe((0,Jn.x)(c,S=>{const k=w++;_=p?n(_,S,k):(p=!0,S),r&&c.next(_)},o&&(()=>{p&&c.next(_),c.complete()})))}}function cd(n,e){return(0,Ja.e)(vC(n,e,arguments.length>=2,!0))}var Vy=V(4671);function Nb(n,e=Vy.y){return n=n??to,(0,Ja.e)((t,r)=>{let o,l=!0;t.subscribe((0,Jn.x)(r,c=>{const p=e(c);(l||!n(o,p))&&(l=!1,o=p,r.next(c))}))})}function to(n,e){return n===e}var By=V(5032),Rt=V(2680),qf=(V(5881),V(3942)),Ll=V(4859),Se=V(5861),Io=V(9681),F=V(2090),Ts=V(1877);const Rb="@firebase/database";let Gy="";function Ob(n){Gy=n}class bC{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,F.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,F.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class wC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,F.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Fb=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new bC(e)}}catch{}return new wC},sc=Fb("localStorage"),fu=Fb("sessionStorage"),Do=new Ts.Yd("@firebase/database"),Lb=function(){let n=1;return function(){return n++}}(),EC=function(n){const e=(0,F.dS)(n),t=new F.gQ;t.update(e);const r=t.digest();return F.US.encodeByteArray(r)},Kf=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Kf.apply(null,r):e+="object"==typeof r?(0,F.Pz)(r):r,e+=" "}return e};let gu=null,IC=!0;const da=function(n,e){(0,F.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Do.logLevel=Ts.in.VERBOSE,gu=Do.log.bind(Do),e&&fu.set("logging_enabled",!0)):"function"==typeof n?gu=n:(gu=null,fu.remove("logging_enabled"))},Wr=function(...n){if(!0===IC&&(IC=!1,null===gu&&!0===fu.get("logging_enabled")&&da(!0)),gu){const e=Kf.apply(null,n);gu(e)}},ac=function(n){return function(...e){Wr(n,...e)}},Hy=function(...n){const e="FIREBASE INTERNAL ERROR: "+Kf(...n);Do.error(e)},ha=function(...n){const e=`FIREBASE FATAL ERROR: ${Kf(...n)}`;throw Do.error(e),new Error(e)},qr=function(...n){const e="FIREBASE WARNING: "+Kf(...n);Do.warn(e)},Zh=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},pa="[MIN_NAME]",fa="[MAX_NAME]",dd=function(n,e){if(n===e)return 0;if(n===pa||e===fa)return-1;if(e===pa||n===fa)return 1;{const t=pd(n),r=pd(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},hd=function(n,e){return n===e?0:n<e?-1:1},lc=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,F.Pz)(e))},Zf=function(n){if("object"!=typeof n||null===n)return(0,F.Pz)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,F.Pz)(e[r]),t+=":",t+=Zf(n[e[r]]);return t+="}",t},Bb=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let o=0;o<t;o+=e)r.push(n.substring(o,o+e>t?t:o+e));return r};function Kr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const Ub=function(n){(0,F.hu)(!Zh(n),"Invalid JSON number");const r=1023;let o,l,c,p,_;0===n?(l=0,c=0,o=1/n==-1/0?1:0):(o=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(p=Math.min(Math.floor(Math.log(n)/Math.LN2),r),l=p+r,c=Math.round(n*Math.pow(2,52-p)-Math.pow(2,52))):(l=0,c=Math.round(n/Math.pow(2,-1074))));const w=[];for(_=52;_;_-=1)w.push(c%2?1:0),c=Math.floor(c/2);for(_=11;_;_-=1)w.push(l%2?1:0),l=Math.floor(l/2);w.push(o?1:0),w.reverse();const S=w.join("");let k="";for(_=0;_<64;_+=8){let j=parseInt(S.substr(_,8),2).toString(16);1===j.length&&(j="0"+j),k+=j}return k.toLowerCase()},TC=new RegExp("^-?(0*)\\d{1,10}$"),jb=-2147483648,Yf=2147483647,pd=function(n){if(TC.test(n)){const e=Number(n);if(e>=jb&&e<=Yf)return e}return null},uc=function(n){try{n()}catch(e){setTimeout(()=>{throw qr("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Yh=function(n,e){const t=setTimeout(n,e);return"object"==typeof t&&t.unref&&t.unref(),t};class SC{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){qr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Gb{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Wr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',qr(e)}}let fd=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Qh=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Yy="websocket",Jf="long_polling";class Xf{constructor(e,t,r,o,l=!1,c="",p=!1){this.secure=t,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=l,this.persistenceKey=c,this.includeNamespaceInQueryParams=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=sc.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&sc.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Jh(n,e,t){let r;if((0,F.hu)("string"==typeof e,"typeof type must == string"),(0,F.hu)("object"==typeof t,"typeof params must == object"),e===Yy)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==Jf)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function eg(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const o=[];return Kr(t,(l,c)=>{o.push(l+"="+c)}),r+o.join("&")}class zb{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,F.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,F.p$)(this.counters_)}}const Xh={},tg={};function ep(n){const e=n.toString();return Xh[e]||(Xh[e]=new zb),Xh[e]}class MC{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&uc(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class mu{constructor(e,t,r,o,l,c,p){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=o,this.authToken=l,this.transportSessionId=c,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ac(e),this.stats_=ep(t),this.urlFn=_=>(this.appCheckToken&&(_.ac=this.appCheckToken),Jh(t,Jf,_))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new MC(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,F.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Xy((...l)=>{const[c,p,_,w,S]=l;if(this.incrementIncomingBytes_(l),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=p,this.password=_;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_()}},(...l)=>{const[c,p]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(c,p)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Qh.test(location.hostname)&&(r.r="f");const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){mu.forceAllow_=!0}static forceDisallow(){mu.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!mu.forceAllow_&&(mu.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,F.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,F.h$)(t),o=Bb(r,1840);for(let l=0;l<o.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[l]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,F.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Xy{constructor(e,t,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Lb(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Xy.createIFrame_();let l="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(l='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(p){Wr("frame writing exception"),p.stack&&Wr(p.stack),Wr(p)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Wr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const c=this.pendingSegs.shift();r=r+"&seg"+o+"="+c.seg+"&ts"+o+"="+c.ts+"&d"+o+"="+c.d,o++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},o=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(o),r()})}addTag(e,t){(0,F.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||"loaded"===o||"complete"===o)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Wr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let rg=null;typeof MozWebSocket<"u"?rg=MozWebSocket:typeof WebSocket<"u"&&(rg=WebSocket);let gd=(()=>{class n{constructor(t,r,o,l,c,p,_){this.connId=t,this.applicationId=o,this.appCheckToken=l,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ac(this.connId),this.stats_=ep(r),this.connURL=n.connectionURL_(r,p,_,l,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,o,l,c){const p={v:"5"};return!(0,F.Yr)()&&typeof location<"u"&&location.hostname&&Qh.test(location.hostname)&&(p.r="f"),r&&(p.s=r),o&&(p.ls=o),l&&(p.ac=l),c&&(p.p=c),Jh(t,Yy,p)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,sc.set("previous_websocket_failure",!0);try{let o;if((0,F.Yr)()){const c={headers:{"User-Agent":`Firebase/5/${Gy}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(c.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(c.headers["X-Firebase-AppCheck"]=this.appCheckToken);const p=process.env,_=0===this.connURL.indexOf("wss://")?p.HTTPS_PROXY||p.https_proxy:p.HTTP_PROXY||p.http_proxy;_&&(c.proxy={origin:_})}this.mySock=new rg(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const l=o.message||o.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const o=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&null!==rg&&!n.forceDisallow_}static previouslyFailed(){return sc.isInMemoryStorage||!0===sc.get("previous_websocket_failure")}markConnectionHealthy(){sc.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=(0,F.cI)(r);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);null!==o&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const r=(0,F.Pz)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=Bb(r,16384);o.length>1&&this.sendString_(String(o.length));for(let l=0;l<o.length;l++)this.sendString_(o[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),zt=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[mu,gd]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=gd&&gd.isAvailable();let o=r&&!gd.previouslyFailed();if(t.webSocketOnly&&(r||qr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[gd];else{const l=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&l.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class o_{constructor(e,t,r,o,l,c,p,_,w,S){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=l,this.onMessage_=c,this.onReady_=p,this.onDisconnect_=_,this.onKill_=w,this.lastSessionId=S,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ac("c:"+this.id+":"),this.transportManager_=new zt(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Yh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=lc("t",e),r=lc("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=lc("t",e),r=lc("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=lc("t",e);if("d"in e){const r=e.d;if("h"===t)this.onHandshake_(r);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?Hy("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Hy("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&qr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Yh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Yh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(sc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class s_{put(e,t,r,o){}merge(e,t,r,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class ig{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,F.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const o=this.getInitialEvent(e);o&&t.apply(r,o)}off(e,t,r){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let l=0;l<o.length;l++)if(o[l].callback===t&&(!r||r===o[l].context))return void o.splice(l,1)}validateEventType_(e){(0,F.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class a_ extends ig{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new a_}getInitialEvent(e){return(0,F.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Pn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function In(){return new Pn("")}function Wt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function yu(n){return n.pieces_.length-n.pieceNum_}function Bn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Pn(n.pieces_,e)}function sg(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function _u(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function rw(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Pn(e,0)}function Xn(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof Pn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&t.push(r[o])}return new Pn(t,0)}function rn(n){return n.pieceNum_>=n.pieces_.length}function ti(n,e){const t=Wt(n),r=Wt(e);if(null===t)return e;if(t===r)return ti(Bn(n),Bn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function iw(n,e){const t=_u(n,0),r=_u(e,0);for(let o=0;o<t.length&&o<r.length;o++){const l=dd(t[o],r[o]);if(0!==l)return l}return t.length===r.length?0:t.length<r.length?-1:1}function np(n,e){if(yu(n)!==yu(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Ms(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(yu(n)>yu(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class $C{constructor(e,t){this.errorPrefix_=t,this.parts_=_u(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,F.ug)(this.parts_[r]);sw(this)}}function sw(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+cc(n))}function cc(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class u_ extends ig{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new u_}getInitialEvent(e){return(0,F.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const rp=1e3;let f_,dc=(()=>{class n extends s_{constructor(t,r,o,l,c,p,_,w){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=l,this.onServerInfoUpdate_=c,this.authTokenProvider_=p,this.appCheckTokenProvider_=_,this.authOverride_=w,this.id=n.nextPersistentConnectionId_++,this.log_=ac("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=rp,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,w&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");u_.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&a_.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,o){const l=++this.requestNumber_,c={r:l,a:t,b:r};this.log_((0,F.Pz)(c)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),o&&(this.requestCBHash_[l]=o)}get(t){this.initConnection_();const r=new F.BH,l={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:p=>{const _=p.d;"ok"===p.s?r.resolve(_):r.reject(_)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const p=this.outstandingGets_[c];void 0===p||l!==p||(delete this.outstandingGets_[c],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+c+" timed out on connection"),r.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(c),r.promise}listen(t,r,o,l){this.initConnection_();const c=t._queryIdentifier,p=t._path.toString();this.log_("Listen called for "+p+" "+c),this.listens.has(p)||this.listens.set(p,new Map),(0,F.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(p).has(c),"listen() called twice for same path/queryId.");const _={onComplete:l,hashFn:r,query:t,tag:o};this.listens.get(p).set(c,_),this.connected_&&this.sendListen_(_)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(t){const r=t.query,o=r._path.toString(),l=r._queryIdentifier;this.log_("Listen on "+o+" for "+l);const c={p:o};t.tag&&(c.q=r._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest("q",c,_=>{const w=_.d,S=_.s;n.warnOnListenWarnings_(w,r),(this.listens.get(o)&&this.listens.get(o).get(l))===t&&(this.log_("listen response",_),"ok"!==S&&this.removeListen_(o,l),t.onComplete&&t.onComplete(S,w))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,F.r3)(t,"w")){const o=(0,F.DV)(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const l='".indexOn": "'+r._queryParams.getIndex().toString()+'"',c=r._path.toString();qr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,F.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,F.w9)(t)?"auth":"gauth",o={cred:t};null===this.authOverride_?o.noauth=!0:"object"==typeof this.authOverride_&&(o.authvar=this.authOverride_),this.sendRequest(r,o,l=>{const c=l.s,p=l.d||"error";this.authToken_===t&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,p))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,o=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(t,r){const o=t._path.toString(),l=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+l),(0,F.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,l)&&this.connected_&&this.sendUnlisten_(o,l,t._queryObject,r)}sendUnlisten_(t,r,o,l){this.log_("Unlisten on "+t+" for "+r);const c={p:t};l&&(c.q=o,c.t=l),this.sendRequest("n",c)}onDisconnectPut(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:o})}onDisconnectMerge(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:o})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,o,l){const c={p:r,d:o};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,p=>{l&&setTimeout(()=>{l(p.s,p.d)},Math.floor(0))})}put(t,r,o,l){this.putInternal("p",t,r,o,l)}merge(t,r,o,l){this.putInternal("m",t,r,o,l)}putInternal(t,r,o,l,c){this.initConnection_();const p={p:r,d:o};void 0!==c&&(p.h=c),this.outstandingPuts_.push({action:t,request:p,onComplete:l}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,l=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,o,c=>{this.log_(r+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),l&&l(c.s,c.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,o=>{"ok"!==o.s&&this.log_("reportStats","Error sending stats: "+o.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,F.Pz)(t));const r=t.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):Hy("Unrecognized action received from server: "+(0,F.Pz)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=rp,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=rp,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=rp),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,Se.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),o=t.onReady_.bind(t),l=t.onRealtimeDisconnect_.bind(t),c=t.id+":"+n.nextConnectionId_++,p=t.lastSessionId;let _=!1,w=null;const S=function(){w?w.close():(_=!0,l())};t.realtime_={close:S,sendRequest:function(J){(0,F.hu)(w,"sendRequest call when we're not connected not allowed."),w.sendRequest(J)}};const j=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[J,se]=yield Promise.all([t.authTokenProvider_.getToken(j),t.appCheckTokenProvider_.getToken(j)]);_?Wr("getToken() completed but was canceled"):(Wr("getToken() completed. Creating connection."),t.authToken_=J&&J.accessToken,t.appCheckToken_=se&&se.token,w=new o_(c,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,o,l,Be=>{qr(Be+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},p))}catch(J){t.log_("Failed to get token: "+J),_||(t.repoInfo_.nodeAdmin&&qr(J),S())}}})()}interrupt(t){Wr("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Wr("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=rp,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let o;o=r?r.map(c=>Zf(c)).join("$"):"default";const l=this.removeListen_(t,o);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(t,r){const o=new Pn(t).toString();let l;if(this.listens.has(o)){const c=this.listens.get(o);l=c.get(r),c.delete(r),0===c.size&&this.listens.delete(o)}else l=void 0;return l}onAuthRevoked_(t,r){Wr("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Wr("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,F.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+Gy.replace(/\./g,"-")]=1,(0,F.uI)()?t["framework.cordova"]=1:(0,F.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=a_.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class fn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new fn(e,t)}}class p_{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new fn(pa,e),o=new fn(pa,t);return 0!==this.compare(r,o)}minPost(){return fn.MIN}}class lw extends p_{static get __EMPTY_NODE(){return f_}static set __EMPTY_NODE(e){f_=e}compare(e,t){return dd(e.name,t.name)}isDefinedOn(e){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return fn.MIN}maxPost(){return new fn(fa,f_)}makePost(e,t){return(0,F.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new fn(e,f_)}toString(){return".key"}}const ga=new lw;class g_{constructor(e,t,r,o,l=null){this.isReverse_=o,this.resultGenerator_=l,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,o&&(c*=-1),c<0)e=this.isReverse_?e.left:e.right;else{if(0===c){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let m_,ma=(()=>{class n{constructor(t,r,o,l,c){this.key=t,this.value=r,this.color=o??n.RED,this.left=l??Co.EMPTY_NODE,this.right=c??Co.EMPTY_NODE}copy(t,r,o,l,c){return new n(t??this.key,r??this.value,o??this.color,l??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let l=this;const c=o(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,r,o),null):0===c?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(t,r,o)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Co.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let o,l;if(o=this,r(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),0===r(t,o.key)){if(o.right.isEmpty())return Co.EMPTY_NODE;l=o.right.min_(),o=o.copy(l.key,l.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Co{constructor(e,t=Co.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Co(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ma.BLACK,null,null))}remove(e){return new Co(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ma.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,o=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(o=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new g_(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new g_(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new g_(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new g_(this.root_,null,this.comparator_,!0,e)}}function uw(n,e){return dd(n.name,e.name)}function _d(n,e){return dd(n,e)}Co.EMPTY_NODE=new class yd{copy(e,t,r,o,l){return this}insert(e,t,r){return new ma(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const dw=function(n){return"number"==typeof n?"number:"+Ub(n):"string:"+n},hw=function(n){if(n.isLeafNode()){const e=n.val();(0,F.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,F.r3)(e,".sv"),"Priority must be a string or number.")}else(0,F.hu)(n===m_||n.isEmpty(),"priority of unexpected type.");(0,F.hu)(n===m_||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let pw,fw,y_,vd=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),hw(this.priorityNode_)}static set __childrenNodeConstructor(t){pw=t}static get __childrenNodeConstructor(){return pw}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return rn(t)?this:".priority"===Wt(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const o=Wt(t);return null===o?r:r.isEmpty()&&".priority"!==o?this:((0,F.hu)(".priority"!==o||1===yu(t),".priority must be the last token in a path"),this.updateImmediateChild(o,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Bn(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+dw(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?Ub(this.value_):this.value_,this.lazyHash_=EC(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,F.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,o=typeof this.value_,l=n.VALUE_TYPE_ORDER.indexOf(r),c=n.VALUE_TYPE_ORDER.indexOf(o);return(0,F.hu)(l>=0,"Unknown leaf type: "+r),(0,F.hu)(c>=0,"Unknown leaf type: "+o),l===c?"object"===o?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-l}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const $n=new class mw extends p_{compare(e,t){const r=e.node.getPriority(),o=t.node.getPriority(),l=r.compareTo(o);return 0===l?dd(e.name,t.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return fn.MIN}maxPost(){return new fn(fa,new vd("[PRIORITY-POST]",y_))}makePost(e,t){const r=fw(e);return new fn(t,new vd("[PRIORITY-POST]",r))}toString(){return".priority"}},RM=Math.log(2);class __{constructor(e){this.count=parseInt(Math.log(e+1)/RM,10),this.current_=this.count-1;const o=(l=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const lg=function(n,e,t,r){n.sort(e);const o=function(_,w){const S=w-_;let k,j;if(0===S)return null;if(1===S)return k=n[_],j=t?t(k):k,new ma(j,k.node,ma.BLACK,null,null);{const J=parseInt(S/2,10)+_,se=o(_,J),Be=o(J+1,w);return k=n[J],j=t?t(k):k,new ma(j,k.node,ma.BLACK,se,Be)}},p=function(_){let w=null,S=null,k=n.length;const j=function(se,Be){const Xe=k-se,Gt=k;k-=se;const Yt=o(Xe+1,Gt),ln=n[Xe],Jt=t?t(ln):ln;J(new ma(Jt,ln.node,Be,null,Yt))},J=function(se){w?(w.left=se,w=se):(S=se,w=se)};for(let se=0;se<_.count;++se){const Be=_.nextBitIsOne(),Xe=Math.pow(2,_.count-(se+1));Be?j(Xe,ma.BLACK):(j(Xe,ma.BLACK),j(Xe,ma.RED))}return S}(new __(n.length));return new Co(r||e,p)};let yw;const ya={};class Vl{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,F.hu)(ya&&$n,"ChildrenNode.ts has not been loaded"),yw=yw||new Vl({".priority":ya},{".priority":$n}),yw}get(e){const t=(0,F.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Co?t:null}hasIndex(e){return(0,F.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,F.hu)(e!==ga,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const l=t.getIterator(fn.Wrap);let p,c=l.getNext();for(;c;)o=o||e.isDefinedOn(c.node),r.push(c),c=l.getNext();p=o?lg(r,e.getCompare()):ya;const _=e.toString(),w=Object.assign({},this.indexSet_);w[_]=e;const S=Object.assign({},this.indexes_);return S[_]=p,new Vl(S,w)}addToIndexes(e,t){const r=(0,F.UI)(this.indexes_,(o,l)=>{const c=(0,F.DV)(this.indexSet_,l);if((0,F.hu)(c,"Missing index implementation for "+l),o===ya){if(c.isDefinedOn(e.node)){const p=[],_=t.getIterator(fn.Wrap);let w=_.getNext();for(;w;)w.name!==e.name&&p.push(w),w=_.getNext();return p.push(e),lg(p,c.getCompare())}return ya}{const p=t.get(e.name);let _=o;return p&&(_=_.remove(new fn(e.name,p))),_.insert(e,e.node)}});return new Vl(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,F.UI)(this.indexes_,o=>{if(o===ya)return o;{const l=t.get(e.name);return l?o.remove(new fn(e.name,l)):o}});return new Vl(r,this.indexSet_)}}let ip,Qt=(()=>{class n{constructor(t,r,o){this.children_=t,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&hw(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ip||(ip=new n(new Co(_d),null,Vl.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ip}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?ip:r}}getChild(t){const r=Wt(t);return null===r?this:this.getImmediateChild(r).getChild(Bn(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,F.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const o=new fn(t,r);let l,c;r.isEmpty()?(l=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(o,this.children_)):(l=this.children_.insert(t,r),c=this.indexMap_.addToIndexes(o,this.children_));const p=l.isEmpty()?ip:this.priorityNode_;return new n(l,p,c)}}updateChild(t,r){const o=Wt(t);if(null===o)return r;{(0,F.hu)(".priority"!==Wt(t)||1===yu(t),".priority must be the last token in a path");const l=this.getImmediateChild(o).updateChild(Bn(t),r);return this.updateImmediateChild(o,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let o=0,l=0,c=!0;if(this.forEachChild($n,(p,_)=>{r[p]=_.val(t),o++,c&&n.INTEGER_REGEXP_.test(p)?l=Math.max(l,Number(p)):c=!1}),!t&&c&&l<2*o){const p=[];for(const _ in r)p[_]=r[_];return p}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+dw(this.getPriority().val())+":"),this.forEachChild($n,(r,o)=>{const l=o.hash();""!==l&&(t+=":"+r+":"+l)}),this.lazyHash_=""===t?"":EC(t)}return this.lazyHash_}getPredecessorChildName(t,r,o){const l=this.resolveIndex_(o);if(l){const c=l.getPredecessorKey(new fn(t,r));return c?c.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.minKey();return o&&o.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new fn(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.maxKey();return o&&o.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new fn(r,this.children_.get(r)):null}forEachChild(t,r){const o=this.resolveIndex_(t);return o?o.inorderTraversal(l=>r(l.name,l.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(t,l=>l);{const l=this.children_.getIteratorFrom(t.name,fn.Wrap);let c=l.peek();for(;null!=c&&r.compare(c,t)<0;)l.getNext(),c=l.peek();return l}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(t,l=>l);{const l=this.children_.getReverseIteratorFrom(t.name,fn.Wrap);let c=l.peek();for(;null!=c&&r.compare(c,t)>0;)l.getNext(),c=l.peek();return l}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ug?-1:0}withIndex(t){if(t===ga||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===ga||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const o=this.getIterator($n),l=r.getIterator($n);let c=o.getNext(),p=l.getNext();for(;c&&p;){if(c.name!==p.name||!c.node.equals(p.node))return!1;c=o.getNext(),p=l.getNext()}return null===c&&null===p}return!1}return!1}}resolveIndex_(t){return t===ga?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const ug=new class v_ extends Qt{constructor(){super(new Co(_d),Qt.EMPTY_NODE,Vl.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Qt.EMPTY_NODE}isEmpty(){return!1}};function dr(n,e=null){if(null===n)return Qt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,F.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new vd(n,dr(e));if(n instanceof Array){let t=Qt.EMPTY_NODE;return Kr(n,(r,o)=>{if((0,F.r3)(n,r)&&"."!==r.substring(0,1)){const l=dr(o);(l.isLeafNode()||!l.isEmpty())&&(t=t.updateImmediateChild(r,l))}}),t.updatePriority(dr(e))}{const t=[];let r=!1;if(Kr(n,(c,p)=>{if("."!==c.substring(0,1)){const _=dr(p);_.isEmpty()||(r=r||!_.getPriority().isEmpty(),t.push(new fn(c,_)))}}),0===t.length)return Qt.EMPTY_NODE;const l=lg(t,uw,c=>c.name,_d);if(r){const c=lg(t,$n.getCompare());return new Qt(l,dr(e),new Vl({".priority":c},{".priority":$n}))}return new Qt(l,dr(e),Vl.Default)}}Object.defineProperties(fn,{MIN:{value:new fn(pa,Qt.EMPTY_NODE)},MAX:{value:new fn(fa,ug)}}),lw.__EMPTY_NODE=Qt.EMPTY_NODE,vd.__childrenNodeConstructor=Qt,function cw(n){m_=n}(ug),function gw(n){y_=n}(ug),function WC(n){fw=n}(dr);class _w extends p_{constructor(e){super(),this.indexPath_=e,(0,F.hu)(!rn(e)&&".priority"!==Wt(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),o=this.extractChild(t.node),l=r.compareTo(o);return 0===l?dd(e.name,t.name):l}makePost(e,t){const r=dr(e),o=Qt.EMPTY_NODE.updateChild(this.indexPath_,r);return new fn(t,o)}maxPost(){const e=Qt.EMPTY_NODE.updateChild(this.indexPath_,ug);return new fn(fa,e)}toString(){return _u(this.indexPath_,0).join("/")}}const vw=new class FM extends p_{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?dd(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return fn.MIN}maxPost(){return fn.MAX}makePost(e,t){const r=dr(e);return new fn(t,r)}toString(){return".value"}},op="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ww=function(){let n=0;const e=[];return function(t){const r=t===n;let o;n=t;const l=new Array(8);for(o=7;o>=0;o--)l[o]=op.charAt(t%64),t=Math.floor(t/64);(0,F.hu)(0===t,"Cannot push at time == 0");let c=l.join("");if(r){for(o=11;o>=0&&63===e[o];o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)c+=op.charAt(e[o]);return(0,F.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),Ew=function(n){if(n===""+Yf)return"-";const e=pd(n);if(null!=e)return""+(e+1);const t=new Array(n.length);for(let c=0;c<t.length;c++)t[c]=n.charAt(c);if(t.length<786)return t.push("-"),t.join("");let r=t.length-1;for(;r>=0&&"z"===t[r];)r--;if(-1===r)return fa;const l=op.charAt(op.indexOf(t[r])+1);return t[r]=l,t.slice(0,r+1).join("")},w_=function(n){if(n===""+jb)return pa;const e=pd(n);if(null!=e)return""+(e-1);const t=new Array(n.length);for(let r=0;r<t.length;r++)t[r]=n.charAt(r);return"-"===t[t.length-1]?1===t.length?""+Yf:(delete t[t.length-1],t.join("")):(t[t.length-1]=op.charAt(op.indexOf(t[t.length-1])-1),t.join("")+"z".repeat(786-t.length))};function E_(n){return{type:"value",snapshotNode:n}}function Bl(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function no(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function bd(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class sp{constructor(e){this.index_=e}updateChild(e,t,r,o,l,c){(0,F.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=e.getImmediateChild(t);return p.getChild(o).equals(r.getChild(o))&&p.isEmpty()===r.isEmpty()||(null!=c&&(r.isEmpty()?e.hasChild(t)?c.trackChildChange(no(t,p)):(0,F.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?c.trackChildChange(Bl(t,r)):c.trackChildChange(bd(t,r,p))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild($n,(o,l)=>{t.hasChild(o)||r.trackChildChange(no(o,l))}),t.isLeafNode()||t.forEachChild($n,(o,l)=>{if(e.hasChild(o)){const c=e.getImmediateChild(o);c.equals(l)||r.trackChildChange(bd(o,l,c))}else r.trackChildChange(Bl(o,l))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Qt.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ko{constructor(e){this.indexedFilter_=new sp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ko.getStartPost_(e),this.endPost_=Ko.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,r,o,l,c){return this.matches(new fn(t,r))||(r=Qt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,o,l,c)}updateFullNode(e,t,r){t.isLeafNode()&&(t=Qt.EMPTY_NODE);let o=t.withIndex(this.index_);o=o.updatePriority(Qt.EMPTY_NODE);const l=this;return t.forEachChild($n,(c,p)=>{l.matches(new fn(c,p))||(o=o.updateImmediateChild(c,Qt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class I_{constructor(e){this.rangedFilter_=new Ko(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,r,o,l,c){return this.rangedFilter_.matches(new fn(t,r))||(r=Qt.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,o,l,c):this.fullLimitUpdateChild_(e,t,r,l,c)}updateFullNode(e,t,r){let o;if(t.isLeafNode()||t.isEmpty())o=Qt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let l;o=Qt.EMPTY_NODE.withIndex(this.index_),l=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;l.hasNext()&&c<this.limit_;){const p=l.getNext();let _;if(_=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),p)<=0:this.index_.compare(p,this.rangedFilter_.getEndPost())<=0,!_)break;o=o.updateImmediateChild(p.name,p.node),c++}}else{let l,c,p,_;if(o=t.withIndex(this.index_),o=o.updatePriority(Qt.EMPTY_NODE),this.reverse_){_=o.getReverseIterator(this.index_),l=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const k=this.index_.getCompare();p=(j,J)=>k(J,j)}else _=o.getIterator(this.index_),l=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),p=this.index_.getCompare();let w=0,S=!1;for(;_.hasNext();){const k=_.getNext();!S&&p(l,k)<=0&&(S=!0),S&&w<this.limit_&&p(k,c)<=0?w++:o=o.updateImmediateChild(k.name,Qt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,o,l){let c;if(this.reverse_){const k=this.index_.getCompare();c=(j,J)=>k(J,j)}else c=this.index_.getCompare();const p=e;(0,F.hu)(p.numChildren()===this.limit_,"");const _=new fn(t,r),w=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),S=this.rangedFilter_.matches(_);if(p.hasChild(t)){const k=p.getImmediateChild(t);let j=o.getChildAfterChild(this.index_,w,this.reverse_);for(;null!=j&&(j.name===t||p.hasChild(j.name));)j=o.getChildAfterChild(this.index_,j,this.reverse_);const J=null==j?1:c(j,_);if(S&&!r.isEmpty()&&J>=0)return l?.trackChildChange(bd(t,r,k)),p.updateImmediateChild(t,r);{l?.trackChildChange(no(t,k));const Be=p.updateImmediateChild(t,Qt.EMPTY_NODE);return null!=j&&this.rangedFilter_.matches(j)?(l?.trackChildChange(Bl(j.name,j.node)),Be.updateImmediateChild(j.name,j.node)):Be}}return r.isEmpty()?e:S&&c(w,_)>=0?(null!=l&&(l.trackChildChange(no(w.name,w.node)),l.trackChildChange(Bl(t,r))),p.updateImmediateChild(t,r).updateImmediateChild(w.name,Qt.EMPTY_NODE)):e}}class ap{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=$n}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:pa}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===$n}copy(){const e=new ap;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Dw(n,e,t){const r=n.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=t?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function wd(n,e,t){const r=n.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==t?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function Ed(n,e){const t=n.copy();return t.index_=e,t}function hg(n){const e={};if(n.isDefault())return e;let t;return n.index_===$n?t="$priority":n.index_===vw?t="$value":n.index_===ga?t="$key":((0,F.hu)(n.index_ instanceof _w,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,F.Pz)(t),n.startSet_&&(e.startAt=(0,F.Pz)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,F.Pz)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,F.Pz)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,F.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function KC(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==$n&&(e.i=n.index_.toString()),e}class pg extends s_{constructor(e,t,r,o){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=ac("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,F.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,o){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const c=pg.getListenId_(e,r),p={};this.listens_[c]=p;const _=hg(e._queryParams);this.restRequest_(l+".json",_,(w,S)=>{let k=S;if(404===w&&(k=null,w=null),null===w&&this.onDataUpdate_(l,k,!1,r),(0,F.DV)(this.listens_,c)===p){let j;j=w?401===w?"permission_denied":"rest_error:"+w:"ok",o(j,null)}})}unlisten(e,t){const r=pg.getListenId_(e,t);delete this.listens_[r]}get(e){const t=hg(e._queryParams),r=e._path.toString(),o=new F.BH;return this.restRequest_(r+".json",t,(l,c)=>{let p=c;404===l&&(p=null,l=null),null===l?(this.onDataUpdate_(r,p,!1,null),o.resolve(p)):o.reject(new Error(p))}),o.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,l])=>{o&&o.accessToken&&(t.auth=o.accessToken),l&&l.token&&(t.ac=l.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,F.xO)(t);this.log_("Sending REST request for "+c);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(r&&4===p.readyState){this.log_("REST Response for "+c+" received. status:",p.status,"response:",p.responseText);let _=null;if(p.status>=200&&p.status<300){try{_=(0,F.cI)(p.responseText)}catch{qr("Failed to parse JSON response for "+c+": "+p.responseText)}r(null,_)}else 401!==p.status&&404!==p.status&&qr("Got unsuccessful REST response for "+c+" Status: "+p.status),r(p.status);r=null}},p.open("GET",c,!0),p.send()})}}class ZC{constructor(){this.rootNode_=Qt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function fg(){return{value:null,children:new Map}}function Id(n,e,t){if(rn(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=Wt(e);n.children.has(r)||n.children.set(r,fg()),Id(n.children.get(r),e=Bn(e),t)}}function gg(n,e){if(rn(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild($n,(r,o)=>{Id(n,new Pn(r),o)}),gg(n,e)}}if(n.children.size>0){const t=Wt(e);return e=Bn(e),n.children.has(t)&&gg(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function Cw(n,e,t){null!==n.value?t(e,n.value):function YC(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,o)=>{Cw(o,new Pn(e.toString()+"/"+r),t)})}class VM{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Kr(this.last_,(r,o)=>{t[r]=t[r]-o}),this.last_=e,t}}class T_{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new VM(e);const r=1e4+2e4*Math.random();Yh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Kr(e,(o,l)=>{l>0&&(0,F.r3)(this.statsToReport_,o)&&(t[o]=l,r=!0)}),r&&this.server_.reportStats(t),Yh(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var _a=(()=>{return(n=_a||(_a={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",_a;var n})();function Mw(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class S_{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=_a.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(rn(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Pn(e));return new S_(In(),t,this.revert)}}return(0,F.hu)(Wt(this.path)===e,"operationForChild called for unrelated child."),new S_(Bn(this.path),this.affectedTree,this.revert)}}class mg{constructor(e,t){this.source=e,this.path=t,this.type=_a.LISTEN_COMPLETE}operationForChild(e){return rn(this.path)?new mg(this.source,In()):new mg(this.source,Bn(this.path))}}class Dd{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=_a.OVERWRITE}operationForChild(e){return rn(this.path)?new Dd(this.source,In(),this.snap.getImmediateChild(e)):new Dd(this.source,Bn(this.path),this.snap)}}class lp{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=_a.MERGE}operationForChild(e){if(rn(this.path)){const t=this.children.subtree(new Pn(e));return t.isEmpty()?null:t.value?new Dd(this.source,In(),t.value):new lp(this.source,In(),t)}return(0,F.hu)(Wt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new lp(this.source,Bn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class hc{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(rn(e))return this.isFullyInitialized()&&!this.filtered_;const t=Wt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class BM{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function pc(n,e,t,r,o,l){const c=r.filter(p=>p.type===t);c.sort((p,_)=>function xw(n,e,t){if(null==e.childName||null==t.childName)throw(0,F.g5)("Should only compare child_ events.");const r=new fn(e.childName,e.snapshotNode),o=new fn(t.childName,t.snapshotNode);return n.index_.compare(r,o)}(n,p,_)),c.forEach(p=>{const _=function JC(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,p,l);o.forEach(w=>{w.respondsTo(p.type)&&e.push(w.createEvent(_,n.query_))})})}function Cd(n,e){return{eventCache:n,serverCache:e}}function Ad(n,e,t,r){return Cd(new hc(e,t,r),n.serverCache)}function yg(n,e,t,r){return Cd(n.eventCache,new hc(e,t,r))}function _g(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ao(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let vg;class zn{constructor(e,t=(()=>(vg||(vg=new Co(hd)),vg))()){this.value=e,this.children=t}static fromObject(e){let t=new zn(null);return Kr(e,(r,o)=>{t=t.set(new Pn(r),o)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:In(),value:this.value};if(rn(e))return null;{const r=Wt(e),o=this.children.get(r);if(null!==o){const l=o.findRootMostMatchingPathAndValue(Bn(e),t);return null!=l?{path:Xn(new Pn(r),l.path),value:l.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(rn(e))return this;{const t=Wt(e),r=this.children.get(t);return null!==r?r.subtree(Bn(e)):new zn(null)}}set(e,t){if(rn(e))return new zn(t,this.children);{const r=Wt(e),l=(this.children.get(r)||new zn(null)).set(Bn(e),t),c=this.children.insert(r,l);return new zn(this.value,c)}}remove(e){if(rn(e))return this.children.isEmpty()?new zn(null):new zn(null,this.children);{const t=Wt(e),r=this.children.get(t);if(r){const o=r.remove(Bn(e));let l;return l=o.isEmpty()?this.children.remove(t):this.children.insert(t,o),null===this.value&&l.isEmpty()?new zn(null):new zn(this.value,l)}return this}}get(e){if(rn(e))return this.value;{const t=Wt(e),r=this.children.get(t);return r?r.get(Bn(e)):null}}setTree(e,t){if(rn(e))return t;{const r=Wt(e),l=(this.children.get(r)||new zn(null)).setTree(Bn(e),t);let c;return c=l.isEmpty()?this.children.remove(r):this.children.insert(r,l),new zn(this.value,c)}}fold(e){return this.fold_(In(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((o,l)=>{r[o]=l.fold_(Xn(e,o),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,In(),t)}findOnPath_(e,t,r){const o=!!this.value&&r(t,this.value);if(o)return o;if(rn(e))return null;{const l=Wt(e),c=this.children.get(l);return c?c.findOnPath_(Bn(e),Xn(t,l),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,In(),t)}foreachOnPath_(e,t,r){if(rn(e))return this;{this.value&&r(t,this.value);const o=Wt(e),l=this.children.get(o);return l?l.foreachOnPath_(Bn(e),Xn(t,o),r):new zn(null)}}foreach(e){this.foreach_(In(),e)}foreach_(e,t){this.children.inorderTraversal((r,o)=>{o.foreach_(Xn(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class va{constructor(e){this.writeTree_=e}static empty(){return new va(new zn(null))}}function Td(n,e,t){if(rn(e))return new va(new zn(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const o=r.path;let l=r.value;const c=ti(o,e);return l=l.updateChild(c,t),new va(n.writeTree_.set(o,l))}{const o=new zn(t),l=n.writeTree_.setTree(e,o);return new va(l)}}}function M_(n,e,t){let r=n;return Kr(t,(o,l)=>{r=Td(r,Xn(e,o),l)}),r}function kw(n,e){if(rn(e))return va.empty();{const t=n.writeTree_.setTree(e,new zn(null));return new va(t)}}function fc(n,e){return null!=xs(n,e)}function xs(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(ti(t.path,e)):null}function bg(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild($n,(r,o)=>{e.push(new fn(r,o))}):n.writeTree_.children.inorderTraversal((r,o)=>{null!=o.value&&e.push(new fn(r,o.value))}),e}function Zo(n,e){if(rn(e))return n;{const t=xs(n,e);return new va(null!=t?new zn(t):n.writeTree_.subtree(e))}}function gc(n){return n.writeTree_.isEmpty()}function ba(n,e){return Nw(In(),n.writeTree_,e)}function Nw(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((o,l)=>{".priority"===o?((0,F.hu)(null!==l.value,"Priority writes must always be leaf nodes"),r=l.value):t=Nw(Xn(n,o),l,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(Xn(n,".priority"),r)),t}}function up(n,e){return Bw(e,n)}function wg(n,e){if(n.snap)return Ms(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Ms(Xn(n.path,t),e))return!0;return!1}function Ow(n){return n.visible}function tA(n,e,t){let r=va.empty();for(let o=0;o<n.length;++o){const l=n[o];if(e(l)){const c=l.path;let p;if(l.snap)Ms(t,c)?(p=ti(t,c),r=Td(r,p,l.snap)):Ms(c,t)&&(p=ti(c,t),r=Td(r,In(),l.snap.getChild(p)));else{if(!l.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(Ms(t,c))p=ti(t,c),r=M_(r,p,l.children);else if(Ms(c,t))if(p=ti(c,t),rn(p))r=M_(r,In(),l.children);else{const _=(0,F.DV)(l.children,Wt(p));if(_){const w=_.getChild(Bn(p));r=Td(r,In(),w)}}}}}return r}function N_(n,e,t,r,o){if(r||o){const l=Zo(n.visibleWrites,e);return!o&&gc(l)?t:o||null!=t||fc(l,In())?ba(tA(n.allWrites,function(w){return(w.visible||o)&&(!r||!~r.indexOf(w.writeId))&&(Ms(w.path,e)||Ms(e,w.path))},e),t||Qt.EMPTY_NODE):null}{const l=xs(n.visibleWrites,e);if(null!=l)return l;{const c=Zo(n.visibleWrites,e);return gc(c)?t:null!=t||fc(c,In())?ba(c,t||Qt.EMPTY_NODE):null}}}function Eg(n,e,t,r){return N_(n.writeTree,n.treePath,e,t,r)}function P_(n,e){return function Fw(n,e,t){let r=Qt.EMPTY_NODE;const o=xs(n.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild($n,(l,c)=>{r=r.updateImmediateChild(l,c)}),r;if(t){const l=Zo(n.visibleWrites,e);return t.forEachChild($n,(c,p)=>{const _=ba(Zo(l,new Pn(c)),p);r=r.updateImmediateChild(c,_)}),bg(l).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}return bg(Zo(n.visibleWrites,e)).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}(n.writeTree,n.treePath,e)}function oA(n,e,t,r){return function nA(n,e,t,r,o){(0,F.hu)(r||o,"Either existingEventSnap or existingServerSnap must exist");const l=Xn(e,t);if(fc(n.visibleWrites,l))return null;{const c=Zo(n.visibleWrites,l);return gc(c)?o.getChild(t):ba(c,o.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function Ig(n,e){return function rA(n,e){return xs(n.visibleWrites,e)}(n.writeTree,Xn(n.treePath,e))}function Dg(n,e,t){return function Lw(n,e,t,r){const o=Xn(e,t),l=xs(n.visibleWrites,o);return null!=l?l:r.isCompleteForChild(t)?ba(Zo(n.visibleWrites,o),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function Vw(n,e){return Bw(Xn(n.treePath,e),n.writeTree)}function Bw(n,e){return{treePath:n,writeTree:e}}class sA{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,F.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const l=o.type;if("child_added"===t&&"child_removed"===l)this.changeMap.set(r,bd(r,e.snapshotNode,o.snapshotNode));else if("child_removed"===t&&"child_added"===l)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===l)this.changeMap.set(r,no(r,o.oldSnap));else if("child_changed"===t&&"child_added"===l)this.changeMap.set(r,Bl(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==l)throw(0,F.g5)("Illegal combination of changes: "+e+" occurred after "+o);this.changeMap.set(r,bd(r,e.snapshotNode,o.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const jw=new class Uw{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class Cg{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new hc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Dg(this.writes_,e,r)}}getChildAfterChild(e,t,r){const o=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ao(this.viewCache_),l=function R_(n,e,t,r,o,l){return function iA(n,e,t,r,o,l,c){let p;const _=Zo(n.visibleWrites,e),w=xs(_,In());if(null!=w)p=w;else{if(null==t)return[];p=ba(_,t)}if(p=p.withIndex(c),p.isEmpty()||p.isLeafNode())return[];{const S=[],k=c.getCompare(),j=l?p.getReverseIteratorFrom(r,c):p.getIteratorFrom(r,c);let J=j.getNext();for(;J&&S.length<o;)0!==k(J,r)&&S.push(J),J=j.getNext();return S}}(n.writeTree,n.treePath,e,t,r,o,l)}(this.writes_,o,t,1,r,e);return 0===l.length?null:l[0]}}function $w(n,e,t,r,o,l){const c=e.eventCache;if(null!=Ig(r,t))return e;{let p,_;if(rn(t))if((0,F.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const w=Ao(e),k=P_(r,w instanceof Qt?w:Qt.EMPTY_NODE);p=n.filter.updateFullNode(e.eventCache.getNode(),k,l)}else{const w=Eg(r,Ao(e));p=n.filter.updateFullNode(e.eventCache.getNode(),w,l)}else{const w=Wt(t);if(".priority"===w){(0,F.hu)(1===yu(t),"Can't have a priority with additional path components");const S=c.getNode();_=e.serverCache.getNode();const k=oA(r,t,S,_);p=null!=k?n.filter.updatePriority(S,k):c.getNode()}else{const S=Bn(t);let k;if(c.isCompleteForChild(w)){_=e.serverCache.getNode();const j=oA(r,t,c.getNode(),_);k=null!=j?c.getNode().getImmediateChild(w).updateChild(S,j):c.getNode().getImmediateChild(w)}else k=Dg(r,w,e.serverCache);p=null!=k?n.filter.updateChild(c.getNode(),w,k,S,o,l):c.getNode()}}return Ad(e,p,c.isFullyInitialized()||rn(t),n.filter.filtersNodes())}}function Qo(n,e,t,r,o,l,c,p){const _=e.serverCache;let w;const S=c?n.filter:n.filter.getIndexedFilter();if(rn(t))w=S.updateFullNode(_.getNode(),r,null);else if(S.filtersNodes()&&!_.isFiltered()){const J=_.getNode().updateChild(t,r);w=S.updateFullNode(_.getNode(),J,null)}else{const J=Wt(t);if(!_.isCompleteForPath(t)&&yu(t)>1)return e;const se=Bn(t),Xe=_.getNode().getImmediateChild(J).updateChild(se,r);w=".priority"===J?S.updatePriority(_.getNode(),Xe):S.updateChild(_.getNode(),J,Xe,se,jw,null)}const k=yg(e,w,_.isFullyInitialized()||rn(t),S.filtersNodes());return $w(n,k,t,o,new Cg(o,k,l),p)}function cp(n,e,t,r,o,l,c){const p=e.eventCache;let _,w;const S=new Cg(o,e,l);if(rn(t))w=n.filter.updateFullNode(e.eventCache.getNode(),r,c),_=Ad(e,w,!0,n.filter.filtersNodes());else{const k=Wt(t);if(".priority"===k)w=n.filter.updatePriority(e.eventCache.getNode(),r),_=Ad(e,w,p.isFullyInitialized(),p.isFiltered());else{const j=Bn(t),J=p.getNode().getImmediateChild(k);let se;if(rn(j))se=r;else{const Be=S.getCompleteChild(k);se=null!=Be?".priority"===sg(j)&&Be.getChild(rw(j)).isEmpty()?Be:Be.updateChild(j,r):Qt.EMPTY_NODE}_=J.equals(se)?e:Ad(e,n.filter.updateChild(p.getNode(),k,se,j,S,c),p.isFullyInitialized(),n.filter.filtersNodes())}}return _}function zw(n,e){return n.eventCache.isCompleteForChild(e)}function cA(n,e,t){return t.foreach((r,o)=>{e=e.updateChild(r,o)}),e}function Ag(n,e,t,r,o,l,c,p){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let w,_=e;w=rn(t)?r:new zn(null).setTree(t,r);const S=e.serverCache.getNode();return w.children.inorderTraversal((k,j)=>{if(S.hasChild(k)){const se=cA(0,e.serverCache.getNode().getImmediateChild(k),j);_=Qo(n,_,new Pn(k),se,o,l,c,p)}}),w.children.inorderTraversal((k,j)=>{const J=!e.serverCache.isCompleteForChild(k)&&void 0===j.value;if(!S.hasChild(k)&&!J){const Be=cA(0,e.serverCache.getNode().getImmediateChild(k),j);_=Qo(n,_,new Pn(k),Be,o,l,c,p)}}),_}class O_{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new sp(r.getIndex()),l=function D_(n){return n.loadsAllData()?new sp(n.getIndex()):n.hasLimit()?new I_(n):new Ko(n)}(r);this.processor_=function aA(n){return{filter:n}}(l);const c=t.serverCache,p=t.eventCache,_=o.updateFullNode(Qt.EMPTY_NODE,c.getNode(),null),w=l.updateFullNode(Qt.EMPTY_NODE,p.getNode(),null),S=new hc(_,c.isFullyInitialized(),o.filtersNodes()),k=new hc(w,p.isFullyInitialized(),l.filtersNodes());this.viewCache_=Cd(k,S),this.eventGenerator_=new BM(this.query_)}get query(){return this.query_}}function Tg(n,e){const t=Ao(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!rn(e)&&!t.getImmediateChild(Wt(e)).isEmpty())?t.getChild(e):null}function Sg(n){return 0===n.eventRegistrations_.length}function Mg(n,e,t){const r=[];if(t){(0,F.hu)(null==e,"A cancel should cancel all event registrations.");const o=n.query._path;n.eventRegistrations_.forEach(l=>{const c=l.createCancelEvent(t,o);c&&r.push(c)})}if(e){let o=[];for(let l=0;l<n.eventRegistrations_.length;++l){const c=n.eventRegistrations_[l];if(c.matches(e)){if(e.hasAnyCallback()){o=o.concat(n.eventRegistrations_.slice(l+1));break}}else o.push(c)}n.eventRegistrations_=o}else n.eventRegistrations_=[];return r}function xg(n,e,t,r){e.type===_a.MERGE&&null!==e.source.queryId&&((0,F.hu)(Ao(n.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(_g(n.viewCache_),"Missing event cache, even though we have a server cache"));const o=n.viewCache_,l=function Gw(n,e,t,r,o){const l=new sA;let c,p;if(t.type===_a.OVERWRITE){const w=t;w.source.fromUser?c=cp(n,e,w.path,w.snap,r,o,l):((0,F.hu)(w.source.fromServer,"Unknown source."),p=w.source.tagged||e.serverCache.isFiltered()&&!rn(w.path),c=Qo(n,e,w.path,w.snap,r,o,p,l))}else if(t.type===_a.MERGE){const w=t;w.source.fromUser?c=function uA(n,e,t,r,o,l,c){let p=e;return r.foreach((_,w)=>{const S=Xn(t,_);zw(e,Wt(S))&&(p=cp(n,p,S,w,o,l,c))}),r.foreach((_,w)=>{const S=Xn(t,_);zw(e,Wt(S))||(p=cp(n,p,S,w,o,l,c))}),p}(n,e,w.path,w.children,r,o,l):((0,F.hu)(w.source.fromServer,"Unknown source."),p=w.source.tagged||e.serverCache.isFiltered(),c=Ag(n,e,w.path,w.children,r,o,p,l))}else if(t.type===_a.ACK_USER_WRITE){const w=t;c=w.revert?function pA(n,e,t,r,o,l){let c;if(null!=Ig(r,t))return e;{const p=new Cg(r,e,o),_=e.eventCache.getNode();let w;if(rn(t)||".priority"===Wt(t)){let S;if(e.serverCache.isFullyInitialized())S=Eg(r,Ao(e));else{const k=e.serverCache.getNode();(0,F.hu)(k instanceof Qt,"serverChildren would be complete if leaf node"),S=P_(r,k)}w=n.filter.updateFullNode(_,S,l)}else{const S=Wt(t);let k=Dg(r,S,e.serverCache);null==k&&e.serverCache.isCompleteForChild(S)&&(k=_.getImmediateChild(S)),w=null!=k?n.filter.updateChild(_,S,k,Bn(t),p,l):e.eventCache.getNode().hasChild(S)?n.filter.updateChild(_,S,Qt.EMPTY_NODE,Bn(t),p,l):_,w.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=Eg(r,Ao(e)),c.isLeafNode()&&(w=n.filter.updateFullNode(w,c,l)))}return c=e.serverCache.isFullyInitialized()||null!=Ig(r,In()),Ad(e,w,c,n.filter.filtersNodes())}}(n,e,w.path,r,o,l):function dA(n,e,t,r,o,l,c){if(null!=Ig(o,t))return e;const p=e.serverCache.isFiltered(),_=e.serverCache;if(null!=r.value){if(rn(t)&&_.isFullyInitialized()||_.isCompleteForPath(t))return Qo(n,e,t,_.getNode().getChild(t),o,l,p,c);if(rn(t)){let w=new zn(null);return _.getNode().forEachChild(ga,(S,k)=>{w=w.set(new Pn(S),k)}),Ag(n,e,t,w,o,l,p,c)}return e}{let w=new zn(null);return r.foreach((S,k)=>{const j=Xn(t,S);_.isCompleteForPath(j)&&(w=w.set(S,_.getNode().getChild(j)))}),Ag(n,e,t,w,o,l,p,c)}}(n,e,w.path,w.affectedTree,r,o,l)}else{if(t.type!==_a.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+t.type);c=function hA(n,e,t,r,o){const l=e.serverCache;return $w(n,yg(e,l.getNode(),l.isFullyInitialized()||rn(t),l.isFiltered()),t,r,jw,o)}(n,e,t.path,r,l)}const _=l.getChanges();return function Hw(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),l=_g(n);(t.length>0||!n.eventCache.isFullyInitialized()||o&&!r.getNode().equals(l)||!r.getNode().getPriority().equals(l.getPriority()))&&t.push(E_(_g(e)))}}(e,c,_),{viewCache:c,changes:_}}(n.processor_,o,e,t,r);return function lA(n,e){(0,F.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,l.viewCache),(0,F.hu)(l.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=l.viewCache,yA(n,l.changes,l.viewCache.eventCache.getNode(),null)}function yA(n,e,t,r){return function vu(n,e,t,r){const o=[],l=[];return e.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&l.push(function qC(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(c.childName,c.snapshotNode))}),pc(n,o,"child_removed",e,r,t),pc(n,o,"child_added",e,r,t),pc(n,o,"child_moved",l,r,t),pc(n,o,"child_changed",e,r,t),pc(n,o,"value",e,r,t),o}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}let F_,dp;class kg{constructor(){this.views=new Map}}function Ng(n,e,t,r){const o=e.source.queryId;if(null!==o){const l=n.views.get(o);return(0,F.hu)(null!=l,"SyncTree gave us an op for an invalid query."),xg(l,e,t,r)}{let l=[];for(const c of n.views.values())l=l.concat(xg(c,e,t,r));return l}}function Pg(n,e,t,r,o){const c=n.views.get(e._queryIdentifier);if(!c){let p=Eg(t,o?r:null),_=!1;p?_=!0:r instanceof Qt?(p=P_(t,r),_=!1):(p=Qt.EMPTY_NODE,_=!1);const w=Cd(new hc(p,_,!1),new hc(r,o,!1));return new O_(e,w)}return c}function tl(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function wa(n,e){let t=null;for(const r of n.views.values())t=t||Tg(r,e);return t}function Yw(n,e){return e._queryParams.loadsAllData()?Sd(n):n.views.get(e._queryIdentifier)}function Qw(n,e){return null!=Yw(n,e)}function mc(n){return null!=Sd(n)}function Sd(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let eE=1;class tE{constructor(e){this.listenProvider_=e,this.syncPointTree_=new zn(null),this.pendingWriteTree_=function Yo(){return{visibleWrites:va.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function L_(n,e,t,r,o){return function Pw(n,e,t,r,o){(0,F.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:o}),o&&(n.visibleWrites=Td(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,o),o?Pi(n,new Dd({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function bu(n,e,t=!1){const r=function k_(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function Rw(n,e){const t=n.allWrites.findIndex(p=>p.writeId===e);(0,F.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let o=r.visible,l=!1,c=n.allWrites.length-1;for(;o&&c>=0;){const p=n.allWrites[c];p.visible&&(c>=t&&wg(p,r.path)?o=!1:Ms(r.path,p.path)&&(l=!0)),c--}return!!o&&(l?(function eA(n){n.visibleWrites=tA(n.allWrites,Ow,In()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=kw(n.visibleWrites,r.path):Kr(r.children,_=>{n.visibleWrites=kw(n.visibleWrites,Xn(r.path,_))}),!0))}(n.pendingWriteTree_,e)){let l=new zn(null);return null!=r.snap?l=l.set(In(),!0):Kr(r.children,c=>{l=l.set(new Pn(c),!0)}),Pi(n,new S_(r.path,l,t))}return[]}function Md(n,e,t){return Pi(n,new Dd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function Rg(n,e,t,r){const o=e._path,l=n.syncPointTree_.get(o);let c=[];if(l&&("default"===e._queryIdentifier||Qw(l,e))){const p=function Zw(n,e,t,r){const o=e._queryIdentifier,l=[];let c=[];const p=mc(n);if("default"===o)for(const[_,w]of n.views.entries())c=c.concat(Mg(w,t,r)),Sg(w)&&(n.views.delete(_),w.query._queryParams.loadsAllData()||l.push(w.query));else{const _=n.views.get(o);_&&(c=c.concat(Mg(_,t,r)),Sg(_)&&(n.views.delete(o),_.query._queryParams.loadsAllData()||l.push(_.query)))}return p&&!mc(n)&&l.push(new(function _A(){return(0,F.hu)(F_,"Reference.ts has not been loaded"),F_}())(e._repo,e._path)),{removed:l,events:c}}(l,e,t,r);(function qw(n){return 0===n.views.size})(l)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const _=p.removed;c=p.events;const w=-1!==_.findIndex(k=>k._queryParams.loadsAllData()),S=n.syncPointTree_.findOnPath(o,(k,j)=>mc(j));if(w&&!S){const k=n.syncPointTree_.subtree(o);if(!k.isEmpty()){const j=function j_(n){return n.fold((e,t,r)=>{if(t&&mc(t))return[Sd(t)];{let o=[];return t&&(o=tl(t)),Kr(r,(l,c)=>{o=o.concat(c)}),o}})}(k);for(let J=0;J<j.length;++J){const se=j[J],Be=se.query,Xe=B_(n,se);n.listenProvider_.startListening(fp(Be),xd(n,Be),Xe.hashFn,Xe.onComplete)}}}!S&&_.length>0&&!r&&(w?n.listenProvider_.stopListening(fp(e),null):_.forEach(k=>{const j=n.queryToTagMap.get(pp(k));n.listenProvider_.stopListening(fp(k),j)})),function G_(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const o=pp(r),l=n.queryToTagMap.get(o);n.queryToTagMap.delete(o),n.tagToQueryMap.delete(l)}}}(n,_)}return c}function wA(n,e,t,r){const o=U_(n,r);if(null!=o){const l=iE(o),c=l.path,p=l.queryId,_=ti(c,e);return Og(n,c,new Dd(Mw(p),_,t))}return[]}function rE(n,e){const t=n._path;let r=null,o=!1;e.syncPointTree_.foreachOnPath(t,(w,S)=>{const k=ti(w,t);r=r||wa(S,k),o=o||mc(S)});let c,l=e.syncPointTree_.get(t);l?(o=o||mc(l),r=r||wa(l,In())):(l=new kg,e.syncPointTree_=e.syncPointTree_.set(t,l)),null!=r?c=!0:(c=!1,r=Qt.EMPTY_NODE,e.syncPointTree_.subtree(t).foreachChild((S,k)=>{const j=wa(k,In());j&&(r=r.updateImmediateChild(S,j))}));const p=Qw(l,n);if(!p&&!n._queryParams.loadsAllData()){const w=pp(n);(0,F.hu)(!e.queryToTagMap.has(w),"View does not exist, but we have a tag");const S=function CA(){return eE++}();e.queryToTagMap.set(w,S),e.tagToQueryMap.set(S,w)}return{syncPoint:l,writesCache:up(e.pendingWriteTree_,t),serverCache:r,serverCacheComplete:c,foundAncestorDefaultView:o,viewAlreadyExists:p}}function V_(n,e,t){const{syncPoint:r,serverCache:o,writesCache:l,serverCacheComplete:c,viewAlreadyExists:p,foundAncestorDefaultView:_}=rE(e,n);let w=function Kw(n,e,t,r,o,l){const c=Pg(n,e,r,o,l);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),function mA(n,e){n.eventRegistrations_.push(e)}(c,t),function Ww(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild($n,(l,c)=>{r.push(Bl(l,c))}),t.isFullyInitialized()&&r.push(E_(t.getNode())),yA(n,r,t.getNode(),e)}(c,t)}(r,e,t,l,o,c);if(!p&&!_){const S=Yw(r,e);w=w.concat(function AA(n,e,t){const r=e._path,o=xd(n,e),l=B_(n,t),c=n.listenProvider_.startListening(fp(e),o,l.hashFn,l.onComplete),p=n.syncPointTree_.subtree(r);if(o)(0,F.hu)(!mc(p.value),"If we're adding a query, it shouldn't be shadowed");else{const _=p.fold((w,S,k)=>{if(!rn(w)&&S&&mc(S))return[Sd(S).query];{let j=[];return S&&(j=j.concat(tl(S).map(J=>J.query))),Kr(k,(J,se)=>{j=j.concat(se)}),j}});for(let w=0;w<_.length;++w){const S=_[w];n.listenProvider_.stopListening(fp(S),xd(n,S))}}return c}(n,e,S))}return w}function hp(n,e,t){const o=n.pendingWriteTree_,l=n.syncPointTree_.findOnPath(e,(c,p)=>{const w=wa(p,ti(c,e));if(w)return w});return N_(o,e,l,t,!0)}function Pi(n,e){return IA(e,n.syncPointTree_,null,up(n.pendingWriteTree_,In()))}function IA(n,e,t,r){if(rn(n.path))return DA(n,e,t,r);{const o=e.get(In());null==t&&null!=o&&(t=wa(o,In()));let l=[];const c=Wt(n.path),p=n.operationForChild(c),_=e.children.get(c);if(_&&p){const w=t?t.getImmediateChild(c):null,S=Vw(r,c);l=l.concat(IA(p,_,w,S))}return o&&(l=l.concat(Ng(o,n,r,t))),l}}function DA(n,e,t,r){const o=e.get(In());null==t&&null!=o&&(t=wa(o,In()));let l=[];return e.children.inorderTraversal((c,p)=>{const _=t?t.getImmediateChild(c):null,w=Vw(r,c),S=n.operationForChild(c);S&&(l=l.concat(DA(S,p,_,w)))}),o&&(l=l.concat(Ng(o,n,r,t))),l}function B_(n,e){const t=e.query,r=xd(n,t);return{hashFn:()=>(function fA(n){return n.viewCache_.serverCache.getNode()}(e)||Qt.EMPTY_NODE).hash(),onComplete:o=>{if("ok"===o)return r?function bA(n,e,t){const r=U_(n,t);if(r){const o=iE(r),l=o.path,c=o.queryId,p=ti(l,e);return Og(n,l,new mg(Mw(c),p))}return[]}(n,t._path,r):function nE(n,e){return Pi(n,new mg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const l=function AC(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}(o,t);return Rg(n,t,null,l)}}}}function xd(n,e){const t=pp(e);return n.queryToTagMap.get(t)}function pp(n){return n._path.toString()+"$"+n._queryIdentifier}function U_(n,e){return n.tagToQueryMap.get(e)}function iE(n){const e=n.indexOf("$");return(0,F.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Pn(n.substr(0,e))}}function Og(n,e,t){const r=n.syncPointTree_.get(e);return(0,F.hu)(r,"Missing sync point for query tag that we're tracking"),Ng(r,t,up(n.pendingWriteTree_,e),null)}function fp(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Xw(){return(0,F.hu)(dp,"Reference.ts has not been loaded"),dp}())(n._repo,n._path):n}class H_{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new H_(t)}node(){return this.node_}}class $_{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Xn(this.path_,e);return new $_(this.syncTree_,t)}node(){return hp(this.syncTree_,this.path_)}}const oE=function(n,e,t){return n&&"object"==typeof n?((0,F.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Fg(n[".sv"],e,t):"object"==typeof n[".sv"]?yc(n[".sv"],e):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Fg=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,F.hu)(!1,"Unexpected server value: "+n)},yc=function(n,e,t){n.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,F.hu)(!1,"Unexpected increment value: "+r);const o=e.node();if((0,F.hu)(null!==o&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const c=o.getValue();return"number"!=typeof c?r:c+r},SA=function(n,e,t,r){return z_(e,new $_(t,n),r)},_c=function(n,e,t){return z_(n,new H_(e),t)};function z_(n,e,t){const r=n.getPriority().val(),o=oE(r,e.getImmediateChild(".priority"),t);let l;if(n.isLeafNode()){const c=n,p=oE(c.getValue(),e,t);return p!==c.getValue()||o!==c.getPriority().val()?new vd(p,dr(o)):n}{const c=n;return l=c,o!==c.getPriority().val()&&(l=l.updatePriority(new vd(o))),c.forEachChild($n,(p,_)=>{const w=z_(_,e.getImmediateChild(p),t);w!==_&&(l=l.updateImmediateChild(p,w))}),l}}class W_{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function kd(n,e){let t=e instanceof Pn?e:new Pn(e),r=n,o=Wt(t);for(;null!==o;){const l=(0,F.DV)(r.node.children,o)||{children:{},childCount:0};r=new W_(o,r,l),t=Bn(t),o=Wt(t)}return r}function vc(n){return n.node.value}function ks(n,e){n.node.value=e,wu(n)}function Nd(n){return n.node.childCount>0}function nl(n,e){Kr(n.node.children,(t,r)=>{e(new W_(t,n,r))})}function gp(n,e,t,r){t&&!r&&e(n),nl(n,o=>{gp(o,e,!0,r)}),t&&r&&e(n)}function bc(n){return new Pn(null===n.parent?n.name:bc(n.parent)+"/"+n.name)}function wu(n){null!==n.parent&&function Pd(n,e,t){const r=function Ri(n){return void 0===vc(n)&&!Nd(n)}(t),o=(0,F.r3)(n.node.children,e);r&&o?(delete n.node.children[e],n.node.childCount--,wu(n)):!r&&!o&&(n.node.children[e]=t.node,n.node.childCount++,wu(n))}(n.parent,n.name,n)}const Rd=/[\[\].#$\/\u0000-\u001F\u007F]/,Od=/[\[\].#$\u0000-\u001F\u007F]/,Eu=10485760,Ul=function(n){return"string"==typeof n&&0!==n.length&&!Rd.test(n)},wc=function(n){return"string"==typeof n&&0!==n.length&&!Od.test(n)},rl=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Zh(n)||n&&"object"==typeof n&&(0,F.r3)(n,".sv")},Ea=function(n,e,t,r){r&&void 0===e||Ld((0,F.gK)(n,"value"),e,t)},Ld=function(n,e,t){const r=t instanceof Pn?new $C(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+cc(r));if("function"==typeof e)throw new Error(n+"contains a function "+cc(r)+" with contents = "+e.toString());if(Zh(e))throw new Error(n+"contains "+e.toString()+" "+cc(r));if("string"==typeof e&&e.length>Eu/3&&(0,F.ug)(e)>Eu)throw new Error(n+"contains a string greater than "+Eu+" utf8 bytes "+cc(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let o=!1,l=!1;if(Kr(e,(c,p)=>{if(".value"===c)o=!0;else if(".priority"!==c&&".sv"!==c&&(l=!0,!Ul(c)))throw new Error(n+" contains an invalid key ("+c+") "+cc(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function ow(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,F.ug)(e),sw(n)})(r,c),Ld(n,p,r),function md(n){const e=n.parts_.pop();n.byteLength_-=(0,F.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),o&&l)throw new Error(n+' contains ".value" child '+cc(r)+" in addition to actual children.")}},q_=function(n,e,t,r){if(r&&void 0===e)return;const o=(0,F.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const l=[];Kr(e,(c,p)=>{const _=new Pn(c);if(Ld(o,p,Xn(t,_)),".priority"===sg(_)&&!rl(p))throw new Error(o+"contains an invalid value for '"+_.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(_)}),function(n,e){let t,r;for(t=0;t<e.length;t++){r=e[t];const l=_u(r);for(let c=0;c<l.length;c++)if((".priority"!==l[c]||c!==l.length-1)&&!Ul(l[c]))throw new Error(n+"contains an invalid key ("+l[c]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(iw);let o=null;for(t=0;t<e.length;t++){if(r=e[t],null!==o&&Ms(o,r))throw new Error(n+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(o,l)},Lg=function(n,e,t){if(!t||void 0!==e){if(Zh(e))throw new Error((0,F.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!rl(e))throw new Error((0,F.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Vd=function(n,e,t,r){if(!(r&&void 0===t||Ul(t)))throw new Error((0,F.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Bd=function(n,e,t,r){if(!(r&&void 0===t||wc(t)))throw new Error((0,F.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Jo=function(n,e){if(".info"===Wt(e))throw new Error(n+" failed = Can't modify data under /.info/")},lE=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Ul(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),wc(n)}(t))throw new Error((0,F.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class uE{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Vg(n,e){let t=null;for(let r=0;r<e.length;r++){const o=e[r],l=o.getPath();null!==t&&!np(l,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:l}),t.events.push(o)}t&&n.eventLists_.push(t)}function cE(n,e,t){Vg(n,t),Bg(n,r=>np(r,e))}function To(n,e,t){Vg(n,t),Bg(n,r=>Ms(r,e)||Ms(e,r))}function Bg(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const o=n.eventLists_[r];o&&(e(o.path)?(MA(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function MA(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();gu&&Wr("event: "+t.toString()),uc(r)}}}const mp="repo_interrupt";class K_{constructor(e,t,r,o){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new uE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=fg(),this.transactionQueueTree_=new W_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function jg(n){const t=n.infoData_.getNode(new Pn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Ec(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:jg(n)})}function Z_(n,e,t,r,o){n.dataUpdateCount++;const l=new Pn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let c=[];if(o)if(r){const _=(0,F.UI)(t,w=>dr(w));c=function EA(n,e,t,r){const o=U_(n,r);if(o){const l=iE(o),c=l.path,p=l.queryId,_=ti(c,e),w=zn.fromObject(t);return Og(n,c,new lp(Mw(p),_,w))}return[]}(n.serverSyncTree_,l,_,o)}else{const _=dr(t);c=wA(n.serverSyncTree_,l,_,o)}else if(r){const _=(0,F.UI)(t,w=>dr(w));c=function jM(n,e,t){const r=zn.fromObject(t);return Pi(n,new lp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,l,_)}else{const _=dr(t);c=Md(n.serverSyncTree_,l,_)}let p=l;c.length>0&&(p=Ic(n,l)),To(n.eventQueue_,p,c)}function Y_(n,e){Gg(n,"connected",e),!1===e&&function dE(n){Iu(n,"onDisconnectEvents");const e=Ec(n),t=fg();Cw(n.onDisconnect_,In(),(o,l)=>{const c=SA(o,l,n.serverSyncTree_,e);Id(t,o,c)});let r=[];Cw(t,In(),(o,l)=>{r=r.concat(Md(n.serverSyncTree_,o,l));const c=nv(n,o);Ic(n,c)}),n.onDisconnect_=fg(),To(n.eventQueue_,In(),r)}(n)}function Gg(n,e,t){const r=new Pn("/.info/"+e),o=dr(t);n.infoData_.updateSnapshot(r,o);const l=Md(n.infoSyncTree_,r,o);To(n.eventQueue_,r,l)}function yp(n){return n.nextWriteId_++}function J_(n,e){const t=function HM(n,e){const t=e._path;let r=null;n.syncPointTree_.foreachOnPath(t,(w,S)=>{const k=ti(w,t);r=r||wa(S,k)});let o=n.syncPointTree_.get(t);o?r=r||wa(o,In()):(o=new kg,n.syncPointTree_=n.syncPointTree_.set(t,o));const l=null!=r,c=l?new hc(r,!0,!1):null;return function gA(n){return _g(n.viewCache_)}(Pg(o,e,up(n.pendingWriteTree_,e._path),l?c.getNode():Qt.EMPTY_NODE,l))}(n.serverSyncTree_,e);return null!=t?Promise.resolve(t):n.server_.get(e).then(r=>{const o=dr(r).withIndex(e._queryParams.getIndex());if(e._queryParams.loadsAllData())Md(n.serverSyncTree_,e._path,o);else{const c=function GM(n,e){const{syncPoint:t,serverCache:r,writesCache:o,serverCacheComplete:l}=rE(e,n),c=Pg(t,e,o,r,l);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,c),e._queryParams.loadsAllData()?null:xd(n,e)}(n.serverSyncTree_,e);wA(n.serverSyncTree_,e._path,o,c)}return Rg(n.serverSyncTree_,e,null).length>0&&Iu(n,"unexpected cancel events in repoGetValue"),o},r=>(Iu(n,"get for query "+(0,F.Pz)(e)+" failed: "+r),Promise.reject(new Error(r))))}function Hg(n,e,t,r,o){Iu(n,"set",{path:e.toString(),value:t,priority:r});const l=Ec(n),c=dr(t,r),p=hp(n.serverSyncTree_,e),_=_c(c,p,l),w=yp(n),S=L_(n.serverSyncTree_,e,_,w,!0);Vg(n.eventQueue_,S),n.server_.put(e.toString(),c.val(!0),(j,J)=>{const se="ok"===j;se||qr("set at "+e+" failed: "+j);const Be=bu(n.serverSyncTree_,w,!se);To(n.eventQueue_,e,Be),jl(0,o,j,J)});const k=nv(n,e);Ic(n,k),To(n.eventQueue_,k,[])}function hE(n,e,t){n.server_.onDisconnectCancel(e.toString(),(r,o)=>{"ok"===r&&gg(n.onDisconnect_,e),jl(0,t,r,o)})}function $g(n,e,t,r){const o=dr(t);n.server_.onDisconnectPut(e.toString(),o.val(!0),(l,c)=>{"ok"===l&&Id(n.onDisconnect_,e,o),jl(0,r,l,c)})}function X_(n,e,t){let r;r=".info"===Wt(e._path)?Rg(n.infoSyncTree_,e,t):Rg(n.serverSyncTree_,e,t),cE(n.eventQueue_,e._path,r)}function ev(n){n.persistentConnection_&&n.persistentConnection_.interrupt(mp)}function Iu(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Wr(t,...e)}function jl(n,e,t,r){e&&uc(()=>{if("ok"===t)e(null);else{const o=(t||"error").toUpperCase();let l=o;r&&(l+=": "+r);const c=new Error(l);c.code=o,e(c)}})}function zg(n,e,t){return hp(n.serverSyncTree_,e,t)||Qt.EMPTY_NODE}function _p(n,e=n.transactionQueueTree_){if(e||vp(n,e),vc(e)){const t=yE(n,e);(0,F.hu)(t.length>0,"Sending zero length transaction queue"),t.every(o=>0===o.status)&&function gE(n,e,t){const r=t.map(w=>w.currentWriteId),o=zg(n,e,r);let l=o;const c=o.hash();for(let w=0;w<t.length;w++){const S=t[w];(0,F.hu)(0===S.status,"tryToSendTransactionQueue_: items in queue should all be run."),S.status=1,S.retryCount++;const k=ti(e,S.path);l=l.updateChild(k,S.currentOutputSnapshotRaw)}const p=l.val(!0),_=e;n.server_.put(_.toString(),p,w=>{Iu(n,"transaction put response",{path:_.toString(),status:w});let S=[];if("ok"===w){const k=[];for(let j=0;j<t.length;j++)t[j].status=2,S=S.concat(bu(n.serverSyncTree_,t[j].currentWriteId)),t[j].onComplete&&k.push(()=>t[j].onComplete(null,!0,t[j].currentOutputSnapshotResolved)),t[j].unwatcher();vp(n,kd(n.transactionQueueTree_,e)),_p(n,n.transactionQueueTree_),To(n.eventQueue_,e,S);for(let j=0;j<k.length;j++)uc(k[j])}else{if("datastale"===w)for(let k=0;k<t.length;k++)t[k].status=3===t[k].status?4:0;else{qr("transaction at "+_.toString()+" failed: "+w);for(let k=0;k<t.length;k++)t[k].status=4,t[k].abortReason=w}Ic(n,e)}},c)}(n,bc(e),t)}else Nd(e)&&nl(e,t=>{_p(n,t)})}function Ic(n,e){const t=RA(n,e),r=bc(t);return function mE(n,e,t){if(0===e.length)return;const r=[];let o=[];const c=e.filter(p=>0===p.status).map(p=>p.currentWriteId);for(let p=0;p<e.length;p++){const _=e[p],w=ti(t,_.path);let k,S=!1;if((0,F.hu)(null!==w,"rerunTransactionsUnderNode_: relativePath should not be null."),4===_.status)S=!0,k=_.abortReason,o=o.concat(bu(n.serverSyncTree_,_.currentWriteId,!0));else if(0===_.status)if(_.retryCount>=25)S=!0,k="maxretry",o=o.concat(bu(n.serverSyncTree_,_.currentWriteId,!0));else{const j=zg(n,_.path,c);_.currentInputSnapshot=j;const J=e[p].update(j.val());if(void 0!==J){Ld("transaction failed: Data returned ",J,_.path);let se=dr(J);"object"==typeof J&&null!=J&&(0,F.r3)(J,".priority")||(se=se.updatePriority(j.getPriority()));const Xe=_.currentWriteId,Gt=Ec(n),Yt=_c(se,j,Gt);_.currentOutputSnapshotRaw=se,_.currentOutputSnapshotResolved=Yt,_.currentWriteId=yp(n),c.splice(c.indexOf(Xe),1),o=o.concat(L_(n.serverSyncTree_,_.path,Yt,_.currentWriteId,_.applyLocally)),o=o.concat(bu(n.serverSyncTree_,Xe,!0))}else S=!0,k="nodata",o=o.concat(bu(n.serverSyncTree_,_.currentWriteId,!0))}To(n.eventQueue_,t,o),o=[],S&&(e[p].status=2,setTimeout(e[p].unwatcher,Math.floor(0)),e[p].onComplete&&r.push("nodata"===k?()=>e[p].onComplete(null,!1,e[p].currentInputSnapshot):()=>e[p].onComplete(new Error(k),!1,null)))}vp(n,n.transactionQueueTree_);for(let p=0;p<r.length;p++)uc(r[p]);_p(n,n.transactionQueueTree_)}(n,yE(n,t),r),r}function RA(n,e){let t,r=n.transactionQueueTree_;for(t=Wt(e);null!==t&&void 0===vc(r);)r=kd(r,t),t=Wt(e=Bn(e));return r}function yE(n,e){const t=[];return _E(n,e,t),t.sort((r,o)=>r.order-o.order),t}function _E(n,e,t){const r=vc(e);if(r)for(let o=0;o<r.length;o++)t.push(r[o]);nl(e,o=>{_E(n,o,t)})}function vp(n,e){const t=vc(e);if(t){let r=0;for(let o=0;o<t.length;o++)2!==t[o].status&&(t[r]=t[o],r++);t.length=r,ks(e,t.length>0?t:void 0)}nl(e,r=>{vp(n,r)})}function nv(n,e){const t=bc(RA(n,e)),r=kd(n.transactionQueueTree_,e);return function Ns(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,o=>{Rr(n,o)}),Rr(n,r),gp(r,o=>{Rr(n,o)}),t}function Rr(n,e){const t=vc(e);if(t){const r=[];let o=[],l=-1;for(let c=0;c<t.length;c++)3===t[c].status||(1===t[c].status?((0,F.hu)(l===c-1,"All SENT items should be at beginning of queue."),l=c,t[c].status=3,t[c].abortReason="set"):((0,F.hu)(0===t[c].status,"Unexpected transaction status in abort"),t[c].unwatcher(),o=o.concat(bu(n.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&r.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));-1===l?ks(e,void 0):t.length=l+1,To(n.eventQueue_,bc(e),o);for(let c=0;c<r.length;c++)uc(r[c])}}const rv=function(n,e){const t=bE(n),r=t.namespace;return"firebase.com"===t.domain&&ha(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&ha("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&qr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Xf(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new Pn(t.pathString)}},bE=function(n){let e="",t="",r="",o="",l="",c=!0,p="https",_=443;if("string"==typeof n){let w=n.indexOf("//");w>=0&&(p=n.substring(0,w-1),n=n.substring(w+2));let S=n.indexOf("/");-1===S&&(S=n.length);let k=n.indexOf("?");-1===k&&(k=n.length),e=n.substring(0,Math.min(S,k)),S<k&&(o=function vE(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let o=t[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}(n.substring(S,k)));const j=function OA(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):qr(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,k)));w=e.indexOf(":"),w>=0?(c="https"===p||"wss"===p,_=parseInt(e.substring(w+1),10)):w=e.length;const J=e.slice(0,w);if("localhost"===J.toLowerCase())t="localhost";else if(J.split(".").length<=2)t=J;else{const se=e.indexOf(".");r=e.substring(0,se).toLowerCase(),t=e.substring(se+1),l=r}"ns"in j&&(l=j.ns)}return{host:e,port:_,domain:t,subdomain:r,secure:c,scheme:p,pathString:o,namespace:l}};class wE{constructor(e,t,r,o){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=o}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Pz)(this.snapshot.exportVal())}}class iv{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class ov{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Dc{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new F.BH;return hE(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Jo("OnDisconnect.remove",this._path);const e=new F.BH;return $g(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Jo("OnDisconnect.set",this._path),Ea("OnDisconnect.set",e,this._path,!1);const t=new F.BH;return $g(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){Jo("OnDisconnect.setWithPriority",this._path),Ea("OnDisconnect.setWithPriority",e,this._path,!1),Lg("OnDisconnect.setWithPriority",t,!1);const r=new F.BH;return function pE(n,e,t,r,o){const l=dr(t,r);n.server_.onDisconnectPut(e.toString(),l.val(!0),(c,p)=>{"ok"===c&&Id(n.onDisconnect_,e,l),jl(0,o,c,p)})}(this._repo,this._path,e,t,r.wrapCallback(()=>{})),r.promise}update(e){Jo("OnDisconnect.update",this._path),q_("OnDisconnect.update",e,this._path,!1);const t=new F.BH;return function NA(n,e,t,r){if((0,F.xb)(t))return Wr("onDisconnect().update() called with empty data.  Don't do anything."),void jl(0,r,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(o,l)=>{"ok"===o&&Kr(t,(c,p)=>{const _=dr(p);Id(n.onDisconnect_,Xn(e,c),_)}),jl(0,r,o,l)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class So{constructor(e,t,r,o){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=o}get key(){return rn(this._path)?null:sg(this._path)}get ref(){return new Xo(this._repo,this._path)}get _queryIdentifier(){const e=KC(this._queryParams),t=Zf(e);return"{}"===t?"default":t}get _queryObject(){return KC(this._queryParams)}isEqual(e){if(!((e=(0,F.m9)(e))instanceof So))return!1;const t=this._repo===e._repo,r=np(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function l_(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function Wg(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Gl(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===ga){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==pa)throw new Error(r);if("string"!=typeof e)throw new Error(o)}if(n.hasEnd()){if(n.getIndexEndName()!==fa)throw new Error(r);if("string"!=typeof t)throw new Error(o)}}else if(n.getIndex()===$n){if(null!=e&&!rl(e)||null!=t&&!rl(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(n.getIndex()instanceof _w||n.getIndex()===vw,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function qg(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Xo extends So{constructor(e,t){super(e,t,new ap,!1)}get parent(){const e=rw(this._path);return null===e?null:new Xo(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Ud{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Pn(e),r=Oi(this.ref,e);return new Ud(this._node.getChild(t),r,$n)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,o)=>e(new Ud(o,Oi(this.ref,r),$n)))}hasChild(e){const t=new Pn(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function sv(n,e){return(n=(0,F.m9)(n))._checkNotDeleted("ref"),void 0!==e?Oi(n._root,e):n._root}function Kg(n,e){(n=(0,F.m9)(n))._checkNotDeleted("refFromURL");const t=rv(e,n._repo.repoInfo_.nodeAdmin);lE("refFromURL",t);const r=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&ha("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),sv(n,t.path.toString())}function Oi(n,e){return null===Wt((n=(0,F.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Bd("child","path",t,!1)):Bd("child","path",e,!1),new Xo(n._repo,Xn(n._path,e));var t}function es(n,e){n=(0,F.m9)(n),Jo("set",n._path),Ea("set",e,n._path,!1);const t=new F.BH;return Hg(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function IE(n,e){q_("update",e,n._path,!1);const t=new F.BH;return function kA(n,e,t,r){Iu(n,"update",{path:e.toString(),value:t});let o=!0;const l=Ec(n),c={};if(Kr(t,(p,_)=>{o=!1,c[p]=SA(Xn(e,p),dr(_),n.serverSyncTree_,l)}),o)Wr("update() called with empty data.  Don't do anything."),jl(0,r,"ok",void 0);else{const p=yp(n),_=function vA(n,e,t,r){!function x_(n,e,t,r){(0,F.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=M_(n.visibleWrites,e,t),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r);const o=zn.fromObject(t);return Pi(n,new lp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,o))}(n.serverSyncTree_,e,c,p);Vg(n.eventQueue_,_),n.server_.merge(e.toString(),t,(w,S)=>{const k="ok"===w;k||qr("update at "+e+" failed: "+w);const j=bu(n.serverSyncTree_,p,!k),J=j.length>0?Ic(n,e):e;To(n.eventQueue_,J,j),jl(0,r,w,S)}),Kr(t,w=>{const S=nv(n,Xn(e,w));Ic(n,S)}),To(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}class Zg{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const r=t._queryParams.getIndex();return new wE("value",this,new Ud(e.snapshotNode,new Xo(t._repo,t._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new iv(this,e,t):null}matches(e){return e instanceof Zg&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Yg{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new iv(this,e,t):null}createEvent(e,t){(0,F.hu)(null!=e.childName,"Child events should have a childName.");const r=Oi(new Xo(t._repo,t._path),e.childName),o=t._queryParams.getIndex();return new wE(e.type,this,new Ud(e.snapshotNode,r,o),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Yg&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function bp(n,e,t,r,o){let l;if("object"==typeof r&&(l=void 0,o=r),"function"==typeof r&&(l=r),o&&o.onlyOnce){const _=t,w=(S,k)=>{X_(n._repo,n,p),_(S,k)};w.userCallback=t.userCallback,w.context=t.context,t=w}const c=new ov(t,l||void 0),p="value"===e?new Zg(c):new Yg(e,c);return function PA(n,e,t){let r;r=".info"===Wt(e._path)?V_(n.infoSyncTree_,e,t):V_(n.serverSyncTree_,e,t),cE(n.eventQueue_,e._path,r)}(n._repo,n,p),()=>X_(n._repo,n,p)}function wp(n,e,t,r){return bp(n,"value",e,t,r)}function jd(n,e,t,r){return bp(n,"child_added",e,t,r)}function DE(n,e,t,r){return bp(n,"child_changed",e,t,r)}function av(n,e,t,r){return bp(n,"child_moved",e,t,r)}function CE(n,e,t,r){return bp(n,"child_removed",e,t,r)}function lv(n,e,t){let r=null;const o=t?new ov(t):null;"value"===e?r=new Zg(o):e&&(r=new Yg(e,o)),X_(n._repo,n,r)}class Ps{}class Ep extends Ps{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Ea("endAt",this._value,e._path,!0);const t=wd(e._queryParams,this._value,this._key);if(qg(t),Gl(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new So(e._repo,e._path,t,e._orderByCalled)}}class AE extends Ps{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Ea("endBefore",this._value,e._path,!1);const t=function C_(n,e,t){let r,o;return n.index_===ga?("string"==typeof e&&(e=w_(e)),o=wd(n,e,t)):(r=null==t?pa:w_(t),o=wd(n,e,r)),o.endBeforeSet_=!0,o}(e._queryParams,this._value,this._key);if(qg(t),Gl(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new So(e._repo,e._path,t,e._orderByCalled)}}class Qg extends Ps{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Ea("startAt",this._value,e._path,!0);const t=Dw(e._queryParams,this._value,this._key);if(qg(t),Gl(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new So(e._repo,e._path,t,e._orderByCalled)}}class SE extends Ps{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Ea("startAfter",this._value,e._path,!1);const t=function dg(n,e,t){let r;if(n.index_===ga)"string"==typeof e&&(e=Ew(e)),r=Dw(n,e,t);else{let o;o=null==t?fa:Ew(t),r=Dw(n,e,o)}return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(qg(t),Gl(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new So(e._repo,e._path,t,e._orderByCalled)}}class xE extends Ps{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new So(e._repo,e._path,function LM(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class NE extends Ps{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new So(e._repo,e._path,function Iw(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class RE extends Ps{constructor(e){super(),this._path=e}_apply(e){Wg(e,"orderByChild");const t=new Pn(this._path);if(rn(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new _w(t),o=Ed(e._queryParams,r);return Gl(o),new So(e._repo,e._path,o,!0)}}class BA extends Ps{_apply(e){Wg(e,"orderByKey");const t=Ed(e._queryParams,ga);return Gl(t),new So(e._repo,e._path,t,!0)}}class jA extends Ps{_apply(e){Wg(e,"orderByPriority");const t=Ed(e._queryParams,$n);return Gl(t),new So(e._repo,e._path,t,!0)}}class HA extends Ps{_apply(e){Wg(e,"orderByValue");const t=Ed(e._queryParams,vw);return Gl(t),new So(e._repo,e._path,t,!0)}}class zA extends Ps{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(Ea("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ep(this._value,this._key)._apply(new Qg(this._value,this._key)._apply(e))}}function Da(n,...e){let t=(0,F.m9)(n);for(const r of e)t=r._apply(t);return t}(function UM(n){(0,F.hu)(!F_,"__referenceConstructor has already been defined"),F_=n})(Xo),function Jw(n){(0,F.hu)(!dp,"__referenceConstructor has already been defined"),dp=n}(Xo);const uv={};function LE(n,e,t,r,o){let l=r||n.options.databaseURL;void 0===l&&(n.options.projectId||ha("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Wr("Using default host for project ",n.options.projectId),l=`${n.options.projectId}-default-rtdb.firebaseio.com`);let _,w,c=rv(l,o),p=c.repoInfo;typeof process<"u"&&process.env&&(w=process.env.FIREBASE_DATABASE_EMULATOR_HOST),w?(_=!0,l=`http://${w}?ns=${p.namespace}`,c=rv(l,o),p=c.repoInfo):_=!c.repoInfo.secure;const S=o&&_?new fd(fd.OWNER):new Gb(n.name,n.options,e);lE("Invalid Firebase Database URL",c),rn(c.path)||ha("Database URL must point to the root of a Firebase Database (not including a child path).");const k=function YA(n,e,t,r){let o=uv[e.name];o||(o={},uv[e.name]=o);let l=o[n.toURLString()];return l&&ha("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new K_(n,false,t,r),o[n.toURLString()]=l,l}(p,n,S,new SC(n.name,t));return new JA(k,n)}class JA{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function xA(n,e,t){if(n.stats_=ep(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new pg(n.repoInfo_,(r,o,l,c)=>{Z_(n,r,o,l,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Y_(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Pz)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new dc(n.repoInfo_,e,(r,o,l,c)=>{Z_(n,r,o,l,c)},r=>{Y_(n,r)},r=>{!function Q_(n,e){Kr(e,(t,r)=>{Gg(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function tp(n,e){const t=n.toString();return tg[t]||(tg[t]=e()),tg[t]}(n.repoInfo_,()=>new T_(n.stats_,n.server_)),n.infoData_=new ZC,n.infoSyncTree_=new tE({startListening:(r,o,l,c)=>{let p=[];const _=n.infoData_.getNode(r._path);return _.isEmpty()||(p=Md(n.infoSyncTree_,r._path,_),setTimeout(()=>{c("ok")},0)),p},stopListening:()=>{}}),Gg(n,"connected",!1),n.serverSyncTree_=new tE({startListening:(r,o,l,c)=>(n.server_.listen(r,l,o,(p,_)=>{const w=c(p,_);To(n.eventQueue_,r._path,w)}),[]),stopListening:(r,o)=>{n.server_.unlisten(r,o)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Xo(this._repo,In())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function ZA(n,e){const t=uv[e];(!t||t[n.key]!==n)&&ha(`Database ${e}(${n.repoInfo_}) has already been deleted.`),ev(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&ha("Cannot call "+e+" on a deleted database.")}}function cv(){zt.IS_TRANSPORT_INITIALIZED&&qr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function VE(){cv(),mu.forceDisallow()}function BE(){cv(),gd.forceDisallow(),mu.forceAllow()}function HE(n,e){da(n,e)}const zE={".sv":"timestamp"};class eT{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}dc.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},dc.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function $E(n){Ob(Io.SDK_VERSION),(0,Io._registerComponent)(new Ll.wA("database",(e,{instanceIdentifier:t})=>LE(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Io.registerVersion)(Rb,"0.13.2",n),(0,Io.registerVersion)(Rb,"0.13.2","esm2017")}();const qE=new Ts.Yd("@firebase/database-compat"),hv=function(n){qE.warn("FIREBASE WARNING: "+n)};class nT{constructor(e){this._delegate=e}cancel(e){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),r=>e(r)),t}remove(e){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),r=>e(r)),t}set(e,t){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",t,!0);const r=this._delegate.set(e);return t&&r.then(()=>t(null),o=>t(o)),r}setWithPriority(e,t,r){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const o=this._delegate.setWithPriority(e,t);return r&&o.then(()=>r(null),l=>r(l)),o}update(e,t){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const o={};for(let l=0;l<e.length;++l)o[""+l]=e[l];e=o,hv("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",t,!0);const r=this._delegate.update(e);return t&&r.then(()=>t(null),o=>t(o)),r}}class rT{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Du{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),Bd("DataSnapshot.child","path",e,!1),new Du(this._database,this._delegate.child(e))}hasChild(e){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Bd("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Du(this._database,t)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new ts(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Dr{constructor(e,t){this.database=e,this._delegate=t}on(e,t,r,o){var l;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",t,!1);const c=Dr.getCancelAndContextArgs_("Query.on",r,o),p=(w,S)=>{t.call(c.context,new Du(this.database,w),S)};p.userCallback=t,p.context=c.context;const _=null===(l=c.cancel)||void 0===l?void 0:l.bind(c.context);switch(e){case"value":return wp(this._delegate,p,_),t;case"child_added":return jd(this._delegate,p,_),t;case"child_removed":return CE(this._delegate,p,_),t;case"child_changed":return DE(this._delegate,p,_),t;case"child_moved":return av(this._delegate,p,_),t;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,r){if((0,F.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,F.Wj)("Query.off","callback",t,!0),(0,F.lb)("Query.off","context",r,!0),t){const o=()=>{};o.userCallback=t,o.context=r,lv(this._delegate,e,o)}else lv(this._delegate,e)}get(){return function LA(n){return J_((n=(0,F.m9)(n))._repo,n).then(e=>new Ud(e,new Xo(n._repo,n._path),n._queryParams.getIndex()))}(this._delegate).then(e=>new Du(this.database,e))}once(e,t,r,o){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",t,!0);const l=Dr.getCancelAndContextArgs_("Query.once",r,o),c=new F.BH,p=(w,S)=>{const k=new Du(this.database,w);t&&t.call(l.context,k,S),c.resolve(k)};p.userCallback=t,p.context=l.context;const _=w=>{l.cancel&&l.cancel.call(l.context,w),c.reject(w)};switch(e){case"value":wp(this._delegate,p,_,{onlyOnce:!0});break;case"child_added":jd(this._delegate,p,_,{onlyOnce:!0});break;case"child_removed":CE(this._delegate,p,_,{onlyOnce:!0});break;case"child_changed":DE(this._delegate,p,_,{onlyOnce:!0});break;case"child_moved":av(this._delegate,p,_,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(e){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new Dr(this.database,Da(this._delegate,function kE(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new xE(n)}(e)))}limitToLast(e){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new Dr(this.database,Da(this._delegate,function PE(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new NE(n)}(e)))}orderByChild(e){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new Dr(this.database,Da(this._delegate,function OE(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Bd("orderByChild","path",n,!1),new RE(n)}(e)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new Dr(this.database,Da(this._delegate,function UA(){return new BA}()))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new Dr(this.database,Da(this._delegate,function GA(){return new jA}()))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new Dr(this.database,Da(this._delegate,function $A(){return new HA}()))}startAt(e=null,t){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new Dr(this.database,Da(this._delegate,function Jg(n=null,e){return Vd("startAt","key",e,!0),new Qg(n,e)}(e,t)))}startAfter(e=null,t){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new Dr(this.database,Da(this._delegate,function ME(n,e){return Vd("startAfter","key",e,!0),new SE(n,e)}(e,t)))}endAt(e=null,t){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new Dr(this.database,Da(this._delegate,function VA(n,e){return Vd("endAt","key",e,!0),new Ep(n,e)}(e,t)))}endBefore(e=null,t){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new Dr(this.database,Da(this._delegate,function TE(n,e){return Vd("endBefore","key",e,!0),new AE(n,e)}(e,t)))}equalTo(e,t){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new Dr(this.database,Da(this._delegate,function WA(n,e){return Vd("equalTo","key",e,!0),new zA(n,e)}(e,t)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof Dr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,r){const o={cancel:void 0,context:void 0};if(t&&r)o.cancel=t,(0,F.Wj)(e,"cancel",o.cancel,!0),o.context=r,(0,F.lb)(e,"context",o.context,!0);else if(t)if("object"==typeof t&&null!==t)o.context=t;else{if("function"!=typeof t)throw new Error((0,F.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");o.cancel=t}return o}get ref(){return new ts(this.database,new Xo(this._delegate._repo,this._delegate._path))}}class ts extends Dr{constructor(e,t){super(e,new So(t._repo,t._path,new ap,!1)),this.database=e,this._delegate=t}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new ts(this.database,Oi(this._delegate,e))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new ts(this.database,e):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new ts(this.database,this._delegate.root)}set(e,t){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",t,!0);const r=es(this._delegate,e);return t&&r.then(()=>t(null),o=>t(o)),r}update(e,t){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const o={};for(let l=0;l<e.length;++l)o[""+l]=e[l];e=o,hv("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Jo("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",t,!0);const r=IE(this._delegate,e);return t&&r.then(()=>t(null),o=>t(o)),r}setWithPriority(e,t,r){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",r,!0);const o=function EE(n,e,t){if(Jo("setWithPriority",n._path),Ea("setWithPriority",e,n._path,!1),Lg("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new F.BH;return Hg(n._repo,n._path,e,t,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,t);return r&&o.then(()=>r(null),l=>r(l)),o}remove(e){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",e,!0);const t=function il(n){return Jo("remove",n._path),es(n,null)}(this._delegate);return e&&t.then(()=>e(null),r=>e(r)),t}transaction(e,t,r){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,F.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,r){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const o=function tT(n,e,t){var r;if(n=(0,F.m9)(n),Jo("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const o=null===(r=t?.applyLocally)||void 0===r||r,l=new F.BH,p=wp(n,()=>{});return function fE(n,e,t,r,o,l){Iu(n,"transaction on "+e);const c={path:e,update:t,onComplete:r,status:null,order:Lb(),applyLocally:l,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},p=zg(n,e,void 0);c.currentInputSnapshot=p;const _=c.update(p.val());if(void 0===_)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{Ld("transaction failed: Data returned ",_,c.path),c.status=0;const w=kd(n.transactionQueueTree_,e),S=vc(w)||[];let k;S.push(c),ks(w,S),"object"==typeof _&&null!==_&&(0,F.r3)(_,".priority")?(k=(0,F.DV)(_,".priority"),(0,F.hu)(rl(k),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):k=(hp(n.serverSyncTree_,e)||Qt.EMPTY_NODE).getPriority().val();const j=Ec(n),J=dr(_,k),se=_c(J,p,j);c.currentOutputSnapshotRaw=J,c.currentOutputSnapshotResolved=se,c.currentWriteId=yp(n);const Be=L_(n.serverSyncTree_,e,se,c.currentWriteId,c.applyLocally);To(n.eventQueue_,e,Be),_p(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(_,w,S)=>{let k=null;_?l.reject(_):(k=new Ud(S,new Xo(n._repo,n._path),$n),l.resolve(new eT(w,k)))},p,o),l.promise}(this._delegate,e,{applyLocally:r}).then(l=>new rT(l.committed,new Du(this.database,l.snapshot)));return t&&o.then(l=>t(null,l.committed,l.snapshot),l=>t(l,!1,null)),o}setPriority(e,t){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",t,!0);const r=function Ia(n,e){n=(0,F.m9)(n),Jo("setPriority",n._path),Lg("setPriority",e,!1);const t=new F.BH;return Hg(n._repo,Xn(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&r.then(()=>t(null),o=>t(o)),r}push(e,t){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",t,!0);const r=function FA(n,e){n=(0,F.m9)(n),Jo("push",n._path),Ea("push",e,n._path,!0);const t=jg(n._repo),r=ww(t),o=Oi(n,r),l=Oi(n,r);let c;return c=null!=e?es(l,e).then(()=>l):Promise.resolve(l),o.then=c.then.bind(c),o.catch=c.then.bind(c,void 0),o}(this._delegate,e),o=r.then(c=>new ts(this.database,c));t&&o.then(()=>t(null),c=>t(c));const l=new ts(this.database,r);return l.then=o.then.bind(o),l.catch=o.catch.bind(o,void 0),l}onDisconnect(){return Jo("Reference.onDisconnect",this._delegate._path),new nT(new Dc(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Cu{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:VE,forceLongPolling:BE}}useEmulator(e,t,r={}){!function UE(n,e,t,r={}){(n=(0,F.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&ha("Cannot call useEmulator() after instance has already been initialized.");const o=n._repoInternal;let l;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&ha('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new fd(fd.OWNER);else if(r.mockUserToken){const c="string"==typeof r.mockUserToken?r.mockUserToken:(0,F.Sg)(r.mockUserToken,n.app.options.projectId);l=new fd(c)}!function KA(n,e,t,r){n.repoInfo_=new Xf(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(o,e,t,l)}(this._delegate,e,t,r)}ref(e){if((0,F.Dv)("database.ref",0,1,arguments.length),e instanceof ts){const t=Kg(this._delegate,e.toString());return new ts(this,t)}{const t=sv(this._delegate,e);return new ts(this,t)}}refFromURL(e){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const r=Kg(this._delegate,e);return new ts(this,r)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function jE(n){(n=(0,F.m9)(n))._checkNotDeleted("goOffline"),ev(n._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function GE(n){(n=(0,F.m9)(n))._checkNotDeleted("goOnline"),function tv(n){n.persistentConnection_&&n.persistentConnection_.resume(mp)}(n._repo)}(this._delegate)}}Cu.ServerValue={TIMESTAMP:function WE(){return zE}(),increment:n=>function Cc(n){return{".sv":{increment:n}}}(n)};var Cr=Object.freeze({__proto__:null,initStandalone:function Xg({app:n,url:e,version:t,customAuthImpl:r,namespace:o,nodeAdmin:l=!1}){Ob(t);const c=new Ll.zt("auth-internal",new Ll.H0("database-standalone"));return c.setComponent(new Ll.wA("auth-internal",()=>r,"PRIVATE")),{instance:new Cu(LE(n,c,void 0,e,l),n),namespace:o}}});const qM=Cu.ServerValue;!function KE(n){n.INTERNAL.registerComponent(new Ll.wA("database-compat",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app-compat").getImmediate(),o=e.getProvider("database").getImmediate({identifier:t});return new Cu(o,r)},"PUBLIC").setServiceProps({Reference:ts,Query:Dr,Database:Cu,DataSnapshot:Du,enableLogging:HE,INTERNAL:Cr,ServerValue:qM}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.2")}(qf.Z);var pv=V(7579),em=V(5363),ZE=V(6063);class YE extends pv.x{constructor(e=1/0,t=1/0,r=ZE.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:l,_windowTime:c}=this;t||(r.push(e),!o&&r.push(l.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,l=o.slice();for(let c=0;c<l.length&&!e.closed;c+=r?1:2)e.next(l[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,l=(o?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!o){const c=t.now();let p=0;for(let _=1;_<r.length&&r[_]<=c;_+=2)p=_;p&&r.splice(0,p+1)}}}function fv(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,(0,zf.B)({connector:()=>new YE(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}const JE=(0,V(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function tm(n,e){return(0,Ja.e)((t,r)=>{let o=0;t.subscribe((0,Jn.x)(r,l=>n.call(e,l,o++)&&r.next(l)))})}var iT=V(5698);function Dp(n){return(0,Ja.e)((e,t)=>{let r=!1;e.subscribe((0,Jn.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function oT(n=sT){return(0,Ja.e)((e,t)=>{let r=!1;e.subscribe((0,Jn.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function sT(){return new JE}var nm=V(576);function gv(n,e){return(0,nm.m)(e)?Fl(()=>n,e):Fl(()=>n)}var rm=V(9468),Au=V(5867);class Gd{constructor(e){return e}}class Hd{constructor(){return(0,Au.C6)()}}const mv=new g.OlP("angularfire2._apps"),uT={provide:Gd,useFactory:function lT(n){return n&&1===n.length?n[0]:new Gd((0,Au.Mq)())},deps:[[new g.FiY,mv]]},XE={provide:Hd,deps:[[new g.FiY,mv]]};function eI(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Gd(r)}}let tI=(()=>{class n{constructor(t){(0,Au.KN)("angularfire",Rt.q4.full,"core"),(0,Au.KN)("angularfire",Rt.q4.full,"app"),(0,Au.KN)("angular",g.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(g.Lbi))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[uT,XE]}),n})();function cT(n,...e){return{ngModule:tI,providers:[{provide:mv,useFactory:eI(n),multi:!0,deps:[g.R0b,g.zs3,Rt.HU,...e]}]}}const YM=(0,Rt.u3)(Au.ZF,!0),yv=new Map,om={activated:!1,tokenObservers:[]},hT={initialized:!1,enabled:!1};function ci(n){return yv.get(n)||om}function Rs(n,e){yv.set(n,e)}function Tu(){return hT}class mT{constructor(e,t,r,o,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Se.Z)(function*(){t.stop();try{t.pending=new F.BH,yield function yT(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new F.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ro=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function iI(n){if(!ci(n).activated)throw ro.create("use-before-activation",{appName:n.name})}function lm(n,e){return vv.apply(this,arguments)}function vv(){return(vv=(0,Se.Z)(function*({url:n,body:e},t){var r,o;const l={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const J=yield c.getHeartbeatsHeader();J&&(l["X-Firebase-Client"]=J)}const p={method:"POST",body:JSON.stringify(e),headers:l};let _,w;try{_=yield fetch(n,p)}catch(J){throw ro.create("fetch-network-error",{originalErrorMessage:null===(r=J)||void 0===r?void 0:r.message})}if(200!==_.status)throw ro.create("fetch-status-error",{httpStatus:_.status});try{w=yield _.json()}catch(J){throw ro.create("fetch-parse-error",{originalErrorMessage:null===(o=J)||void 0===o?void 0:o.message})}const S=w.ttl.match(/^([\d.]+)(s)$/);if(!S||!S[2]||isNaN(Number(S[1])))throw ro.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const k=1e3*Number(S[1]),j=Date.now();return{token:w.token,expireTimeMillis:j+k,issuedAtTimeMillis:j}})).apply(this,arguments)}function oI(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const Ap="firebase-app-check-store";let zd=null;function lI(){return zd||(zd=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=o=>{n(o.target.result)},r.onerror=o=>{var l;e(ro.create("storage-open",{originalErrorMessage:null===(l=o.target.error)||void 0===l?void 0:l.message}))},r.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(Ap,{keyPath:"compositeKey"})}}catch(r){e(ro.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),zd)}function wv(){return(wv=(0,Se.Z)(function*(n,e){const r=(yield lI()).transaction(Ap,"readwrite"),l=r.objectStore(Ap).put({compositeKey:n,value:e});return new Promise((c,p)=>{l.onsuccess=_=>{c()},r.onerror=_=>{var w;p(ro.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const Wd=new Ts.Yd("@firebase/app-check");function fI(n,e){return(0,F.hl)()?function bT(n,e){return function cI(n,e){return wv.apply(this,arguments)}(function hI(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Wd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function mI(){return Tu().enabled}function yI(){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,Se.Z)(function*(){const n=Tu();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const _I={error:"UNKNOWN_ERROR"};function Av(n){return F.US.encodeString(JSON.stringify(n),!1)}function um(n){return Tv.apply(this,arguments)}function Tv(){return(Tv=(0,Se.Z)(function*(n,e=!1){const t=n.app;iI(t);const r=ci(t);let l,o=r.token;if(!o){const _=yield r.cachedTokenPromise;_&&kv(_)&&(o=_)}if(!e&&o&&kv(o))return{token:o.token};let p,c=!1;if(mI()){r.exchangeTokenPromise||(r.exchangeTokenPromise=lm(oI(t,yield yI()),n.heartbeatServiceProvider).then(w=>(r.exchangeTokenPromise=void 0,w)),c=!0);const _=yield r.exchangeTokenPromise;return yield fI(t,_),Rs(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(_=>(r.exchangeTokenPromise=void 0,_)),c=!0),o=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Wd.warn(_.message):Wd.error(_),l=_}return o?(p={token:o.token},Rs(t,Object.assign(Object.assign({},r),{token:o})),yield fI(t,o)):p=DT(l),c&&xv(t,p),p})).apply(this,arguments)}function Sv(n,e){const t=ci(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Rs(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function Mv(n){const{app:e}=n,t=ci(e);let r=t.tokenRefresher;r||(r=function IT(n){const{app:e}=n;return new mT((0,Se.Z)(function*(){let r;if(r=ci(e).token?yield um(n,!0):yield um(n),r.error)throw r.error}),()=>!0,()=>{const t=ci(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Rs(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function xv(n,e){const t=ci(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function kv(n){return n.expireTimeMillis-Date.now()>0}function DT(n){return{token:Av(_I),error:n}}class cm{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ci(this.app);for(const t of e)Sv(this.app,t.next);return Promise.resolve()}}const CI="app-check-internal";!function kT(){(0,Io._registerComponent)(new Ll.wA("app-check",n=>function Ac(n,e){return new cm(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(CI).initialize()})),(0,Io._registerComponent)(new Ll.wA(CI,n=>function CT(n){return{getToken:e=>um(n,e),addTokenListener:e=>function Sp(n,e,t,r){const{app:o}=n,l=ci(o),c={next:t,error:r,type:e};if(Rs(o,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,c]})),l.token&&kv(l.token)){const p=l.token;Promise.resolve().then(()=>{t({token:p.token}),Mv(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>Mv(n))}(n,"INTERNAL",e),removeTokenListener:e=>Sv(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Io.registerVersion)("@firebase/app-check","0.5.10")}();class Pp{constructor(){return(0,Rt.vb)("app-check")}}typeof window<"u"&&window;var AI=V(127);const pm=new g.OlP("angularfire2.auth.use-emulator"),fm=new g.OlP("angularfire2.auth.settings"),gm=new g.OlP("angularfire2.auth.tenant-id"),Vv=new g.OlP("angularfire2.auth.langugage-code"),Bv=new g.OlP("angularfire2.auth.use-device-language"),SI=new g.OlP("angularfire.auth.persistence"),Uv=(n,e,t,r,o,l,c,p)=>(0,it.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=o,l&&_.useDeviceLanguage(),c)for(const[w,S]of Object.entries(c))_.settings[w]=S;return p&&_.setPersistence(p),_},[t,r,o,l,c,p]);let jv=(()=>{class n{constructor(t,r,o,l,c,p,_,w,S,k,j,J){const se=new pv.x,Be=oc(void 0).pipe((0,em.Q)(c.outsideAngular),Fl(()=>l.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,5881)))),(0,Nn.U)(()=>(0,it.on)(t,l,r)),(0,Nn.U)(Xe=>Uv(Xe,l,p,w,S,k,_,j)),fv({bufferSize:1,refCount:!1}));if(Xl(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=oc(null);else{Be.pipe(function aT(n,e){const t=arguments.length>=2;return r=>r.pipe(n?tm((o,l)=>n(o,l,r)):Vy.y,(0,iT.q)(1),t?Dp(e):oT(()=>new JE))}()).subscribe();const Gt=Be.pipe(Fl(Jt=>Jt.getRedirectResult().then(mn=>mn,()=>null)),Rt.iC,fv({bufferSize:1,refCount:!1})),Yt=Be.pipe(Fl(Jt=>new ar.y(mn=>({unsubscribe:l.runOutsideAngular(()=>Jt.onAuthStateChanged(Un=>mn.next(Un),Un=>mn.error(Un),()=>mn.complete()))})))),ln=Be.pipe(Fl(Jt=>new ar.y(mn=>({unsubscribe:l.runOutsideAngular(()=>Jt.onIdTokenChanged(Un=>mn.next(Un),Un=>mn.error(Un),()=>mn.complete()))}))));this.authState=Gt.pipe(gv(Yt),(0,rm.R)(c.outsideAngular),(0,em.Q)(c.insideAngular)),this.user=Gt.pipe(gv(ln),(0,rm.R)(c.outsideAngular),(0,em.Q)(c.insideAngular)),this.idToken=this.user.pipe(Fl(Jt=>Jt?(0,St.D)(Jt.getIdToken()):oc(null))),this.idTokenResult=this.user.pipe(Fl(Jt=>Jt?(0,St.D)(Jt.getIdTokenResult()):oc(null))),this.credential=(0,Ly.T)(Gt,se,this.authState.pipe(tm(Jt=>!Jt))).pipe((0,Nn.U)(Jt=>Jt?.user?Jt:null),(0,rm.R)(c.outsideAngular),(0,em.Q)(c.insideAngular))}return(0,it.pX)(this,Be,l,{spy:{apply:(Xe,Gt,Yt)=>{(Xe.startsWith("signIn")||Xe.startsWith("createUser"))&&Yt.then(ln=>se.next(ln))}}})}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(it.Dh),g.LFG(it.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(Rt.HU),g.LFG(pm,8),g.LFG(fm,8),g.LFG(gm,8),g.LFG(Vv,8),g.LFG(Bv,8),g.LFG(SI,8),g.LFG(Pp,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Zd(n){return null==n}function MI(n){return"function"==typeof n.set}function mm(n,e){return MI(e)?e:n.ref(e)}function Ca(n,e){if(function LT(n){return"string"==typeof n}(n))return e.stringCase();if(MI(n))return e.firebaseCase();if(function VT(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Rp(n,e,t="on",r=kb.z){return new ar.y(o=>{let l=null;return l=n[t](e,(c,p)=>{r.schedule(()=>{o.next({snapshot:c,prevKey:p})}),"once"===t&&r.schedule(()=>o.complete())},c=>{r.schedule(()=>o.error(c))}),"on"===t?{unsubscribe(){null!=l&&n.off(e,l)}}:{unsubscribe(){}}}).pipe((0,Nn.U)(o=>{const{snapshot:l,prevKey:c}=o;let p=null;return l.exists()&&(p=l.key),{type:e,payload:l,prevKey:c,key:p}}),(0,zf.B)())}function Yd(n,e){const t=n.length;for(let r=0;r<t;r++)if(n[r].payload.key===e)return r;return-1}function UT(n,e){const{payload:t,prevKey:r,key:o}=e,l=Yd(n,o),c=function BT(n,e){if(Zd(e))return 0;{const t=Yd(n,e);return-1===t?n.length:t+1}}(n,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let p=null;e.payload.forEach(_=>{const w={payload:_,type:"value",prevKey:p,key:_.key};return p=_.key,n=[...n,w],!1})}return n;case"child_added":if(l>-1){const p=n[l-1];(p&&p.key||null)!==r&&(n=n.filter(_=>_.payload.key!==t.key)).splice(c,0,e)}else{if(null==r)return[e,...n];(n=n.slice()).splice(c,0,e)}return n;case"child_removed":return n.filter(p=>p.payload.key!==t.key);case"child_changed":return n.map(p=>p.payload.key===o?e:p);case"child_moved":if(l>-1){const p=n.splice(l,1)[0];return(n=n.slice()).splice(c,0,p),n}return n;default:return n}}function xI(n){return(Zd(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function Op(n,e,t){return function Gv(n,e,t){return Rp(n,"value","once",t).pipe(Fl(r=>{const o=[oc(r)];return e.forEach(l=>o.push(Rp(n,l,"on",t))),(0,Ly.T)(...o).pipe(cd(UT,[]))}),Nb())}(n,e=xI(e),t)}function Fp(n,e,t){const r=(e=xI(e)).map(o=>Rp(n,o,"on",t));return(0,Ly.T)(...r)}function Hv(n,e){return function(r,o){return Ca(r,{stringCase:()=>n.child(r)[e](o),firebaseCase:()=>r[e](o),snapshotCase:()=>r.ref[e](o)})}}function $v(n){return function(t){return t?Ca(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function PI(n,e){return function(){return Rp(n,"value","on",e)}}const cx=new g.OlP("angularfire2.realtimeDatabaseURL"),zv=new g.OlP("angularfire2.database.use-emulator");let Wv=(()=>{class n{constructor(t,r,o,l,c,p,_,w,S,k,j,J,se,Be,Xe){this.schedulers=p;const Gt=_,Yt=(0,it.on)(t,c,r);w&&Uv(Yt,c,S,j,J,se,k,Be),this.database=(0,it.cc)(`${Yt.name}.database.${o}`,"AngularFireDatabase",Yt.name,()=>{const ln=c.runOutsideAngular(()=>Yt.database(o||void 0));return Gt&&ln.useEmulator(...Gt),ln},[Gt])}list(t,r){const o=this.schedulers.ngZone.runOutsideAngular(()=>mm(this.database,t));let l=o;return r&&(l=r(o)),function NI(n,e){const t=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:Hv(r,"update"),set:Hv(r,"set"),push:o=>r.push(o),remove:$v(r),snapshotChanges:o=>Op(n,o,t).pipe(Rt.iC),stateChanges:o=>Fp(n,o,t).pipe(Rt.iC),auditTrail:o=>function jT(n,e,t){return function kI(n,e,t){return function GT(n,e){return Rp(n,"value","on",e).pipe((0,Nn.U)(t=>{let r;return t.payload.forEach(o=>(r=o.key,!1)),{data:t,lastKeyToLoad:r}}))}(n,t).pipe(function Pb(...n){const e=(0,go.jO)(n);return(0,Ja.e)((t,r)=>{const o=n.length,l=new Array(o);let c=n.map(()=>!1),p=!1;for(let _=0;_<o;_++)(0,iu.Xf)(n[_]).subscribe((0,Jn.x)(r,w=>{l[_]=w,!p&&!c[_]&&(c[_]=!0,(p=c.every(Vy.y))&&(c=null))},By.Z));t.subscribe((0,Jn.x)(r,_=>{if(p){const w=[_,...l];r.next(e?e(...w):w)}}))})}(e),(0,Nn.U)(([o,l])=>{const c=o.lastKeyToLoad,p=l.map(_=>_.key);return{actions:l,lastKeyToLoad:c,loadedKeys:p}}),function Uy(n){return(0,Ja.e)((e,t)=>{let r=!1,o=0;e.subscribe((0,Jn.x)(t,l=>(r||(r=!n(l,o++)))&&t.next(l)))})}(o=>-1===o.loadedKeys.indexOf(o.lastKeyToLoad)),(0,Nn.U)(o=>o.actions))}(n,Fp(n,e).pipe(cd((o,l)=>[...o,l],[])),t)}(n,o,t).pipe(Rt.iC),valueChanges:(o,l)=>Op(n,o,t).pipe((0,Nn.U)(p=>p.map(_=>l&&l.idField?Object.assign(Object.assign({},_.payload.val()),{[l.idField]:_.key}):_.payload.val())),Rt.iC)}}(l,this)}object(t){return function HT(n,e){return{query:n,snapshotChanges:()=>PI(n,e.schedulers.outsideAngular)().pipe(Rt.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>PI(n,e.schedulers.outsideAngular)().pipe(Rt.iC,(0,Nn.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>mm(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(it.Dh),g.LFG(it.xv,8),g.LFG(cx,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(Rt.HU),g.LFG(zv,8),g.LFG(jv,8),g.LFG(pm,8),g.LFG(fm,8),g.LFG(gm,8),g.LFG(Vv,8),g.LFG(Bv,8),g.LFG(SI,8),g.LFG(Pp,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),RI=(()=>{class n{constructor(){AI.Z.registerVersion("angularfire",Rt.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[Wv]}),n})();const Lp_firebase={projectId:"astapixi",appId:"1:742749180152:web:2d1d26fe44169b71f5eb0d",storageBucket:"astapixi.appspot.com",locationId:"europe-west",apiKey:"AIzaSyBkymfM7VtYzWRiSNui_59Ph5lRvL0DV_Q",authDomain:"astapixi.firebaseapp.com",messagingSenderId:"742749180152",measurementId:"G-5YKLNXF3HE"},Lp_firebaseConfig={apiKey:"AIzaSyBkymfM7VtYzWRiSNui_59Ph5lRvL0DV_Q",authDomain:"astapixi.firebaseapp.com",projectId:"astapixi",storageBucket:"astapixi.appspot.com",messagingSenderId:"742749180152",appId:"1:742749180152:web:2d1d26fe44169b71f5eb0d",measurementId:"G-5YKLNXF3HE"};let ym=(()=>{class n{constructor(){this.isGenSquad=!0,this.isEstraz=!1}SwitchPage(t){switch(t){case"genSquad":this.isGenSquad=!0,this.isEstraz=!1;break;case"estr":this.isEstraz=!0,this.isGenSquad=!1}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$T=(()=>{class n{constructor(t){this.switchPage=t,this.urlTeamsIta="https://v3.football.api-sports.io/"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(ym))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-header"]],decls:14,vars:0,consts:[[2,"text-align","center"],[1,"menuItems",2,"margin","0 auto","width","fit-content"],["href","#",3,"click"]],template:function(t,r){1&t&&(g.TgZ(0,"section")(1,"nav")(2,"p",0),g._uU(3,"Asta-PIXI"),g.qZA(),g.TgZ(4,"ul",1)(5,"li")(6,"a",2),g.NdJ("click",function(){return r.switchPage.SwitchPage("genSquad")}),g._uU(7,"Home"),g.qZA()(),g.TgZ(8,"li")(9,"a",2),g.NdJ("click",function(){return r.switchPage.SwitchPage("genSquad")}),g._uU(10,"Impostazioni"),g.qZA()(),g.TgZ(11,"li")(12,"a",2),g.NdJ("click",function(){return r.switchPage.SwitchPage("estr")}),g._uU(13,"Estrazione"),g.qZA()()()()())},styles:["*[_ngcontent-%COMP%]{padding:0;margin:0}body[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;position:relative;min-height:100vh;font-family:Hack,monospace}nav[_ngcontent-%COMP%]{display:flex;width:90%;margin:0 auto}nav[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#727272;text-align:center}nav[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:16px;font-size:96px;color:#a7a7a7;text-transform:uppercase;font-weight:600;transition:all 1s ease-in-out;position:relative}nav[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{color:#fff;transition:1s}nav[_ngcontent-%COMP%]   .menuItems[_ngcontent-%COMP%]{list-style:none;display:flex}nav[_ngcontent-%COMP%]   .menuItems[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:50px}nav[_ngcontent-%COMP%]   .menuItems[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#a7a7a7;font-size:24px;font-weight:400;transition:all .5s ease-in-out;position:relative;text-transform:uppercase}nav[_ngcontent-%COMP%]   .menuItems[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}footer[_ngcontent-%COMP%]{position:absolute;font-size:12px;bottom:0;width:100%;height:60px;line-height:60px;font-size:14px;background-color:#f1f1f1;color:#000;text-align:center}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:inherit;border-bottom:1px solid}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{border-bottom:1px transparent}"]}),n})();class zT{constructor(){this.nome="",this.crediti=0,this.logo="",this.players=[]}}var WT=V(5226),Aa=V.n(WT),OI=V(6131);function Kv(...n){return function qv(){return(0,OI.J)(1)}()((0,St.D)(n,(0,go.yG)(n)))}function _m(...n){const e=(0,go.yG)(n);return(0,Ja.e)((t,r)=>{(e?Kv(n,t,e):Kv(n,t)).subscribe(r)})}function Zv(){return(0,Ja.e)((n,e)=>{let t,r=!1;n.subscribe((0,Jn.x)(e,o=>{const l=t;t=o,r&&e.next([l,o]),r=!0}))})}var gt,FI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hl={},vm=vm||{},qt=FI||self;function Vp(){}function Yv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ni(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Qv="closure_uid_"+(1e9*Math.random()>>>0),qT=0;function dx(n,e,t){return n.call.apply(n.bind,arguments)}function hx(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function di(n,e,t){return(di=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dx:hx).apply(null,arguments)}function Bp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Or(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,l){for(var c=Array(arguments.length-2),p=2;p<arguments.length;p++)c[p-2]=arguments[p];return e.prototype[o].apply(r,c)}}function Su(){this.s=this.s,this.o=this.o}var KT={};Su.prototype.s=!1,Su.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Qd(n){return Object.prototype.hasOwnProperty.call(n,Qv)&&n[Qv]||(n[Qv]=++qT)}(this);delete KT[n]}},Su.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Xv=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},LI=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in o&&e.call(t,o[l],l,n)};function Jd(n){return Array.prototype.concat.apply([],arguments)}function e0(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Xd(n){return/^[\s\xa0]*$/.test(n)}var Ii,t0=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Fi(n,e){return-1!=n.indexOf(e)}function eh(n,e){return n<e?-1:n>e?1:0}e:{var YT=qt.navigator;if(YT){var n0=YT.userAgent;if(n0){Ii=n0;break e}}Ii=""}function r0(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function o0(n){const e={};for(const t in n)e[t]=n[t];return e}var Tc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function VI(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let l=0;l<Tc.length;l++)t=Tc[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function bm(n){return bm[" "](n),n}bm[" "]=Vp;var Up,n,px=Fi(Ii,"Opera"),th=Fi(Ii,"Trident")||Fi(Ii,"MSIE"),QT=Fi(Ii,"Edge"),a0=QT||th,BI=Fi(Ii,"Gecko")&&!(Fi(Ii.toLowerCase(),"webkit")&&!Fi(Ii,"Edge"))&&!(Fi(Ii,"Trident")||Fi(Ii,"MSIE"))&&!Fi(Ii,"Edge"),JT=Fi(Ii.toLowerCase(),"webkit")&&!Fi(Ii,"Edge");function l0(){var n=qt.document;return n?n.documentMode:void 0}e:{var u0="",wm=(n=Ii,BI?/rv:([^\);]+)(\)|;)/.exec(n):QT?/Edge\/([\d\.]+)/.exec(n):th?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):JT?/WebKit\/(\S+)/.exec(n):px?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(wm&&(u0=wm?wm[1]:""),th){var Em=l0();if(null!=Em&&Em>parseFloat(u0)){Up=String(Em);break e}}Up=u0}var XT={};var jI=qt.document&&th&&(l0()||parseInt(Up,10))||void 0,GI=function(){if(!qt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{qt.addEventListener("test",Vp,e),qt.removeEventListener("test",Vp,e)}catch{}return n}();function Di(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function nh(n,e){if(Di.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(BI){e:{try{bm(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:t1[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&nh.Z.h.call(this)}}Di.prototype.h=function(){this.defaultPrevented=!0},Or(nh,Di);var t1={2:"touch",3:"pen",4:"mouse"};nh.prototype.h=function(){nh.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var jp="closure_listenable_"+(1e6*Math.random()|0),fx=0;function HI(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++fx,this.ca=this.fa=!1}function c0(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function d0(n){this.src=n,this.g={},this.h=0}function $I(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],o=Xv(r,e);(l=0<=o)&&Array.prototype.splice.call(r,o,1),l&&(c0(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function zI(n,e,t,r){for(var o=0;o<n.length;++o){var l=n[o];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return o}return-1}d0.prototype.add=function(n,e,t,r,o){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var c=zI(n,e,r,o);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new HI(e,this.src,l,!!r,o)).fa=t,n.push(e)),e};var WI="closure_lm_"+(1e6*Math.random()|0),qI={};function n1(n,e,t,r,o){if(r&&r.once)return i1(n,e,t,r,o);if(Array.isArray(e)){for(var l=0;l<e.length;l++)n1(n,e[l],t,r,o);return null}return t=Cm(t),n&&n[jp]?n.N(e,t,ni(r)?!!r.capture:!!r,o):r1(n,e,t,!1,r,o)}function r1(n,e,t,r,o,l){if(!e)throw Error("Invalid event type");var c=ni(o)?!!o.capture:!!o,p=ZI(n);if(p||(n[WI]=p=new d0(n)),(t=p.add(e,t,r,c,l)).proxy)return t;if(r=function Dm(){var e=KI;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)GI||(o=c),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(p0(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function i1(n,e,t,r,o){if(Array.isArray(e)){for(var l=0;l<e.length;l++)i1(n,e[l],t,r,o);return null}return t=Cm(t),n&&n[jp]?n.O(e,t,ni(r)?!!r.capture:!!r,o):r1(n,e,t,!0,r,o)}function h0(n,e,t,r,o){if(Array.isArray(e))for(var l=0;l<e.length;l++)h0(n,e[l],t,r,o);else r=ni(r)?!!r.capture:!!r,t=Cm(t),n&&n[jp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=zI(l=n.g[e],t,r,o))&&(c0(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=ZI(n))&&(e=n.g[e.toString()],n=-1,e&&(n=zI(e,t,r,o)),(t=-1<n?e[n]:null)&&rh(t))}function rh(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[jp])$I(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(p0(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=ZI(e))?($I(t,n),0==t.h&&(t.src=null,e[WI]=null)):c0(n)}}}function p0(n){return n in qI?qI[n]:qI[n]="on"+n}function KI(n,e){if(n.ca)n=!0;else{e=new nh(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&rh(n),n=t.call(r,e)}return n}function ZI(n){return(n=n[WI])instanceof d0?n:null}var Gp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cm(n){return"function"==typeof n?n:(n[Gp]||(n[Gp]=function(e){return n.handleEvent(e)}),n[Gp])}function hi(){Su.call(this),this.i=new d0(this),this.P=this,this.I=null}function Ci(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Di(e,n);else if(e instanceof Di)e.target=e.target||n;else{var o=e;VI(e=new Di(r,n),o)}if(o=!0,t)for(var l=t.length-1;0<=l;l--){var c=e.g=t[l];o=f0(c,r,!0,e)&&o}if(o=f0(c=e.g=n,r,!0,e)&&o,o=f0(c,r,!1,e)&&o,t)for(l=0;l<t.length;l++)o=f0(c=e.g=t[l],r,!1,e)&&o}function f0(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,l=0;l<e.length;++l){var c=e[l];if(c&&!c.ca&&c.capture==t){var p=c.listener,_=c.ia||c.src;c.fa&&$I(n.i,c),o=!1!==p.call(_,r)&&o}}return o&&!r.defaultPrevented}Or(hi,Su),hi.prototype[jp]=!0,hi.prototype.removeEventListener=function(n,e,t,r){h0(this,n,e,t,r)},hi.prototype.M=function(){if(hi.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)c0(t[r]);delete n.g[e],n.h--}}this.I=null},hi.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},hi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var YI=qt.JSON.stringify;function gx(){var n=eD;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var JI,Hp=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new s1,n=>n.reset());class s1{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function mx(n){qt.setTimeout(()=>{throw n},0)}function QI(n,e){JI||function a1(){var n=qt.Promise.resolve(void 0);JI=function(){n.then(yx)}}(),XI||(JI(),XI=!0),eD.add(n,e)}var XI=!1,eD=new class o1{constructor(){this.h=this.g=null}add(e,t){const r=Hp.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function yx(){for(var n;n=gx();){try{n.h.call(n.g)}catch(t){mx(t)}var e=Hp;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}XI=!1}function Am(n,e){hi.call(this),this.h=n||1,this.g=e||qt,this.j=di(this.kb,this),this.l=Date.now()}function $p(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function g0(n,e,t){if("function"==typeof n)t&&(n=di(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=di(n.handleEvent,n)}return 2147483647<Number(e)?-1:qt.setTimeout(n,e||0)}function Mo(n){n.g=g0(()=>{n.g=null,n.i&&(n.i=!1,Mo(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Or(Am,hi),(gt=Am.prototype).da=!1,gt.S=null,gt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ci(this,"tick"),this.da&&($p(this),this.start()))}},gt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},gt.M=function(){Am.Z.M.call(this),$p(this),delete this.g};class l1 extends Su{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Mo(this)}M(){super.M(),this.g&&(qt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sc(n){Su.call(this),this.h=n,this.g={}}Or(Sc,Su);var tD=[];function nD(n,e,t,r){Array.isArray(t)||(t&&(tD[0]=t.toString()),t=tD);for(var o=0;o<t.length;o++){var l=n1(e,t[o],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function Tm(n){r0(n.g,function(e,t){this.g.hasOwnProperty(t)&&rh(e)},n),n.g={}}function zp(){this.g=!0}function Mc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function c1(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var c=1;c<o.length;c++)o[c]=""}}}return YI(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Sc.prototype.M=function(){Sc.Z.M.call(this),Tm(this)},Sc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},zp.prototype.Aa=function(){this.g=!1},zp.prototype.info=function(){};var Mu={},oD=null;function ih(){return oD=oD||new hi}function $l(n){Di.call(this,Mu.Ma,n)}function oh(n){const e=ih();Ci(e,new $l(e,n))}function Sm(n,e){Di.call(this,Mu.STAT_EVENT,n),this.stat=e}function br(n){const e=ih();Ci(e,new Sm(e,n))}function sD(n,e){Di.call(this,Mu.Na,n),this.size=e}function Mm(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return qt.setTimeout(function(){n()},e)}Mu.Ma="serverreachability",Or($l,Di),Mu.STAT_EVENT="statevent",Or(Sm,Di),Mu.Na="timingevent",Or(sD,Di);var xm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},d1={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function m0(){}function y0(){}m0.prototype.h=null;var Pm,km={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Nm(){Di.call(this,"d")}function _0(){Di.call(this,"c")}function v0(){}function xc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Sc(this),this.P=lD,this.W=new Am(n=a0?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new b0}function b0(){this.i=null,this.g="",this.h=!1}Or(Nm,Di),Or(_0,Di),Or(v0,m0),v0.prototype.g=function(){return new XMLHttpRequest},v0.prototype.i=function(){return{}},Pm=new v0;var lD=45e3,w0={},Wp={};function Rm(n,e,t){n.K=1,n.v=ol(xu(e)),n.s=t,n.U=!0,Om(n,null)}function Om(n,e){n.F=Date.now(),sh(n),n.A=xu(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),gD(t.h,"t",r),n.C=0,t=n.l.H,n.h=new b0,n.g=Jm(n.l,t?e:null,!n.s),0<n.O&&(n.L=new l1(di(n.Ia,n,n.g),n.O)),nD(n.V,n.g,"readystatechange",n.gb),e=n.H?o0(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),oh(1),function rD(n,e,t,r,o,l){n.info(function(){if(n.g)if(l)for(var c="",p=l.split("&"),_=0;_<p.length;_++){var w=p[_].split("=");if(1<w.length){var S=w[0];w=w[1];var k=S.split("_");c=2<=k.length&&"type"==k[1]?c+(S+"=")+w+"&":c+(S+"=redacted&")}}else c=null;else c=l;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function qp(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function E0(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=h1(n,t),o==Wp){4==e&&(n.o=4,br(14),r=!1),Mc(n.j,n.m,null,"[Incomplete Response]");break}if(o==w0){n.o=4,br(15),Mc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Mc(n.j,n.m,o,null),uD(n,o)}qp(n)&&o!=Wp&&o!=w0&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,br(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Wl(e),e.L=!0,br(11))):(Mc(n.j,n.m,t,"[Invalid Chunked Response]"),ah(n),Kp(n))}function h1(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Wp:(t=Number(e.substring(t,r)),isNaN(t)?w0:(r+=1)+t>e.length?Wp:(e=e.substr(r,t),n.C=r+t,e))}function sh(n){n.Y=Date.now()+n.P,I0(n,n.P)}function I0(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Mm(di(n.eb,n),e)}function Fm(n){n.B&&(qt.clearTimeout(n.B),n.B=null)}function Kp(n){0==n.l.G||n.I||Km(n.l,n)}function ah(n){Fm(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,$p(n.W),Tm(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function uD(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Yp(t.i,n)))if(t.I=n.N,!n.J&&Yp(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;hh(t),le(t)}Yn(t),br(18)}}else t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=Mm(di(t.ab,t),6e3));if(1>=M0(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else ql(t,11)}else if((n.J||t.g==n)&&hh(t),!Xd(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let w=o[e];if(t.U=w[0],w=w[1],2==t.G)if("c"==w[0]){t.J=w[1],t.la=w[2];const S=w[3];null!=S&&(t.ma=S,t.h.info("VER="+t.ma));const k=w[4];null!=k&&(t.za=k,t.h.info("SVER="+t.za));const j=w[5];null!=j&&"number"==typeof j&&0<j&&(t.K=r=1.5*j,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const J=n.g;if(J){const se=J.g?J.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(se){var l=r.i;!l.g&&(Fi(se,"spdy")||Fi(se,"quic")||Fi(se,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(vD(l,l.h),l.h=null))}if(r.D){const Be=J.g?J.g.getResponseHeader("X-HTTP-Session-Id"):null;Be&&(r.sa=Be,hr(r.F,r.D,Be))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=Qm(r,r.H?r.la:null,r.W),c.J){x0(r.i,c);var p=c,_=r.K;_&&p.setTimeout(_),p.B&&(Fm(p),sh(p)),r.g=c}else yn(r);0<t.l.length&&rt(t)}else"stop"!=w[0]&&"close"!=w[0]||ql(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?ql(t,7):Q(t):"noop"!=w[0]&&t.j&&t.j.wa(w),t.A=0)}oh(4)}catch{}}function D0(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Yv(n)||"string"==typeof n)LI(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Yv(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function cD(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Yv(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var l=0;l<o;l++)e.call(void 0,r[l],t&&t[l],n)}}function lh(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof lh)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function C0(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];uh(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)uh(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function uh(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(gt=xc.prototype).setTimeout=function(n){this.P=n},gt.gb=function(n){n=n.target;const e=this.L;e&&3==y(n)?e.l():this.Ia(n)},gt.Ia=function(n){try{if(n==this.g)e:{const S=y(this.g);var e=this.g.Da();const k=this.g.ba();if(!(3>S)&&(3!=S||a0||this.g&&(this.h.h||this.g.ga()||b(this.g)))){this.I||4!=S||7==e||oh(8==e||0>=k?3:2),Fm(this);var t=this.g.ba();this.N=t;t:if(qp(this)){var r=b(this.g);n="";var o=r.length,l=4==y(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ah(this),Kp(this);var c="";break t}this.h.i=new qt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function u1(n,e,t,r,o,l,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+l+" "+c})}(this.j,this.u,this.A,this.m,this.X,S,t),this.i){if(this.$&&!this.J){t:{if(this.g){var p,_=this.g;if((p=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xd(p)){var w=p;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,br(12),ah(this),Kp(this);break e}Mc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,uD(this,t)}this.U?(E0(this,S,c),a0&&this.i&&3==S&&(nD(this.V,this.W,"tick",this.fb),this.W.start())):(Mc(this.j,this.m,c,null),uD(this,c)),4==S&&ah(this),this.i&&!this.I&&(4==S?Km(this.l,this):(this.i=!1,sh(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,br(12)):(this.o=0,br(13)),ah(this),Kp(this)}}}catch{}},gt.fb=function(){if(this.g){var n=y(this.g),e=this.g.ga();this.C<e.length&&(Fm(this),E0(this,n,e),this.i&&4!=n&&sh(this))}},gt.cancel=function(){this.I=!0,ah(this)},gt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function iD(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(oh(3),br(17)),ah(this),this.o=2,Kp(this)):I0(this,this.Y-n)},(gt=lh.prototype).R=function(){C0(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},gt.T=function(){return C0(this),this.g.concat()},gt.get=function(n,e){return uh(this.h,n)?this.h[n]:e},gt.set=function(n,e){uh(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},gt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],l=this.get(o);n.call(e,l,o,this)}};var p1=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ch(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof ch){this.g=void 0!==e?e:n.g,Lm(this,n.j),this.s=n.s,kc(this,n.i),Vm(this,n.m),this.l=n.l,e=n.h;var t=new jm;t.i=e.i,e.g&&(t.g=new lh(e.g),t.h=e.h),dD(this,t),this.o=n.o}else n&&(t=String(n).match(p1))?(this.g=!!e,Lm(this,t[1]||"",!0),this.s=Nc(t[2]||""),kc(this,t[3]||"",!0),Vm(this,t[4]),this.l=Nc(t[5]||"",!0),dD(this,t[6]||"",!0),this.o=Nc(t[7]||"")):(this.g=!!e,this.h=new jm(null,this.g))}function xu(n){return new ch(n)}function Lm(n,e,t){n.j=t?Nc(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function kc(n,e,t){n.i=t?Nc(e,!0):e}function Vm(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function dD(n,e,t){e instanceof jm?(n.h=e,function mD(n,e){e&&!n.j&&(zl(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(pD(this,r),gD(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Zp(e,bx)),n.h=new jm(e,n.g))}function hr(n,e,t){n.h.set(e,t)}function ol(n){return hr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Nc(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Zp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,T0),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function T0(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ch.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Zp(e,Bm,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Zp(e,Bm,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Zp(t,"/"==t.charAt(0)?vx:Um,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Zp(t,wx)),n.join("")};var Bm=/[#\/\?@]/g,Um=/[#\?:]/g,vx=/[#\?]/g,bx=/[#\?@]/g,wx=/#/g;function jm(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function zl(n){n.g||(n.g=new lh,n.h=0,n.i&&function _x(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var l=n[t].substring(0,r);o=n[t].substring(r+1)}else l=n[t];e(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function pD(n,e){zl(n),e=dh(n,e),uh(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,uh((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&C0(n)))}function fD(n,e){return zl(n),e=dh(n,e),uh(n.g.h,e)}function gD(n,e,t){pD(n,e),0<t.length&&(n.i=null,n.g.set(dh(n,e),e0(t)),n.h+=t.length)}function dh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function S0(n){this.l=n||f1,n=qt.PerformanceNavigationTiming?0<(n=qt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(qt.g&&qt.g.Ea&&qt.g.Ea()&&qt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(gt=jm.prototype).add=function(n,e){zl(this),this.i=null,n=dh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},gt.forEach=function(n,e){zl(this),this.g.forEach(function(t,r){LI(t,function(o){n.call(e,o,r,this)},this)},this)},gt.T=function(){zl(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],l=0;l<o.length;l++)t.push(e[r]);return t},gt.R=function(n){zl(this);var e=[];if("string"==typeof n)fD(this,n)&&(e=Jd(e,this.g.get(dh(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Jd(e,n[t])}return e},gt.set=function(n,e){return zl(this),this.i=null,fD(this,n=dh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},gt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},gt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var c=o;""!==r[l]&&(c+="="+encodeURIComponent(String(r[l]))),n.push(c)}}return this.i=n.join("&")};var f1=10;function _D(n){return!!n.h||!!n.g&&n.g.size>=n.j}function M0(n){return n.h?1:n.g?n.g.size:0}function Yp(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function vD(n,e){n.g?n.g.add(e):n.h=e}function x0(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Gm(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return e0(n.i)}function k0(){}function g1(){this.g=new k0}function Ex(n,e,t){const r=t||"";try{D0(n,function(o,l){let c=o;ni(o)&&(c=YI(o)),e.push(r+l+"="+encodeURIComponent(c))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Hm(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function Qp(n){this.l=n.$b||null,this.j=n.ib||!1}function $m(n,e){hi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=bD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}S0.prototype.cancel=function(){if(this.i=Gm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},k0.prototype.stringify=function(n){return qt.JSON.stringify(n,void 0)},k0.prototype.parse=function(n){return qt.JSON.parse(n,void 0)},Or(Qp,m0),Qp.prototype.g=function(){return new $m(this.l,this.j)},Qp.prototype.i=function(n){return function(){return n}}({}),Or($m,hi);var bD=0;function m1(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function zm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Wm(n)}function Wm(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(gt=$m.prototype).open=function(n,e){if(this.readyState!=bD)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Wm(this)},gt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||qt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},gt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,zm(this)),this.readyState=bD},gt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Wm(this)),this.g&&(this.readyState=3,Wm(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof qt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;m1(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},gt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?zm(this):Wm(this),3==this.readyState&&m1(this)}},gt.Ua=function(n){this.g&&(this.response=this.responseText=n,zm(this))},gt.Ta=function(n){this.g&&(this.response=n,zm(this))},gt.ha=function(){this.g&&zm(this)},gt.setRequestHeader=function(n,e){this.v.append(n,e)},gt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},gt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty($m.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Dx=qt.JSON.parse;function Zr(n){hi.call(this),this.headers=new lh,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=y1,this.K=this.L=!1}Or(Zr,hi);var y1="",Cx=/^https?$/i,Ax=["POST","PUT"];function i(n){return"content-type"==n.toLowerCase()}function s(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,a(n),d(n)}function a(n){n.D||(n.D=!0,Ci(n,"complete"),Ci(n,"error"))}function u(n){if(n.h&&typeof vm<"u"&&(!n.C[1]||4!=y(n)||2!=n.ba()))if(n.v&&4==y(n))g0(n.Fa,0,n);else if(Ci(n,"readystatechange"),4==y(n)){n.h=!1;try{const p=n.ba();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var o=String(n.H).match(p1)[1]||null;if(!o&&qt.self&&qt.self.location){var l=qt.self.location.protocol;o=l.substr(0,l.length-1)}r=!Cx.test(o?o.toLowerCase():"")}t=r}if(t)Ci(n,"complete"),Ci(n,"success");else{n.m=6;try{var c=2<y(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.ba()+"]",a(n)}}finally{d(n)}}}function d(n,e){if(n.g){h(n);const t=n.g,r=n.C[0]?Vp:null;n.g=null,n.C=null,e||Ci(n,"ready");try{t.onreadystatechange=r}catch{}}}function h(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(qt.clearTimeout(n.A),n.A=null)}function y(n){return n.g?n.g.readyState:0}function b(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case y1:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function M(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function C(n){let e="";return r0(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):hr(n,e,t))}function R(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function U(n){this.za=0,this.l=[],this.h=new zp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=R("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=R("baseRetryDelayMs",5e3,n),this.$a=R("retryDelaySeedMs",1e4,n),this.Ya=R("forwardChannelMaxRetries",2,n),this.ra=R("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new S0(n&&n.concurrentRequestLimit),this.Ca=new g1,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Q(n){if(Me(n),3==n.G){var e=n.V++,t=xu(n.F);hr(t,"SID",n.J),hr(t,"RID",e),hr(t,"TYPE","terminate"),Ue(n,t),(e=new xc(n,n.h,e,void 0)).K=2,e.v=ol(xu(t)),t=!1,qt.navigator&&qt.navigator.sendBeacon&&(t=qt.navigator.sendBeacon(e.v.toString(),"")),!t&&qt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Jm(e.l,null),e.g.ea(e.v)),e.F=Date.now(),sh(e)}Ym(n)}function le(n){n.g&&(Wl(n),n.g.cancel(),n.g=null)}function Me(n){le(n),n.u&&(qt.clearTimeout(n.u),n.u=null),hh(n),n.i.cancel(),n.m&&("number"==typeof n.m&&qt.clearTimeout(n.m),n.m=null)}function We(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&rt(n)}function rt(n){_D(n.i)||n.m||(n.m=!0,QI(n.Ha,n),n.C=0)}function xt(n,e){var t;t=e?e.m:n.V++;const r=xu(n.F);hr(r,"SID",n.J),hr(r,"RID",t),hr(r,"AID",n.U),Ue(n,r),n.o&&n.s&&M(r,n.o,n.s),t=new xc(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Ct(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),vD(n.i,t),Rm(t,r,e)}function Ue(n,e){n.j&&D0({},function(t,r){hr(e,r,t)})}function Ct(n,e,t){t=Math.min(n.l.length,t);var r=n.j?di(n.j.Oa,n.j,n):null;e:{var o=n.l;let l=-1;for(;;){const c=["count="+t];-1==l?0<t?(l=o[0].h,c.push("ofs="+l)):l=0:c.push("ofs="+l);let p=!0;for(let _=0;_<t;_++){let w=o[_].h;const S=o[_].g;if(w-=l,0>w)l=Math.max(0,o[_].h-100),p=!1;else try{Ex(S,c,"req"+w+"_")}catch{r&&r(S)}}if(p){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function yn(n){n.g||n.u||(n.Y=1,QI(n.Ga,n),n.A=0)}function Yn(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Mm(di(n.Ga,n),Zm(n,n.A)),n.A++,0))}function Wl(n){null!=n.B&&(qt.clearTimeout(n.B),n.B=null)}function qm(n){n.g=new xc(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=xu(n.oa);hr(e,"RID","rpc"),hr(e,"SID",n.J),hr(e,"CI",n.N?"0":"1"),hr(e,"AID",n.U),Ue(n,e),hr(e,"TYPE","xmlhttp"),n.o&&n.s&&M(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=ol(xu(e)),t.s=null,t.U=!0,Om(t,n)}function hh(n){null!=n.v&&(qt.clearTimeout(n.v),n.v=null)}function Km(n,e){var t=null;if(n.g==e){hh(n),Wl(n),n.g=null;var r=2}else{if(!Yp(n.i,e))return;t=e.D,x0(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;Ci(r=ih(),new sD(r,t,e,o)),rt(n)}else yn(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function ft(n,e){return!(M0(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Mm(di(n.Ha,n,e),Zm(n,n.C)),n.C++,0)))}(n,e)||2==r&&Yn(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:ql(n,5);break;case 4:ql(n,10);break;case 3:ql(n,6);break;default:ql(n,2)}}function Zm(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function ql(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=di(n.jb,n);t||(t=new ch("//www.google.com/images/cleardot.gif"),qt.location&&"http"==qt.location.protocol||Lm(t,"https"),ol(t)),function Ix(n,e){const t=new zp;if(qt.Image){const r=new Image;r.onload=Bp(Hm,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Bp(Hm,t,r,"TestLoadImage: error",!1,e),r.onabort=Bp(Hm,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Bp(Hm,t,r,"TestLoadImage: timeout",!1,e),qt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else br(2);n.G=0,n.j&&n.j.va(e),Ym(n),Me(n)}function Ym(n){n.G=0,n.I=-1,n.j&&((0!=Gm(n.i).length||0!=n.l.length)&&(n.i.i.length=0,e0(n.l),n.l.length=0),n.j.ua())}function Qm(n,e,t){let r=function hD(n){return n instanceof ch?xu(n):new ch(n,void 0)}(t);if(""!=r.i)e&&kc(r,e+"."+r.i),Vm(r,r.m);else{const o=qt.location;r=function A0(n,e,t,r){var o=new ch(null,void 0);return n&&Lm(o,n),e&&kc(o,e),t&&Vm(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&r0(n.aa,function(o,l){hr(r,l,o)}),t=n.sa,(e=n.D)&&t&&hr(r,e,t),hr(r,"VER",n.ma),Ue(n,r),r}function Jm(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Zr(t&&n.Ba&&!n.qa?new Qp({ib:!0}):n.qa)).L=n.H,e}function Xm(){}function wD(){if(th&&!(10<=Number(jI)))throw Error("Environmental error: no available transport.")}function Ta(n,e){hi.call(this),this.g=new U(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Xd(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Xd(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ey(this)}function Sx(n){Nm.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Mx(){_0.call(this),this.status=1}function ey(n){this.g=n}(gt=Zr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Pm.g(),this.C=function aD(n){return n.h||(n.h=n.i())}(this.u?this.u:Pm),this.g.onreadystatechange=di(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void s(this,l)}n=t||"";const o=new lh(this.headers);r&&D0(r,function(l,c){o.set(c,l)}),r=function ZT(n){e:{var e=i;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=qt.FormData&&n instanceof qt.FormData,!(0<=Xv(Ax,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(l,c){this.g.setRequestHeader(c,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{h(this),0<this.B&&((this.K=function Tx(n){return th&&function e1(){return function s0(n){var e=XT;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=t0(String(Up)).split("."),t=t0("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var o=e[c]||"",l=t[c]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==o[0].length&&0==l[0].length)break;n=eh(0==o[1].length?0:parseInt(o[1],10),0==l[1].length?0:parseInt(l[1],10))||eh(0==o[2].length,0==l[2].length)||eh(o[2],l[2]),o=o[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=di(this.pa,this)):this.A=g0(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){s(this,l)}},gt.pa=function(){typeof vm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ci(this,"timeout"),this.abort(8))},gt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ci(this,"complete"),Ci(this,"abort"),d(this))},gt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),d(this,!0)),Zr.Z.M.call(this)},gt.Fa=function(){this.s||(this.F||this.v||this.l?u(this):this.cb())},gt.cb=function(){u(this)},gt.ba=function(){try{return 2<y(this)?this.g.status:-1}catch{return-1}},gt.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},gt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Dx(e)}},gt.Da=function(){return this.m},gt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(gt=U.prototype).ma=8,gt.G=1,gt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},gt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new xc(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=o0(l),VI(l,this.P)):l=this.P),null===this.o&&(o.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ct(this,o,e),hr(t=xu(this.F),"RID",n),hr(t,"CVER",22),this.D&&hr(t,"X-HTTP-Session-Id",this.D),Ue(this,t),this.o&&l&&M(t,this.o,l),vD(this.i,o),this.Ra&&hr(t,"TYPE","init"),this.ja?(hr(t,"$req",e),hr(t,"SID","null"),o.$=!0,Rm(o,t,null)):Rm(o,t,e),this.G=2}}else 3==this.G&&(n?xt(this,n):0==this.l.length||_D(this.i)||xt(this))},gt.Ga=function(){if(this.u=null,qm(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Mm(di(this.bb,this),n)}},gt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,br(10),le(this),qm(this))},gt.ab=function(){null!=this.v&&(this.v=null,le(this),Yn(this),br(19))},gt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),br(2)):(this.h.info("Failed to ping google.com"),br(1))},(gt=Xm.prototype).xa=function(){},gt.wa=function(){},gt.va=function(){},gt.ua=function(){},gt.Oa=function(){},wD.prototype.g=function(n,e){return new Ta(n,e)},Or(Ta,hi),Ta.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),QI(di(n.hb,n,e))),br(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Qm(n,null,n.W),rt(n)},Ta.prototype.close=function(){Q(this.g)},Ta.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,We(this.g,e)}else this.v?((e={}).__data__=YI(n),We(this.g,e)):We(this.g,n)},Ta.prototype.M=function(){this.g.j=null,delete this.j,Q(this.g),delete this.g,Ta.Z.M.call(this)},Or(Sx,Nm),Or(Mx,_0),Or(ey,Xm),ey.prototype.xa=function(){Ci(this.g,"a")},ey.prototype.wa=function(n){Ci(this.g,new Sx(n))},ey.prototype.va=function(n){Ci(this.g,new Mx(n))},ey.prototype.ua=function(){Ci(this.g,"b")},wD.prototype.createWebChannel=wD.prototype.g,Ta.prototype.send=Ta.prototype.u,Ta.prototype.open=Ta.prototype.m,Ta.prototype.close=Ta.prototype.close,xm.NO_ERROR=0,xm.TIMEOUT=8,xm.HTTP_ERROR=6,d1.COMPLETE="complete",y0.EventType=km,km.OPEN="a",km.CLOSE="b",km.ERROR="c",km.MESSAGE="d",hi.prototype.listen=hi.prototype.N,Zr.prototype.listenOnce=Zr.prototype.O,Zr.prototype.getLastError=Zr.prototype.La,Zr.prototype.getLastErrorCode=Zr.prototype.Da,Zr.prototype.getStatus=Zr.prototype.ba,Zr.prototype.getResponseJson=Zr.prototype.Qa,Zr.prototype.getResponseText=Zr.prototype.ga,Zr.prototype.send=Zr.prototype.ea;var lP=Hl.createWebChannelTransport=function(){return new wD},uP=Hl.getStatEventTarget=function(){return ih()},_1=Hl.ErrorCode=xm,cP=Hl.EventType=d1,dP=Hl.Event=Mu,xx=Hl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},hP=Hl.FetchXmlHttpFactory=Qp,ED=Hl.WebChannel=y0,pP=Hl.XhrIo=Zr;const kx="@firebase/firestore";class Li{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Li.UNAUTHENTICATED=new Li(null),Li.GOOGLE_CREDENTIALS=new Li("google-credentials-uid"),Li.FIRST_PARTY=new Li("first-party-uid"),Li.MOCK_USER=new Li("mock-user");let ty="9.8.4";const ph=new Ts.Yd("@firebase/firestore");function v1(){return ph.logLevel}function Qe(n,...e){if(ph.logLevel<=Ts.in.DEBUG){const t=e.map(b1);ph.debug(`Firestore (${ty}): ${n}`,...t)}}function pi(n,...e){if(ph.logLevel<=Ts.in.ERROR){const t=e.map(b1);ph.error(`Firestore (${ty}): ${n}`,...t)}}function N0(n,...e){if(ph.logLevel<=Ts.in.WARN){const t=e.map(b1);ph.warn(`Firestore (${ty}): ${n}`,...t)}}function b1(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function mt(n="Unexpected state"){const e=`FIRESTORE (${ty}) INTERNAL ASSERTION FAILED: `+n;throw pi(e),new Error(e)}function Ht(n,e){n||mt()}function ct(n,e){return n}const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends F.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Nx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Li.UNAUTHENTICATED))}shutdown(){}}class yP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class _P{constructor(e){this.t=e,this.currentUser=Li.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const l=w=>this.i!==o?(o=this.i,t(w)):Promise.resolve();let c=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Vi,e.enqueueRetryable(()=>l(this.currentUser))};const p=()=>{const w=c;e.enqueueRetryable((0,Se.Z)(function*(){yield w.promise,yield l(r.currentUser)}))},_=w=>{Qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(Qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Vi)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ht("string"==typeof r.accessToken),new Nx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ht(null===e||"string"==typeof e),new Li(e)}}class vP{constructor(e,t,r){this.type="FirstParty",this.user=Li.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class bP{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new vP(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Li.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Px{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wP{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=l=>{null!=l.error&&Qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.p;return this.p=l.token,Qe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const o=l=>{Qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?o(l):Qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ht("string"==typeof t.token),this.p=t.token,new Px(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function EP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Rx{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=EP(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+=e.charAt(o[l]%e.length))}return r}}function an(n,e){return n<e?-1:n>e?1:0}function ny(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function Ox(n){return n+"\0"}class Ar{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $e(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $e(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new $e(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ar.fromMillis(Date.now())}static fromDate(e){return Ar.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ar(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?an(this.nanoseconds,e.nanoseconds):an(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class jt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new jt(e)}static min(){return new jt(new Ar(0,0))}static max(){return new jt(new Ar(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class P0{constructor(e,t,r){void 0===t?t=0:t>e.length&&mt(),void 0===r?r=e.length-t:r>e.length-t&&mt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===P0.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof P0?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=e.get(o),c=t.get(o);if(l<c)return-1;if(l>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Sn extends P0{construct(e,t,r){return new Sn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new $e(Ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Sn(t)}static emptyPath(){return new Sn([])}}const IP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ri extends P0{construct(e,t,r){return new ri(e,t,r)}static isValidIdentifier(e){return IP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ri.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ri(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(0===r.length)throw new $e(Ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;o<e.length;){const p=e[o];if("\\"===p){if(o+1===e.length)throw new $e(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new $e(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,o+=2}else"`"===p?(c=!c,o++):"."!==p||c?(r+=p,o++):(l(),o++)}if(l(),c)throw new $e(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ri(t)}static emptyPath(){return new ri([])}}class lt{constructor(e){this.path=e}static fromPath(e){return new lt(Sn.fromString(e))}static fromName(e){return new lt(Sn.fromString(e).popFirst(5))}static empty(){return new lt(Sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Sn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Sn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new lt(new Sn(e.slice()))}}class ID{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function w1(n){return n.fields.find(e=>2===e.kind)}function Jp(n){return n.fields.filter(e=>2!==e.kind)}ID.UNKNOWN_ID=-1;class DD{constructor(e,t){this.fieldPath=e,this.kind=t}}class R0{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new R0(0,Sa.min())}}function Fx(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=jt.fromTimestamp(1e9===r?new Ar(t+1,0):new Ar(t,r));return new Sa(o,lt.empty(),e)}function Lx(n){return new Sa(n.readTime,n.key,-1)}class Sa{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Sa(jt.min(),lt.empty(),-1)}static max(){return new Sa(jt.max(),lt.empty(),-1)}}function E1(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=lt.comparator(n.documentKey,e.documentKey),0!==t?t:an(n.largestBatchId,e.largestBatchId))}const Vx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function fh(n){return I1.apply(this,arguments)}function I1(){return I1=(0,Se.Z)(function*(n){if(n.code!==Ee.FAILED_PRECONDITION||n.message!==Vx)throw n;Qe("LocalStore","Unexpectedly lost primary lease")}),I1.apply(this,arguments)}class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ye((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ye?t:ye.resolve(t)}catch(t){return ye.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ye.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ye.reject(t)}static resolve(e){return new ye((t,r)=>{t(e)})}static reject(e){return new ye((t,r)=>{r(e)})}static waitFor(e){return new ye((t,r)=>{let o=0,l=0,c=!1;e.forEach(p=>{++o,p.next(()=>{++l,c&&l===o&&t()},_=>r(_))}),c=!0,l===o&&t()})}static or(e){let t=ye.resolve(!1);for(const r of e)t=t.next(o=>o?ye.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,l)=>{r.push(t.call(this,o,l))}),this.waitFor(r)}static mapArray(e,t){return new ye((r,o)=>{const l=e.length,c=new Array(l);let p=0;for(let _=0;_<l;_++){const w=_;t(e[w]).next(S=>{c[w]=S,++p,p===l&&r(c)},S=>o(S))}})}static doWhile(e,t){return new ye((r,o)=>{const l=()=>{!0===e()?t().next(()=>{l()},o):r()};l()})}}class CD{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new Vi,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new O0(e,t.error)):this.T.resolve()},this.transaction.onerror=r=>{const o=D1(r.target.error);this.T.reject(new O0(e,o))}}static open(e,t,r,o){try{return new CD(t,e.transaction(o,r))}catch(l){throw new O0(t,l)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(Qe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new CP(t)}}class Kl{constructor(e,t,r){this.name=e,this.version=t,this.P=r,12.2===Kl.v((0,F.z$)())&&pi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Qe("SimpleDb","Removing database:",e),Xp(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,F.hl)())return!1;if(Kl.S())return!0;const e=(0,F.z$)(),t=Kl.v(e),r=0<t&&t<10,o=Kl.D(e),l=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static S(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static D(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}k(e){var t=this;return(0,Se.Z)(function*(){return t.db||(Qe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=c=>{r(c.target.result)},l.onblocked=()=>{o(new O0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=c=>{const p=c.target.error;o("VersionError"===p.name?new $e(Ee.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new $e(Ee.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new O0(e,p))},l.onupgradeneeded=c=>{Qe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.P.O(c.target.result,l.transaction,c.oldVersion,t.version).next(()=>{Qe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.M&&(t.db.onversionchange=r=>t.M(r)),t.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var l=this;return(0,Se.Z)(function*(){const c="readonly"===t;let p=0;for(;;){++p;try{l.db=yield l.k(e);const _=CD.open(l.db,e,c?"readonly":"readwrite",r),w=o(_).next(S=>(_.R(),S)).catch(S=>(_.abort(S),ye.reject(S))).toPromise();return w.catch(()=>{}),yield _.A,w}catch(_){const w=_,S="FirebaseError"!==w.name&&p<3;if(Qe("SimpleDb","Transaction failed with error:",w.message,"Retrying:",S),l.close(),!S)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class DP{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return Xp(this.$.delete())}}class O0 extends $e{constructor(e,t){super(Ee.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function gh(n){return"IndexedDbTransactionError"===n.name}class CP{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Qe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Qe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Xp(r)}add(e){return Qe("SimpleDb","ADD",this.store.name,e,e),Xp(this.store.add(e))}get(e){return Xp(this.store.get(e)).next(t=>(void 0===t&&(t=null),Qe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Qe("SimpleDb","DELETE",this.store.name,e),Xp(this.store.delete(e))}count(){return Qe("SimpleDb","COUNT",this.store.name),Xp(this.store.count())}K(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),l=[];return this.G(o,(c,p)=>{l.push(p)}).next(()=>l)}{const o=this.store.getAll(r.range);return new ye((l,c)=>{o.onerror=p=>{c(p.target.error)},o.onsuccess=p=>{l(p.target.result)}})}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ye((o,l)=>{r.onerror=c=>{l(c.target.error)},r.onsuccess=c=>{o(c.target.result)}})}W(e,t){Qe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const o=this.cursor(r);return this.G(o,(l,c,p)=>p.delete())}J(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.G(o,t)}Y(e){const t=this.cursor({});return new ye((r,o)=>{t.onerror=l=>{const c=D1(l.target.error);o(c)},t.onsuccess=l=>{const c=l.target.result;c?e(c.primaryKey,c.value).next(p=>{p?c.continue():r()}):r()}})}G(e,t){const r=[];return new ye((o,l)=>{e.onerror=c=>{l(c.target.error)},e.onsuccess=c=>{const p=c.target.result;if(!p)return void o();const _=new DP(p),w=t(p.primaryKey,p.value,_);if(w instanceof ye){const S=w.catch(k=>(_.done(),ye.reject(k)));r.push(S)}_.isDone?o():null===_.U?p.continue():p.continue(_.U)}}).next(()=>ye.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Xp(n){return new ye((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=D1(r.target.error);t(o)}})}let Ux=!1;function D1(n){const e=Kl.v((0,F.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new $e("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ux||(Ux=!0,setTimeout(()=>{throw r},0)),r}}return n}class AP{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;Qe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Se.Z)(function*(){t.task=null;try{Qe("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(r){gh(r)?Qe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield fh(r)}yield t.Z(1)}))}}class TP{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,Se.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.et(r,e))})()}et(e,t){const r=new Set;let o=t,l=!0;return ye.doWhile(()=>!0===l&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return Qe("IndexBackiller",`Processing collection: ${c}`),this.nt(e,c,o).next(p=>{o-=p,r.add(c)});l=!1})).next(()=>t-o)}nt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.st(o,l)).next(p=>(Qe("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(e,t,p))).next(()=>c.size)}))}st(e,t){let r=e;return t.changes.forEach((o,l)=>{const c=Lx(l);E1(c,r)>0&&(r=c)}),new Sa(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Os{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.it(r),this.rt=r=>t.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function jx(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ef(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Gx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Os.ot=-1;class Yr{constructor(e,t){this.comparator=e,this.root=t||io.EMPTY}insert(e,t){return new Yr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,io.BLACK,null,null))}remove(e){return new Yr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,io.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new AD(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new AD(this.root,e,this.comparator,!1)}getReverseIterator(){return new AD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new AD(this.root,e,this.comparator,!0)}}class AD{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class io{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=r??io.RED,this.left=o??io.EMPTY,this.right=l??io.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new io(e??this.key,t??this.value,r??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===l?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return io.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return io.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,io.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,io.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const e=this.left.check();if(e!==this.right.check())throw mt();return e+(this.isRed()?0:1)}}io.EMPTY=null,io.RED=!0,io.BLACK=!1,io.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(n,e,t,r,o){return this}insert(n,e,t){return new io(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class er{constructor(e){this.comparator=e,this.data=new Yr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Hx(this.data.getIterator())}getIteratorFrom(e){return new Hx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof er)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(o,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new er(this.comparator);return t.data=e,t}}class Hx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ry(n){return n.hasNext()?n.getNext():void 0}class Ma{constructor(e){this.fields=e,e.sort(ri.comparator)}static empty(){return new Ma([])}unionWith(e){let t=new er(ri.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ma(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ny(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Ai{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ai(t)}static fromUint8Array(e){const t=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new Ai(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return an(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ai.EMPTY_BYTE_STRING=new Ai("");const MP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mh(n){if(Ht(!!n),"string"==typeof n){let e=0;const t=MP.exec(n);if(Ht(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qr(n.seconds),nanos:Qr(n.nanos)}}function Qr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function tf(n){return"string"==typeof n?Ai.fromBase64String(n):Ai.fromUint8Array(n)}function C1(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function $x(n){const e=n.mapValue.fields.__previous_value__;return C1(e)?$x(e):e}function F0(n){const e=mh(n.mapValue.fields.__local_write_time__.timestampValue);return new Ar(e.seconds,e.nanos)}class xP{constructor(e,t,r,o,l,c,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.useFetchStreams=_}}class Pc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Pc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Pc&&e.projectId===this.projectId&&e.database===this.database}}function L0(n){return null==n}function V0(n){return 0===n&&1/n==-1/0}function zx(n){return"number"==typeof n&&Number.isInteger(n)&&!V0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const yh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},TD={nullValue:"NULL_VALUE"};function nf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?C1(n)?4:Zx(n)?9007199254740991:10:mt()}function ku(n,e){if(n===e)return!0;const t=nf(n);if(t!==nf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return F0(n).isEqual(F0(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=mh(r.timestampValue),c=mh(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,tf(n.bytesValue).isEqual(tf(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Qr(r.geoPointValue.latitude)===Qr(o.geoPointValue.latitude)&&Qr(r.geoPointValue.longitude)===Qr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Qr(r.integerValue)===Qr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=Qr(r.doubleValue),c=Qr(o.doubleValue);return l===c?V0(l)===V0(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return ny(n.arrayValue.values||[],e.arrayValue.values||[],ku);case 10:return function(r,o){const l=r.mapValue.fields||{},c=o.mapValue.fields||{};if(jx(l)!==jx(c))return!1;for(const p in l)if(l.hasOwnProperty(p)&&(void 0===c[p]||!ku(l[p],c[p])))return!1;return!0}(n,e);default:return mt()}var o}function B0(n,e){return void 0!==(n.values||[]).find(t=>ku(t,e))}function _h(n,e){if(n===e)return 0;const t=nf(n),r=nf(e);if(t!==r)return an(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return an(n.booleanValue,e.booleanValue);case 2:return function(o,l){const c=Qr(o.integerValue||o.doubleValue),p=Qr(l.integerValue||l.doubleValue);return c<p?-1:c>p?1:c===p?0:isNaN(c)?isNaN(p)?0:-1:1}(n,e);case 3:return Wx(n.timestampValue,e.timestampValue);case 4:return Wx(F0(n),F0(e));case 5:return an(n.stringValue,e.stringValue);case 6:return function(o,l){const c=tf(o),p=tf(l);return c.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),p=l.split("/");for(let _=0;_<c.length&&_<p.length;_++){const w=an(c[_],p[_]);if(0!==w)return w}return an(c.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const c=an(Qr(o.latitude),Qr(l.latitude));return 0!==c?c:an(Qr(o.longitude),Qr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,l){const c=o.values||[],p=l.values||[];for(let _=0;_<c.length&&_<p.length;++_){const w=_h(c[_],p[_]);if(w)return w}return an(c.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,l){if(o===yh.mapValue&&l===yh.mapValue)return 0;if(o===yh.mapValue)return 1;if(l===yh.mapValue)return-1;const c=o.fields||{},p=Object.keys(c),_=l.fields||{},w=Object.keys(_);p.sort(),w.sort();for(let S=0;S<p.length&&S<w.length;++S){const k=an(p[S],w[S]);if(0!==k)return k;const j=_h(c[p[S]],_[w[S]]);if(0!==j)return j}return an(p.length,w.length)}(n.mapValue,e.mapValue);default:throw mt()}}function Wx(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return an(n,e);const t=mh(n),r=mh(e),o=an(t.seconds,r.seconds);return 0!==o?o:an(t.nanos,r.nanos)}function iy(n){return A1(n)}function A1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=mh(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?tf(n.bytesValue).toBase64():"referenceValue"in n?lt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",l=!0;for(const c of r.values||[])l?l=!1:o+=",",o+=A1(c);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",c=!0;for(const p of o)c?c=!1:l+=",",l+=`${p}:${A1(r.fields[p])}`;return l+"}"}(n.mapValue):mt();var e}function rf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function T1(n){return!!n&&"integerValue"in n}function U0(n){return!!n&&"arrayValue"in n}function qx(n){return!!n&&"nullValue"in n}function Kx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function SD(n){return!!n&&"mapValue"in n}function j0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ef(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=j0(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=j0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Zx(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function kP(n){return"nullValue"in n?TD:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?rf(Pc.empty(),lt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:mt()}function NP(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?rf(Pc.empty(),lt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?yh:mt()}function Yx(n,e){const t=_h(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Qx(n,e){const t=_h(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class oo{constructor(e){this.value=e}static empty(){return new oo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!SD(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=j0(t)}setAll(e){let t=ri.emptyPath(),r={},o=[];e.forEach((c,p)=>{if(!t.isImmediateParentOf(p)){const _=this.getFieldsMap(t);this.applyChanges(_,r,o),r={},o=[],t=p.popLast()}c?r[p.lastSegment()]=j0(c):o.push(p.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());SD(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ku(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];SD(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){ef(t,(o,l)=>e[o]=l);for(const o of r)delete e[o]}clone(){return new oo(j0(this.value))}}function Jx(n){const e=[];return ef(n.fields,(t,r)=>{const o=new ri([t]);if(SD(r)){const l=Jx(r.mapValue).fields;if(0===l.length)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new Ma(e)}class fr{constructor(e,t,r,o,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new fr(e,0,jt.min(),jt.min(),oo.empty(),0)}static newFoundDocument(e,t,r){return new fr(e,1,t,jt.min(),r,0)}static newNoDocument(e,t){return new fr(e,2,t,jt.min(),oo.empty(),0)}static newUnknownDocument(e,t){return new fr(e,3,t,jt.min(),oo.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof fr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class PP{constructor(e,t=null,r=[],o=[],l=null,c=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=c,this.endAt=p,this.ut=null}}function Xx(n,e=null,t=[],r=[],o=null,l=null,c=null){return new PP(n,e,t,r,o,l,c)}function of(n){const e=ct(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+iy(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),L0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>iy(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>iy(r)).join(",")),e.ut=t}return e.ut}function G0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!GP(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!ku(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!i2(n.startAt,e.startAt)&&i2(n.endAt,e.endAt)}function MD(n){return lt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function xD(n,e){return n.filters.filter(t=>t instanceof so&&t.field.isEqual(e))}function e2(n,e,t){let r=TD,o=!0;for(const l of xD(n,e)){let c=TD,p=!0;switch(l.op){case"<":case"<=":c=kP(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,p=!1;break;case"!=":case"not-in":c=TD}Yx({value:r,inclusive:o},{value:c,inclusive:p})<0&&(r=c,o=p)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const c=t.position[l];Yx({value:r,inclusive:o},{value:c,inclusive:t.inclusive})<0&&(r=c,o=t.inclusive);break}return{value:r,inclusive:o}}function t2(n,e,t){let r=yh,o=!0;for(const l of xD(n,e)){let c=yh,p=!0;switch(l.op){case">=":case">":c=NP(l.value),p=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,p=!1;break;case"!=":case"not-in":c=yh}Qx({value:r,inclusive:o},{value:c,inclusive:p})>0&&(r=c,o=p)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const c=t.position[l];Qx({value:r,inclusive:o},{value:c,inclusive:t.inclusive})>0&&(r=c,o=t.inclusive);break}return{value:r,inclusive:o}}class so extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new OP(e,t,r):"array-contains"===t?new VP(e,r):"in"===t?new BP(e,r):"not-in"===t?new UP(e,r):"array-contains-any"===t?new jP(e,r):new so(e,t,r)}static ct(e,t,r){return"in"===t?new FP(e,r):new LP(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(_h(t,this.value)):null!==t&&nf(this.value)===nf(t)&&this.at(_h(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return mt()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class OP extends so{constructor(e,t,r){super(e,t,r),this.key=lt.fromName(r.referenceValue)}matches(e){const t=lt.comparator(e.key,this.key);return this.at(t)}}class FP extends so{constructor(e,t){super(e,"in",t),this.keys=n2(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class LP extends so{constructor(e,t){super(e,"not-in",t),this.keys=n2(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function n2(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>lt.fromName(r.referenceValue))}class VP extends so{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return U0(t)&&B0(t.arrayValue,this.value)}}class BP extends so{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&B0(this.value.arrayValue,t)}}class UP extends so{constructor(e,t){super(e,"not-in",t)}matches(e){if(B0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!B0(this.value.arrayValue,t)}}class jP extends so{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!U0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>B0(this.value.arrayValue,r))}}class vh{constructor(e,t){this.position=e,this.inclusive=t}}class oy{constructor(e,t="asc"){this.field=e,this.dir=t}}function GP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function r2(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(r=l.field.isKeyField()?lt.comparator(lt.fromName(c.referenceValue),t.key):_h(c,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function i2(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ku(n.position[t],e.position[t]))return!1;return!0}class Rc{constructor(e,t=null,r=[],o=[],l=null,c="F",p=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=c,this.startAt=p,this.endAt=_,this.lt=null,this.ft=null}}function o2(n,e,t,r,o,l,c,p){return new Rc(n,e,t,r,o,l,c,p)}function sy(n){return new Rc(n)}function S1(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function M1(n){for(const e of n.filters)if(e.ht())return e.field;return null}function x1(n){return null!==n.collectionGroup}function ay(n){const e=ct(n);if(null===e.lt){e.lt=[];const t=M1(e),r=S1(e);if(null!==t&&null===r)t.isKeyField()||e.lt.push(new oy(t)),e.lt.push(new oy(ri.keyField(),"asc"));else{let o=!1;for(const l of e.explicitOrderBy)e.lt.push(l),l.field.isKeyField()&&(o=!0);if(!o){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new oy(ri.keyField(),l))}}}return e.lt}function sl(n){const e=ct(n);if(!e.ft)if("F"===e.limitType)e.ft=Xx(e.path,e.collectionGroup,ay(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of ay(e))t.push(new oy(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new vh(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new vh(e.startAt.position,e.startAt.inclusive):null;e.ft=Xx(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.ft}function s2(n,e,t){return new Rc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function H0(n,e){return G0(sl(n),sl(e))&&n.limitType===e.limitType}function a2(n){return`${of(sl(n))}|lt:${n.limitType}`}function k1(n){return`Query(target=${function RP(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${iy(r.value)}`;var r}).join(", ")}]`),L0(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>iy(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>iy(t)).join(",")),`Target(${e})`}(sl(n))}; limitType=${n.limitType})`}function N1(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):lt.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,l,c){const p=r2(o,l,c);return o.inclusive?p<=0:p<0}(t.startAt,ay(t),r)||t.endAt&&!function(o,l,c){const p=r2(o,l,c);return o.inclusive?p>=0:p>0}(t.endAt,ay(t),r)));var t,r}function l2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function u2(n){return(e,t)=>{let r=!1;for(const o of ay(n)){const l=$P(o,e,t);if(0!==l)return l;r=r||o.field.isKeyField()}return 0}}function $P(n,e,t){const r=n.field.isKeyField()?lt.comparator(e.key,t.key):function(o,l,c){const p=l.data.field(o),_=c.data.field(o);return null!==p&&null!==_?_h(p,_):mt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return mt()}}function c2(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:V0(e)?"-0":e}}function d2(n){return{integerValue:""+n}}function h2(n,e){return zx(e)?d2(e):c2(n,e)}class kD{constructor(){this._=void 0}}function zP(n,e,t){return n instanceof ly?function(r,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):n instanceof sf?f2(n,e):n instanceof af?g2(n,e):function(r,o){const l=p2(r,o),c=m2(l)+m2(r._t);return T1(l)&&T1(r._t)?d2(c):c2(r.wt,c)}(n,e)}function WP(n,e,t){return n instanceof sf?f2(n,e):n instanceof af?g2(n,e):t}function p2(n,e){return n instanceof uy?T1(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class ly extends kD{}class sf extends kD{constructor(e){super(),this.elements=e}}function f2(n,e){const t=y2(e);for(const r of n.elements)t.some(o=>ku(o,r))||t.push(r);return{arrayValue:{values:t}}}class af extends kD{constructor(e){super(),this.elements=e}}function g2(n,e){let t=y2(e);for(const r of n.elements)t=t.filter(o=>!ku(o,r));return{arrayValue:{values:t}}}class uy extends kD{constructor(e,t){super(),this.wt=e,this._t=t}}function m2(n){return Qr(n.integerValue||n.doubleValue)}function y2(n){return U0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class $0{constructor(e,t){this.field=e,this.transform=t}}class KP{constructor(e,t){this.version=e,this.transformResults=t}}class Fr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fr}static exists(e){return new Fr(void 0,e)}static updateTime(e){return new Fr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ND(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class PD{}function _2(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new dy(n.key,Fr.none()):new cy(n.key,n.data,Fr.none());{const t=n.data,r=oo.empty();let o=new er(ri.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);null===c&&l.length>1&&(l=l.popLast(),c=t.field(l)),null===c?r.delete(l):r.set(l,c),o=o.add(l)}return new Oc(n.key,r,new Ma(o.toArray()),Fr.none())}}function ZP(n,e,t){n instanceof cy?function(r,o,l){const c=r.value.clone(),p=w2(r.fieldTransforms,o,l.transformResults);c.setAll(p),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Oc?function(r,o,l){if(!ND(r.precondition,o))return void o.convertToUnknownDocument(l.version);const c=w2(r.fieldTransforms,o,l.transformResults),p=o.data;p.setAll(b2(r)),p.setAll(c),o.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function z0(n,e,t,r){return n instanceof cy?function(o,l,c,p){if(!ND(o.precondition,l))return c;const _=o.value.clone(),w=E2(o.fieldTransforms,p,l);return _.setAll(w),l.convertToFoundDocument(l.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof Oc?function(o,l,c,p){if(!ND(o.precondition,l))return c;const _=E2(o.fieldTransforms,p,l),w=l.data;return w.setAll(b2(o)),w.setAll(_),l.convertToFoundDocument(l.version,w).setHasLocalMutations(),null===c?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(S=>S.field))}(n,e,t,r):(c=t,ND(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c);var l,c}function YP(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),l=p2(r.transform,o||null);null!=l&&(null===t&&(t=oo.empty()),t.set(r.field,l))}return t||null}function v2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&ny(t,r,(o,l)=>function qP(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof sf&&r instanceof sf||t instanceof af&&r instanceof af?ny(t.elements,r.elements,ku):t instanceof uy&&r instanceof uy?ku(t._t,r._t):t instanceof ly&&r instanceof ly);var t,r}(o,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class cy extends PD{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Oc extends PD{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function b2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function w2(n,e,t){const r=new Map;Ht(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,p=e.data.field(l.field);r.set(l.field,WP(c,p,t[o]))}return r}function E2(n,e,t){const r=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);r.set(o.field,zP(l,c,e))}return r}class dy extends PD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class P1 extends PD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class QP{constructor(e){this.count=e}}var fi,Mn;function I2(n){switch(n){default:return mt();case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0}}function D2(n){if(void 0===n)return pi("GRPC error has no .code"),Ee.UNKNOWN;switch(n){case fi.OK:return Ee.OK;case fi.CANCELLED:return Ee.CANCELLED;case fi.UNKNOWN:return Ee.UNKNOWN;case fi.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case fi.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case fi.INTERNAL:return Ee.INTERNAL;case fi.UNAVAILABLE:return Ee.UNAVAILABLE;case fi.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case fi.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case fi.NOT_FOUND:return Ee.NOT_FOUND;case fi.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case fi.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case fi.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case fi.ABORTED:return Ee.ABORTED;case fi.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case fi.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case fi.DATA_LOSS:return Ee.DATA_LOSS;default:return mt()}}(Mn=fi||(fi={}))[Mn.OK=0]="OK",Mn[Mn.CANCELLED=1]="CANCELLED",Mn[Mn.UNKNOWN=2]="UNKNOWN",Mn[Mn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mn[Mn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mn[Mn.NOT_FOUND=5]="NOT_FOUND",Mn[Mn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mn[Mn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mn[Mn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mn[Mn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mn[Mn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mn[Mn.ABORTED=10]="ABORTED",Mn[Mn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mn[Mn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mn[Mn.INTERNAL=13]="INTERNAL",Mn[Mn.UNAVAILABLE=14]="UNAVAILABLE",Mn[Mn.DATA_LOSS=15]="DATA_LOSS";class bh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,l]of r)if(this.equalsFn(o,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ef(this.inner,(t,r)=>{for(const[o,l]of r)e(o,l)})}isEmpty(){return Gx(this.inner)}size(){return this.innerSize}}const JP=new Yr(lt.comparator);function Fs(){return JP}const C2=new Yr(lt.comparator);function W0(...n){let e=C2;for(const t of n)e=e.insert(t.key,t);return e}function A2(n){let e=C2;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Nu(){return q0()}function T2(){return q0()}function q0(){return new bh(n=>n.toString(),(n,e)=>n.isEqual(e))}const XP=new Yr(lt.comparator),eR=new er(lt.comparator);function dn(...n){let e=eR;for(const t of n)e=e.add(t);return e}const tR=new er(an);function RD(){return tR}class K0{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Z0.createSynthesizedTargetChangeForCurrentChange(e,t)),new K0(jt.min(),r,RD(),Fs(),dn())}}class Z0{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Z0(Ai.EMPTY_BYTE_STRING,t,dn(),dn(),dn())}}class OD{constructor(e,t,r,o){this.gt=e,this.removedTargetIds=t,this.key=r,this.yt=o}}class S2{constructor(e,t){this.targetId=e,this.It=t}}class M2{constructor(e,t,r=Ai.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class x2{constructor(){this.Tt=0,this.Et=N2(),this.At=Ai.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=dn(),t=dn(),r=dn();return this.Et.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:mt()}}),new Z0(this.At,this.Rt,e,t,r)}Dt(){this.bt=!1,this.Et=N2()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class nR{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=Fs(),this.Bt=k2(),this.Lt=new er(an)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const r=this.Qt(t);switch(e.state){case 0:this.jt(t)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),r.Vt(e.resumeToken));break;default:mt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((r,o)=>{this.jt(o)&&t(o)})}zt(e){const t=e.targetId,r=e.It.count,o=this.Ht(t);if(o){const l=o.target;if(MD(l))if(0===r){const c=new lt(l.path);this.Kt(t,c,fr.newNoDocument(c,jt.min()))}else Ht(1===r);else this.Jt(t)!==r&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((l,c)=>{const p=this.Ht(c);if(p){if(l.current&&MD(p.target)){const _=new lt(p.target.path);null!==this.$t.get(_)||this.Xt(c,_)||this.Kt(c,_,fr.newNoDocument(_,e))}l.vt&&(t.set(c,l.St()),l.Dt())}});let r=dn();this.Bt.forEach((l,c)=>{let p=!0;c.forEachWhile(_=>{const w=this.Ht(_);return!w||2===w.purpose||(p=!1,!1)}),p&&(r=r.add(l))}),this.$t.forEach((l,c)=>c.setReadTime(e));const o=new K0(e,t,this.Lt,this.$t,r);return this.$t=Fs(),this.Bt=k2(),this.Lt=new er(an),o}qt(e,t){if(!this.jt(e))return;const r=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,r),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,r){if(!this.jt(e))return;const o=this.Qt(e);this.Xt(e,t)?o.Ct(t,1):o.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),r&&(this.$t=this.$t.insert(t,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new x2,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new er(an),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||Qe("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new x2),this.Mt.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function k2(){return new Yr(lt.comparator)}function N2(){return new Yr(lt.comparator)}const rR={asc:"ASCENDING",desc:"DESCENDING"},iR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class oR{constructor(e,t){this.databaseId=e,this.dt=t}}function Y0(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function P2(n,e){return n.dt?e.toBase64():e.toUint8Array()}function sR(n,e){return Y0(n,e.toTimestamp())}function Bi(n){return Ht(!!n),jt.fromTimestamp(function(e){const t=mh(e);return new Ar(t.seconds,t.nanos)}(n))}function R1(n,e){return(t=n,new Sn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function R2(n){const e=Sn.fromString(n);return Ht(H2(e)),e}function Q0(n,e){return R1(n.databaseId,e.path)}function Pu(n,e){const t=R2(e);if(t.get(1)!==n.databaseId.projectId)throw new $e(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new $e(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new lt(F2(t))}function O1(n,e){return R1(n.databaseId,e)}function O2(n){const e=R2(n);return 4===e.length?Sn.emptyPath():F2(e)}function J0(n){return new Sn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function F2(n){return Ht(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function L2(n,e,t){return{name:Q0(n,e),fields:t.value.mapValue.fields}}function V2(n,e,t){const r=Pu(n,e.name),o=Bi(e.updateTime),l=new oo({mapValue:{fields:e.fields}}),c=fr.newFoundDocument(r,o,l);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function X0(n,e){let t;if(e instanceof cy)t={update:L2(n,e.key,e.value)};else if(e instanceof dy)t={delete:Q0(n,e.key)};else if(e instanceof Oc)t={update:L2(n,e.key,e.data),updateMask:gR(e.fieldMask)};else{if(!(e instanceof P1))return mt();t={verify:Q0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const c=l.transform;if(c instanceof ly)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof sf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof af)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof uy)return{fieldPath:l.field.canonicalString(),increment:c._t};throw mt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:sR(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:mt()),t;var o}function F1(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Fr.updateTime(Bi(o.updateTime)):void 0!==o.exists?Fr.exists(o.exists):Fr.none():Fr.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(l,c){let p=null;"setToServerValue"in c?(Ht("REQUEST_TIME"===c.setToServerValue),p=new ly):"appendMissingElements"in c?p=new sf(c.appendMissingElements.values||[]):"removeAllFromArray"in c?p=new af(c.removeAllFromArray.values||[]):"increment"in c?p=new uy(l,c.increment):mt();const _=ri.fromServerFormat(c.fieldPath);return new $0(_,p)}(n,o)):[];var o;if(e.update){const o=Pu(n,e.update.name),l=new oo({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Ma((e.updateMask.fieldPaths||[]).map(w=>ri.fromServerFormat(w)));return new Oc(o,l,c,t,r)}return new cy(o,l,t,r)}if(e.delete){const o=Pu(n,e.delete);return new dy(o,t)}if(e.verify){const o=Pu(n,e.verify);return new P1(o,t)}return mt()}function B2(n,e){return{documents:[O1(n,e.path)]}}function U2(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=O1(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=O1(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(_){if(0===_.length)return;const w=_.map(S=>function(k){if("=="===k.op){if(Kx(k.value))return{unaryFilter:{field:hy(k.field),op:"IS_NAN"}};if(qx(k.value))return{unaryFilter:{field:hy(k.field),op:"IS_NULL"}}}else if("!="===k.op){if(Kx(k.value))return{unaryFilter:{field:hy(k.field),op:"IS_NOT_NAN"}};if(qx(k.value))return{unaryFilter:{field:hy(k.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hy(k.field),op:hR(k.op),value:k.value}}}(S));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);o&&(t.structuredQuery.where=o);const l=function(_){if(0!==_.length)return _.map(w=>{return{field:hy((S=w).field),direction:dR(S.dir)};var S})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=(w=e.limit,n.dt||L0(w)?w:{value:w});var w,p,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function j2(n){let e=O2(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Ht(1===r);const S=t.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let l=[];t.where&&(l=G2(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(S=>{return new oy(py((k=S).field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction));var k}));let p=null;t.limit&&(p=function(S){let k;return k="object"==typeof S?S.value:S,L0(k)?null:k}(t.limit));let _=null;var S;t.startAt&&(_=new vh((S=t.startAt).values||[],!!S.before));let w=null;return t.endAt&&(w=function(S){return new vh(S.values||[],!S.before)}(t.endAt)),o2(e,o,c,l,p,"F",_,w)}function G2(n){return n?void 0!==n.unaryFilter?[fR(n)]:void 0!==n.fieldFilter?[pR(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>G2(e)).reduce((e,t)=>e.concat(t)):mt():[]}function dR(n){return rR[n]}function hR(n){return iR[n]}function hy(n){return{fieldPath:n.canonicalString()}}function py(n){return ri.fromServerFormat(n.fieldPath)}function pR(n){return so.create(py(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mt()}}(n.fieldFilter.op),n.fieldFilter.value)}function fR(n){switch(n.unaryFilter.op){case"IS_NAN":const e=py(n.unaryFilter.field);return so.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=py(n.unaryFilter.field);return so.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=py(n.unaryFilter.field);return so.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=py(n.unaryFilter.field);return so.create(o,"!=",{nullValue:"NULL_VALUE"});default:return mt()}}function gR(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function H2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ns(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=$2(e)),e=mR(n.get(t),e);return $2(e)}function mR(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const l=n.charAt(o);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function $2(n){return n+"\x01\x01"}function Ru(n){const e=n.length;if(Ht(e>=2),2===e)return Ht("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Sn.emptyPath();const t=e-2,r=[];let o="";for(let l=0;l<e;){const c=n.indexOf("\x01",l);switch((c<0||c>t)&&mt(),n.charAt(c+1)){case"\x01":const p=n.substring(l,c);let _;0===o.length?_=p:(o+=p,_=o,o=""),r.push(_);break;case"\x10":o+=n.substring(l,c),o+="\0";break;case"\x11":o+=n.substring(l,c+1);break;default:mt()}l=c+2}return new Sn(r)}const z2=["userId","batchId"];function FD(n,e){return[n,ns(e)]}function W2(n,e,t){return[n,ns(e),t]}const yR={},_R=["prefixPath","collectionGroup","readTime","documentId"],vR=["prefixPath","collectionGroup","documentId"],bR=["collectionGroup","readTime","prefixPath","documentId"],wR=["canonicalId","targetId"],ER=["targetId","path"],IR=["path","targetId"],DR=["collectionId","parent"],CR=["indexId","uid"],AR=["uid","sequenceNumber"],TR=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],SR=["indexId","uid","orderedDocumentKey"],MR=["userId","collectionPath","documentId"],xR=["userId","collectionPath","largestBatchId"],kR=["userId","collectionGroup","largestBatchId"],q2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],NR=[...q2,"documentOverlays"],K2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Z2=K2,PR=[...Z2,"indexConfiguration","indexState","indexEntries"];class L1 extends Bx{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function Ui(n,e){const t=ct(n);return Kl.N(t.ee,e)}class V1{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&ZP(l,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=z0(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=z0(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=T2();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let p=this.applyToLocalView(c,l.mutatedFields);p=t.has(o.key)?null:p;const _=_2(c,p);null!==_&&r.set(o.key,_),c.isValidDocument()||c.convertToNoDocument(jt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),dn())}isEqual(e){return this.batchId===e.batchId&&ny(this.mutations,e.mutations,(t,r)=>v2(t,r))&&ny(this.baseMutations,e.baseMutations,(t,r)=>v2(t,r))}}class B1{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Ht(e.mutations.length===r.length);let o=XP;const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,r[c].version);return new B1(e,t,r,o)}}class U1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class wh{constructor(e,t,r,o,l=jt.min(),c=jt.min(),p=Ai.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p}withSequenceNumber(e){return new wh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new wh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new wh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Y2{constructor(e){this.ne=e}}function Q2(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:LD(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Q0(o=n.ne,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:Y0(o,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:lf(e.version)};else{if(!e.isUnknownDocument())return mt();r.unknownDocument={path:t.path.toArray(),version:lf(e.version)}}var o,l;return r}function LD(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function lf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function uf(n){const e=new Ar(n.seconds,n.nanoseconds);return jt.fromTimestamp(e)}function cf(n,e){const t=(e.baseMutations||[]).map(l=>F1(n.ne,l));for(let l=0;l<e.mutations.length-1;++l){const c=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(c.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>F1(n.ne,l)),o=Ar.fromMillis(e.localWriteTimeMs);return new V1(e.batchId,o,t,r)}function eb(n){const e=uf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?uf(n.lastLimboFreeSnapshotVersion):jt.min();let r;var o;return void 0!==n.query.documents?(Ht(1===(o=n.query).documents.length),r=sl(sy(O2(o.documents[0])))):r=sl(j2(n.query)),new wh(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Ai.fromBase64String(n.resumeToken))}function J2(n,e){const t=lf(e.snapshotVersion),r=lf(e.lastLimboFreeSnapshotVersion);let o;o=MD(e.target)?B2(n.ne,e.target):U2(n.ne,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:of(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function j1(n){const e=j2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?s2(e,e.limit,"L"):e}function G1(n,e){return new U1(e.largestBatchId,F1(n.ne,e.overlayMutation))}function X2(n,e){const t=e.path.lastSegment();return[n,ns(e.path.popLast()),t]}function ek(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:lf(r.readTime),documentKey:ns(r.documentKey.path),largestBatchId:r.largestBatchId}}class OR{getBundleMetadata(e,t){return tk(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:uf(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return tk(e).put({bundleId:(r=t).id,createTime:lf(Bi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return nk(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:j1(o.bundledQuery),readTime:uf(o.readTime)};var o})}saveNamedQuery(e,t){return nk(e).put({name:(r=t).name,readTime:lf(Bi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function tk(n){return Ui(n,"bundles")}function nk(n){return Ui(n,"namedQueries")}class VD{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new VD(e,t.uid||"")}getOverlay(e,t){return tb(e).get(X2(this.userId,t)).next(r=>r?G1(this.wt,r):null)}getOverlays(e,t){const r=Nu();return ye.forEach(t,o=>this.getOverlay(e,o).next(l=>{null!==l&&r.set(o,l)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((l,c)=>{const p=new U1(t,c);o.push(this.ie(e,p))}),ye.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(c=>o.add(ns(c.getCollectionPath())));const l=[];return o.forEach(c=>{const p=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);l.push(tb(e).W("collectionPathOverlayIndex",p))}),ye.waitFor(l)}getOverlaysForCollection(e,t,r){const o=Nu(),l=ns(t),c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return tb(e).K("collectionPathOverlayIndex",c).next(p=>{for(const _ of p){const w=G1(this.wt,_);o.set(w.getKey(),w)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const l=Nu();let c;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return tb(e).J({index:"collectionGroupOverlayIndex",range:p},(_,w,S)=>{const k=G1(this.wt,w);l.size()<o||k.largestBatchId===c?(l.set(k.getKey(),k),c=k.largestBatchId):S.done()}).next(()=>l)}ie(e,t){return tb(e).put(function(r,o,l){const[c,p,_]=X2(o,l.mutation.key);return{userId:o,collectionPath:p,documentId:_,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:X0(r.ne,l.mutation)}}(this.wt,this.userId,t))}}function tb(n){return Ui(n,"documentOverlays")}class df{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Qr(e.integerValue));else if("doubleValue"in e){const r=Qr(e.doubleValue);isNaN(r)?this.ce(t,13):(this.ce(t,15),V0(r)?t.ae(0):t.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he(`${r.seconds||""}`),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(tf(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(t,45),t.ae(r.latitude||0),t.ae(r.longitude||0)}else"mapValue"in e?Zx(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):mt()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const r=e.fields||{};this.ce(t,55);for(const o of Object.keys(r))this.le(o,t),this.oe(r[o],t)}me(e,t){const r=e.values||[];this.ce(t,50);for(const o of r)this.oe(o,t)}_e(e,t){this.ce(t,37),lt.fromName(e).path.forEach(r=>{this.ce(t,60),this.ge(r,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function FR(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function rk(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const l=FR(255&t[o]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}df.ye=new df;class LR{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ie(r.value),r=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ie(r);else if(r<2048)this.Ie(960|r>>>6),this.Ie(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r);else{const o=t.codePointAt(0);this.Ie(240|o>>>18),this.Ie(128|63&o>>>12),this.Ie(128|63&o>>>6),this.Ie(128|63&o)}}this.Te()}Pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const o=t.codePointAt(0);this.Ae(240|o>>>18),this.Ae(128|63&o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o)}}this.Re()}ve(e){const t=this.Ve(e),r=rk(t);this.Se(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}De(e){const t=this.Ve(e),r=rk(t);this.Se(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(o){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,o,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class VR{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class BR{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class nb{constructor(){this.Me=new LR,this.Fe=new VR(this.Me),this.$e=new BR(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class hf{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new hf(this.indexId,this.documentKey,this.arrayValue,r)}}function pf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=ik(n.arrayValue,e.arrayValue),0!==t?t:(t=ik(n.directionalValue,e.directionalValue),0!==t?t:lt.comparator(n.documentKey,e.documentKey)))}function ik(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class UR{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const r=t;r.ht()?this.Ke=r:this.qe.push(r)}}Ge(e){const t=w1(e);if(void 0!==t&&!this.Qe(t))return!1;const r=Jp(e);let o=0,l=0;for(;o<r.length&&this.Qe(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.Ke){const c=r[o];if(!this.je(this.Ke,c)||!this.We(this.Ue[l++],c))return!1;++o}for(;o<r.length;++o){const c=r[o];if(l>=this.Ue.length||!this.We(this.Ue[l++],c))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class jR{constructor(){this.ze=new H1}addToCollectionParentIndex(e,t){return this.ze.add(t),ye.resolve()}getCollectionParents(e,t){return ye.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return ye.resolve()}deleteFieldIndex(e,t){return ye.resolve()}getDocumentsMatchingTarget(e,t){return ye.resolve(null)}getIndexType(e,t){return ye.resolve(0)}getFieldIndexes(e,t){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,t){return ye.resolve(Sa.min())}getMinOffsetFromCollectionGroup(e,t){return ye.resolve(Sa.min())}updateCollectionGroup(e,t,r){return ye.resolve()}updateIndexEntries(e,t){return ye.resolve()}}class H1{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new er(Sn.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new er(Sn.comparator)).toArray()}}const BD=new Uint8Array(0);class GR{constructor(e,t){this.user=e,this.databaseId=t,this.He=new H1,this.Je=new bh(r=>of(r),(r,o)=>G0(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const l={collectionId:r,parent:ns(o)};return ok(e).put(l)}return ye.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[Ox(t),""],!1,!0);return ok(e).K(o).next(l=>{for(const c of l){if(c.collectionId!==t)break;r.push(Ru(c.parent))}return r})}addFieldIndex(e,t){const r=UD(e),o={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var c;delete o.indexId;const l=r.add(o);if(t.indexState){const c=ib(e);return l.next(p=>{c.put(ek(p,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const r=UD(e),o=ib(e),l=rb(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=rb(e);let o=!0;const l=new Map;return ye.forEach(this.Ye(t),c=>this.Xe(e,c).next(p=>{o&&(o=!!p),l.set(c,p)})).next(()=>{if(o){let c=dn();const p=[];return ye.forEach(l,(_,w)=>{var S;Qe("IndexedDbIndexManager",`Using index ${S=_,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(ln=>`${ln.fieldPath}:${ln.kind}`).join(",")}`} to execute ${of(t)}`);const k=function(ln,Jt){const mn=w1(Jt);if(void 0===mn)return null;for(const Un of xD(ln,mn.fieldPath))switch(Un.op){case"array-contains-any":return Un.value.arrayValue.values||[];case"array-contains":return[Un.value]}return null}(w,_),j=function(ln,Jt){const mn=new Map;for(const Un of Jp(Jt))for(const ko of xD(ln,Un.fieldPath))switch(ko.op){case"==":case"in":mn.set(Un.fieldPath.canonicalString(),ko.value);break;case"not-in":case"!=":return mn.set(Un.fieldPath.canonicalString(),ko.value),Array.from(mn.values())}return null}(w,_),J=function(ln,Jt){const mn=[];let Un=!0;for(const ko of Jp(Jt)){const vb=0===ko.kind?e2(ln,ko.fieldPath,ln.startAt):t2(ln,ko.fieldPath,ln.startAt);mn.push(vb.value),Un&&(Un=vb.inclusive)}return new vh(mn,Un)}(w,_),se=function(ln,Jt){const mn=[];let Un=!0;for(const ko of Jp(Jt)){const vb=0===ko.kind?t2(ln,ko.fieldPath,ln.endAt):e2(ln,ko.fieldPath,ln.endAt);mn.push(vb.value),Un&&(Un=vb.inclusive)}return new vh(mn,Un)}(w,_),Be=this.Ze(_,w,J),Xe=this.Ze(_,w,se),Gt=this.tn(_,w,j),Yt=this.en(_.indexId,k,Be,J.inclusive,Xe,se.inclusive,Gt);return ye.forEach(Yt,ln=>r.j(ln,t.limit).next(Jt=>{Jt.forEach(mn=>{const Un=lt.fromSegments(mn.documentKey);c.has(Un)||(c=c.add(Un),p.push(Un))})}))}).next(()=>p)}return ye.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,r,o,l,c,p){const _=(null!=t?t.length:1)*Math.max(r.length,l.length),w=_/(null!=t?t.length:1),S=[];for(let k=0;k<_;++k){const j=t?this.nn(t[k/w]):BD,J=this.sn(e,j,r[k%w],o),se=this.rn(e,j,l[k%w],c),Be=p.map(Xe=>this.sn(e,j,Xe,!0));S.push(...this.createRange(J,se,Be))}return S}sn(e,t,r,o){const l=new hf(e,lt.empty(),t,r);return o?l:l.Le()}rn(e,t,r,o){const l=new hf(e,lt.empty(),t,r);return o?l.Le():l}Xe(e,t){const r=new UR(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(l=>{let c=null;for(const p of l)r.Ge(p)&&(!c||p.fields.length>c.fields.length)&&(c=p);return c})}getIndexType(e,t){let r=2;return ye.forEach(this.Ye(t),o=>this.Xe(e,o).next(l=>{l?0!==r&&l.fields.length<function(c){let p=new er(ri.comparator),_=!1;for(const w of c.filters){const S=w;S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?_=!0:p=p.add(S.field))}for(const w of c.orderBy)w.field.isKeyField()||(p=p.add(w.field));return p.size+(_?1:0)}(o)&&(r=1):r=0})).next(()=>r)}on(e,t){const r=new nb;for(const o of Jp(e)){const l=t.data.field(o.fieldPath);if(null==l)return null;const c=r.Be(o.kind);df.ye.re(l,c)}return r.Oe()}nn(e){const t=new nb;return df.ye.re(e,t.Be(0)),t.Oe()}un(e,t){const r=new nb;return df.ye.re(rf(this.databaseId,t),r.Be(function(o){const l=Jp(o);return 0===l.length?0:l[l.length-1].kind}(e))),r.Oe()}tn(e,t,r){if(null===r)return[];let o=[];o.push(new nb);let l=0;for(const c of Jp(e)){const p=r[l++];for(const _ of o)if(this.cn(t,c.fieldPath)&&U0(p))o=this.an(o,c,p);else{const w=_.Be(c.kind);df.ye.re(p,w)}}return this.hn(o)}Ze(e,t,r){return this.tn(e,t,r.position)}hn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Oe();return t}an(e,t,r){const o=[...e],l=[];for(const c of r.arrayValue.values||[])for(const p of o){const _=new nb;_.seed(p.Oe()),df.ye.re(c,_.Be(t.kind)),l.push(_)}return l}cn(e,t){return!!e.filters.find(r=>r instanceof so&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=UD(e),o=ib(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next(l=>{const c=[];return ye.forEach(l,p=>o.get([p.indexId,this.uid]).next(_=>{c.push(function(w,S){const k=S?new R0(S.sequenceNumber,new Sa(uf(S.readTime),new lt(Ru(S.documentKey)),S.largestBatchId)):R0.empty(),j=w.fields.map(([J,se])=>new DD(ri.fromServerFormat(J),se));return new ID(w.indexId,w.collectionGroup,j,k)}(p,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const l=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==l?l:an(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=UD(e),l=ib(e);return this.ln(e).next(c=>o.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>ye.forEach(p,_=>l.put(ek(_.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return ye.forEach(t,(o,l)=>{const c=r.get(o.collectionGroup);return(c?ye.resolve(c):this.getFieldIndexes(e,o.collectionGroup)).next(p=>(r.set(o.collectionGroup,p),ye.forEach(p,_=>this.fn(e,o,_).next(w=>{const S=this.dn(l,_);return w.isEqual(S)?ye.resolve():this._n(e,l,_,w,S)}))))})}wn(e,t,r,o){return rb(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.un(r,t.key),documentKey:t.key.path.toArray()})}mn(e,t,r,o){return rb(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.un(r,t.key),t.key.path.toArray()])}fn(e,t,r){const o=rb(e);let l=new er(pf);return o.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.un(r,t)])},(c,p)=>{l=l.add(new hf(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>l)}dn(e,t){let r=new er(pf);const o=this.on(t,e);if(null==o)return r;const l=w1(t);if(null!=l){const c=e.data.field(l.fieldPath);if(U0(c))for(const p of c.arrayValue.values||[])r=r.add(new hf(t.indexId,e.key,this.nn(p),o))}else r=r.add(new hf(t.indexId,e.key,BD,o));return r}_n(e,t,r,o,l){Qe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(p,_,w,S,k){const j=p.getIterator(),J=_.getIterator();let se=ry(j),Be=ry(J);for(;se||Be;){let Xe=!1,Gt=!1;if(se&&Be){const Yt=w(se,Be);Yt<0?Gt=!0:Yt>0&&(Xe=!0)}else null!=se?Gt=!0:Xe=!0;Xe?(S(Be),Be=ry(J)):Gt?(k(se),se=ry(j)):(se=ry(j),Be=ry(J))}}(o,l,pf,p=>{c.push(this.wn(e,t,r,p))},p=>{c.push(this.mn(e,t,r,p))}),ye.waitFor(c)}ln(e){let t=1;return ib(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,l)=>{l.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,p)=>pf(c,p)).filter((c,p,_)=>!p||0!==pf(c,_[p-1]));const o=[];o.push(e);for(const c of r){const p=pf(c,e),_=pf(c,t);if(0===p)o[0]=e.Le();else if(p>0&&_<0)o.push(c),o.push(c.Le());else if(_>0)break}o.push(t);const l=[];for(let c=0;c<o.length;c+=2)l.push(IDBKeyRange.bound([o[c].indexId,this.uid,o[c].arrayValue,o[c].directionalValue,BD,[]],[o[c+1].indexId,this.uid,o[c+1].arrayValue,o[c+1].directionalValue,BD,[]]));return l}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(sk)}getMinOffset(e,t){return ye.mapArray(this.Ye(t),r=>this.Xe(e,r).next(o=>o||mt())).next(sk)}}function ok(n){return Ui(n,"collectionParents")}function rb(n){return Ui(n,"indexEntries")}function UD(n){return Ui(n,"indexConfiguration")}function ib(n){return Ui(n,"indexState")}function sk(n){Ht(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;E1(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new Sa(e.readTime,e.documentKey,t)}const ak={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ls{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ls(e,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function lk(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),l=[],c=IDBKeyRange.only(t.batchId);let p=0;const _=r.J({range:c},(S,k,j)=>(p++,j.delete()));l.push(_.next(()=>{Ht(1===p)}));const w=[];for(const S of t.mutations){const k=W2(e,S.key.path,t.batchId);l.push(o.delete(k)),w.push(S.key)}return ye.waitFor(l).next(()=>w)}function jD(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw mt();e=n.noDocument}return JSON.stringify(e).length}Ls.DEFAULT_COLLECTION_PERCENTILE=10,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ls.DEFAULT=new Ls(41943040,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ls.DISABLED=new Ls(-1,0,0);class GD{constructor(e,t,r,o){this.userId=e,this.wt=t,this.indexManager=r,this.referenceDelegate=o,this.gn={}}static se(e,t,r,o){Ht(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new GD(l,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Eh(e).J({index:"userMutationsIndex",range:r},(o,l,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const l=fy(e),c=Eh(e);return c.add({}).next(p=>{Ht("number"==typeof p);const _=new V1(p,t,r,o),w=function(j,J,se){const Be=se.baseMutations.map(Gt=>X0(j.ne,Gt)),Xe=se.mutations.map(Gt=>X0(j.ne,Gt));return{userId:J,batchId:se.batchId,localWriteTimeMs:se.localWriteTime.toMillis(),baseMutations:Be,mutations:Xe}}(this.wt,this.userId,_),S=[];let k=new er((j,J)=>an(j.canonicalString(),J.canonicalString()));for(const j of o){const J=W2(this.userId,j.key.path,p);k=k.add(j.key.path.popLast()),S.push(c.put(w)),S.push(l.put(J,yR))}return k.forEach(j=>{S.push(this.indexManager.addToCollectionParentIndex(e,j))}),e.addOnCommittedListener(()=>{this.gn[p]=_.keys()}),ye.waitFor(S).next(()=>_)})}lookupMutationBatch(e,t){return Eh(e).get(t).next(r=>r?(Ht(r.userId===this.userId),cf(this.wt,r)):null)}yn(e,t){return this.gn[t]?ye.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.gn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Eh(e).J({index:"userMutationsIndex",range:o},(c,p,_)=>{p.userId===this.userId&&(Ht(p.batchId>=r),l=cf(this.wt,p)),_.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Eh(e).J({index:"userMutationsIndex",range:t,reverse:!0},(o,l,c)=>{r=l.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Eh(e).K("userMutationsIndex",t).next(r=>r.map(o=>cf(this.wt,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=FD(this.userId,t.path),o=IDBKeyRange.lowerBound(r),l=[];return fy(e).J({range:o},(c,p,_)=>{const[w,S,k]=c,j=Ru(S);if(w===this.userId&&t.path.isEqual(j))return Eh(e).get(k).next(J=>{if(!J)throw mt();Ht(J.userId===this.userId),l.push(cf(this.wt,J))});_.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new er(an);const o=[];return t.forEach(l=>{const c=FD(this.userId,l.path),p=IDBKeyRange.lowerBound(c),_=fy(e).J({range:p},(w,S,k)=>{const[j,J,se]=w,Be=Ru(J);j===this.userId&&l.path.isEqual(Be)?r=r.add(se):k.done()});o.push(_)}),ye.waitFor(o).next(()=>this.pn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,l=FD(this.userId,r),c=IDBKeyRange.lowerBound(l);let p=new er(an);return fy(e).J({range:c},(_,w,S)=>{const[k,j,J]=_,se=Ru(j);k===this.userId&&r.isPrefixOf(se)?se.length===o&&(p=p.add(J)):S.done()}).next(()=>this.pn(e,p))}pn(e,t){const r=[],o=[];return t.forEach(l=>{o.push(Eh(e).get(l).next(c=>{if(null===c)throw mt();Ht(c.userId===this.userId),r.push(cf(this.wt,c))}))}),ye.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return lk(e.ee,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),ye.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ye.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return fy(e).J({range:r},(l,c,p)=>{if(l[0]===this.userId){const _=Ru(l[1]);o.push(_)}else p.done()}).next(()=>{Ht(0===o.length)})})}containsKey(e,t){return uk(e,this.userId,t)}Tn(e){return ck(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function uk(n,e,t){const r=FD(e,t.path),o=r[1],l=IDBKeyRange.lowerBound(r);let c=!1;return fy(n).J({range:l,H:!0},(p,_,w)=>{const[S,k,j]=p;S===e&&k===o&&(c=!0),w.done()}).next(()=>c)}function Eh(n){return Ui(n,"mutations")}function fy(n){return Ui(n,"documentMutations")}function ck(n){return Ui(n,"mutationQueues")}class ff{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new ff(0)}static Rn(){return new ff(-1)}}class HR{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const r=new ff(t.highestTargetId);return t.highestTargetId=r.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>jt.fromTimestamp(new Ar(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.bn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.Pn(e,o)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(r=>(r.targetCount+=1,this.Vn(t,r),this.Pn(e,r))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>gy(e).delete(t.targetId)).next(()=>this.bn(e)).next(r=>(Ht(r.targetCount>0),r.targetCount-=1,this.Pn(e,r)))}removeTargets(e,t,r){let o=0;const l=[];return gy(e).J((c,p)=>{const _=eb(p);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(o++,l.push(this.removeTargetData(e,_)))}).next(()=>ye.waitFor(l)).next(()=>o)}forEachTarget(e,t){return gy(e).J((r,o)=>{const l=eb(o);t(l)})}bn(e){return dk(e).get("targetGlobalKey").next(t=>(Ht(null!==t),t))}Pn(e,t){return dk(e).put("targetGlobalKey",t)}vn(e,t){return gy(e).put(J2(this.wt,t))}Vn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=of(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return gy(e).J({range:o,index:"queryTargetsIndex"},(c,p,_)=>{const w=eb(p);G0(t,w.target)&&(l=w,_.done())}).next(()=>l)}addMatchingKeys(e,t,r){const o=[],l=Ih(e);return t.forEach(c=>{const p=ns(c.path);o.push(l.put({targetId:r,path:p})),o.push(this.referenceDelegate.addReference(e,r,c))}),ye.waitFor(o)}removeMatchingKeys(e,t,r){const o=Ih(e);return ye.forEach(t,l=>{const c=ns(l.path);return ye.waitFor([o.delete([r,c]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Ih(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Ih(e);let l=dn();return o.J({range:r,H:!0},(c,p,_)=>{const w=Ru(c[1]),S=new lt(w);l=l.add(S)}).next(()=>l)}containsKey(e,t){const r=ns(t.path),o=IDBKeyRange.bound([r],[Ox(r)],!1,!0);let l=0;return Ih(e).J({index:"documentTargetsIndex",H:!0,range:o},([c,p],_,w)=>{0!==c&&(l++,w.done())}).next(()=>l>0)}te(e,t){return gy(e).get(t).next(r=>r?eb(r):null)}}function gy(n){return Ui(n,"targets")}function dk(n){return Ui(n,"targetGlobal")}function Ih(n){return Ui(n,"targetDocuments")}function hk([n,e],[t,r]){const o=an(n,t);return 0===o?an(e,r):o}class $R{constructor(e){this.Sn=e,this.buffer=new er(hk),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();hk(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class zR{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;Qe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Se.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){gh(r)?Qe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield fh(r)}yield t.kn(3e5)}))}}class WR{constructor(e,t){this.On=e,this.params=t}calculateTargetCount(e,t){return this.On.Mn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ye.resolve(Os.ot);const r=new $R(t);return this.On.forEachTarget(e,o=>r.xn(o.sequenceNumber)).next(()=>this.On.Fn(e,o=>r.xn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.On.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.On.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Qe("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(ak)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ak):this.$n(e,t))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,t){let r,o,l,c,p,_,w;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(k=>(k>this.params.maximumSequenceNumbersToCollect?(Qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${k}`),o=this.params.maximumSequenceNumbersToCollect):o=k,c=Date.now(),this.nthSequenceNumber(e,o))).next(k=>(r=k,p=Date.now(),this.removeTargets(e,r,t))).next(k=>(l=k,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(k=>(w=Date.now(),v1()<=Ts.in.DEBUG&&Qe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-S}ms\n\tDetermined least recently used ${o} in `+(p-c)+`ms\n\tRemoved ${l} targets in `+(_-p)+`ms\n\tRemoved ${k} documents in `+(w-_)+`ms\nTotal Duration: ${w-S}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:k})))}}class qR{constructor(e,t){this.db=e,this.garbageCollector=new WR(this,t)}Mn(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Bn(e){let t=0;return this.Fn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(r,o)=>t(o))}addReference(e,t,r){return HD(e,r)}removeReference(e,t,r){return HD(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return HD(e,t)}Un(e,t){return function(r,o){let l=!1;return ck(r).Y(c=>uk(r,c,o).next(p=>(p&&(l=!0),ye.resolve(!p)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let l=0;return this.Ln(e,(c,p)=>{if(p<=t){const _=this.Un(e,c).next(w=>{if(!w)return l++,r.getEntry(e,c).next(()=>(r.removeEntry(c,jt.min()),Ih(e).delete([0,ns(c.path)])))});o.push(_)}}).next(()=>ye.waitFor(o)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return HD(e,t)}Ln(e,t){const r=Ih(e);let o,l=Os.ot;return r.J({index:"documentTargetsIndex"},([c,p],{path:_,sequenceNumber:w})=>{0===c?(l!==Os.ot&&t(new lt(Ru(o)),l),l=w,o=_):l=Os.ot}).next(()=>{l!==Os.ot&&t(new lt(Ru(o)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function HD(n,e){return Ih(n).put((r=n.currentSequenceNumber,{targetId:0,path:ns(e.path),sequenceNumber:r}));var r}class pk{constructor(){this.changes=new bh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ye.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class KR{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return gf(e).put(r)}removeEntry(e,t,r){return gf(e).delete(function(o,l){const c=o.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],LD(l),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.qn(e,r)))}getEntry(e,t){let r=fr.newInvalidDocument(t);return gf(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ob(t))},(o,l)=>{r=this.Kn(t,l)}).next(()=>r)}Gn(e,t){let r={size:0,document:fr.newInvalidDocument(t)};return gf(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ob(t))},(o,l)=>{r={document:this.Kn(t,l),size:jD(l)}}).next(()=>r)}getEntries(e,t){let r=Fs();return this.Qn(e,t,(o,l)=>{const c=this.Kn(o,l);r=r.insert(o,c)}).next(()=>r)}jn(e,t){let r=Fs(),o=new Yr(lt.comparator);return this.Qn(e,t,(l,c)=>{const p=this.Kn(l,c);r=r.insert(l,p),o=o.insert(l,jD(c))}).next(()=>({documents:r,Wn:o}))}Qn(e,t,r){if(t.isEmpty())return ye.resolve();let o=new er(yk);t.forEach(_=>o=o.add(_));const l=IDBKeyRange.bound(ob(o.first()),ob(o.last())),c=o.getIterator();let p=c.getNext();return gf(e).J({index:"documentKeyIndex",range:l},(_,w,S)=>{const k=lt.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;p&&yk(p,k)<0;)r(p,null),p=c.getNext();p&&p.isEqual(k)&&(r(p,w),p=c.hasNext()?c.getNext():null),p?S.q(ob(p)):S.done()}).next(()=>{for(;p;)r(p,null),p=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),LD(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return gf(e).K(IDBKeyRange.bound(o,l,!0)).next(c=>{let p=Fs();for(const _ of c){const w=this.Kn(lt.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);p=p.insert(w.key,w)}return p})}getAllFromCollectionGroup(e,t,r,o){let l=Fs();const c=mk(t,r),p=mk(t,Sa.max());return gf(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,p,!0)},(_,w,S)=>{const k=this.Kn(lt.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);l=l.insert(k.key,k),l.size===o&&S.done()}).next(()=>l)}newChangeBuffer(e){return new ZR(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return gk(e).get("remoteDocumentGlobalKey").next(t=>(Ht(!!t),t))}qn(e,t){return gk(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const r=function RR(n,e){let t;if(e.document)t=V2(n.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=lt.fromSegments(e.noDocument.path),o=uf(e.noDocument.readTime);t=fr.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return mt();{const r=lt.fromSegments(e.unknownDocument.path),o=uf(e.unknownDocument.version);t=fr.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new Ar(r[0],r[1]);return jt.fromTimestamp(o)}(e.readTime)),t}(this.wt,t);if(!r.isNoDocument()||!r.version.isEqual(jt.min()))return r}return fr.newInvalidDocument(e)}}function fk(n){return new KR(n)}class ZR extends pk{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new bh(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new er((l,c)=>an(l.canonicalString(),c.canonicalString()));return this.changes.forEach((l,c)=>{const p=this.Hn.get(l);if(t.push(this.zn.removeEntry(e,l,p.readTime)),c.isValidDocument()){const _=Q2(this.zn.wt,c);o=o.add(l.path.popLast()),r+=jD(_)-p.size,t.push(this.zn.addEntry(e,l,_))}else if(r-=p.size,this.trackRemovals){const _=Q2(this.zn.wt,c.convertToNoDocument(jt.min()));t.push(this.zn.addEntry(e,l,_))}}),o.forEach(l=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.zn.updateMetadata(e,r)),ye.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(r=>(this.Hn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:r,Wn:o})=>(o.forEach((l,c)=>{this.Hn.set(l,{size:c,readTime:r.get(l).readTime})}),r))}}function gk(n){return Ui(n,"remoteDocumentGlobal")}function gf(n){return Ui(n,"remoteDocumentsV14")}function ob(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function mk(n,e){const t=e.documentKey.path.toArray();return[n,LD(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function yk(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(o=an(t[l],r[l]),o)return o;return o=an(t.length,r.length),o||(o=an(t[t.length-2],r[r.length-2]),o||an(t[t.length-1],r[r.length-1]))}class YR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class _k{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.getBaseDocument(e,t,r))).next(o=>(null!==r&&z0(r.mutation,o,Ma.empty(),Ar.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,dn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=dn()){const o=Nu();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(l=>{let c=W0();return l.forEach((p,_)=>{c=c.insert(p,_.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Nu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,dn()))}populateOverlays(e,t,r){const o=[];return r.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,p)=>{t.set(c,p)})})}computeViews(e,t,r,o){let l=Fs();const c=q0(),p=q0();return t.forEach((_,w)=>{const S=r.get(w.key);o.has(w.key)&&(void 0===S||S.mutation instanceof Oc)?l=l.insert(w.key,w):void 0!==S&&(c.set(w.key,S.mutation.getFieldMask()),z0(S.mutation,w,S.mutation.getFieldMask(),Ar.now()))}),this.recalculateAndSaveOverlays(e,l).next(_=>(_.forEach((w,S)=>c.set(w,S)),t.forEach((w,S)=>{var k;return p.set(w,new YR(S,null!==(k=c.get(w))&&void 0!==k?k:null))}),p))}recalculateAndSaveOverlays(e,t){const r=q0();let o=new Yr((c,p)=>c-p),l=dn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const p of c)p.keys().forEach(_=>{const w=t.get(_);if(null===w)return;let S=r.get(_)||Ma.empty();S=p.applyToLocalView(w,S),r.set(_,S);const k=(o.get(p.batchId)||dn()).add(_);o=o.insert(p.batchId,k)})}).next(()=>{const c=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),w=_.key,S=_.value,k=T2();S.forEach(j=>{if(!l.has(j)){const J=_2(t.get(j),r.get(j));null!==J&&k.set(j,J),l=l.add(j)}}),c.push(this.documentOverlayCache.saveOverlays(e,w,k))}return ye.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return lt.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):x1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-l.size):ye.resolve(Nu());let p=-1,_=l;return c.next(w=>ye.forEach(w,(S,k)=>(p<k.largestBatchId&&(p=k.largestBatchId),l.get(S)?ye.resolve():this.getBaseDocument(e,S,k).next(j=>{_=_.insert(S,j)}))).next(()=>this.populateOverlays(e,w,l)).next(()=>this.computeViews(e,_,w,dn())).next(S=>({batchId:p,changes:A2(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new lt(t)).next(r=>{let o=W0();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let l=W0();return this.indexManager.getCollectionParents(e,o).next(c=>ye.forEach(c,p=>{const _=(w=t,S=p.child(o),new Rc(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,S;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(w=>{w.forEach((S,k)=>{l=l.insert(S,k)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(l=>(o=l,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(l=>{l.forEach((p,_)=>{const w=_.getKey();null===o.get(w)&&(o=o.insert(w,fr.newInvalidDocument(w)))});let c=W0();return o.forEach((p,_)=>{const w=l.get(p);void 0!==w&&z0(w.mutation,_,Ma.empty(),Ar.now()),N1(t,_)&&(c=c.insert(p,_))}),c})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):ye.resolve(fr.newInvalidDocument(t))}}class QR{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return ye.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var r;return this.Jn.set(t.id,{id:(r=t).id,version:r.version,createTime:Bi(r.createTime)}),ye.resolve()}getNamedQuery(e,t){return ye.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(r=t).name,query:j1(r.bundledQuery),readTime:Bi(r.readTime)}),ye.resolve();var r}}class JR{constructor(){this.overlays=new Yr(lt.comparator),this.Xn=new Map}getOverlay(e,t){return ye.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Nu();return ye.forEach(t,o=>this.getOverlay(e,o).next(l=>{null!==l&&r.set(o,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,l)=>{this.ie(e,t,l)}),ye.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Xn.get(r);return void 0!==o&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Xn.delete(r)),ye.resolve()}getOverlaysForCollection(e,t,r){const o=Nu(),l=t.length+1,c=new lt(t.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const _=p.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===l&&_.largestBatchId>r&&o.set(_.getKey(),_)}return ye.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let l=new Yr((w,S)=>w-S);const c=this.overlays.getIterator();for(;c.hasNext();){const w=c.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let S=l.get(w.largestBatchId);null===S&&(S=Nu(),l=l.insert(w.largestBatchId,S)),S.set(w.getKey(),w)}}const p=Nu(),_=l.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,S)=>p.set(w,S)),!(p.size()>=o)););return ye.resolve(p)}ie(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const c=this.Xn.get(o.largestBatchId).delete(r.key);this.Xn.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new U1(t,r));let l=this.Xn.get(t);void 0===l&&(l=dn(),this.Xn.set(t,l)),this.Xn.set(t,l.add(r.key))}}class $1{constructor(){this.Zn=new er(ji.ts),this.es=new er(ji.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new ji(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new ji(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new lt(new Sn([])),r=new ji(t,e),o=new ji(t,e+1),l=[];return this.es.forEachInRange([r,o],c=>{this.rs(c),l.push(c.key)}),l}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new lt(new Sn([])),r=new ji(t,e),o=new ji(t,e+1);let l=dn();return this.es.forEachInRange([r,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new ji(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ji{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return lt.comparator(e.key,t.key)||an(e.ls,t.ls)}static ns(e,t){return an(e.ls,t.ls)||lt.comparator(e.key,t.key)}}class XR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new er(ji.ts)}checkEmpty(e){return ye.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const l=this.fs;this.fs++;const c=new V1(l,t,r,o);this.mutationQueue.push(c);for(const p of o)this.ds=this.ds.add(new ji(p.key,l)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ye.resolve(c)}lookupMutationBatch(e,t){return ye.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.ws(t+1),l=o<0?0:o;return ye.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ji(t,0),o=new ji(t,Number.POSITIVE_INFINITY),l=[];return this.ds.forEachInRange([r,o],c=>{const p=this._s(c.ls);l.push(p)}),ye.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new er(an);return t.forEach(o=>{const l=new ji(o,0),c=new ji(o,Number.POSITIVE_INFINITY);this.ds.forEachInRange([l,c],p=>{r=r.add(p.ls)})}),ye.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;lt.isDocumentKey(l)||(l=l.child(""));const c=new ji(new lt(l),0);let p=new er(an);return this.ds.forEachWhile(_=>{const w=_.key.path;return!!r.isPrefixOf(w)&&(w.length===o&&(p=p.add(_.ls)),!0)},c),ye.resolve(this.gs(p))}gs(e){const t=[];return e.forEach(r=>{const o=this._s(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Ht(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ds;return ye.forEach(t.mutations,o=>{const l=new ji(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,t){const r=new ji(t,0),o=this.ds.firstAfterOrEqual(r);return ye.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return ye.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class eO{constructor(e){this.ps=e,this.docs=new Yr(lt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),l=o?o.size:0,c=this.ps(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ye.resolve(r?r.document.mutableCopy():fr.newInvalidDocument(t))}getEntries(e,t){let r=Fs();return t.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():fr.newInvalidDocument(o))}),ye.resolve(r)}getAllFromCollection(e,t,r){let o=Fs();const l=new lt(t.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:p,value:{document:_}}=c.getNext();if(!t.isPrefixOf(p.path))break;p.path.length>t.length+1||E1(Lx(_),r)<=0||(o=o.insert(_.key,_.mutableCopy()))}return ye.resolve(o)}getAllFromCollectionGroup(e,t,r,o){mt()}Is(e,t){return ye.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new tO(this)}getSize(e){return ye.resolve(this.size)}}class tO extends pk{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.zn.addEntry(e,o)):this.zn.removeEntry(r)}),ye.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class nO{constructor(e){this.persistence=e,this.Ts=new bh(t=>of(t),G0),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.Es=0,this.As=new $1,this.targetCount=0,this.Rs=ff.An()}forEachTarget(e,t){return this.Ts.forEach((r,o)=>t(o)),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Es&&(this.Es=t),ye.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new ff(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,ye.resolve()}updateTargetData(e,t){return this.vn(t),ye.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.Ts.forEach((c,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Ts.delete(c),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),ye.waitFor(l).next(()=>o)}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,t){const r=this.Ts.get(t)||null;return ye.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),ye.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),ye.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),ye.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return ye.resolve(r)}containsKey(e,t){return ye.resolve(this.As.containsKey(t))}}class vk{constructor(e,t){this.bs={},this.overlays={},this.Ps=new Os(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new nO(this),this.indexManager=new jR,this.remoteDocumentCache=new eO(r=>this.referenceDelegate.Ss(r)),this.wt=new Y2(t),this.Ds=new QR(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new JR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.bs[e.toKey()];return r||(r=new XR(t,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,r){Qe("MemoryPersistence","Starting transaction:",e);const o=new rO(this.Ps.next());return this.referenceDelegate.Cs(),r(o).next(l=>this.referenceDelegate.xs(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ns(e,t){return ye.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class rO extends Bx{constructor(e){super(),this.currentSequenceNumber=e}}class $D{constructor(e){this.persistence=e,this.ks=new $1,this.Os=null}static Ms(e){return new $D(e)}get Fs(){if(this.Os)return this.Os;throw mt()}addReference(e,t,r){return this.ks.addReference(r,t),this.Fs.delete(r.toString()),ye.resolve()}removeReference(e,t,r){return this.ks.removeReference(r,t),this.Fs.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),ye.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(o=>this.Fs.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.Fs.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.Fs,r=>{const o=lt.fromPath(r);return this.$s(e,o).next(l=>{l||t.removeEntry(o,jt.min())})}).next(()=>(this.Os=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return ye.or([()=>ye.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class iO{constructor(e){this.wt=e}O(e,t,r,o){const l=new CD("createOrUpgrade",t);var p;r<1&&o>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",z2,{unique:!0}),p.createObjectStore("documentMutations"),bk(e),function(p){p.createObjectStore("remoteDocuments")}(e));let c=ye.resolve();return r<3&&o>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),bk(e)),c=c.next(()=>function(p){const _=p.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:jt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(l))),r<4&&o>=4&&(0!==r&&(c=c.next(()=>function(p,_){return _.store("mutations").K().next(w=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",z2,{unique:!0});const S=_.store("mutations"),k=w.map(j=>S.put(j));return ye.waitFor(k)})}(e,l))),c=c.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(c=c.next(()=>this.Bs(l))),r<6&&o>=6&&(c=c.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(l)))),r<7&&o>=7&&(c=c.next(()=>this.Us(l))),r<8&&o>=8&&(c=c.next(()=>this.qs(e,l))),r<9&&o>=9&&(c=c.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(c=c.next(()=>this.Ks(l))),r<11&&o>=11&&(c=c.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(c=c.next(()=>{!function(p){const _=p.createObjectStore("documentOverlays",{keyPath:MR});_.createIndex("collectionPathOverlayIndex",xR,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",kR,{unique:!1})}(e)})),r<13&&o>=13&&(c=c.next(()=>function(p){const _=p.createObjectStore("remoteDocumentsV14",{keyPath:_R});_.createIndex("documentKeyIndex",vR),_.createIndex("collectionGroupIndex",bR)}(e)).next(()=>this.Gs(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(c=c.next(()=>this.Qs(e,l))),r<15&&o>=15&&(c=c.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:CR}).createIndex("sequenceNumberIndex",AR,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:TR}).createIndex("documentKeyIndex",SR,{unique:!1})}(e))),c}Ls(e){let t=0;return e.store("remoteDocuments").J((r,o)=>{t+=jD(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Bs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.K().next(o=>ye.forEach(o,l=>{const c=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",c).next(p=>ye.forEach(p,_=>{Ht(_.userId===l.userId);const w=cf(this.wt,_);return lk(e,l.userId,w).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const l=[];return r.J((c,p)=>{const _=new Sn(c),w=[0,ns(_)];l.push(t.get(w).next(S=>S?ye.resolve():t.put({targetId:0,path:ns(_),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>ye.waitFor(l))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:DR});const r=t.store("collectionParents"),o=new H1,l=c=>{if(o.add(c)){const p=c.lastSegment(),_=c.popLast();return r.put({collectionId:p,parent:ns(_)})}};return t.store("remoteDocuments").J({H:!0},(c,p)=>{const _=new Sn(c);return l(_.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([c,p,_],w)=>{const S=Ru(p);return l(S.popLast())}))}Ks(e){const t=e.store("targets");return t.J((r,o)=>{const l=eb(o),c=J2(this.wt,l);return t.put(c)})}Gs(e,t){const r=t.store("remoteDocuments"),o=[];return r.J((l,c)=>{const p=t.store("remoteDocumentsV14"),_=(w=c,w.document?new lt(Sn.fromString(w.document.name).popFirst(5)):w.noDocument?lt.fromSegments(w.noDocument.path):w.unknownDocument?lt.fromSegments(w.unknownDocument.path):mt()).path.toArray();var w;const S={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};o.push(p.put(S))}).next(()=>ye.waitFor(o))}Qs(e,t){const r=t.store("mutations"),o=fk(this.wt),l=new vk($D.Ms,this.wt.ne);return r.K().next(c=>{const p=new Map;return c.forEach(_=>{var w;let S=null!==(w=p.get(_.userId))&&void 0!==w?w:dn();cf(this.wt,_).keys().forEach(k=>S=S.add(k)),p.set(_.userId,S)}),ye.forEach(p,(_,w)=>{const S=new Li(w),k=VD.se(this.wt,S),j=l.getIndexManager(S),J=GD.se(S,this.wt,j,l.referenceDelegate);return new _k(o,J,k,j).recalculateAndSaveOverlaysForDocumentKeys(new L1(t,Os.ot),_).next()})})}}function bk(n){n.createObjectStore("targetDocuments",{keyPath:ER}).createIndex("documentTargetsIndex",IR,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",wR,{unique:!0}),n.createObjectStore("targetGlobal")}const z1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class W1{constructor(e,t,r,o,l,c,p,_,w,S,k=14){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.js=l,this.window=c,this.document=p,this.Ws=w,this.zs=S,this.Hs=k,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=j=>Promise.resolve(),!W1.V())throw new $e(Ee.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new qR(this,o),this.ei=t+"main",this.wt=new Y2(_),this.ni=new Kl(this.ei,this.Hs,new iO(this.wt)),this.Vs=new HR(this.referenceDelegate,this.wt),this.remoteDocumentCache=fk(this.wt),this.Ds=new OR,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===S&&pi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new $e(Ee.FAILED_PRECONDITION,z1);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new Os(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var r=(0,Se.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,Se.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,Se.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>zD(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(gh(e))return Qe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Qe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return sb(e).get("owner").next(t=>ye.resolve(this.di(t)))}_i(e){return zD(e).delete(this.clientId)}wi(){var e=this;return(0,Se.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Ui(r,"clientMetadata");return o.K().next(l=>{const c=e.gi(l,18e5),p=l.filter(_=>-1===c.indexOf(_));return ye.forEach(p,_=>o.delete(_.clientId)).next(()=>p)})}).catch(()=>[]);if(e.si)for(const r of t)e.si.removeItem(e.yi(r.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?ye.resolve(!0):sb(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new $e(Ee.FAILED_PRECONDITION,z1);return!1}}return!(!this.networkEnabled||!this.inForeground)||zD(e).K().next(r=>void 0===this.gi(r,5e3).find(o=>{if(this.clientId!==o.clientId){const c=!this.inForeground&&o.inForeground,p=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||c&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Qe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Se.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new L1(t,Os.ot);return e.li(r).next(()=>e._i(r))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(r=>this.mi(r.updateTimeMs,t)&&!this.pi(r.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>zD(e).K().next(t=>this.gi(t,18e5).map(r=>r.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return GD.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new GR(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return VD.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,r){Qe("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",l=15===(c=this.Hs)?PR:14===c?Z2:13===c?K2:12===c?NR:11===c?q2:void mt();var c;let p;return this.ni.runTransaction(e,o,l,_=>(p=new L1(_,this.Ps?this.Ps.next():Os.ot),"readwrite-primary"===t?this.ai(p).next(w=>!!w||this.hi(p)).next(w=>{if(!w)throw pi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new $e(Ee.FAILED_PRECONDITION,Vx);return r(p)}).next(w=>this.fi(p).next(()=>w)):this.bi(p).next(()=>r(p)))).then(_=>(p.raiseOnCommittedEvent(),_))}bi(e){return sb(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new $e(Ee.FAILED_PRECONDITION,z1)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return sb(e).put("owner",t)}static V(){return Kl.V()}li(e){const t=sb(e);return t.get("owner").next(r=>this.di(r)?(Qe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ye.resolve())}mi(e,t){const r=Date.now();return!(e<r-t||e>r&&(pi(`Detected an update time that is in the future: ${e} > ${r}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,F.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const r=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return Qe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return pi("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){pi("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function sb(n){return Ui(n,"owner")}function zD(n){return Ui(n,"clientMetadata")}function q1(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class K1{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Pi=r,this.vi=o}static Vi(e,t){let r=dn(),o=dn();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new K1(e,t.fromCache,r,o)}}class wk{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,r,o){return this.Ci(e,t).next(l=>l||this.xi(e,t,o,r)).next(l=>l||this.Ni(e,t))}Ci(e,t){return ye.resolve(null)}xi(e,t,r,o){return function HP(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||o.isEqual(jt.min())?this.Ni(e,t):this.Di.getDocuments(e,r).next(l=>{const c=this.ki(t,l);return this.Oi(t,c,r,o)?this.Ni(e,t):(v1()<=Ts.in.DEBUG&&Qe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),k1(t)),this.Mi(e,c,t,Fx(o,-1)))})}ki(e,t){let r=new er(u2(e));return t.forEach((o,l)=>{N1(e,l)&&(r=r.add(l))}),r}Oi(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ni(e,t){return v1()<=Ts.in.DEBUG&&Qe("QueryEngine","Using full collection scan to execute query:",k1(t)),this.Di.getDocumentsMatchingQuery(e,t,Sa.min())}Mi(e,t,r,o){return this.Di.getDocumentsMatchingQuery(e,r,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}class oO{constructor(e,t,r,o){this.persistence=e,this.Fi=t,this.wt=o,this.$i=new Yr(an),this.Bi=new bh(l=>of(l),G0),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _k(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function Ek(n,e,t,r){return new oO(n,e,t,r)}function Ik(n,e){return Z1.apply(this,arguments)}function Z1(){return Z1=(0,Se.Z)(function*(n,e){const t=ct(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(l=>(o=l,t.qi(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],p=[];let _=dn();for(const w of o){c.push(w.batchId);for(const S of w.mutations)_=_.add(S.key)}for(const w of l){p.push(w.batchId);for(const S of w.mutations)_=_.add(S.key)}return t.localDocuments.getDocuments(r,_).next(w=>({Ki:w,removedBatchIds:c,addedBatchIds:p}))})})}),Z1.apply(this,arguments)}function sO(n,e){const t=ct(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),l=t.Ui.newChangeBuffer({trackRemovals:!0});return function(c,p,_,w){const S=_.batch,k=S.keys();let j=ye.resolve();return k.forEach(J=>{j=j.next(()=>w.getEntry(p,J)).next(se=>{const Be=_.docVersions.get(J);Ht(null!==Be),se.version.compareTo(Be)<0&&(S.applyToRemoteDocument(se,_),se.isValidDocument()&&(se.setReadTime(_.commitVersion),w.addEntry(se)))})}),j.next(()=>c.mutationQueue.removeMutationBatch(p,S))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let p=dn();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(p=p.add(c.batch.mutations[_].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function Dk(n){const e=ct(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function aO(n,e){const t=ct(n),r=e.snapshotVersion;let o=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Ui.newChangeBuffer({trackRemovals:!0});o=t.$i;const p=[];e.targetChanges.forEach((S,k)=>{const j=o.get(k);if(!j)return;p.push(t.Vs.removeMatchingKeys(l,S.removedDocuments,k).next(()=>t.Vs.addMatchingKeys(l,S.addedDocuments,k)));let J=j.withSequenceNumber(l.currentSequenceNumber);var se,Be,Xe;e.targetMismatches.has(k)?J=J.withResumeToken(Ai.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):S.resumeToken.approximateByteSize()>0&&(J=J.withResumeToken(S.resumeToken,r)),o=o.insert(k,J),Be=J,Xe=S,(0===(se=j).resumeToken.approximateByteSize()||Be.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=3e8||Xe.addedDocuments.size+Xe.modifiedDocuments.size+Xe.removedDocuments.size>0)&&p.push(t.Vs.updateTargetData(l,J))});let _=Fs(),w=dn();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,S))}),p.push(Ck(l,c,e.documentUpdates).next(S=>{_=S.Gi,w=S.Qi})),!r.isEqual(jt.min())){const S=t.Vs.getLastRemoteSnapshotVersion(l).next(k=>t.Vs.setTargetsMetadata(l,l.currentSequenceNumber,r));p.push(S)}return ye.waitFor(p).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,_,w)).next(()=>_)}).then(l=>(t.$i=o,l))}function Ck(n,e,t){let r=dn(),o=dn();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let c=Fs();return t.forEach((p,_)=>{const w=l.get(p);_.isFoundDocument()!==w.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(jt.min())?(e.removeEntry(p,_.readTime),c=c.insert(p,_)):!w.isValidDocument()||_.version.compareTo(w.version)>0||0===_.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(_),c=c.insert(p,_)):Qe("LocalStore","Ignoring outdated watch update for ",p,". Current version:",w.version," Watch version:",_.version)}),{Gi:c,Qi:o}})}function lO(n,e){const t=ct(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function my(n,e){const t=ct(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Vs.getTargetData(r,e).next(l=>l?(o=l,ye.resolve(o)):t.Vs.allocateTargetId(r).next(c=>(o=new wh(e,c,0,r.currentSequenceNumber),t.Vs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.$i.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.$i=t.$i.insert(r.targetId,r),t.Bi.set(e,r.targetId)),r})}function yy(n,e,t){return Y1.apply(this,arguments)}function Y1(){return Y1=(0,Se.Z)(function*(n,e,t){const r=ct(n),o=r.$i.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!gh(c))throw c;Qe("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.$i=r.$i.remove(e),r.Bi.delete(o.target)}),Y1.apply(this,arguments)}function WD(n,e,t){const r=ct(n);let o=jt.min(),l=dn();return r.persistence.runTransaction("Execute query","readonly",c=>function(p,_,w){const S=ct(p),k=S.Bi.get(w);return void 0!==k?ye.resolve(S.$i.get(k)):S.Vs.getTargetData(_,w)}(r,c,sl(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(c,p.targetId).next(_=>{l=_})}).next(()=>r.Fi.getDocumentsMatchingQuery(c,e,t?o:jt.min(),t?l:dn())).next(p=>(Sk(r,l2(e),p),{documents:p,ji:l})))}function Ak(n,e){const t=ct(n),r=ct(t.Vs),o=t.$i.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",l=>r.te(l,e).next(c=>c?c.target:null))}function Tk(n,e){const t=ct(n),r=t.Li.get(e)||jt.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Ui.getAllFromCollectionGroup(o,e,Fx(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(Sk(t,e,o),o))}function Sk(n,e,t){let r=jt.min();t.forEach((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Li.set(e,r)}function Q1(){return Q1=(0,Se.Z)(function*(n,e,t,r){const o=ct(n);let l=dn(),c=Fs();for(const w of t){const S=e.Wi(w.metadata.name);w.document&&(l=l.add(S));const k=e.zi(w);k.setReadTime(e.Hi(w.metadata.readTime)),c=c.insert(S,k)}const p=o.Ui.newChangeBuffer({trackRemovals:!0}),_=yield my(o,(w=r,sl(sy(Sn.fromString(`__bundle__/docs/${w}`)))));var w;return o.persistence.runTransaction("Apply bundle documents","readwrite",w=>Ck(w,p,c).next(S=>(p.apply(w),S)).next(S=>o.Vs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>o.Vs.addMatchingKeys(w,l,_.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(w,S.Gi,S.Qi)).next(()=>S.Gi)))}),Q1.apply(this,arguments)}function cO(n,e){return J1.apply(this,arguments)}function J1(){return J1=(0,Se.Z)(function*(n,e,t=dn()){const r=yield my(n,sl(j1(e.bundledQuery))),o=ct(n);return o.persistence.runTransaction("Save named query","readwrite",l=>{const c=Bi(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return o.Ds.saveNamedQuery(l,e);const p=r.withResumeToken(Ai.EMPTY_BYTE_STRING,c);return o.$i=o.$i.insert(p.targetId,p),o.Vs.updateTargetData(l,p).next(()=>o.Vs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>o.Vs.addMatchingKeys(l,t,r.targetId)).next(()=>o.Ds.saveNamedQuery(l,e))})}),J1.apply(this,arguments)}function Mk(n,e){return`firestore_clients_${n}_${e}`}function xk(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function X1(n,e){return`firestore_targets_${n}_${e}`}class qD{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Ji(e,t,r){const o=JSON.parse(r);let l,c="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return c&&o.error&&(c="string"==typeof o.error.message&&"string"==typeof o.error.code,c&&(l=new $e(o.error.code,o.error.message))),c?new qD(e,t,o.state,l):(pi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ab{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let o,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(o=new $e(r.error.code,r.error.message))),l?new ab(e,r.state,o):(pi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class KD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,l=RD();for(let c=0;o&&c<r.activeTargetIds.length;++c)o=zx(r.activeTargetIds[c]),l=l.add(r.activeTargetIds[c]);return o?new KD(e,l):(pi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class eS{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new eS(t.clientId,t.onlineState):(pi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class tS{constructor(){this.activeTargetIds=RD()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nS{constructor(e,t,r,o,l){this.window=e,this.js=t,this.persistenceKey=r,this.tr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Yr(an),this.started=!1,this.ir=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.rr=Mk(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new tS),this.cr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Se.Z)(function*(){const t=yield e.syncEngine.Ri();for(const o of t){if(o===e.tr)continue;const l=e.getItem(Mk(e.persistenceKey,o));if(l){const c=KD.Ji(o,l);c&&(e.sr=e.sr.insert(c.clientId,c))}}e._r();const r=e.storage.getItem(e.lr);if(r){const o=e.wr(r);o&&e.mr(o)}for(const o of e.ir)e.nr(o);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(X1(this.persistenceKey,e));if(r){const o=ab.Ji(e,r);o&&(t=o.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(X1(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.pr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Qe("SharedClientState","READ",e,t),t}setItem(e,t){Qe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Qe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Qe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void pi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,Se.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const o=t.Rr(r.key);return t.br(o,null)}{const o=t.Pr(r.key,r.newValue);if(o)return t.br(o.clientId,o)}}else if(t.ar.test(r.key)){if(null!==r.newValue){const o=t.vr(r.key,r.newValue);if(o)return t.Vr(o)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const o=t.Sr(r.key,r.newValue);if(o)return t.Dr(o)}}else if(r.key===t.lr){if(null!==r.newValue){const o=t.wr(r.newValue);if(o)return t.mr(o)}}else if(r.key===t.ur){const o=function(l){let c=Os.ot;if(null!=l)try{const p=JSON.parse(l);Ht("number"==typeof p),c=p}catch(p){pi("SharedClientState","Failed to read sequence number from WebStorage",p)}return c}(r.newValue);o!==Os.ot&&t.sequenceNumberHandler(o)}else if(r.key===t.dr){const o=t.Cr(r.newValue);yield Promise.all(o.map(l=>t.syncEngine.Nr(l)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const o=new qD(this.currentUser,e,t,r),l=xk(this.persistenceKey,this.currentUser,e);this.setItem(l,o.Yi())}pr(e){const t=xk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const o=X1(this.persistenceKey,e),l=new ab(e,t,r);this.setItem(o,l.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return KD.Ji(r,t)}vr(e,t){const r=this.ar.exec(e),o=Number(r[1]);return qD.Ji(new Li(void 0!==r[2]?r[2]:null),o,t)}Sr(e,t){const r=this.hr.exec(e),o=Number(r[1]);return ab.Ji(o,t)}wr(e){return eS.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,Se.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Qe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),o=this.gr(this.sr),l=this.gr(r),c=[],p=[];return l.forEach(_=>{o.has(_)||c.push(_)}),o.forEach(_=>{l.has(_)||p.push(_)}),this.syncEngine.Mr(c,p).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=RD();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class kk{constructor(){this.Fr=new tS,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new tS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dO{Br(e){}shutdown(){}}class Nk{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Qe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){Qe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const hO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class pO{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class fO extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,o,l){const c=this.oo(e,t);Qe("RestConnection","Sending: ",c,r);const p={};return this.uo(p,o,l),this.co(e,c,p,r).then(_=>(Qe("RestConnection","Received: ",_),_),_=>{throw N0("RestConnection",`${e} failed with error: `,_,"url: ",c,"request:",r),_})}ao(e,t,r,o,l,c){return this.ro(e,t,r,o,l)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ty,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),r&&r.headers.forEach((o,l)=>e[l]=o)}oo(e,t){return`${this.so}/v1/${t}:${hO[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,o){return new Promise((l,c)=>{const p=new pP;p.listenOnce(cP.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case _1.NO_ERROR:const w=p.getResponseJson();Qe("Connection","XHR received:",JSON.stringify(w)),l(w);break;case _1.TIMEOUT:Qe("Connection",'RPC "'+e+'" timed out'),c(new $e(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case _1.HTTP_ERROR:const S=p.getStatus();if(Qe("Connection",'RPC "'+e+'" failed with status:',S,"response text:",p.getResponseText()),S>0){const k=p.getResponseJson().error;if(k&&k.status&&k.message){const j=function(J){const se=J.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(se)>=0?se:Ee.UNKNOWN}(k.status);c(new $e(j,k.message))}else c(new $e(Ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else c(new $e(Ee.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{Qe("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(o);p.send(t,"POST",_,r,15)})}ho(e,t,r){const o=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=lP(),c=uP(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new hP({})),this.uo(p.initMessageHeaders,t,r),(0,F.uI)()||(0,F.b$)()||(0,F.d)()||(0,F.w1)()||(0,F.Mn)()||(0,F.ru)()||(p.httpHeadersOverwriteParam="$httpHeaders");const _=o.join("");Qe("Connection","Creating WebChannel: "+_,p);const w=l.createWebChannel(_,p);let S=!1,k=!1;const j=new pO({jr:se=>{k?Qe("Connection","Not sending because WebChannel is closed:",se):(S||(Qe("Connection","Opening WebChannel transport."),w.open(),S=!0),Qe("Connection","WebChannel sending:",se),w.send(se))},Wr:()=>w.close()}),J=(se,Be,Xe)=>{se.listen(Be,Gt=>{try{Xe(Gt)}catch(Yt){setTimeout(()=>{throw Yt},0)}})};return J(w,ED.EventType.OPEN,()=>{k||Qe("Connection","WebChannel transport opened.")}),J(w,ED.EventType.CLOSE,()=>{k||(k=!0,Qe("Connection","WebChannel transport closed"),j.eo())}),J(w,ED.EventType.ERROR,se=>{k||(k=!0,N0("Connection","WebChannel transport errored:",se),j.eo(new $e(Ee.UNAVAILABLE,"The operation could not be completed")))}),J(w,ED.EventType.MESSAGE,se=>{var Be;if(!k){const Xe=se.data[0];Ht(!!Xe);const Gt=Xe,Yt=Gt.error||(null===(Be=Gt[0])||void 0===Be?void 0:Be.error);if(Yt){Qe("Connection","WebChannel received error:",Yt);const ln=Yt.status;let Jt=function(Un){const ko=fi[Un];if(void 0!==ko)return D2(ko)}(ln),mn=Yt.message;void 0===Jt&&(Jt=Ee.INTERNAL,mn="Unknown error status: "+ln+" with message "+Yt.message),k=!0,j.eo(new $e(Jt,mn)),w.close()}else Qe("Connection","WebChannel received:",Xe),j.no(Xe)}}),J(c,dP.STAT_EVENT,se=>{se.stat===xx.PROXY?Qe("Connection","Detected buffering proxy"):se.stat===xx.NOPROXY&&Qe("Connection","Detected no buffering proxy")}),setTimeout(()=>{j.Zr()},0),j}}function Pk(){return typeof window<"u"?window:null}function ZD(){return typeof document<"u"?document:null}function lb(n){return new oR(n,!0)}class rS{constructor(e,t,r=1e3,o=1.5,l=6e4){this.js=e,this.timerId=t,this.lo=r,this.fo=o,this._o=l,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),o=Math.max(0,t-r);o>0&&Qe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,o,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class Rk{constructor(e,t,r,o,l,c,p,_){this.js=e,this.Ao=r,this.Ro=o,this.bo=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new rS(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,Se.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,Se.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var r=this;return(0,Se.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===Ee.RESOURCE_EXHAUSTED?(pi(t.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===Ee.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Po===t&&this.Uo(r,o)},r=>{e(()=>{const o=new $e(Ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(o)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(o=>{r(()=>this.qo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}xo(){var e=this;this.state=5,this.So.Io((0,Se.Z)(function*(){e.state=0,e.start()}))}qo(e){return Qe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(Qe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gO extends Rk{constructor(e,t,r,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,c),this.wt=l}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function lR(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:mt(),o=e.targetChange.targetIds||[],l=function(_,w){return _.dt?(Ht(void 0===w||"string"==typeof w),Ai.fromBase64String(w||"")):(Ht(void 0===w||w instanceof Uint8Array),Ai.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,p=c&&function(_){const w=void 0===_.code?Ee.UNKNOWN:D2(_.code);return new $e(w,_.message||"")}(c);t=new M2(r,o,l,p||null)}else if("documentChange"in e){const r=e.documentChange,o=Pu(n,r.document.name),l=Bi(r.document.updateTime),c=new oo({mapValue:{fields:r.document.fields}}),p=fr.newFoundDocument(o,l,c);t=new OD(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,o=Pu(n,r.document),l=r.readTime?Bi(r.readTime):jt.min(),c=fr.newNoDocument(o,l);t=new OD([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,o=Pu(n,r.document);t=new OD([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return mt();{const r=e.filter,l=new QP(r.count||0);t=new S2(r.targetId,l)}}var _;return t}(this.wt,e),r=function(o){if(!("targetChange"in o))return jt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?jt.min():l.readTime?Bi(l.readTime):jt.min()}(e);return this.listener.Go(t,r)}Qo(e){const t={};t.database=J0(this.wt),t.addTarget=function(o,l){let c;const p=l.target;return c=MD(p)?{documents:B2(o,p)}:{query:U2(o,p)},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?c.resumeToken=P2(o,l.resumeToken):l.snapshotVersion.compareTo(jt.min())>0&&(c.readTime=Y0(o,l.snapshotVersion.toTimestamp())),c}(this.wt,e);const r=function cR(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return mt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Mo(t)}jo(e){const t={};t.database=J0(this.wt),t.removeTarget=e,this.Mo(t)}}class mO extends Rk{constructor(e,t,r,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,c),this.wt=l,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function uR(n,e){return n&&n.length>0?(Ht(void 0!==e),n.map(t=>function(r,o){let l=Bi(r.updateTime?r.updateTime:o);return l.isEqual(jt.min())&&(l=Bi(o)),new KP(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Bi(e.commitTime);return this.listener.Jo(r,t)}return Ht(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=J0(this.wt),this.Mo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>X0(this.wt,r))};this.Mo(t)}}class yO extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.wt=o,this.Zo=!1}tu(){if(this.Zo)throw new $e(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.bo.ro(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $e(Ee.UNKNOWN,o.toString())})}ao(e,t,r,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.bo.ao(e,t,r,l,c,o)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new $e(Ee.UNKNOWN,l.toString())})}terminate(){this.Zo=!0}}class _O{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(pi(t),this.su=!1):Qe("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class vO{constructor(e,t,r,o,l){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=l,this.du.Br(p=>{r.enqueueAndForget((0,Se.Z)(function*(){var _;Dh(c)&&(Qe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Se.Z)(function*(w){const S=ct(w);S.lu.add(4),yield _y(S),S._u.set("Unknown"),S.lu.delete(4),yield ub(S)}),function(w){return _.apply(this,arguments)})(c))}))}),this._u=new _O(r,o)}}function ub(n){return iS.apply(this,arguments)}function iS(){return iS=(0,Se.Z)(function*(n){if(Dh(n))for(const e of n.fu)yield e(!0)}),iS.apply(this,arguments)}function _y(n){return oS.apply(this,arguments)}function oS(){return oS=(0,Se.Z)(function*(n){for(const e of n.fu)yield e(!1)}),oS.apply(this,arguments)}function YD(n,e){const t=ct(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),lS(t)?aS(t):by(t).Co()&&sS(t,e))}function cb(n,e){const t=ct(n),r=by(t);t.hu.delete(e),r.Co()&&Ok(t,e),0===t.hu.size&&(r.Co()?r.ko():Dh(t)&&t._u.set("Unknown"))}function sS(n,e){n.wu.Nt(e.targetId),by(n).Qo(e)}function Ok(n,e){n.wu.Nt(e),by(n).jo(e)}function aS(n){n.wu=new nR({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),by(n).start(),n._u.iu()}function lS(n){return Dh(n)&&!by(n).Do()&&n.hu.size>0}function Dh(n){return 0===ct(n).lu.size}function Fk(n){n.wu=void 0}function bO(n){return uS.apply(this,arguments)}function uS(){return uS=(0,Se.Z)(function*(n){n.hu.forEach((e,t)=>{sS(n,e)})}),uS.apply(this,arguments)}function wO(n,e){return cS.apply(this,arguments)}function cS(){return cS=(0,Se.Z)(function*(n,e){Fk(n),lS(n)?(n._u.uu(e),aS(n)):n._u.set("Unknown")}),cS.apply(this,arguments)}function EO(n,e,t){return dS.apply(this,arguments)}function dS(){return dS=(0,Se.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof M2&&2===e.state&&e.cause)try{yield(r=(0,Se.Z)(function*(o,l){const c=l.cause;for(const p of l.targetIds)o.hu.has(p)&&(yield o.remoteSyncer.rejectListen(p,c),o.hu.delete(p),o.wu.removeTarget(p))}),function(o,l){return r.apply(this,arguments)})(n,e)}catch(r){Qe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield QD(n,r)}else if(e instanceof OD?n.wu.Ut(e):e instanceof S2?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(jt.min()))try{const r=yield Dk(n.localStore);t.compareTo(r)>=0&&(yield function(o,l){const c=o.wu.Yt(l);return c.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const w=o.hu.get(_);w&&o.hu.set(_,w.withResumeToken(p.resumeToken,l))}}),c.targetMismatches.forEach(p=>{const _=o.hu.get(p);if(!_)return;o.hu.set(p,_.withResumeToken(Ai.EMPTY_BYTE_STRING,_.snapshotVersion)),Ok(o,p);const w=new wh(_.target,p,1,_.sequenceNumber);sS(o,w)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Qe("RemoteStore","Failed to raise snapshot:",r),yield QD(n,r)}var r}),dS.apply(this,arguments)}function QD(n,e,t){return hS.apply(this,arguments)}function hS(){return hS=(0,Se.Z)(function*(n,e,t){if(!gh(e))throw e;n.lu.add(1),yield _y(n),n._u.set("Offline"),t||(t=()=>Dk(n.localStore)),n.asyncQueue.enqueueRetryable((0,Se.Z)(function*(){Qe("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield ub(n)}))}),hS.apply(this,arguments)}function Lk(n,e){return e().catch(t=>QD(n,t,e))}function vy(n){return pS.apply(this,arguments)}function pS(){return pS=(0,Se.Z)(function*(n){const e=ct(n),t=Ch(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;IO(e);)try{const o=yield lO(e.localStore,r);if(null===o){0===e.au.length&&t.ko();break}r=o.batchId,DO(e,o)}catch(o){yield QD(e,o)}Vk(e)&&Bk(e)}),pS.apply(this,arguments)}function IO(n){return Dh(n)&&n.au.length<10}function DO(n,e){n.au.push(e);const t=Ch(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function Vk(n){return Dh(n)&&!Ch(n).Do()&&n.au.length>0}function Bk(n){Ch(n).start()}function CO(n){return fS.apply(this,arguments)}function fS(){return fS=(0,Se.Z)(function*(n){Ch(n).Xo()}),fS.apply(this,arguments)}function AO(n){return gS.apply(this,arguments)}function gS(){return gS=(0,Se.Z)(function*(n){const e=Ch(n);for(const t of n.au)e.Ho(t.mutations)}),gS.apply(this,arguments)}function TO(n,e,t){return mS.apply(this,arguments)}function mS(){return mS=(0,Se.Z)(function*(n,e,t){const r=n.au.shift(),o=B1.from(r,e,t);yield Lk(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield vy(n)}),mS.apply(this,arguments)}function SO(n,e){return yS.apply(this,arguments)}function yS(){return yS=(0,Se.Z)(function*(n,e){var t;e&&Ch(n).zo&&(yield(t=(0,Se.Z)(function*(r,o){if(I2(l=o.code)&&l!==Ee.ABORTED){const c=r.au.shift();Ch(r).No(),yield Lk(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o)),yield vy(r)}var l}),function(r,o){return t.apply(this,arguments)})(n,e)),Vk(n)&&Bk(n)}),yS.apply(this,arguments)}function Uk(n,e){return _S.apply(this,arguments)}function _S(){return _S=(0,Se.Z)(function*(n,e){const t=ct(n);t.asyncQueue.verifyOperationInProgress(),Qe("RemoteStore","RemoteStore received new credentials");const r=Dh(t);t.lu.add(3),yield _y(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield ub(t)}),_S.apply(this,arguments)}function vS(n,e){return bS.apply(this,arguments)}function bS(){return bS=(0,Se.Z)(function*(n,e){const t=ct(n);e?(t.lu.delete(2),yield ub(t)):e||(t.lu.add(2),yield _y(t),t._u.set("Unknown"))}),bS.apply(this,arguments)}function by(n){return n.mu||(n.mu=function(e,t,r){const o=ct(e);return o.tu(),new gO(t,o.bo,o.authCredentials,o.appCheckCredentials,o.wt,r)}(n.datastore,n.asyncQueue,{zr:bO.bind(null,n),Jr:wO.bind(null,n),Go:EO.bind(null,n)}),n.fu.push(function(){var e=(0,Se.Z)(function*(t){t?(n.mu.No(),lS(n)?aS(n):n._u.set("Unknown")):(yield n.mu.stop(),Fk(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Ch(n){return n.gu||(n.gu=function(e,t,r){const o=ct(e);return o.tu(),new mO(t,o.bo,o.authCredentials,o.appCheckCredentials,o.wt,r)}(n.datastore,n.asyncQueue,{zr:CO.bind(null,n),Jr:SO.bind(null,n),Yo:AO.bind(null,n),Jo:TO.bind(null,n)}),n.fu.push(function(){var e=(0,Se.Z)(function*(t){t?(n.gu.No(),yield vy(n)):(yield n.gu.stop(),n.au.length>0&&(Qe("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class wS{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,o,l){const c=Date.now()+r,p=new wS(e,t,c,o,l);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $e(Ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wy(n,e){if(pi("AsyncQueue",`${e}: ${n}`),gh(n))return new $e(Ee.UNAVAILABLE,`${e}: ${n}`);throw n}class Ey{constructor(e){this.comparator=e?(t,r)=>e(t,r)||lt.comparator(t.key,r.key):(t,r)=>lt.comparator(t.key,r.key),this.keyedMap=W0(),this.sortedSet=new Yr(this.comparator)}static emptySet(e){return new Ey(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ey)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Ey;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class jk{constructor(){this.yu=new Yr(lt.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):mt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Iy{constructor(e,t,r,o,l,c,p,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,r,o){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new Iy(e,t,Ey.emptySet(t),l,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&H0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class MO{constructor(){this.Iu=void 0,this.listeners=[]}}class xO{constructor(){this.queries=new bh(e=>a2(e),H0),this.onlineState="Unknown",this.Tu=new Set}}function ES(n,e){return IS.apply(this,arguments)}function IS(){return IS=(0,Se.Z)(function*(n,e){const t=ct(n),r=e.query;let o=!1,l=t.queries.get(r);if(l||(o=!0,l=new MO),o)try{l.Iu=yield t.onListen(r)}catch(c){const p=wy(c,`Initialization of query '${k1(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,l),l.listeners.push(e),e.Eu(t.onlineState),l.Iu&&e.Au(l.Iu)&&AS(t)}),IS.apply(this,arguments)}function DS(n,e){return CS.apply(this,arguments)}function CS(){return CS=(0,Se.Z)(function*(n,e){const t=ct(n),r=e.query;let o=!1;const l=t.queries.get(r);if(l){const c=l.listeners.indexOf(e);c>=0&&(l.listeners.splice(c,1),o=0===l.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),CS.apply(this,arguments)}function kO(n,e){const t=ct(n);let r=!1;for(const o of e){const c=t.queries.get(o.query);if(c){for(const p of c.listeners)p.Au(o)&&(r=!0);c.Iu=o}}r&&AS(t)}function NO(n,e,t){const r=ct(n),o=r.queries.get(e);if(o)for(const l of o.listeners)l.onError(t);r.queries.delete(e)}function AS(n){n.Tu.forEach(e=>{e.next()})}class TS{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Iy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Iy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class PO{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class Gk{constructor(e){this.wt=e}Wi(e){return Pu(this.wt,e)}zi(e){return e.metadata.exists?V2(this.wt,e.document,!1):fr.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return Bi(e)}}class RO{constructor(e,t,r){this.xu=e,this.localStore=t,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Hk(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=Sn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new Gk(this.wt);for(const o of e)if(o.metadata.queries){const l=r.Wi(o.metadata.name);for(const c of o.metadata.queries){const p=(t.get(c)||dn()).add(l);t.set(c,p)}}return t}complete(){var e=this;return(0,Se.Z)(function*(){const t=yield function uO(n,e,t,r){return Q1.apply(this,arguments)}(e.localStore,new Gk(e.wt),e.documents,e.xu.id),r=e.ku(e.documents);for(const o of e.queries)yield cO(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:t}})()}}function Hk(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class $k{constructor(e){this.key=e}}class zk{constructor(e){this.key=e}}class Wk{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=dn(),this.mutatedKeys=dn(),this.Lu=u2(e),this.Uu=new Ey(this.Lu)}get qu(){return this.Fu}Ku(e,t){const r=t?t.Gu:new jk,o=t?t.Uu:this.Uu;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,p=!1;const _="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,w="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((S,k)=>{const j=o.get(S),J=N1(this.query,k)?k:null,se=!!j&&this.mutatedKeys.has(j.key),Be=!!J&&(J.hasLocalMutations||this.mutatedKeys.has(J.key)&&J.hasCommittedMutations);let Xe=!1;j&&J?j.data.isEqual(J.data)?se!==Be&&(r.track({type:3,doc:J}),Xe=!0):this.Qu(j,J)||(r.track({type:2,doc:J}),Xe=!0,(_&&this.Lu(J,_)>0||w&&this.Lu(J,w)<0)&&(p=!0)):!j&&J?(r.track({type:0,doc:J}),Xe=!0):j&&!J&&(r.track({type:1,doc:j}),Xe=!0,(_||w)&&(p=!0)),Xe&&(J?(c=c.add(J),l=Be?l.add(S):l.delete(S)):(c=c.delete(S),l=l.delete(S)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const S="F"===this.query.limitType?c.last():c.first();c=c.delete(S.key),l=l.delete(S.key),r.track({type:1,doc:S})}return{Uu:c,Gu:r,Oi:p,mutatedKeys:l}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const l=e.Gu.pu();l.sort((w,S)=>function(k,j){const J=se=>{switch(se){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return J(k)-J(j)}(w.type,S.type)||this.Lu(w.doc,S.doc)),this.ju(r);const c=t?this.Wu():[],p=0===this.Bu.size&&this.current?1:0,_=p!==this.$u;return this.$u=p,0!==l.length||_?{snapshot:new Iy(this.query,e.Uu,o,l,e.mutatedKeys,0===p,_,!1),zu:c}:{zu:c}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new jk,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=dn(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new zk(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new $k(r))}),t}Ju(e){this.Fu=e.ji,this.Bu=dn();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return Iy.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class OO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class FO{constructor(e){this.key=e,this.Xu=!1}}class LO{constructor(e,t,r,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Zu={},this.tc=new bh(p=>a2(p),H0),this.ec=new Map,this.nc=new Set,this.sc=new Yr(lt.comparator),this.ic=new Map,this.rc=new $1,this.oc={},this.uc=new Map,this.cc=ff.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function VO(n,e){return SS.apply(this,arguments)}function SS(){return SS=(0,Se.Z)(function*(n,e){const t=QS(n);let r,o;const l=t.tc.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),o=l.view.Yu();else{const c=yield my(t.localStore,sl(e));t.isPrimaryClient&&YD(t.remoteStore,c);const p=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,o=yield MS(t,e,r,"current"===p)}return o}),SS.apply(this,arguments)}function MS(n,e,t,r){return xS.apply(this,arguments)}function xS(){return xS=(0,Se.Z)(function*(n,e,t,r){n.hc=(S,k,j)=>{return(J=(0,Se.Z)(function*(se,Be,Xe,Gt){let Yt=Be.view.Ku(Xe);Yt.Oi&&(Yt=yield WD(se.localStore,Be.query,!1).then(({documents:mn})=>Be.view.Ku(mn,Yt)));const ln=Gt&&Gt.targetChanges.get(Be.targetId),Jt=Be.view.applyChanges(Yt,se.isPrimaryClient,ln);return US(se,Be.targetId,Jt.zu),Jt.snapshot}),function(se,Be,Xe,Gt){return J.apply(this,arguments)})(n,S,k,j);var J};const o=yield WD(n.localStore,e,!0),l=new Wk(e,o.ji),c=l.Ku(o.documents),p=Z0.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),_=l.applyChanges(c,n.isPrimaryClient,p);US(n,t,_.zu);const w=new OO(e,t,l);return n.tc.set(e,w),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),_.snapshot}),xS.apply(this,arguments)}function BO(n,e){return kS.apply(this,arguments)}function kS(){return kS=(0,Se.Z)(function*(n,e){const t=ct(n),r=t.tc.get(e),o=t.ec.get(r.targetId);if(o.length>1)return t.ec.set(r.targetId,o.filter(l=>!H0(l,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield yy(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),cb(t.remoteStore,r.targetId),Dy(t,r.targetId)}).catch(fh))):(Dy(t,r.targetId),yield yy(t.localStore,r.targetId,!0))}),kS.apply(this,arguments)}function NS(){return NS=(0,Se.Z)(function*(n,e,t){const r=JS(n);try{const o=yield function(l,c){const p=ct(l),_=Ar.now(),w=c.reduce((j,J)=>j.add(J.key),dn());let S,k;return p.persistence.runTransaction("Locally write mutations","readwrite",j=>{let J=Fs(),se=dn();return p.Ui.getEntries(j,w).next(Be=>{J=Be,J.forEach((Xe,Gt)=>{Gt.isValidDocument()||(se=se.add(Xe))})}).next(()=>p.localDocuments.getOverlayedDocuments(j,J)).next(Be=>{S=Be;const Xe=[];for(const Gt of c){const Yt=YP(Gt,S.get(Gt.key).overlayedDocument);null!=Yt&&Xe.push(new Oc(Gt.key,Yt,Jx(Yt.value.mapValue),Fr.exists(!0)))}return p.mutationQueue.addMutationBatch(j,_,Xe,c)}).next(Be=>{k=Be;const Xe=Be.applyToLocalDocumentSet(S,se);return p.documentOverlayCache.saveOverlays(j,Be.batchId,Xe)})}).then(()=>({batchId:k.batchId,changes:A2(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(l,c,p){let _=l.oc[l.currentUser.toKey()];_||(_=new Yr(an)),_=_.insert(c,p),l.oc[l.currentUser.toKey()]=_}(r,o.batchId,t),yield Fc(r,o.changes),yield vy(r.remoteStore)}catch(o){const l=wy(o,"Failed to persist write");t.reject(l)}}),NS.apply(this,arguments)}function qk(n,e){return PS.apply(this,arguments)}function PS(){return PS=(0,Se.Z)(function*(n,e){const t=ct(n);try{const r=yield aO(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.ic.get(l);c&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Xu=!0:o.modifiedDocuments.size>0?Ht(c.Xu):o.removedDocuments.size>0&&(Ht(c.Xu),c.Xu=!1))}),yield Fc(t,r,e)}catch(r){yield fh(r)}}),PS.apply(this,arguments)}function Kk(n,e,t){const r=ct(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.tc.forEach((l,c)=>{const p=c.view.Eu(e);p.snapshot&&o.push(p.snapshot)}),function(l,c){const p=ct(l);p.onlineState=c;let _=!1;p.queries.forEach((w,S)=>{for(const k of S.listeners)k.Eu(c)&&(_=!0)}),_&&AS(p)}(r.eventManager,e),o.length&&r.Zu.Go(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function jO(n,e,t){return RS.apply(this,arguments)}function RS(){return RS=(0,Se.Z)(function*(n,e,t){const r=ct(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.ic.get(e),l=o&&o.key;if(l){let c=new Yr(lt.comparator);c=c.insert(l,fr.newNoDocument(l,jt.min()));const p=dn().add(l),_=new K0(jt.min(),new Map,new er(an),c,p);yield qk(r,_),r.sc=r.sc.remove(l),r.ic.delete(e),jS(r)}else yield yy(r.localStore,e,!1).then(()=>Dy(r,e,t)).catch(fh)}),RS.apply(this,arguments)}function GO(n,e){return OS.apply(this,arguments)}function OS(){return OS=(0,Se.Z)(function*(n,e){const t=ct(n),r=e.batch.batchId;try{const o=yield sO(t.localStore,e);BS(t,r,null),VS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Fc(t,o)}catch(o){yield fh(o)}}),OS.apply(this,arguments)}function HO(n,e,t){return FS.apply(this,arguments)}function FS(){return FS=(0,Se.Z)(function*(n,e,t){const r=ct(n);try{const o=yield function(l,c){const p=ct(l);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return p.mutationQueue.lookupMutationBatch(_,c).next(S=>(Ht(null!==S),w=S.keys(),p.mutationQueue.removeMutationBatch(_,S))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,w,c)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>p.localDocuments.getDocuments(_,w))})}(r.localStore,e);BS(r,e,t),VS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Fc(r,o)}catch(o){yield fh(o)}}),FS.apply(this,arguments)}function LS(){return LS=(0,Se.Z)(function*(n,e){const t=ct(n);Dh(t.remoteStore)||Qe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const c=ct(l);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>c.mutationQueue.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const o=t.uc.get(r)||[];o.push(e),t.uc.set(r,o)}catch(r){const o=wy(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),LS.apply(this,arguments)}function VS(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function BS(n,e,t){const r=ct(n);let o=r.oc[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.oc[r.currentUser.toKey()]=o}}function Dy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ec.get(e))n.tc.delete(r),t&&n.Zu.lc(r,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(r=>{n.rc.containsKey(r)||Zk(n,r)})}function Zk(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(cb(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),jS(n))}function US(n,e,t){for(const r of t)r instanceof $k?(n.rc.addReference(r.key,e),zO(n,r)):r instanceof zk?(Qe("SyncEngine","Document no longer in limbo: "+r.key),n.rc.removeReference(r.key,e),n.rc.containsKey(r.key)||Zk(n,r.key)):mt()}function zO(n,e){const t=e.key,r=t.path.canonicalString();n.sc.get(t)||n.nc.has(r)||(Qe("SyncEngine","New document in limbo: "+t),n.nc.add(r),jS(n))}function jS(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new lt(Sn.fromString(e)),r=n.cc.next();n.ic.set(r,new FO(t)),n.sc=n.sc.insert(t,r),YD(n.remoteStore,new wh(sl(sy(t.path)),r,2,Os.ot))}}function Fc(n,e,t){return GS.apply(this,arguments)}function GS(){return GS=(0,Se.Z)(function*(n,e,t){const r=ct(n),o=[],l=[],c=[];var p;r.tc.isEmpty()||(r.tc.forEach((p,_)=>{c.push(r.hc(_,e,t).then(w=>{if(w){r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,w.fromCache?"not-current":"current"),o.push(w);const S=K1.Vi(_.targetId,w);l.push(S)}}))}),yield Promise.all(c),r.Zu.Go(o),yield(p=(0,Se.Z)(function*(_,w){const S=ct(_);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>ye.forEach(w,j=>ye.forEach(j.Pi,J=>S.persistence.referenceDelegate.addReference(k,j.targetId,J)).next(()=>ye.forEach(j.vi,J=>S.persistence.referenceDelegate.removeReference(k,j.targetId,J)))))}catch(k){if(!gh(k))throw k;Qe("LocalStore","Failed to update sequence numbers: "+k)}for(const k of w){const j=k.targetId;if(!k.fromCache){const J=S.$i.get(j),Be=J.withLastLimboFreeSnapshotVersion(J.snapshotVersion);S.$i=S.$i.insert(j,Be)}}}),function(_,w){return p.apply(this,arguments)})(r.localStore,l))}),GS.apply(this,arguments)}function WO(n,e){return HS.apply(this,arguments)}function HS(){return HS=(0,Se.Z)(function*(n,e){const t=ct(n);if(!t.currentUser.isEqual(e)){Qe("SyncEngine","User change. New user:",e.toKey());const r=yield Ik(t.localStore,e);t.currentUser=e,(o=t).uc.forEach(c=>{c.forEach(p=>{p.reject(new $e(Ee.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.uc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Fc(t,r.Ki)}var o}),HS.apply(this,arguments)}function qO(n,e){const t=ct(n),r=t.ic.get(e);if(r&&r.Xu)return dn().add(r.key);{let o=dn();const l=t.ec.get(e);if(!l)return o;for(const c of l){const p=t.tc.get(c);o=o.unionWith(p.view.qu)}return o}}function KO(n,e){return $S.apply(this,arguments)}function $S(){return $S=(0,Se.Z)(function*(n,e){const t=ct(n),r=yield WD(t.localStore,e.query,!0),o=e.view.Ju(r);return t.isPrimaryClient&&US(t,e.targetId,o.zu),o}),$S.apply(this,arguments)}function ZO(n,e){return zS.apply(this,arguments)}function zS(){return zS=(0,Se.Z)(function*(n,e){const t=ct(n);return Tk(t.localStore,e).then(r=>Fc(t,r))}),zS.apply(this,arguments)}function YO(n,e,t,r){return WS.apply(this,arguments)}function WS(){return WS=(0,Se.Z)(function*(n,e,t,r){const o=ct(n),l=yield function(c,p){const _=ct(c),w=ct(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",S=>w.yn(S,p).next(k=>k?_.localDocuments.getDocuments(S,k):ye.resolve(null)))}(o.localStore,e);var p;null!==l?("pending"===t?yield vy(o.remoteStore):"acknowledged"===t||"rejected"===t?(BS(o,e,r||null),VS(o,e),p=e,ct(ct(o.localStore).mutationQueue).In(p)):mt(),yield Fc(o,l)):Qe("SyncEngine","Cannot apply mutation batch with id: "+e)}),WS.apply(this,arguments)}function qS(){return qS=(0,Se.Z)(function*(n,e){const t=ct(n);if(QS(t),JS(t),!0===e&&!0!==t.ac){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield Yk(t,r.toArray());t.ac=!0,yield vS(t.remoteStore,!0);for(const l of o)YD(t.remoteStore,l)}else if(!1===e&&!1!==t.ac){const r=[];let o=Promise.resolve();t.ec.forEach((l,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):o=o.then(()=>(Dy(t,c),yy(t.localStore,c,!0))),cb(t.remoteStore,c)}),yield o,yield Yk(t,r),function(l){const c=ct(l);c.ic.forEach((p,_)=>{cb(c.remoteStore,_)}),c.rc.cs(),c.ic=new Map,c.sc=new Yr(lt.comparator)}(t),t.ac=!1,yield vS(t.remoteStore,!1)}}),qS.apply(this,arguments)}function Yk(n,e,t){return KS.apply(this,arguments)}function KS(){return KS=(0,Se.Z)(function*(n,e,t){const r=ct(n),o=[],l=[];for(const c of e){let p;const _=r.ec.get(c);if(_&&0!==_.length){p=yield my(r.localStore,sl(_[0]));for(const w of _){const S=r.tc.get(w),k=yield KO(r,S);k.snapshot&&l.push(k.snapshot)}}else{const w=yield Ak(r.localStore,c);p=yield my(r.localStore,w),yield MS(r,Qk(w),c,!1)}o.push(p)}return r.Zu.Go(l),o}),KS.apply(this,arguments)}function Qk(n){return o2(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function JO(n){const e=ct(n);return ct(ct(e.localStore).persistence).Ri()}function XO(n,e,t,r){return ZS.apply(this,arguments)}function ZS(){return ZS=(0,Se.Z)(function*(n,e,t,r){const o=ct(n);if(o.ac)return void Qe("SyncEngine","Ignoring unexpected query state notification.");const l=o.ec.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const c=yield Tk(o.localStore,l2(l[0])),p=K0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Fc(o,c,p);break}case"rejected":yield yy(o.localStore,e,!0),Dy(o,e,r);break;default:mt()}}),ZS.apply(this,arguments)}function eF(n,e,t){return YS.apply(this,arguments)}function YS(){return YS=(0,Se.Z)(function*(n,e,t){const r=QS(n);if(r.ac){for(const o of e){if(r.ec.has(o)){Qe("SyncEngine","Adding an already active target "+o);continue}const l=yield Ak(r.localStore,o),c=yield my(r.localStore,l);yield MS(r,Qk(l),c.targetId,!1),YD(r.remoteStore,c)}for(const o of t)r.ec.has(o)&&(yield yy(r.localStore,o,!1).then(()=>{cb(r.remoteStore,o),Dy(r,o)}).catch(fh))}}),YS.apply(this,arguments)}function QS(n){const e=ct(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=qk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jO.bind(null,e),e.Zu.Go=kO.bind(null,e.eventManager),e.Zu.lc=NO.bind(null,e.eventManager),e}function JS(n){const e=ct(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HO.bind(null,e),e}class Jk{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Se.Z)(function*(){t.wt=lb(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return Ek(this.persistence,new wk,e.initialUser,this.wt)}_c(e){return new vk($D.Ms,this.wt)}dc(e){return new kk}terminate(){var e=this;return(0,Se.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Xk extends Jk{constructor(e,t,r){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Se.Z)(function*(){yield t().call(r,e),yield r.yc.initialize(r,e),yield JS(r.yc.syncEngine),yield vy(r.yc.remoteStore),yield r.persistence.ci(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return Ek(this.persistence,new wk,e.initialUser,this.wt)}mc(e,t){return new zR(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const r=new TP(t,this.persistence);return new AP(e.asyncQueue,r)}_c(e){const t=q1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ls.withCacheSize(this.cacheSizeBytes):Ls.DEFAULT;return new W1(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Pk(),ZD(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new kk}}class nF extends Xk{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Se.Z)(function*(){yield t().call(r,e);const o=r.yc.syncEngine;r.sharedClientState instanceof nS&&(r.sharedClientState.syncEngine={kr:YO.bind(null,o),Or:XO.bind(null,o),Mr:eF.bind(null,o),Ri:JO.bind(null,o),Nr:ZO.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.ci(function(){var l=(0,Se.Z)(function*(c){yield function QO(n,e){return qS.apply(this,arguments)}(r.yc.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return l.apply(this,arguments)}}())})()}dc(e){const t=Pk();if(!nS.V(t))throw new $e(Ee.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=q1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new nS(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class XS{initialize(e,t){var r=this;return(0,Se.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>Kk(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=WO.bind(null,r.syncEngine),yield vS(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new xO}createDatastore(e){const t=lb(e.databaseInfo.databaseId),r=new fO(e.databaseInfo);return new yO(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,l=p=>Kk(this.syncEngine,p,0),c=Nk.V()?new Nk:new dO,new vO(t,r,o,l,c);var t,r,o,l,c}createSyncEngine(e,t){return function(r,o,l,c,p,_,w){const S=new LO(r,o,l,c,p,_);return w&&(S.ac=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Se.Z)(function*(t){const r=ct(t);Qe("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield _y(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function eN(n,e=10240){let t=0;return{read:()=>(0,Se.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Se.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class JD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class rF{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new Vi,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,Se.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,Se.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,Se.Z)(function*(){const t=yield e.bc();if(null===t)return null;const r=e.Ac.decode(t),o=Number(r);isNaN(o)&&e.Pc(`length string (${r}) is not valid number`);const l=yield e.vc(o);return new PO(JSON.parse(l),t.length+o)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,Se.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}vc(e){var t=this;return(0,Se.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const r=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,Se.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class iF{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Se.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new $e(Ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,Se.Z)(function*(l,c){const p=ct(l),_=J0(p.wt)+"/documents",w={documents:c.map(J=>Q0(p.wt,J))},S=yield p.ao("BatchGetDocuments",_,w,c.length),k=new Map;S.forEach(J=>{const se=function aR(n,e){return"found"in e?function(t,r){Ht(!!r.found);const o=Pu(t,r.found.name),l=Bi(r.found.updateTime),c=new oo({mapValue:{fields:r.found.fields}});return fr.newFoundDocument(o,l,c)}(n,e):"missing"in e?function(t,r){Ht(!!r.missing),Ht(!!r.readTime);const o=Pu(t,r.missing),l=Bi(r.readTime);return fr.newNoDocument(o,l)}(n,e):mt()}(p.wt,J);k.set(se.key.toString(),se)});const j=[];return c.forEach(J=>{const se=k.get(J.toString());Ht(!!se),j.push(se)}),j}),function(l,c){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new dy(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Se.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const l=lt.fromPath(o);e.mutations.push(new P1(l,e.precondition(l)))}),yield(r=(0,Se.Z)(function*(o,l){const c=ct(o),p=J0(c.wt)+"/documents",_={writes:l.map(w=>X0(c.wt,w))};yield c.ro("Commit",p,_)}),function(o,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw mt();t=jt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new $e(Ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Fr.updateTime(t):Fr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(jt.min()))throw new $e(Ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fr.updateTime(t)}return Fr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class oF{constructor(e,t,r,o,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=l,this.Dc=r.maxAttempts,this.So=new rS(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,Se.Z)(function*(){const t=new iF(e.datastore),r=e.xc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(l=>{e.Nc(l)}))}).catch(o=>{e.Nc(o)})}))}xc(e){try{const t=this.updateFunction(e);return!L0(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!I2(t)}return!1}}class sF{constructor(e,t,r,o){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Li.UNAUTHENTICATED,this.clientId=Rx.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Se.Z)(function*(p){Qe("FirestoreClient","Received user=",p.uid),yield l.authCredentialListener(p),l.user=p});return function(p){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Qe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Se.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $e(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=wy(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function tN(n,e){return eM.apply(this,arguments)}function eM(){return eM=(0,Se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Qe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,Se.Z)(function*(l){r.isEqual(l)||(yield Ik(e.localStore,l),r=l)});return function(l){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),eM.apply(this,arguments)}function nN(n,e){return tM.apply(this,arguments)}function tM(){return tM=(0,Se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield nM(n);Qe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>Uk(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,l)=>Uk(e.remoteStore,l)),n.onlineComponents=e}),tM.apply(this,arguments)}function nM(n){return rM.apply(this,arguments)}function rM(){return rM=(0,Se.Z)(function*(n){return n.offlineComponents||(Qe("FirestoreClient","Using default OfflineComponentProvider"),yield tN(n,new Jk)),n.offlineComponents}),rM.apply(this,arguments)}function XD(n){return iM.apply(this,arguments)}function iM(){return iM=(0,Se.Z)(function*(n){return n.onlineComponents||(Qe("FirestoreClient","Using default OnlineComponentProvider"),yield nN(n,new XS)),n.onlineComponents}),iM.apply(this,arguments)}function rN(n){return nM(n).then(e=>e.persistence)}function oM(n){return nM(n).then(e=>e.localStore)}function iN(n){return XD(n).then(e=>e.remoteStore)}function sM(n){return XD(n).then(e=>e.syncEngine)}function Cy(n){return aM.apply(this,arguments)}function aM(){return aM=(0,Se.Z)(function*(n){const e=yield XD(n),t=e.eventManager;return t.onListen=VO.bind(null,e.syncEngine),t.onUnlisten=BO.bind(null,e.syncEngine),t}),aM.apply(this,arguments)}function oN(n,e,t={}){const r=new Vi;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(o,l,c,p,_){const w=new JD({next:k=>{l.enqueueAndForget(()=>DS(o,S));const j=k.docs.has(c);!j&&k.fromCache?_.reject(new $e(Ee.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&k.fromCache&&p&&"server"===p.source?_.reject(new $e(Ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(k)},error:k=>_.reject(k)}),S=new TS(sy(c.path),w,{includeMetadataChanges:!0,Du:!0});return ES(o,S)}(yield Cy(n),n.asyncQueue,e,t,r)})),r.promise}function sN(n,e,t={}){const r=new Vi;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(o,l,c,p,_){const w=new JD({next:k=>{l.enqueueAndForget(()=>DS(o,S)),k.fromCache&&"server"===p.source?_.reject(new $e(Ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(k)},error:k=>_.reject(k)}),S=new TS(c,w,{includeMetadataChanges:!0,Du:!0});return ES(o,S)}(yield Cy(n),n.asyncQueue,e,t,r)})),r.promise}const aN=new Map;function lM(n,e,t){if(!t)throw new $e(Ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function lN(n,e,t,r){if(!0===e&&!0===r)throw new $e(Ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function uN(n){if(!lt.isDocumentKey(n))throw new $e(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cN(n){if(lt.isDocumentKey(n))throw new $e(Ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function eC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":mt()}function Dn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $e(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=eC(n);throw new $e(Ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function dN(n,e){if(e<=0)throw new $e(Ee.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class hN{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new $e(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new $e(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,lN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class db{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hN({}),this._settingsFrozen=!1,e instanceof Pc?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new $e(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pc(o.options.projectId)}(e))}get app(){if(!this._app)throw new $e(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new $e(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hN(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new mP;switch(t.type){case"gapi":const r=t.client;return Ht(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new bP(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new $e(Ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=aN.get(e);t&&(Qe("ComponentProvider","Removing Datastore"),aN.delete(e),t.terminate())}(this),Promise.resolve()}}class wr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ou(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wr(this.firestore,e,this._key)}}class xo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xo(this.firestore,e,this._query)}}class Ou extends xo{constructor(e,t,r){super(e,t,sy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wr(this.firestore,null,new lt(e))}withConverter(e){return new Ou(this.firestore,e,this._path)}}function pN(n,e,...t){if(n=(0,F.m9)(n),lM("collection","path",e),n instanceof db){const r=Sn.fromString(e,...t);return cN(r),new Ou(n,null,r)}{if(!(n instanceof wr||n instanceof Ou))throw new $e(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Sn.fromString(e,...t));return cN(r),new Ou(n.firestore,null,r)}}function tC(n,e,...t){if(n=(0,F.m9)(n),1===arguments.length&&(e=Rx.I()),lM("doc","path",e),n instanceof db){const r=Sn.fromString(e,...t);return uN(r),new wr(n,null,new lt(r))}{if(!(n instanceof wr||n instanceof Ou))throw new $e(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Sn.fromString(e,...t));return uN(r),new wr(n.firestore,n instanceof Ou?n.converter:null,new lt(r))}}function fN(n,e){return n=(0,F.m9)(n),e=(0,F.m9)(e),(n instanceof wr||n instanceof Ou)&&(e instanceof wr||e instanceof Ou)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function gN(n,e){return n=(0,F.m9)(n),e=(0,F.m9)(e),n instanceof xo&&e instanceof xo&&n.firestore===e.firestore&&H0(n._query,e._query)&&n.converter===e.converter}class yF{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new rS(this,"async_queue_retry"),this.Kc=()=>{const t=ZD();t&&Qe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=ZD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=ZD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new Vi;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,Se.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(t){if(!gh(t))throw t;Qe("AsyncQueue","Operation failed with retryable error: "+t)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Oc.then(()=>(this.Lc=!0,e().catch(r=>{throw this.Bc=r,this.Lc=!1,pi("INTERNAL UNHANDLED ERROR: ",function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),c}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Oc=t,t}enqueueAfterDelay(e,t,r){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const o=wS.createAndSchedule(this,e,t,r,l=>this.Wc(l));return this.$c.push(o),o}Gc(){this.Bc&&mt()}verifyOperationInProgress(){}zc(){var e=this;return(0,Se.Z)(function*(){let t;do{t=e.Oc,yield t}while(t!==e.Oc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function uM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class _F{constructor(){this._progressObserver={},this._taskCompletionResolver=new Vi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Tr extends db{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new yF,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||mN(this),this._firestoreClient.terminate()}}function bF(n=(0,Io.getApp)()){return(0,Io._getProvider)(n,"firestore").getImmediate()}function gi(n){return n._firestoreClient||mN(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function mN(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new xP(n._databaseId,l,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var l,p;n._firestoreClient=new sF(n._authCredentials,n._appCheckCredentials,n._queue,r)}function yN(n,e,t){const r=new Vi;return n.asyncQueue.enqueue((0,Se.Z)(function*(){try{yield tN(n,t),yield nN(n,e),r.resolve()}catch(o){const l=o;if(!("FirebaseError"===(c=l).name?c.code===Ee.FAILED_PRECONDITION||c.code===Ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),r.reject(l)}var c})).then(()=>r.promise)}function _N(n){if(n._initialized||n._terminated)throw new $e(Ee.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Lc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new $e(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ri(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fu(Ai.fromBase64String(e))}catch(t){throw new $e(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fu(Ai.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class mf{constructor(e){this._methodName=e}}class nC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $e(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $e(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return an(this._lat,e._lat)||an(this._long,e._long)}}const MF=/^__.*__$/;class xF{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Oc(e,this.data,this.fieldMask,t,this.fieldTransforms):new cy(e,this.data,t,this.fieldTransforms)}}class vN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Oc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function bN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt()}}class rC{constructor(e,t,r,o,l,c){this.settings=e,this.databaseId=t,this.wt=r,this.ignoreUndefinedProperties=o,void 0===l&&this.Xc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new rC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ta({path:r,na:!1});return o.sa(e),o}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ta({path:r,na:!1});return o.Xc(),o}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return sC(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(bN(this.Zc)&&MF.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class kF{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=r||lb(e)}aa(e,t,r,o=!1){return new rC({Zc:e,methodName:t,ca:r,path:ri.emptyPath(),na:!1,ua:o},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function yf(n){const e=n._freezeSettings(),t=lb(n._databaseId);return new kF(n._databaseId,!!e.ignoreUndefinedProperties,t)}function iC(n,e,t,r,o,l={}){const c=n.aa(l.merge||l.mergeFields?2:0,e,t,o);pM("Data must be an object, but it was:",c,r);const p=IN(r,c);let _,w;if(l.merge)_=new Ma(c.fieldMask),w=c.fieldTransforms;else if(l.mergeFields){const S=[];for(const k of l.mergeFields){const j=fM(e,k,t);if(!c.contains(j))throw new $e(Ee.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);CN(S,j)||S.push(j)}_=new Ma(S),w=c.fieldTransforms.filter(k=>_.covers(k.field))}else _=null,w=c.fieldTransforms;return new xF(new oo(p),_,w)}class hb extends mf{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hb}}function wN(n,e,t){return new rC({Zc:3,ca:e.settings.ca,methodName:n._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class cM extends mf{_toFieldTransform(e){return new $0(e.path,new ly)}isEqual(e){return e instanceof cM}}class NF extends mf{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=wN(this,e,!0),r=this.ha.map(l=>_f(l,t)),o=new sf(r);return new $0(e.path,o)}isEqual(e){return this===e}}class PF extends mf{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=wN(this,e,!0),r=this.ha.map(l=>_f(l,t)),o=new af(r);return new $0(e.path,o)}isEqual(e){return this===e}}class RF extends mf{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new uy(e.wt,h2(e.wt,this.la));return new $0(e.path,t)}isEqual(e){return this===e}}function dM(n,e,t,r){const o=n.aa(1,e,t);pM("Data must be an object, but it was:",o,r);const l=[],c=oo.empty();ef(r,(_,w)=>{const S=oC(e,_,t);w=(0,F.m9)(w);const k=o.ia(S);if(w instanceof hb)l.push(S);else{const j=_f(w,k);null!=j&&(l.push(S),c.set(S,j))}});const p=new Ma(l);return new vN(c,p,o.fieldTransforms)}function hM(n,e,t,r,o,l){const c=n.aa(1,e,t),p=[fM(e,r,t)],_=[o];if(l.length%2!=0)throw new $e(Ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<l.length;j+=2)p.push(fM(e,l[j])),_.push(l[j+1]);const w=[],S=oo.empty();for(let j=p.length-1;j>=0;--j)if(!CN(w,p[j])){const J=p[j];let se=_[j];se=(0,F.m9)(se);const Be=c.ia(J);if(se instanceof hb)w.push(J);else{const Xe=_f(se,Be);null!=Xe&&(w.push(J),S.set(J,Xe))}}const k=new Ma(w);return new vN(S,k,c.fieldTransforms)}function EN(n,e,t,r=!1){return _f(t,n.aa(r?4:3,e))}function _f(n,e){if(DN(n=(0,F.m9)(n)))return pM("Unsupported field value:",e,n),IN(n,e);if(n instanceof mf)return function(t,r){if(!bN(r.Zc))throw r.oa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,r){const o=[];let l=0;for(const c of t){let p=_f(c,r.ra(l));null==p&&(p={nullValue:"NULL_VALUE"}),o.push(p),l++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,F.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return h2(r.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Ar.fromDate(t);return{timestampValue:Y0(r.wt,o)}}if(t instanceof Ar){const o=new Ar(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Y0(r.wt,o)}}if(t instanceof nC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Fu)return{bytesValue:P2(r.wt,t._byteString)};if(t instanceof wr){const o=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(o))throw r.oa(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:R1(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.oa(`Unsupported field value: ${eC(t)}`)}(n,e)}function IN(n,e){const t={};return Gx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ef(n,(r,o)=>{const l=_f(o,e.ea(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function DN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ar||n instanceof nC||n instanceof Fu||n instanceof wr||n instanceof mf)}function pM(n,e,t){if(!DN(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=eC(t);throw e.oa("an object"===r?n+" a custom object":n+" "+r)}var r}function fM(n,e,t){if((e=(0,F.m9)(e))instanceof Lc)return e._internalPath;if("string"==typeof e)return oC(n,e);throw sC("Field path arguments must be of type string or ",n,!1,void 0,t)}const OF=new RegExp("[~\\*/\\[\\]]");function oC(n,e,t){if(e.search(OF)>=0)throw sC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Lc(...e.split("."))._internalPath}catch{throw sC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function sC(n,e,t,r,o){const l=r&&!r.isEmpty(),c=void 0!==o;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(l||c)&&(_+=" (found",l&&(_+=` in field ${r}`),c&&(_+=` in document ${o}`),_+=")"),new $e(Ee.INVALID_ARGUMENT,p+n+_)}function CN(n,e){return n.some(t=>t.isEqual(e))}class pb{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new wr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new FF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(aC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class FF extends pb{data(){return super.data()}}function aC(n,e){return"string"==typeof e?oC(n,e):e instanceof Lc?e._internalPath:e._delegate._internalPath}class vf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vc extends pb{constructor(e,t,r,o,l,c){super(e,t,r,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new fb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(aC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class fb extends Vc{data(e={}){return super.data(e)}}class Ah{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new vf(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new fb(this._firestore,this._userDataWriter,r.key,r,new vf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $e(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new fb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new vf(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>o||3!==c.type).map(c=>{const p=new fb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new vf(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,w=-1;return 0!==c.type&&(_=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),1!==c.type&&(l=l.add(c.doc),w=l.indexOf(c.doc.key)),{type:LF(c.type),doc:p,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function LF(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}function AN(n,e){return n instanceof Vc&&e instanceof Vc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Ah&&e instanceof Ah&&n._firestore===e._firestore&&gN(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function TN(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new $e(Ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gb{}function Th(n,...e){for(const t of e)n=t._apply(n);return n}class VF extends gb{constructor(e,t,r){super(),this.fa=e,this.da=t,this._a=r,this.type="where"}_apply(e){const t=yf(e.firestore),r=function(o,l,c,p,_,w,S){let k;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new $e(Ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){PN(S,w);const J=[];for(const se of S)J.push(NN(p,o,se));k={arrayValue:{values:J}}}else k=NN(p,o,S)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||PN(S,w),k=EN(c,"where",S,"in"===w||"not-in"===w);const j=so.create(_,w,k);return function(J,se){if(se.ht()){const Xe=M1(J);if(null!==Xe&&!Xe.isEqual(se.field))throw new $e(Ee.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Xe.toString()}' and '${se.field.toString()}'`);const Gt=S1(J);null!==Gt&&RN(0,se.field,Gt)}const Be=function(Xe,Gt){for(const Yt of Xe.filters)if(Gt.indexOf(Yt.op)>=0)return Yt.op;return null}(J,function(Xe){switch(Xe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(se.op));if(null!==Be)throw new $e(Ee.INVALID_ARGUMENT,Be===se.op?`Invalid query. You cannot use more than one '${se.op.toString()}' filter.`:`Invalid query. You cannot use '${se.op.toString()}' filters with '${Be.toString()}' filters.`)}(o,j),j}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new xo(e.firestore,e.converter,function(o,l){const c=o.filters.concat([l]);return new Rc(o.path,o.collectionGroup,o.explicitOrderBy.slice(),c,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class UF extends gb{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(r,o,l){if(null!==r.startAt)throw new $e(Ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new $e(Ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new oy(o,l);return function(p,_){if(null===S1(p)){const w=M1(p);null!==w&&RN(0,w,_.field)}}(r,c),c}(e._query,this.fa,this.wa);return new xo(e.firestore,e.converter,function(r,o){const l=r.explicitOrderBy.concat([o]);return new Rc(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class SN extends gb{constructor(e,t,r){super(),this.type=e,this.ma=t,this.ga=r}_apply(e){return new xo(e.firestore,e.converter,s2(e._query,this.ma,this.ga))}}class MN extends gb{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=kN(e,this.type,this.ya,this.pa);return new xo(e.firestore,e.converter,(o=t,new Rc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class xN extends gb{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=kN(e,this.type,this.ya,this.pa);return new xo(e.firestore,e.converter,(o=t,new Rc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function kN(n,e,t,r){if(t[0]=(0,F.m9)(t[0]),t[0]instanceof pb)return function(o,l,c,p,_){if(!p)throw new $e(Ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const w=[];for(const S of ay(o))if(S.field.isKeyField())w.push(rf(l,p.key));else{const k=p.data.field(S.field);if(C1(k))throw new $e(Ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===k){const j=S.field.canonicalString();throw new $e(Ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${j}' (used as the orderBy) does not exist.`)}w.push(k)}return new vh(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=yf(n.firestore);return function(l,c,p,_,w,S){const k=l.explicitOrderBy;if(w.length>k.length)throw new $e(Ee.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const j=[];for(let J=0;J<w.length;J++){const se=w[J];if(k[J].field.isKeyField()){if("string"!=typeof se)throw new $e(Ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof se}`);if(!x1(l)&&-1!==se.indexOf("/"))throw new $e(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${se}' contains a slash.`);const Be=l.path.child(Sn.fromString(se));if(!lt.isDocumentKey(Be))throw new $e(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${Be}' is not because it contains an odd number of segments.`);const Xe=new lt(Be);j.push(rf(c,Xe))}else{const Be=EN(p,_,se);j.push(Be)}}return new vh(j,S)}(n._query,n.firestore._databaseId,o,e,t,r)}}function NN(n,e,t){if("string"==typeof(t=(0,F.m9)(t))){if(""===t)throw new $e(Ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!x1(e)&&-1!==t.indexOf("/"))throw new $e(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Sn.fromString(t));if(!lt.isDocumentKey(r))throw new $e(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rf(n,new lt(r))}if(t instanceof wr)return rf(n,t._key);throw new $e(Ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${eC(t)}.`)}function PN(n,e){if(!Array.isArray(n)||0===n.length)throw new $e(Ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new $e(Ee.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function RN(n,e,t){if(!t.isEqual(e))throw new $e(Ee.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const KF={maxAttempts:5};class gM{convertValue(e,t="none"){switch(nf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(tf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw mt()}}convertObject(e,t){const r={};return ef(e.fields,(o,l)=>{r[o]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new nC(Qr(e.latitude),Qr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=$x(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(F0(e));default:return null}}convertTimestamp(e){const t=mh(e);return new Ar(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Sn.fromString(e);Ht(H2(r));const o=new Pc(r.get(1),r.get(3)),l=new lt(r.popFirst(5));return o.isEqual(t)||pi(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function lC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class ZF extends gM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wr(this.firestore,null,t)}}class ON{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=yf(e)}set(e,t,r){this._verifyNotCommitted();const o=Sh(e,this._firestore),l=lC(o.converter,t,r),c=iC(this._dataReader,"WriteBatch.set",o._key,l,null!==o.converter,r);return this._mutations.push(c.toMutation(o._key,Fr.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const l=Sh(e,this._firestore);let c;return c="string"==typeof(t=(0,F.m9)(t))||t instanceof Lc?hM(this._dataReader,"WriteBatch.update",l._key,t,r,o):dM(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,Fr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Sh(e,this._firestore);return this._mutations=this._mutations.concat(new dy(t._key,Fr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $e(Ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Sh(n,e){if((n=(0,F.m9)(n)).firestore!==e)throw new $e(Ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class bf extends gM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wr(this.firestore,null,t)}}function FN(n,e,t){n=Dn(n,wr);const r=Dn(n.firestore,Tr),o=lC(n.converter,e,t);return Ay(r,[iC(yf(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Fr.none())])}function LN(n,e,t,...r){n=Dn(n,wr);const o=Dn(n.firestore,Tr),l=yf(o);let c;return c="string"==typeof(e=(0,F.m9)(e))||e instanceof Lc?hM(l,"updateDoc",n._key,e,t,r):dM(l,"updateDoc",n._key,e),Ay(o,[c.toMutation(n._key,Fr.exists(!0))])}function VN(n,...e){var t,r,o;n=(0,F.m9)(n);let l={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||uM(e[c])||(l=e[c],c++);const p={includeMetadataChanges:l.includeMetadataChanges};if(uM(e[c])){const k=e[c];e[c]=null===(t=k.next)||void 0===t?void 0:t.bind(k),e[c+1]=null===(r=k.error)||void 0===r?void 0:r.bind(k),e[c+2]=null===(o=k.complete)||void 0===o?void 0:o.bind(k)}let _,w,S;if(n instanceof wr)w=Dn(n.firestore,Tr),S=sy(n._key.path),_={next:k=>{e[c]&&e[c](mM(w,n,k))},error:e[c+1],complete:e[c+2]};else{const k=Dn(n,xo);w=Dn(k.firestore,Tr),S=k._query;const j=new bf(w);_={next:J=>{e[c]&&e[c](new Ah(w,j,k,J))},error:e[c+1],complete:e[c+2]},TN(n._query)}return function(k,j,J,se){const Be=new JD(se),Xe=new TS(j,Be,J);return k.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return ES(yield Cy(k),Xe)})),()=>{Be.Tc(),k.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return DS(yield Cy(k),Xe)}))}}(gi(w),S,p,_)}function Ay(n,e){return function(t,r){const o=new Vi;return t.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function UO(n,e,t){return NS.apply(this,arguments)}(yield sM(t),r,o)})),o.promise}(gi(n),e)}function mM(n,e,t){const r=t.docs.get(e._key),o=new bf(n);return new Vc(n,o,e._key,r,new vf(t.hasPendingWrites,t.fromCache),e.converter)}class o3 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=yf(e)}get(e){const t=Sh(e,this._firestore),r=new ZF(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return mt();const l=o[0];if(l.isFoundDocument())return new pb(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new pb(this._firestore,r,t._key,null,t.converter);throw mt()})}set(e,t,r){const o=Sh(e,this._firestore),l=lC(o.converter,t,r),c=iC(this._dataReader,"Transaction.set",o._key,l,null!==o.converter,r);return this._transaction.set(o._key,c),this}update(e,t,r,...o){const l=Sh(e,this._firestore);let c;return c="string"==typeof(t=(0,F.m9)(t))||t instanceof Lc?hM(this._dataReader,"Transaction.update",l._key,t,r,o):dM(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,c),this}delete(e){const t=Sh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Sh(e,this._firestore),r=new bf(this._firestore);return super.get(e).then(o=>new Vc(this._firestore,r,t._key,o._document,new vf(!1,!1),t.converter))}}function yM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new $e("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function UN(){if(typeof Uint8Array>"u")throw new $e("unimplemented","Uint8Arrays are not available in this environment.")}function jN(){if(!function SP(){return typeof atob<"u"}())throw new $e("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){ty=Io.SDK_VERSION,(0,Io._registerComponent)(new Ll.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),l=new Tr(o,new _P(t.getProvider("auth-internal")),new wP(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,Io.registerVersion)(kx,"3.4.11",n),(0,Io.registerVersion)(kx,"3.4.11","esm2017")}();class mb{constructor(e){this._delegate=e}static fromBase64String(e){return jN(),new mb(Fu.fromBase64String(e))}static fromUint8Array(e){return UN(),new mb(Fu.fromUint8Array(e))}toBase64(){return jN(),this._delegate.toBase64()}toUint8Array(){return UN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function _M(n){return function f3(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class g3{enableIndexedDbPersistence(e,t){return function wF(n,e){_N(n=Dn(n,Tr));const t=gi(n),r=n._freezeSettings(),o=new XS;return yN(t,o,new Xk(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function EF(n){_N(n=Dn(n,Tr));const e=gi(n),t=n._freezeSettings(),r=new XS;return yN(e,r,new nF(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function IF(n){if(n._initialized&&!n._terminated)throw new $e(Ee.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Vi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{yield(t=(0,Se.Z)(function*(r){if(!Kl.V())return Promise.resolve();const o=r+"main";yield Kl.delete(o)}),function(r){return t.apply(this,arguments)})(q1(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class GN{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Pc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&N0("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function gF(n,e,t,r={}){var o;const l=(n=Dn(n,db))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&N0("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,p;if("string"==typeof r.mockUserToken)c=r.mockUserToken,p=Li.MOCK_USER;else{c=(0,F.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new $e(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Li(_)}n._authCredentials=new yP(new Nx(c,p))}}(this._delegate,e,t,r)}enableNetwork(){return function CF(n){return function aF(n){return n.asyncQueue.enqueue((0,Se.Z)(function*(){const e=yield rN(n),t=yield iN(n);return e.setNetworkEnabled(!0),function(r){const o=ct(r);return o.lu.delete(0),ub(o)}(t)}))}(gi(n=Dn(n,Tr)))}(this._delegate)}disableNetwork(){return function AF(n){return function lF(n){return n.asyncQueue.enqueue((0,Se.Z)(function*(){const e=yield rN(n),t=yield iN(n);return e.setNetworkEnabled(!1),(r=(0,Se.Z)(function*(o){const l=ct(o);l.lu.add(0),yield _y(l),l._u.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(gi(n=Dn(n,Tr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,lN("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function DF(n){return function(e){const t=new Vi;return e.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function $O(n,e){return LS.apply(this,arguments)}(yield sM(e),t)})),t.promise}(gi(n=Dn(n,Tr)))}(this._delegate)}onSnapshotsInSync(e){return function i3(n,e){return function dF(n,e){const t=new JD(e);return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return r=yield Cy(n),o=t,ct(r).Tu.add(o),void o.next();var r,o})),()=>{t.Tc(),n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return r=yield Cy(n),o=t,void ct(r).Tu.delete(o);var r,o}))}}(gi(n=Dn(n,Tr)),uM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new $e("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ty(this,pN(this._delegate,e))}catch(t){throw rs(t,"collection()","Firestore.collection()")}}doc(e){try{return new al(this,tC(this._delegate,e))}catch(t){throw rs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new is(this,function mF(n,e){if(n=Dn(n,db),lM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new $e(Ee.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new xo(n,null,(t=e,new Rc(Sn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw rs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function s3(n,e,t){n=Dn(n,Tr);const r=Object.assign(Object.assign({},KF),t);return function(o){if(o.maxAttempts<1)throw new $e(Ee.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function hF(n,e,t){const r=new Vi;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){const o=yield(l=n,XD(l).then(c=>c.datastore));var l;new oF(n.asyncQueue,o,t,e,r).run()})),r.promise}(gi(n),o=>e(new o3(n,o)),r)}(this._delegate,t=>e(new HN(this,t)))}batch(){return gi(this._delegate),new $N(new ON(this._delegate,e=>Ay(this._delegate,e)))}loadBundle(e){return function TF(n,e){const t=gi(n=Dn(n,Tr)),r=new _F;return function pF(n,e,t,r){const o=function(l,c){let p;return p="string"==typeof l?(new TextEncoder).encode(l):l,_=function(_,w){if(_ instanceof Uint8Array)return eN(_,w);if(_ instanceof ArrayBuffer)return eN(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new rF(_,c);var _}(t,lb(e));n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){!function tF(n,e,t){const r=ct(n);var o;(o=(0,Se.Z)(function*(l,c,p){try{const _=yield c.getMetadata();if(yield function(j,J){const se=ct(j),Be=Bi(J.createTime);return se.persistence.runTransaction("hasNewerBundle","readonly",Xe=>se.Ds.getBundleMetadata(Xe,J.id)).then(Xe=>!!Xe&&Xe.createTime.compareTo(Be)>=0)}(l.localStore,_))return yield c.close(),p._completeWith({taskState:"Success",documentsLoaded:(j=_).totalDocuments,bytesLoaded:j.totalBytes,totalDocuments:j.totalDocuments,totalBytes:j.totalBytes}),Promise.resolve(new Set);p._updateProgress(Hk(_));const w=new RO(_,l.localStore,c.wt);let S=yield c.fc();for(;S;){const j=yield w.Nu(S);j&&p._updateProgress(j),S=yield c.fc()}const k=yield w.complete();return yield Fc(l,k.Mu,void 0),yield function(j,J){const se=ct(j);return se.persistence.runTransaction("Save bundle","readwrite",Be=>se.Ds.saveBundleMetadata(Be,J))}(l.localStore,_),p._completeWith(k.progress),Promise.resolve(k.Ou)}catch(_){return N0("SyncEngine",`Loading bundle failed with ${_}`),p._failWith(_),Promise.resolve(new Set)}var j}),function(l,c,p){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield sM(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function SF(n,e){return function fF(n,e){return n.asyncQueue.enqueue((0,Se.Z)(function*(){return function(t,r){const o=ct(t);return o.persistence.runTransaction("Get named query","readonly",l=>o.Ds.getNamedQuery(l,r))}(yield oM(n),e)}))}(gi(n=Dn(n,Tr)),e).then(t=>t?new xo(n,null,t.query):null)}(this._delegate,e).then(t=>t?new is(this,t):null)}}class uC extends gM{constructor(e){super(),this.firestore=e}convertBytes(e){return new mb(new Fu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return al.forKey(t,this.firestore,null)}}class HN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new uC(e)}get(e){const t=Ef(e);return this._delegate.get(t).then(r=>new yb(this._firestore,new Vc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Ef(e);return r?(yM("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=Ef(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=Ef(e);return this._delegate.delete(t),this}}class $N{constructor(e){this._delegate=e}set(e,t,r){const o=Ef(e);return r?(yM("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=Ef(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=Ef(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class wf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new fb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new _b(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=wf.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let l=o.get(t);return l||(l=new wf(e,new uC(e),t),o.set(t,l)),l}}wf.INSTANCES=new WeakMap;class al{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new uC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new $e("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new al(t,new wr(t._delegate,r,new lt(e)))}static forKey(e,t,r){return new al(t,new wr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ty(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ty(this.firestore,pN(this._delegate,e))}catch(t){throw rs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,F.m9)(e))instanceof wr&&fN(this._delegate,e)}set(e,t){t=yM("DocumentReference.set",t);try{return t?FN(this._delegate,e,t):FN(this._delegate,e)}catch(r){throw rs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?LN(this._delegate,e):LN(this._delegate,e,t,...r)}catch(o){throw rs(o,"updateDoc()","DocumentReference.update()")}}delete(){return function n3(n){return Ay(Dn(n.firestore,Tr),[new dy(n._key,Fr.none())])}(this._delegate)}onSnapshot(...e){const t=zN(e),r=WN(e,o=>new yb(this.firestore,new Vc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return VN(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function QF(n){n=Dn(n,wr);const e=Dn(n.firestore,Tr),t=gi(e),r=new bf(e);return function uF(n,e){const t=new Vi;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(r=(0,Se.Z)(function*(o,l,c){try{const p=yield function(_,w){const S=ct(_);return S.persistence.runTransaction("read document","readonly",k=>S.localDocuments.getDocument(k,w))}(o,l);p.isFoundDocument()?c.resolve(p):p.isNoDocument()?c.resolve(null):c.reject(new $e(Ee.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const _=wy(p,`Failed to get document '${l} from cache`);c.reject(_)}}),function(o,l,c){return r.apply(this,arguments)})(yield oM(n),e,t);var r})),t.promise}(t,n._key).then(o=>new Vc(e,r,n._key,o,new vf(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function JF(n){n=Dn(n,wr);const e=Dn(n.firestore,Tr);return oN(gi(e),n._key,{source:"server"}).then(t=>mM(e,n,t))}(this._delegate):function YF(n){n=Dn(n,wr);const e=Dn(n.firestore,Tr);return oN(gi(e),n._key).then(t=>mM(e,n,t))}(this._delegate),t.then(r=>new yb(this.firestore,new Vc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new al(this.firestore,this._delegate.withConverter(e?wf.getInstance(this.firestore,e):null))}}function rs(n,e,t){return n.message=n.message.replace(e,t),n}function zN(n){for(const e of n)if("object"==typeof e&&!_M(e))return e;return{}}function WN(n,e){var t,r;let o;return o=_M(n[0])?n[0]:_M(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{o.next&&o.next(e(l))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class yb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new al(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return AN(this._delegate,e._delegate)}}class _b extends yb{data(e){const t=this._delegate.data(e);return function gP(n,e){n||mt()}(void 0!==t),t}}class is{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new uC(e)}where(e,t,r){try{return new is(this.firestore,Th(this._delegate,function BF(n,e,t){const r=e,o=aC("where",n);return new VF(o,r,t)}(e,t,r)))}catch(o){throw rs(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new is(this.firestore,Th(this._delegate,function jF(n,e="asc"){const t=e,r=aC("orderBy",n);return new UF(r,t)}(e,t)))}catch(r){throw rs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new is(this.firestore,Th(this._delegate,function GF(n){return dN("limit",n),new SN("limit",n,"F")}(e)))}catch(t){throw rs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new is(this.firestore,Th(this._delegate,function HF(n){return dN("limitToLast",n),new SN("limitToLast",n,"L")}(e)))}catch(t){throw rs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new is(this.firestore,Th(this._delegate,function $F(...n){return new MN("startAt",n,!0)}(...e)))}catch(t){throw rs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new is(this.firestore,Th(this._delegate,function zF(...n){return new MN("startAfter",n,!1)}(...e)))}catch(t){throw rs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new is(this.firestore,Th(this._delegate,function WF(...n){return new xN("endBefore",n,!1)}(...e)))}catch(t){throw rs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new is(this.firestore,Th(this._delegate,function qF(...n){return new xN("endAt",n,!0)}(...e)))}catch(t){throw rs(t,"endAt()","Query.endAt()")}}isEqual(e){return gN(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function e3(n){n=Dn(n,xo);const e=Dn(n.firestore,Tr),t=gi(e),r=new bf(e);return function cF(n,e){const t=new Vi;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(r=(0,Se.Z)(function*(o,l,c){try{const p=yield WD(o,l,!0),_=new Wk(l,p.ji),w=_.Ku(p.documents),S=_.applyChanges(w,!1);c.resolve(S.snapshot)}catch(p){const _=wy(p,`Failed to execute query '${l} against cache`);c.reject(_)}}),function(o,l,c){return r.apply(this,arguments)})(yield oM(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Ah(e,r,n,o))}(this._delegate):"server"===e?.source?function t3(n){n=Dn(n,xo);const e=Dn(n.firestore,Tr),t=gi(e),r=new bf(e);return sN(t,n._query,{source:"server"}).then(o=>new Ah(e,r,n,o))}(this._delegate):function XF(n){n=Dn(n,xo);const e=Dn(n.firestore,Tr),t=gi(e),r=new bf(e);return TN(n._query),sN(t,n._query).then(o=>new Ah(e,r,n,o))}(this._delegate),t.then(r=>new vM(this.firestore,new Ah(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=zN(e),r=WN(e,o=>new vM(this.firestore,new Ah(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return VN(this._delegate,t,r)}withConverter(e){return new is(this.firestore,this._delegate.withConverter(e?wf.getInstance(this.firestore,e):null))}}class y3{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new _b(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class vM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new is(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new _b(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new y3(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new _b(this._firestore,r))})}isEqual(e){return AN(this._delegate,e._delegate)}}class Ty extends is{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new al(this.firestore,e):null}doc(e){try{return new al(this.firestore,void 0===e?tC(this._delegate):tC(this._delegate,e))}catch(t){throw rs(t,"doc()","CollectionReference.doc()")}}add(e){return function r3(n,e){const t=Dn(n.firestore,Tr),r=tC(n),o=lC(n.converter,e);return Ay(t,[iC(yf(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Fr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new al(this.firestore,t))}isEqual(e){return fN(this._delegate,e._delegate)}withConverter(e){return new Ty(this.firestore,this._delegate.withConverter(e?wf.getInstance(this.firestore,e):null))}}function Ef(n){return Dn(n,wr)}class bM{constructor(...e){this._delegate=new Lc(...e)}static documentId(){return new bM(ri.keyField().canonicalString())}isEqual(e){return(e=(0,F.m9)(e))instanceof Lc&&this._delegate._internalPath.isEqual(e._internalPath)}}class If{constructor(e){this._delegate=e}static serverTimestamp(){const e=function l3(){return new cM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new If(e)}static delete(){const e=function a3(){return new hb("deleteField")}();return e._methodName="FieldValue.delete",new If(e)}static arrayUnion(...e){const t=function u3(...n){return new NF("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new If(t)}static arrayRemove(...e){const t=function c3(...n){return new PF("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new If(t)}static increment(e){const t=function d3(n){return new RF("increment",n)}(e);return t._methodName="FieldValue.increment",new If(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const _3={Firestore:GN,GeoPoint:nC,Timestamp:Ar,Blob:mb,Transaction:HN,WriteBatch:$N,DocumentReference:al,DocumentSnapshot:yb,Query:is,QueryDocumentSnapshot:_b,QuerySnapshot:vM,CollectionReference:Ty,FieldPath:bM,FieldValue:If,setLogLevel:function m3(n){!function fP(n){ph.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function qN(n,e){return function w3(n,e=kb.z){return new ar.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function wM(n,e){return qN(n,e).pipe((0,Nn.U)(t=>({payload:t,type:"query"})))}function cC(n,e){return wM(n,e).pipe(_m(void 0),Zv(),(0,Nn.U)(([t,r])=>{const o=r.payload.docChanges(),l=o.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,p)=>{const _=o.find(S=>S.doc.ref.isEqual(c.ref)),w=t?.payload.docs.find(S=>S.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(c.metadata)||l.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:c}})}),l}))}function KN(n,e,t){return cC(n,t).pipe(cd((r,o)=>function I3(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function D3(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return EM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return EM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return EM(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(l=>l.payload),e),[]),Nb(),(0,Nn.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function EM(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function ZN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function b3(n){(function v3(n,e){n.INTERNAL.registerComponent(new Ll.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},_3)))})(n,(e,t)=>new GN(e,t,new g3)),n.registerVersion("@firebase/firestore-compat","0.1.20")}(qf.Z);class YN{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=cC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Nn.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(_m(void 0),Zv(),tm(([r,o])=>o.length>0||!r),(0,Nn.U)(([r,o])=>o),Rt.iC)}auditTrail(e){return this.stateChanges(e).pipe(cd((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=ZN(e);return KN(this.query,t,this.afs.schedulers.outsideAngular).pipe(Rt.iC)}valueChanges(e={}){return wM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Nn.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Rt.iC)}get(e){return(0,St.D)(this.query.get(e)).pipe(Rt.iC)}add(e){return this.ref.add(e)}doc(e){return new QN(this.ref.doc(e),this.afs)}}class QN{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:l}=JN(r,t);return new YN(o,l,this.afs)}snapshotChanges(){return function E3(n,e){return qN(n,e).pipe(_m(void 0),Zv(),(0,Nn.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Rt.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Nn.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,St.D)(this.ref.get(e)).pipe(Rt.iC)}}class C3{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?cC(this.query,this.afs.schedulers.outsideAngular).pipe((0,Nn.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),tm(t=>t.length>0),Rt.iC):cC(this.query,this.afs.schedulers.outsideAngular).pipe(Rt.iC)}auditTrail(e){return this.stateChanges(e).pipe(cd((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=ZN(e);return KN(this.query,t,this.afs.schedulers.outsideAngular).pipe(Rt.iC)}valueChanges(e={}){return wM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Nn.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Rt.iC)}get(e){return(0,St.D)(this.query.get(e)).pipe(Rt.iC)}}const A3=new g.OlP("angularfire2.enableFirestorePersistence"),T3=new g.OlP("angularfire2.firestore.persistenceSettings"),S3=new g.OlP("angularfire2.firestore.settings"),M3=new g.OlP("angularfire2.firestore.use-emulator");function JN(n,e=(t=>t)){return{query:e(n),ref:n}}let x3=(()=>{class n{constructor(t,r,o,l,c,p,_,w,S,k,j,J,se,Be,Xe,Gt,Yt){this.schedulers=_;const ln=(0,it.on)(t,p,r),Jt=S;k&&Uv(ln,p,j,se,Be,Xe,J,Gt),[this.firestore,this.persistenceEnabled$]=(0,it.cc)(`${ln.name}.firestore`,"AngularFirestore",ln.name,()=>{const mn=p.runOutsideAngular(()=>ln.firestore());if(l&&mn.settings(l),Jt&&mn.useEmulator(...Jt),o&&!Xl(c)){const Un=()=>{try{return(0,St.D)(mn.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(ko){return typeof console<"u"&&console.warn(ko),oc(!1)}};return[mn,p.runOutsideAngular(Un)]}return[mn,oc(!1)]},[l,Jt,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:c}=JN(o,r),p=this.schedulers.ngZone.run(()=>l);return new YN(p,c,this)}collectionGroup(t,r){const o=r||(c=>c),l=this.firestore.collectionGroup(t);return new C3(o(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new QN(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(it.Dh),g.LFG(it.xv,8),g.LFG(A3,8),g.LFG(S3,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(Rt.HU),g.LFG(T3,8),g.LFG(M3,8),g.LFG(jv,8),g.LFG(pm,8),g.LFG(fm,8),g.LFG(gm,8),g.LFG(Vv,8),g.LFG(Bv,8),g.LFG(SI,8),g.LFG(Pp,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),XN=(()=>{class n{constructor(t){this.db=t}CreateSquad(t){""==t.nome?alert("compila il campo nome"):0==t.crediti?alert("aumentare il numero di crediti"):Aa().fire({title:"Sicuro di voler aggiungere "+t.nome+"?",text:"Aggiungerai questa squadra ai partecipanti all'asta",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aggiungi!",cancelButtonText:"Annulla"}).then(r=>{r.isConfirmed&&this.db.collection("squadre").doc(t.nome).set(Object.assign({},t)).then(()=>{Aa().fire("Aggiunta!","La squadra \xe8 stata aggiunta correttamente.","success")})})}GetSquad(){return this.db.collection("squadre").valueChanges()}UpdateSquad(t){this.db.collection("squadre").doc(t.nome).set(Object.assign({},t))}DeleteSquad(t){Aa().fire({title:"Sicuro di voler eliminare "+t.nome+"?",text:"Eliminerai questa squadra dai partecipanti all'asta",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Elimina!",cancelButtonText:"Annulla"}).then(r=>{r.isConfirmed&&this.db.collection("squadre").doc(t.nome).delete()})}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(x3))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function k3(n,e){if(1&n){const t=g.EpF();g.TgZ(0,"tr",10)(1,"th",13),g._uU(2),g.qZA(),g.TgZ(3,"td"),g._uU(4),g.qZA(),g.TgZ(5,"td"),g._UZ(6,"img",14),g.qZA(),g.TgZ(7,"td")(8,"i",15),g.NdJ("click",function(){const l=g.CHM(t).$implicit,c=g.oxw(2);return g.KtG(c.firebaseService.DeleteSquad(l))}),g.qZA()()()}if(2&n){const t=e.$implicit;g.xp6(2),g.Oqu(t.nome),g.xp6(2),g.Oqu(t.crediti),g.xp6(2),g.Q6J("src",t.logo,g.LSH)}}function N3(n,e){if(1&n&&(g.TgZ(0,"div",8)(1,"table",9)(2,"thead",10)(3,"tr")(4,"th",11),g._uU(5,"Nome"),g.qZA(),g.TgZ(6,"th",11),g._uU(7,"Crediti"),g.qZA(),g.TgZ(8,"th",11),g._uU(9,"Logo"),g.qZA(),g.TgZ(10,"th",11),g._uU(11,"Elimina"),g.qZA()()(),g.TgZ(12,"tbody"),g.YNc(13,k3,9,3,"tr",12),g.qZA()()()),2&n){const t=g.oxw();g.xp6(13),g.Q6J("ngForOf",t.arrSquadre)}}function P3(n,e){if(1&n&&(g.TgZ(0,"div")(1,"h3"),g._uU(2),g.qZA()()),2&n){const t=g.oxw(2);g.xp6(2),g.Oqu(t.squad.nome)}}function R3(n,e){if(1&n&&(g.TgZ(0,"div"),g._uU(1),g.qZA()),2&n){const t=g.oxw(2);g.xp6(1),g.hij("",t.squad.crediti," crediti")}}function O3(n,e){if(1&n&&(g.TgZ(0,"div"),g._UZ(1,"img",17),g.qZA()),2&n){const t=g.oxw(2);g.xp6(1),g.Q6J("src",t.squad.logo,g.LSH)}}function F3(n,e){if(1&n&&(g.TgZ(0,"div",8),g.YNc(1,P3,3,1,"div",16),g.YNc(2,R3,2,1,"div",16),g.YNc(3,O3,2,1,"div",16),g.qZA()),2&n){const t=g.oxw();g.xp6(1),g.Q6J("ngIf",""!=t.squad.nome),g.xp6(1),g.Q6J("ngIf",0!=t.squad.crediti),g.xp6(1),g.Q6J("ngIf",""!=t.squad.logo)}}let L3=(()=>{class n{constructor(t){this.firebaseService=t,this.squad=new zT}ngOnInit(){this.firebaseService.GetSquad().subscribe(t=>{this.arrSquadre=t})}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(XN))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-squadre-gen"]],decls:19,vars:5,consts:[[1,"container","d-flex",2,"width","95%"],["class","preview-container","style","color: aliceblue; width: 25%;",4,"ngIf"],[2,"width","50%","text-align","center"],["for","exampleFormControlInput1",1,"form-label","text-light"],["type","text","id","exampleFormControlInput1","placeholder","FCDONETSK",1,"form-control","bg-dark",2,"width","400px","color","aliceblue","margin","0 auto",3,"ngModel","ngModelChange"],["type","number","id","exampleFormControlInput1","placeholder","\u20accazzi$","step","1","min","0",1,"form-control","bg-dark",2,"width","400px","color","aliceblue","margin","0 auto",3,"ngModel","ngModelChange"],["type","text","id","exampleFormControlInput1","placeholder","https://unacasettaincanada.com/",1,"form-control","bg-dark",2,"width","400px","color","aliceblue","margin","0 auto",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-success",3,"click"],[1,"preview-container",2,"color","aliceblue","width","25%"],[1,"table","table-dark"],[1,"text-center"],["scope","col"],["class","text-center",4,"ngFor","ngForOf"],["scope","row"],[2,"width","20px","height","20px",3,"src"],[1,"fa-solid","fa-trash","text-danger","cPointer",3,"click"],[4,"ngIf"],["alt","logo",2,"width","150px","height","150px",3,"src"]],template:function(t,r){1&t&&(g.TgZ(0,"div",0),g.YNc(1,N3,14,1,"div",1),g.TgZ(2,"div",2)(3,"label",3),g._uU(4,"Nome Squadra"),g.qZA(),g.TgZ(5,"input",4),g.NdJ("ngModelChange",function(l){return r.squad.nome=l}),g.qZA(),g._UZ(6,"br"),g.TgZ(7,"label",3),g._uU(8,"Crediti"),g.qZA(),g.TgZ(9,"input",5),g.NdJ("ngModelChange",function(l){return r.squad.crediti=l}),g.qZA(),g._UZ(10,"br"),g.TgZ(11,"label",3),g._uU(12,"Logo"),g.qZA(),g.TgZ(13,"input",6),g.NdJ("ngModelChange",function(l){return r.squad.logo=l}),g.qZA(),g._UZ(14,"br"),g.TgZ(15,"div")(16,"button",7),g.NdJ("click",function(){return r.firebaseService.CreateSquad(r.squad)}),g._uU(17,"Aggiungi"),g.qZA()()(),g.YNc(18,F3,4,3,"div",1),g.qZA()),2&t&&(g.xp6(1),g.Q6J("ngIf",null!=r.squad),g.xp6(4),g.Q6J("ngModel",r.squad.nome),g.xp6(4),g.Q6J("ngModel",r.squad.crediti),g.xp6(4),g.Q6J("ngModel",r.squad.logo),g.xp6(5),g.Q6J("ngIf",null!=r.squad))},dependencies:[oi,_r,ea,ad,Za,Wh,sd]}),n})();const V3=JSON.parse('{"id":135,"name":"Serie A","type":"League","logo":"https://media.api-sports.io/football/leagues/135.png","teams":[{"team":{"id":487,"name":"Lazio","code":"LAZ","country":"Italy","founded":1900,"national":false,"logo":"https://media.api-sports.io/football/teams/487.png","players":[{"id":31775,"name":"Marius Adamonis","age":25,"number":31,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/31775.png"},{"id":63934,"name":"Alessio Furlanetto","age":20,"number":41,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/63934.png"},{"id":347390,"name":"Giacomo Moretti","age":19,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/347390.png"},{"id":1624,"name":"Pepe Reina","age":40,"number":25,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/1624.png"},{"id":1835,"name":"Thomas Strakosha","age":27,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/1835.png"},{"id":1836,"name":"Francesco Ace Acerbi","age":34,"number":33,"position":"Defender","photo":"https://media.api-sports.io/football/players/1836.png"},{"id":31667,"name":"Djavan Lorenzo Anderson","age":27,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/31667.png"},{"id":31669,"name":"T. Casasola","age":27,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/31669.png"},{"id":1839,"name":"Riza Durmisi","age":28,"number":14,"position":"Defender","photo":"https://media.api-sports.io/football/players/1839.png"},{"id":342651,"name":"R. Floriani","age":19,"number":44,"position":"Defender","photo":"https://media.api-sports.io/football/players/342651.png"},{"id":1841,"name":"Patricio Gabarr\xf3n Gil","age":29,"number":4,"position":"Defender","photo":"https://media.api-sports.io/football/players/1841.png"},{"id":317,"name":"Elseid Hysaj","age":28,"number":23,"position":"Defender","photo":"https://media.api-sports.io/football/players/317.png"},{"id":45798,"name":"D. Kamenovi\u0107","age":22,"number":16,"position":"Defender","photo":"https://media.api-sports.io/football/players/45798.png"},{"id":1843,"name":"Jordan Zacharie Lukaku Menama Mokelenge","age":28,"number":5,"position":"Defender","photo":"https://media.api-sports.io/football/players/1843.png"},{"id":1844,"name":"Adam Maru\u0161i\u0107","age":30,"number":77,"position":"Defender","photo":"https://media.api-sports.io/football/players/1844.png"},{"id":1846,"name":"\u015e. Radu","age":36,"number":26,"position":"Defender","photo":"https://media.api-sports.io/football/players/1846.png"},{"id":1291,"name":"Denis Vavro","age":26,"number":19,"position":"Defender","photo":"https://media.api-sports.io/football/players/1291.png"},{"id":1266,"name":"Toma Ba\u0161i\u0107","age":26,"number":88,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1266.png"},{"id":288777,"name":"M. Bertini","age":20,"number":50,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/288777.png"},{"id":1852,"name":"Danilo Cataldi","age":28,"number":32,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1852.png"},{"id":31658,"name":"Emanuele Cicerelli","age":28,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31658.png"},{"id":47388,"name":"Gonzalo Escalante","age":29,"number":5,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/47388.png"},{"id":30859,"name":"M. Fares","age":26,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30859.png"},{"id":30752,"name":"S. Kiyine","age":25,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30752.png"},{"id":30866,"name":"Manuel Lazzari","age":29,"number":29,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30866.png"},{"id":31678,"name":"Jean-Daniel Dave Lewis Akpa Akpro","age":30,"number":8,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31678.png"},{"id":31377,"name":"Cristiano Lombardi","age":27,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31377.png"},{"id":57012,"name":"F. Maistro","age":24,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/57012.png"},{"id":1856,"name":"Sergej Milinkovi\u0107-Savi\u0107","age":27,"number":21,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1856.png"},{"id":1859,"name":"Luis Alberto Romero Alconchel","age":30,"number":10,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1859.png"},{"id":263812,"name":"L. Romero","age":18,"number":18,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/263812.png"},{"id":696,"name":"Marcos Antonio Silva Santos","age":22,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/696.png"},{"id":30937,"name":"Mattia Zaccagni","age":27,"number":20,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30937.png"},{"id":2412,"name":"Felipe Anderson Pereira Gomes","age":29,"number":7,"position":"Attacker","photo":"https://media.api-sports.io/football/players/2412.png"},{"id":286474,"name":"M. Cancellieri","age":20,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/286474.png"},{"id":1863,"name":"Ciro Immobile","age":32,"number":17,"position":"Attacker","photo":"https://media.api-sports.io/football/players/1863.png"},{"id":264470,"name":"Raul Moro Prescoli","age":20,"number":27,"position":"Attacker","photo":"https://media.api-sports.io/football/players/264470.png"},{"id":50048,"name":"Vedat Muriqi","age":28,"number":94,"position":"Attacker","photo":"https://media.api-sports.io/football/players/50048.png"},{"id":2299,"name":"Pedro Eliezer Rodr\xedguez Ledesma","age":35,"number":9,"position":"Attacker","photo":"https://media.api-sports.io/football/players/2299.png"},{"id":47366,"name":"Jonathan Rodr\xedguez Men\xe9ndez","age":31,"number":22,"position":"Attacker","photo":"https://media.api-sports.io/football/players/47366.png"}]},"venue":{"id":910,"name":"Stadio Olimpico","address":"Viale dei Gladiatori, 2 / Via del Foro Italico","city":"Roma","capacity":68530,"surface":"grass","image":"https://media.api-sports.io/football/venues/910.png"}},{"team":{"id":488,"name":"Sassuolo","code":"SAS","country":"Italy","founded":1922,"national":false,"logo":"https://media.api-sports.io/football/teams/488.png","players":[{"id":91299,"name":"Matteo Campani","age":22,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/91299.png"},{"id":30516,"name":"A. Consigli","age":35,"number":47,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30516.png"},{"id":30517,"name":"G. Pegolo","age":41,"number":56,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30517.png"},{"id":30766,"name":"Alessandro Russo","age":21,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30766.png"},{"id":30518,"name":"Giacomo Satalino","age":23,"number":24,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30518.png"},{"id":30519,"name":"Stefano Turati","age":21,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30519.png"},{"id":286472,"name":"Samuele Vitale","age":20,"number":30,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/286472.png"},{"id":292519,"name":"Gioele Zacchi","age":19,"number":71,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/292519.png"},{"id":30520,"name":"C. Adjapong","age":24,"number":98,"position":"Defender","photo":"https://media.api-sports.io/football/players/30520.png"},{"id":264477,"name":"Giuseppe Aurelio","age":22,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/264477.png"},{"id":25448,"name":"Kaan Ayhan","age":28,"number":5,"position":"Defender","photo":"https://media.api-sports.io/football/players/25448.png"},{"id":56433,"name":"R. Celia","age":23,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/56433.png"},{"id":315,"name":"Vlad Iulian Chiriche\u0219","age":33,"number":21,"position":"Defender","photo":"https://media.api-sports.io/football/players/315.png"},{"id":30827,"name":"M. Erli\u0107","age":24,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/30827.png"},{"id":30523,"name":"Gian Marco Ferrari","age":30,"number":31,"position":"Defender","photo":"https://media.api-sports.io/football/players/30523.png"},{"id":26828,"name":"Giorgos Kiriakopoulos","age":26,"number":77,"position":"Defender","photo":"https://media.api-sports.io/football/players/26828.png"},{"id":30981,"name":"R. Marchizza","age":24,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/30981.png"},{"id":30715,"name":"A. Meroni","age":25,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/30715.png"},{"id":1719,"name":"Mert M\xfcld\xfcr","age":23,"number":17,"position":"Defender","photo":"https://media.api-sports.io/football/players/1719.png"},{"id":30527,"name":"Rog\xe9rio Oliveira da Silva","age":24,"number":6,"position":"Defender","photo":"https://media.api-sports.io/football/players/30527.png"},{"id":59513,"name":"Y. Paz","age":20,"number":70,"position":"Defender","photo":"https://media.api-sports.io/football/players/59513.png"},{"id":30528,"name":"F. Peluso","age":38,"number":13,"position":"Defender","photo":"https://media.api-sports.io/football/players/30528.png"},{"id":342055,"name":"E. Pieragnolo","age":19,"number":89,"position":"Defender","photo":"https://media.api-sports.io/football/players/342055.png"},{"id":30556,"name":"Filippo Romagna","age":25,"number":19,"position":"Defender","photo":"https://media.api-sports.io/football/players/30556.png"},{"id":56161,"name":"M. Sala","age":23,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/56161.png"},{"id":30530,"name":"L. Sernicola","age":25,"number":17,"position":"Defender","photo":"https://media.api-sports.io/football/players/30530.png"},{"id":1118,"name":"Jeremy Toljan","age":28,"number":22,"position":"Defender","photo":"https://media.api-sports.io/football/players/1118.png"},{"id":152857,"name":"Ruan","age":23,"number":44,"position":"Defender","photo":"https://media.api-sports.io/football/players/152857.png"},{"id":341994,"name":"Salim Abubakar","age":19,"number":68,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/341994.png"},{"id":341989,"name":"Cristian Aucelli","age":20,"number":27,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/341989.png"},{"id":2711,"name":"Mehdi Bourabia","age":31,"number":68,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/2711.png"},{"id":31173,"name":"D. Frattesi","age":23,"number":16,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31173.png"},{"id":68407,"name":"A. Ghion","age":22,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/68407.png"},{"id":40446,"name":"Luk\xe1\u0161 Harasl\xedn","age":26,"number":11,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/40446.png"},{"id":341995,"name":"Justin Kumi","age":18,"number":28,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/341995.png"},{"id":1910,"name":"Maxime Lopez","age":25,"number":8,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1910.png"},{"id":30534,"name":"Francesco Magnanelli","age":38,"number":4,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30534.png"},{"id":341991,"name":"A. Mata","age":19,"number":26,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/341991.png"},{"id":18824,"name":"Pedro  Mba Obiang Avomo","age":30,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/18824.png"},{"id":31368,"name":"M. Pinato","age":27,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31368.png"},{"id":31057,"name":"H. Traor\xe8","age":22,"number":23,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31057.png"},{"id":30536,"name":"Filip \u0110uri\u010di\u0107","age":30,"number":10,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30536.png"},{"id":278190,"name":"Agust\xedn \xc1lvarez Mart\xednez","age":21,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/278190.png"},{"id":30537,"name":"Domenico Berardi","age":28,"number":25,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30537.png"},{"id":30538,"name":"Enrico Brignola","age":23,"number":99,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30538.png"},{"id":31060,"name":"Francesco Caputo","age":35,"number":9,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31060.png"},{"id":30461,"name":"Gregoire Defrel","age":31,"number":92,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30461.png"},{"id":162604,"name":"Isaac Karamoko","age":20,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/162604.png"},{"id":31440,"name":"Luca Moro","age":21,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31440.png"},{"id":180584,"name":"B. Oddei","age":20,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/180584.png"},{"id":30543,"name":"Giacomo Raspadori","age":22,"number":18,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30543.png"},{"id":200811,"name":"L. Samele","age":20,"number":39,"position":"Attacker","photo":"https://media.api-sports.io/football/players/200811.png"},{"id":30544,"name":"Gianluca Scamacca","age":23,"number":91,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30544.png"}]},"venue":{"id":935,"name":"MAPEI Stadium - Citt\xe0 del Tricolore","address":"Piazza Azzuri d&apos;Italia, 1","city":"Reggio nell&apos;Emilia","capacity":23717,"surface":"grass","image":"https://media.api-sports.io/football/venues/935.png"}},{"team":{"id":489,"name":"AC Milan","code":"MIL","country":"Italy","founded":1899,"national":false,"logo":"https://media.api-sports.io/football/teams/489.png","players":[{"id":322859,"name":"Sebastiano Desplanches","age":19,"number":90,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/322859.png"},{"id":277175,"name":"Andreas Kristoffer Jungdal","age":20,"number":96,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/277175.png"},{"id":22221,"name":"Mike Maignan","age":27,"number":16,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/22221.png"},{"id":765,"name":"A. Mirante","age":39,"number":83,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/765.png"},{"id":342995,"name":"Lapo Francesco Maria Nava","age":18,"number":92,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/342995.png"},{"id":1623,"name":"Alessandro Plizzari","age":22,"number":77,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/1623.png"},{"id":21081,"name":"C. T\u0103t\u0103ru\u0219anu","age":36,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/21081.png"},{"id":162990,"name":"Leroy Abanda Mfomo","age":22,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/162990.png"},{"id":105,"name":"Fod\xe9  Ballo-Tour\xe9","age":25,"number":5,"position":"Defender","photo":"https://media.api-sports.io/football/players/105.png"},{"id":1627,"name":"Davide Calabria","age":26,"number":2,"position":"Defender","photo":"https://media.api-sports.io/football/players/1627.png"},{"id":10160,"name":"L\xe9o Duarte","age":26,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/10160.png"},{"id":769,"name":"Alessandro Florenzi","age":31,"number":25,"position":"Defender","photo":"https://media.api-sports.io/football/players/769.png"},{"id":56473,"name":"Matteo Gabbia","age":23,"number":46,"position":"Defender","photo":"https://media.api-sports.io/football/players/56473.png"},{"id":47300,"name":"Theo Bernard Fran\xe7ois Hern\xe1ndez","age":25,"number":19,"position":"Defender","photo":"https://media.api-sports.io/football/players/47300.png"},{"id":162188,"name":"P. Kalulu","age":22,"number":20,"position":"Defender","photo":"https://media.api-sports.io/football/players/162188.png"},{"id":215976,"name":"N. Michelis","age":21,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/215976.png"},{"id":1632,"name":"Alessio Romagnoli","age":27,"number":13,"position":"Defender","photo":"https://media.api-sports.io/football/players/1632.png"},{"id":277173,"name":"L. Stanga","age":20,"number":91,"position":"Defender","photo":"https://media.api-sports.io/football/players/277173.png"},{"id":2045,"name":"S. Kj\xe6r","age":33,"number":24,"position":"Defender","photo":"https://media.api-sports.io/football/players/2045.png"},{"id":19209,"name":"Fikayo Tomori","age":25,"number":23,"position":"Defender","photo":"https://media.api-sports.io/football/players/19209.png"},{"id":1265,"name":"Yacine Adli","age":22,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1265.png"},{"id":1635,"name":"Tiemou\xe9 Bakayoko","age":28,"number":41,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1635.png"},{"id":3173,"name":"Isma\xebl Bennacer","age":25,"number":4,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/3173.png"},{"id":1639,"name":"M. Brescianini","age":22,"number":94,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1639.png"},{"id":1641,"name":"Samuel Castillejo Azuaga","age":27,"number":7,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1641.png"},{"id":297324,"name":"E. Di Ges\xf9","age":20,"number":62,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/297324.png"},{"id":31054,"name":"Rade Kruni\u0107","age":29,"number":33,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31054.png"},{"id":31273,"name":"T. Pobega","age":23,"number":26,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31273.png"},{"id":1417,"name":"A. Saelemaekers","age":23,"number":56,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1417.png"},{"id":31146,"name":"S. Tonali","age":22,"number":8,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31146.png"},{"id":744,"name":"Brahim Abdelkader D\xedaz","age":23,"number":10,"position":"Attacker","photo":"https://media.api-sports.io/football/players/744.png"},{"id":263481,"name":"L. Colombo","age":20,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/263481.png"},{"id":22236,"name":"Rafael Alexandre da Concei\xe7\xe3o Le\xe3o","age":23,"number":17,"position":"Attacker","photo":"https://media.api-sports.io/football/players/22236.png"},{"id":336689,"name":"Y. El Hilali","age":19,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/336689.png"},{"id":2295,"name":"Olivier Giroud","age":36,"number":9,"position":"Attacker","photo":"https://media.api-sports.io/football/players/2295.png"},{"id":51070,"name":"Z. Ibrahimovi\u0107","age":41,"number":11,"position":"Attacker","photo":"https://media.api-sports.io/football/players/51070.png"},{"id":135510,"name":"E. Roback","age":19,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/135510.png"},{"id":162045,"name":"M. Lazeti\u0107","age":18,"number":22,"position":"Attacker","photo":"https://media.api-sports.io/football/players/162045.png"},{"id":134926,"name":"D. Maldini","age":21,"number":27,"position":"Attacker","photo":"https://media.api-sports.io/football/players/134926.png"},{"id":1831,"name":"Ante Rebi\u0107","age":29,"number":12,"position":"Attacker","photo":"https://media.api-sports.io/football/players/1831.png"},{"id":1652,"name":"F. Tsadjout","age":23,"number":54,"position":"Attacker","photo":"https://media.api-sports.io/football/players/1652.png"}]},"venue":{"id":907,"name":"Stadio Giuseppe Meazza","address":"Via Piccolomini 5","city":"Milano","capacity":80018,"surface":"grass","image":"https://media.api-sports.io/football/venues/907.png"}},{"team":{"id":492,"name":"Napoli","code":"NAP","country":"Italy","founded":1904,"national":false,"logo":"https://media.api-sports.io/football/teams/492.png","players":[{"id":325142,"name":"Valerio Boffelli","age":18,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/325142.png"},{"id":32172,"name":"Nikita Contini Baranovsky","age":26,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/32172.png"},{"id":134434,"name":"Hubert Dawid Idasiak","age":20,"number":46,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/134434.png"},{"id":91423,"name":"Davide Marfella","age":23,"number":12,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/91423.png"},{"id":312,"name":"Alex Meret","age":25,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/312.png"},{"id":313,"name":"D. Ospina","age":34,"number":25,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/313.png"},{"id":30854,"name":"Filippo Costa","age":27,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/30854.png"},{"id":161849,"name":"D. Costanzo","age":20,"number":74,"position":"Defender","photo":"https://media.api-sports.io/football/players/161849.png"},{"id":31042,"name":"Giovanni Di Lorenzo","age":29,"number":22,"position":"Defender","photo":"https://media.api-sports.io/football/players/31042.png"},{"id":316,"name":"Faouzi Ghoulam","age":31,"number":31,"position":"Defender","photo":"https://media.api-sports.io/football/players/316.png"},{"id":318,"name":"Kalidou Koulibaly","age":31,"number":26,"position":"Defender","photo":"https://media.api-sports.io/football/players/318.png"},{"id":319,"name":"Sebastiano Luperto","age":26,"number":13,"position":"Defender","photo":"https://media.api-sports.io/football/players/319.png"},{"id":321,"name":"K\xe9vin Malcuit","age":31,"number":2,"position":"Defender","photo":"https://media.api-sports.io/football/players/321.png"},{"id":309907,"name":"B. Man\xe8","age":19,"number":55,"position":"Defender","photo":"https://media.api-sports.io/football/players/309907.png"},{"id":774,"name":"Juan Guilherme Nunes Jesus","age":31,"number":5,"position":"Defender","photo":"https://media.api-sports.io/football/players/774.png"},{"id":47254,"name":"M. Olivera","age":25,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/47254.png"},{"id":1314,"name":"Amir Rrahmani","age":28,"number":13,"position":"Defender","photo":"https://media.api-sports.io/football/players/1314.png"},{"id":322,"name":"M\xe1rio Rui Silva Duarte","age":31,"number":6,"position":"Defender","photo":"https://media.api-sports.io/football/players/322.png"},{"id":162907,"name":"A. Zanoli","age":22,"number":59,"position":"Defender","photo":"https://media.api-sports.io/football/players/162907.png"},{"id":1151,"name":"Diego Demme","age":31,"number":4,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1151.png"},{"id":1358,"name":"E. Elmas","age":23,"number":7,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1358.png"},{"id":56851,"name":"M. Folorunsho","age":24,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/56851.png"},{"id":325,"name":"G. Gaetano","age":22,"number":70,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/325.png"},{"id":483,"name":"Khvicha Kvaratskhelia","age":21,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/483.png"},{"id":162582,"name":"Valerio Labriola","age":21,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/162582.png"},{"id":47439,"name":"Stanislav Lobotka","age":28,"number":68,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/47439.png"},{"id":91352,"name":"Francesco Mezzoni","age":22,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/91352.png"},{"id":327,"name":"Adam Mohamed Ounas","age":26,"number":33,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/327.png"},{"id":31339,"name":"Luca Palmiero","age":26,"number":18,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31339.png"},{"id":328,"name":"Fabi\xe1n Ruiz Pe\xf1a","age":26,"number":8,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/328.png"},{"id":3406,"name":"A. Zambo Anguissa","age":27,"number":99,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/3406.png"},{"id":323,"name":"K. Zedadka","age":22,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/323.png"},{"id":329,"name":"Piotr Sebastian Zieli\u0144ski","age":28,"number":20,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/329.png"},{"id":341912,"name":"G. Ambrosino","age":19,"number":70,"position":"Attacker","photo":"https://media.api-sports.io/football/players/341912.png"},{"id":341924,"name":"B. Barba","age":19,"number":80,"position":"Attacker","photo":"https://media.api-sports.io/football/players/341924.png"},{"id":161852,"name":"Antonio Cioffi","age":20,"number":58,"position":"Attacker","photo":"https://media.api-sports.io/football/players/161852.png"},{"id":248,"name":"Hirving Rodrigo Lozano Bahena","age":27,"number":11,"position":"Attacker","photo":"https://media.api-sports.io/football/players/248.png"},{"id":332,"name":"Dries Mertens","age":35,"number":14,"position":"Attacker","photo":"https://media.api-sports.io/football/players/332.png"},{"id":2780,"name":"Victor James Osimhen","age":24,"number":9,"position":"Attacker","photo":"https://media.api-sports.io/football/players/2780.png"},{"id":30879,"name":"Andrea Petagna","age":27,"number":37,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30879.png"},{"id":219,"name":"Matteo Politano","age":29,"number":21,"position":"Attacker","photo":"https://media.api-sports.io/football/players/219.png"},{"id":31348,"name":"Gennaro Tutino","age":26,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31348.png"},{"id":347395,"name":"A. Vergara","age":19,"number":82,"position":"Attacker","photo":"https://media.api-sports.io/football/players/347395.png"},{"id":31219,"name":"Alessio Zerbin","age":23,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31219.png"}]},"venue":{"id":11904,"name":"Stadio Diego Armando Maradona","address":"Pizzale Vincenzo Tecchio","city":"Napoli","capacity":60240,"surface":"grass","image":"https://media.api-sports.io/football/venues/11904.png"}},{"team":{"id":494,"name":"Udinese","code":"UDI","country":"Italy","founded":1896,"national":false,"logo":"https://media.api-sports.io/football/teams/494.png","players":[{"id":295770,"name":"Matteo Carnelos","age":19,"number":65,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/295770.png"},{"id":30793,"name":"Manuel Gasparini","age":20,"number":31,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30793.png"},{"id":189,"name":"D. Padelli","age":37,"number":20,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/189.png"},{"id":312999,"name":"Edoardo Piana","age":19,"number":66,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/312999.png"},{"id":30468,"name":"Antonio Santurro Bueno","age":30,"number":29,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30468.png"},{"id":30915,"name":"Marco Silvestri","age":31,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30915.png"},{"id":320335,"name":"James Abankwah","age":18,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/320335.png"},{"id":1107,"name":"Filip Benkovi\u0107","age":25,"number":28,"position":"Defender","photo":"https://media.api-sports.io/football/players/1107.png"},{"id":350610,"name":"N. Cocetta","age":19,"number":72,"position":"Defender","photo":"https://media.api-sports.io/football/players/350610.png"},{"id":350609,"name":"L. Codutti","age":19,"number":73,"position":"Defender","photo":"https://media.api-sports.io/football/players/350609.png"},{"id":161638,"name":"Festy Oseiwe Ebosele","age":20,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/161638.png"},{"id":6503,"name":"Nahuel Molina Lucero","age":24,"number":16,"position":"Defender","photo":"https://media.api-sports.io/football/players/6503.png"},{"id":829,"name":"Rodrigo  Nascimiento Franca","age":26,"number":50,"position":"Defender","photo":"https://media.api-sports.io/football/players/829.png"},{"id":30797,"name":"Bram Nuytinck","age":32,"number":17,"position":"Defender","photo":"https://media.api-sports.io/football/players/30797.png"},{"id":162347,"name":"B. Soppy","age":20,"number":93,"position":"Defender","photo":"https://media.api-sports.io/football/players/162347.png"},{"id":204039,"name":"D. Udogie","age":20,"number":13,"position":"Defender","photo":"https://media.api-sports.io/football/players/204039.png"},{"id":1353,"name":"Tolgay Ali Arslan","age":32,"number":5,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1353.png"},{"id":179502,"name":"M. Ballarini","age":21,"number":21,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/179502.png"},{"id":350611,"name":"Riccardo Castagnaviz","age":19,"number":70,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/350611.png"},{"id":350612,"name":"Mattia Damiani","age":19,"number":71,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/350612.png"},{"id":330357,"name":"Jacopo Fedrizzi","age":19,"number":63,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/330357.png"},{"id":9010,"name":"Mato Jajalo","age":34,"number":8,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/9010.png"},{"id":355088,"name":"Raed Jaziri","age":19,"number":74,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/355088.png"},{"id":7591,"name":"S. Lovri\u0107","age":24,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/7591.png"},{"id":22171,"name":"J. Makengo","age":24,"number":6,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/22171.png"},{"id":264513,"name":"M. Palumbo","age":20,"number":21,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/264513.png"},{"id":2475,"name":"Roberto Maximiliano Pereyra","age":31,"number":37,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/2475.png"},{"id":351269,"name":"Riccardo Pinzi","age":19,"number":75,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/351269.png"},{"id":178749,"name":"L. Samard\u017ei\u0107","age":20,"number":24,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/178749.png"},{"id":25387,"name":"Walace Souza Silva","age":27,"number":11,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/25387.png"},{"id":9084,"name":"Rijad Baji\u0107","age":28,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/9084.png"},{"id":18809,"name":"Gerard Deulofeu L\xe1zaro","age":28,"number":10,"position":"Attacker","photo":"https://media.api-sports.io/football/players/18809.png"},{"id":761,"name":"Cristo Ram\xf3n Gonz\xe1lez P\xe9rez","age":25,"number":9,"position":"Attacker","photo":"https://media.api-sports.io/football/players/761.png"},{"id":329406,"name":"S. Ianesi","age":20,"number":69,"position":"Attacker","photo":"https://media.api-sports.io/football/players/329406.png"},{"id":30815,"name":"Kevin Lasagna","age":30,"number":15,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30815.png"},{"id":31561,"name":"Ilija Nestorovski","age":32,"number":30,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31561.png"},{"id":367577,"name":"S. Pafundi","age":16,"number":80,"position":"Attacker","photo":"https://media.api-sports.io/football/players/367577.png"},{"id":279104,"name":"Leonardo Buta","age":20,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/279104.png"}]},"venue":{"id":928,"name":"Dacia Arena","address":"Piazza le Repubblica Argentina, 3","city":"Udine","capacity":25952,"surface":"grass","image":"https://media.api-sports.io/football/venues/928.png"}},{"team":{"id":496,"name":"Juventus","code":"JUV","country":"Italy","founded":1897,"national":false,"logo":"https://media.api-sports.io/football/teams/496.png","players":[{"id":30704,"name":"Stefano Gori","age":26,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30704.png"},{"id":56266,"name":"Franco Israel Wibmer","age":22,"number":35,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/56266.png"},{"id":849,"name":"Mattia Perin","age":30,"number":36,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/849.png"},{"id":850,"name":"Carlo Pinsoglio","age":32,"number":23,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/850.png"},{"id":148022,"name":"Marco Raina","age":20,"number":53,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/148022.png"},{"id":297157,"name":"Zsombor Senk\xf3","age":19,"number":42,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/297157.png"},{"id":851,"name":"W. Szcz\u0119sny","age":32,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/851.png"},{"id":853,"name":"L. Bonucci","age":35,"number":19,"position":"Defender","photo":"https://media.api-sports.io/football/players/853.png"},{"id":335115,"name":"A. Citi","age":19,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/335115.png"},{"id":618,"name":"Danilo Luiz da Silva","age":31,"number":6,"position":"Defender","photo":"https://media.api-sports.io/football/players/618.png"},{"id":532,"name":"Matthijs de Ligt","age":23,"number":4,"position":"Defender","photo":"https://media.api-sports.io/football/players/532.png"},{"id":858,"name":"Mattia De Sciglio","age":30,"number":2,"position":"Defender","photo":"https://media.api-sports.io/football/players/858.png"},{"id":162141,"name":"K. De Winter","age":20,"number":45,"position":"Defender","photo":"https://media.api-sports.io/football/players/162141.png"},{"id":268341,"name":"F. Gatti","age":24,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/268341.png"},{"id":860,"name":"Alex Sandro Lobo Silva","age":31,"number":12,"position":"Defender","photo":"https://media.api-sports.io/football/players/860.png"},{"id":162498,"name":"R. Dr\u0103gu\u0219in","age":20,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/162498.png"},{"id":30554,"name":"Luca Pellegrini","age":23,"number":17,"position":"Defender","photo":"https://media.api-sports.io/football/players/30554.png"},{"id":861,"name":"Daniele Rugani","age":28,"number":24,"position":"Defender","photo":"https://media.api-sports.io/football/players/861.png"},{"id":281775,"name":"D. Stramaccioni","age":21,"number":54,"position":"Defender","photo":"https://media.api-sports.io/football/players/281775.png"},{"id":866,"name":"Juan Guillermo Cuadrado Bello","age":34,"number":11,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/866.png"},{"id":876,"name":"N. Fagioli","age":21,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/876.png"},{"id":30533,"name":"Manuel Locatelli","age":24,"number":27,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30533.png"},{"id":415,"name":"W. McKennie","age":24,"number":14,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/415.png"},{"id":181808,"name":"F. Miretti","age":19,"number":47,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/181808.png"},{"id":881,"name":"H. Nicolussi","age":22,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/881.png"},{"id":264513,"name":"M. Palumbo","age":20,"number":56,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/264513.png"},{"id":272,"name":"Adrien Rabiot","age":27,"number":25,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/272.png"},{"id":150,"name":"Arthur Henrique Ramos de Oliveira Melo","age":26,"number":5,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/150.png"},{"id":1459,"name":"A. Ramsey","age":32,"number":8,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1459.png"},{"id":31402,"name":"F. Ranocchia","age":21,"number":42,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31402.png"},{"id":30784,"name":"N. Rovella","age":21,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30784.png"},{"id":323936,"name":"M. Soul\xe9","age":19,"number":46,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/323936.png"},{"id":2810,"name":"D. Zakaria","age":26,"number":28,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/2810.png"},{"id":182467,"name":"E. Zuelli","age":21,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/182467.png"},{"id":129687,"name":"Marley Ak\xe9","age":21,"number":38,"position":"Attacker","photo":"https://media.api-sports.io/football/players/129687.png"},{"id":135749,"name":"F\xe9lix Alexandre Andrade Sanches Correia","age":21,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/135749.png"},{"id":30410,"name":"Federico Chiesa","age":25,"number":22,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30410.png"},{"id":161974,"name":"M. Da Graca","age":20,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/161974.png"},{"id":162173,"name":"Samuel Iling-Junior","age":19,"number":57,"position":"Attacker","photo":"https://media.api-sports.io/football/players/162173.png"},{"id":877,"name":"Moise Bioty Kean","age":22,"number":18,"position":"Attacker","photo":"https://media.api-sports.io/football/players/877.png"},{"id":10008,"name":"Kaio Jorge Pinto Ramos","age":20,"number":21,"position":"Attacker","photo":"https://media.api-sports.io/football/players/10008.png"},{"id":30413,"name":"Marko Pjaca","age":27,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30413.png"},{"id":30415,"name":"Du\u0161an Vlahovi\u0107","age":22,"number":7,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30415.png"}]},"venue":{"id":909,"name":"Allianz Stadium","address":"Strada Comunale di Altessano 131","city":"Torino","capacity":45666,"surface":"grass","image":"https://media.api-sports.io/football/venues/909.png"}},{"team":{"id":497,"name":"AS Roma","code":"ROM","country":"Italy","founded":1927,"national":false,"logo":"https://media.api-sports.io/football/teams/497.png","players":[{"id":277192,"name":"Pietro Boer","age":20,"number":63,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/277192.png"},{"id":2674,"name":"Rui Patr\xedcio","age":34,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/2674.png"},{"id":764,"name":"Stefano Greco","age":23,"number":77,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/764.png"},{"id":342071,"name":"Davide Mastrantonio","age":18,"number":67,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/342071.png"},{"id":556,"name":"Mile Svilar","age":23,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/556.png"},{"id":91436,"name":"Devid Eugene Bouah","age":21,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/91436.png"},{"id":85063,"name":"William Ludovic Brandon Bianda","age":22,"number":28,"position":"Defender","photo":"https://media.api-sports.io/football/players/85063.png"},{"id":157052,"name":"R. Calafiori","age":20,"number":13,"position":"Defender","photo":"https://media.api-sports.io/football/players/157052.png"},{"id":30424,"name":"Iba\xf1ez","age":24,"number":3,"position":"Defender","photo":"https://media.api-sports.io/football/players/30424.png"},{"id":770,"name":"Rick Karsdorp","age":27,"number":2,"position":"Defender","photo":"https://media.api-sports.io/football/players/770.png"},{"id":343385,"name":"D. Keramitsis","age":18,"number":75,"position":"Defender","photo":"https://media.api-sports.io/football/players/343385.png"},{"id":30425,"name":"Gianluca Mancini","age":26,"number":23,"position":"Defender","photo":"https://media.api-sports.io/football/players/30425.png"},{"id":342653,"name":"F. Missori","age":18,"number":58,"position":"Defender","photo":"https://media.api-sports.io/football/players/342653.png"},{"id":342072,"name":"M. Ndiaye","age":20,"number":60,"position":"Defender","photo":"https://media.api-sports.io/football/players/342072.png"},{"id":775,"name":"Davide Santon","age":31,"number":18,"position":"Defender","photo":"https://media.api-sports.io/football/players/775.png"},{"id":892,"name":"Chris Smalling","age":33,"number":6,"position":"Defender","photo":"https://media.api-sports.io/football/players/892.png"},{"id":862,"name":"Leonardo Spinazzola","age":29,"number":37,"position":"Defender","photo":"https://media.api-sports.io/football/players/862.png"},{"id":290181,"name":"F. Tripi","age":20,"number":65,"position":"Defender","photo":"https://media.api-sports.io/football/players/290181.png"},{"id":51572,"name":"M. Vi\xf1a","age":25,"number":5,"position":"Defender","photo":"https://media.api-sports.io/football/players/51572.png"},{"id":203474,"name":"N. Zalewski","age":20,"number":59,"position":"Defender","photo":"https://media.api-sports.io/football/players/203474.png"},{"id":286475,"name":"E. Bove","age":20,"number":52,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/286475.png"},{"id":777,"name":"A. \u0106ori\u0107","age":25,"number":19,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/777.png"},{"id":778,"name":"Bryan Cristante","age":27,"number":4,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/778.png"},{"id":158059,"name":"E. Darboe","age":21,"number":55,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/158059.png"},{"id":324,"name":"A. Diawara","age":25,"number":42,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/324.png"},{"id":902,"name":"Nemanja Mati\u0107","age":34,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/902.png"},{"id":782,"name":"Lorenzo Pellegrini","age":26,"number":7,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/782.png"},{"id":783,"name":"Salvatore Pezzella","age":22,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/783.png"},{"id":2375,"name":"S\xe9rgio Miguel Relvas de Oliveira","age":30,"number":27,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/2375.png"},{"id":30409,"name":"Jordan Veretout","age":29,"number":17,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30409.png"},{"id":46982,"name":"Gonzalo Villar","age":24,"number":8,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/46982.png"},{"id":342035,"name":"Cristian Volpato","age":19,"number":62,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/342035.png"},{"id":786,"name":"N. Zaniolo","age":23,"number":22,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/786.png"},{"id":342038,"name":"F. Afena-Gyan","age":19,"number":64,"position":"Attacker","photo":"https://media.api-sports.io/football/players/342038.png"},{"id":19194,"name":"Tammy Bakumo-Abraham","age":25,"number":9,"position":"Attacker","photo":"https://media.api-sports.io/football/players/19194.png"},{"id":788,"name":"\u017dan Celar","age":23,"number":60,"position":"Attacker","photo":"https://media.api-sports.io/football/players/788.png"},{"id":279757,"name":"R. Ciervo","age":20,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/279757.png"},{"id":791,"name":"Stephan El Shaarawy","age":30,"number":92,"position":"Attacker","photo":"https://media.api-sports.io/football/players/791.png"},{"id":792,"name":"Justin Kluivert","age":23,"number":34,"position":"Attacker","photo":"https://media.api-sports.io/football/players/792.png"},{"id":347314,"name":"Oliveras","age":18,"number":74,"position":"Attacker","photo":"https://media.api-sports.io/football/players/347314.png"},{"id":67955,"name":"Carles P\xe9rez Sayol","age":24,"number":31,"position":"Attacker","photo":"https://media.api-sports.io/football/players/67955.png"},{"id":162733,"name":"Ruben Fritzner Providence","age":21,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/162733.png"},{"id":53535,"name":"Eldor Shomurodov","age":27,"number":14,"position":"Attacker","photo":"https://media.api-sports.io/football/players/53535.png"},{"id":342034,"name":"J. Voelkerling Persson","age":19,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/342034.png"}]},"venue":{"id":910,"name":"Stadio Olimpico","address":"Viale dei Gladiatori, 2 / Via del Foro Italico","city":"Roma","capacity":68530,"surface":"grass","image":"https://media.api-sports.io/football/venues/910.png"}},{"team":{"id":498,"name":"Sampdoria","code":"SAM","country":"Italy","founded":1946,"national":false,"logo":"https://media.api-sports.io/football/teams/498.png","players":[{"id":30441,"name":"Emil Audero Mulyadi","age":25,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30441.png"},{"id":56459,"name":"Wladimiro Falcone","age":27,"number":33,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/56459.png"},{"id":31602,"name":"Nicola Ravaglia","age":34,"number":30,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/31602.png"},{"id":344781,"name":"Ivan Saio","age":20,"number":32,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/344781.png"},{"id":341837,"name":"L. Aquino","age":20,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/341837.png"},{"id":30822,"name":"Tommaso Augello","age":28,"number":3,"position":"Defender","photo":"https://media.api-sports.io/football/players/30822.png"},{"id":3000,"name":"Bartosz Bereszy\u0144ski","age":30,"number":24,"position":"Defender","photo":"https://media.api-sports.io/football/players/3000.png"},{"id":341838,"name":"G. Bonfanti","age":19,"number":35,"position":"Defender","photo":"https://media.api-sports.io/football/players/341838.png"},{"id":30444,"name":"Omar Colley Daniel","age":30,"number":15,"position":"Defender","photo":"https://media.api-sports.io/football/players/30444.png"},{"id":1629,"name":"Andrea Conti","age":28,"number":13,"position":"Defender","photo":"https://media.api-sports.io/football/players/1629.png"},{"id":30747,"name":"F. Depaoli","age":25,"number":12,"position":"Defender","photo":"https://media.api-sports.io/football/players/30747.png"},{"id":30446,"name":"Alex Ferrari","age":28,"number":25,"position":"Defender","photo":"https://media.api-sports.io/football/players/30446.png"},{"id":341836,"name":"F. Migliardi","age":19,"number":31,"position":"Defender","photo":"https://media.api-sports.io/football/players/341836.png"},{"id":135,"name":"Jeison Fabi\xe1n Murillo Cer\xf3n","age":30,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/135.png"},{"id":30447,"name":"Nicola Murru","age":28,"number":29,"position":"Defender","photo":"https://media.api-sports.io/football/players/30447.png"},{"id":341829,"name":"M. Somma","age":20,"number":40,"position":"Defender","photo":"https://media.api-sports.io/football/players/341829.png"},{"id":39285,"name":"K. Askildsen","age":21,"number":16,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/39285.png"},{"id":202,"name":"A. Candreva","age":35,"number":87,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/202.png"},{"id":2858,"name":"Albin Ekdal","age":33,"number":6,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/2858.png"},{"id":15908,"name":"M. Damsgaard","age":22,"number":38,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/15908.png"},{"id":30753,"name":"M. L\xe9ris","age":24,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30753.png"},{"id":36980,"name":"Morten Thorsby","age":26,"number":2,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/36980.png"},{"id":30458,"name":"S. Trimboli","age":20,"number":70,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30458.png"},{"id":31403,"name":"Valerio Verre","age":28,"number":8,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31403.png"},{"id":30459,"name":"R. Vieira Nan","age":24,"number":14,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30459.png"},{"id":329401,"name":"Gerard Yepes Laut","age":20,"number":28,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/329401.png"},{"id":31436,"name":"Federico Bonazzoli","age":25,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31436.png"},{"id":30460,"name":"Gianluca Caprari","age":29,"number":17,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30460.png"},{"id":162981,"name":"Felice D\'Amico","age":22,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/162981.png"},{"id":341831,"name":"L. Di Stefano","age":20,"number":39,"position":"Attacker","photo":"https://media.api-sports.io/football/players/341831.png"},{"id":30462,"name":"Manolo Gabbiadini","age":31,"number":23,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30462.png"},{"id":56209,"name":"Erik Gerbi","age":22,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/56209.png"},{"id":44354,"name":"S. Giovinco","age":35,"number":21,"position":"Attacker","photo":"https://media.api-sports.io/football/players/44354.png"},{"id":31062,"name":"Antonino La Gumina","age":26,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31062.png"},{"id":341832,"name":"D. Montevago","age":19,"number":37,"position":"Attacker","photo":"https://media.api-sports.io/football/players/341832.png"},{"id":30463,"name":"F. Quagliarella","age":39,"number":27,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30463.png"},{"id":31153,"name":"Ernesto Torregrossa","age":30,"number":9,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31153.png"}]},"venue":{"id":905,"name":"Stadio Comunale Luigi Ferraris","address":"Via Giovanni De Pr\xe0, 1","city":"Genova","capacity":36703,"surface":"grass","image":"https://media.api-sports.io/football/venues/905.png"}},{"team":{"id":499,"name":"Atalanta","code":"ATA","country":"Italy","founded":1907,"national":false,"logo":"https://media.api-sports.io/football/teams/499.png","players":[{"id":338867,"name":"Tommaso Bertini","age":18,"number":47,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/338867.png"},{"id":30417,"name":"Marco Carnesecchi","age":22,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30417.png"},{"id":162573,"name":"Matevz Dajcar","age":20,"number":43,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/162573.png"},{"id":30418,"name":"Pierluigi Gollini","age":27,"number":95,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30418.png"},{"id":2465,"name":"Juan Agust\xedn Musso","age":28,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/2465.png"},{"id":30419,"name":"Francesco Rossi","age":31,"number":31,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30419.png"},{"id":57083,"name":"Alessandro Santopadre","age":24,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/57083.png"},{"id":336646,"name":"Jacopo Sassi","age":19,"number":53,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/336646.png"},{"id":31069,"name":"Marco Sportiello","age":30,"number":57,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/31069.png"},{"id":31477,"name":"D. Bettella","age":22,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/31477.png"},{"id":162570,"name":"G. Cittadini","age":20,"number":46,"position":"Defender","photo":"https://media.api-sports.io/football/players/162570.png"},{"id":30521,"name":"M. Demiral","age":24,"number":28,"position":"Defender","photo":"https://media.api-sports.io/football/players/30521.png"},{"id":30421,"name":"Berat  Djimsiti","age":29,"number":19,"position":"Defender","photo":"https://media.api-sports.io/football/players/30421.png"},{"id":162520,"name":"Rodrigo Guth","age":22,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/162520.png"},{"id":30423,"name":"Hans Hateboer","age":28,"number":33,"position":"Defender","photo":"https://media.api-sports.io/football/players/30423.png"},{"id":181825,"name":"D. Heidenreich","age":22,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/181825.png"},{"id":31418,"name":"M. Lovato","age":22,"number":66,"position":"Defender","photo":"https://media.api-sports.io/football/players/31418.png"},{"id":30474,"name":"Federico Mattiello","age":27,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/30474.png"},{"id":1930,"name":"Joakim M\xe6hle Pedersen","age":25,"number":3,"position":"Defender","photo":"https://media.api-sports.io/football/players/1930.png"},{"id":30428,"name":"Jos\xe9 Luis Palomino","age":32,"number":6,"position":"Defender","photo":"https://media.api-sports.io/football/players/30428.png"},{"id":162012,"name":"M. Ruggeri","age":20,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/162012.png"},{"id":289761,"name":"G. Scalvini","age":19,"number":42,"position":"Defender","photo":"https://media.api-sports.io/football/players/289761.png"},{"id":30429,"name":"Rafael Tol\xf3i","age":32,"number":2,"position":"Defender","photo":"https://media.api-sports.io/football/players/30429.png"},{"id":2286,"name":"Davide Zappacosta","age":30,"number":77,"position":"Defender","photo":"https://media.api-sports.io/football/players/2286.png"},{"id":128461,"name":"N. Zortea","age":23,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/128461.png"},{"id":30531,"name":"J\xe9r\xe9mie Boga","age":25,"number":10,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30531.png"},{"id":31500,"name":"C. Capone","age":23,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31500.png"},{"id":31396,"name":"M. Carraro","age":24,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31396.png"},{"id":140847,"name":"E. Colley","age":22,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/140847.png"},{"id":30431,"name":"A. Colpani","age":23,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30431.png"},{"id":162011,"name":"A. Cortinovis","age":21,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/162011.png"},{"id":162522,"name":"J. Da Riva","age":22,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/162522.png"},{"id":30432,"name":"Marten Elco de Roon","age":31,"number":15,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30432.png"},{"id":30420,"name":"E. Del Prato","age":23,"number":24,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30420.png"},{"id":32023,"name":"S. Elia","age":23,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/32023.png"},{"id":2807,"name":"Remo Marco Freuler","age":30,"number":11,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/2807.png"},{"id":237150,"name":"S. Giovane","age":19,"number":49,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/237150.png"},{"id":162521,"name":"E. Gyabuaa","age":21,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/162521.png"},{"id":30434,"name":"Josip Ili\u010di\u0107","age":34,"number":72,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30434.png"},{"id":36899,"name":"T. Koopmeiners","age":24,"number":7,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/36899.png"},{"id":690,"name":"Viktor Kovalenko","age":26,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/690.png"},{"id":31122,"name":"G. Lunetta","age":26,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31122.png"},{"id":1938,"name":"Ruslan Malinovskyi","age":29,"number":18,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1938.png"},{"id":30691,"name":"Alessandro Mallamo","age":23,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30691.png"},{"id":31493,"name":"F. Melegoni","age":23,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31493.png"},{"id":870,"name":"S. Muratore","age":24,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/870.png"},{"id":336640,"name":"Andrea Oliveri","age":19,"number":44,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/336640.png"},{"id":162010,"name":"S. Panada","age":20,"number":48,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/162010.png"},{"id":2763,"name":"Mario Pa\u0161ali\u0107","age":27,"number":88,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/2763.png"},{"id":30436,"name":"Matteo Pessina","age":25,"number":32,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30436.png"},{"id":3010,"name":"Arkadiusz Reca","age":27,"number":7,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/3010.png"},{"id":162601,"name":"G. Renault","age":20,"number":52,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/162601.png"},{"id":31089,"name":"L. Valzania","age":26,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31089.png"},{"id":336639,"name":"F. Zuccon","age":19,"number":45,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/336639.png"},{"id":357996,"name":"M. Ciss\xe9","age":19,"number":99,"position":"Attacker","photo":"https://media.api-sports.io/football/players/357996.png"},{"id":338868,"name":"T. De Nipoti","age":19,"number":50,"position":"Attacker","photo":"https://media.api-sports.io/football/players/338868.png"},{"id":162015,"name":"Jonathan Italeng Ngock","age":21,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/162015.png"},{"id":36987,"name":"Sam Lammers","age":25,"number":7,"position":"Attacker","photo":"https://media.api-sports.io/football/players/36987.png"},{"id":31123,"name":"Simone Mazzocchi","age":24,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31123.png"},{"id":484,"name":"Aleksey Miranchuk","age":27,"number":59,"position":"Attacker","photo":"https://media.api-sports.io/football/players/484.png"},{"id":2493,"name":"Luis Fernando Muriel Fruto","age":31,"number":9,"position":"Attacker","photo":"https://media.api-sports.io/football/players/2493.png"},{"id":162526,"name":"A. Sidibe","age":20,"number":51,"position":"Attacker","photo":"https://media.api-sports.io/football/players/162526.png"},{"id":31746,"name":"Marco Tumminello","age":24,"number":20,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31746.png"},{"id":2495,"name":"Duv\xe1n Esteban Zapata Banguero","age":31,"number":91,"position":"Attacker","photo":"https://media.api-sports.io/football/players/2495.png"}]},"venue":{"id":879,"name":"Gewiss Stadium","address":"Viale Caio Giulio Cesare, 18","city":"Bergamo","capacity":21300,"surface":"grass","image":"https://media.api-sports.io/football/venues/879.png"}},{"team":{"id":500,"name":"Bologna","code":"BOL","country":"Italy","founded":1909,"national":false,"logo":"https://media.api-sports.io/football/teams/500.png","players":[{"id":339180,"name":"Nicola Bagnolini","age":18,"number":23,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/339180.png"},{"id":31065,"name":"Francesco Bardi","age":30,"number":22,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/31065.png"},{"id":344336,"name":"Davide Franzini","age":17,"number":40,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/344336.png"},{"id":56753,"name":"Mouhamadou Fallou Mbacke Sarr","age":25,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/56753.png"},{"id":129557,"name":"Marco Molla","age":20,"number":12,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/129557.png"},{"id":31098,"name":"Federico Ravaglia","age":23,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/31098.png"},{"id":2998,"name":"\u0141ukasz Skorupski","age":31,"number":28,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/2998.png"},{"id":312208,"name":"W. Amey","age":17,"number":66,"position":"Defender","photo":"https://media.api-sports.io/football/players/312208.png"},{"id":305450,"name":"E. Annan","age":20,"number":77,"position":"Defender","photo":"https://media.api-sports.io/football/players/305450.png"},{"id":154799,"name":"L. Binks","age":21,"number":2,"position":"Defender","photo":"https://media.api-sports.io/football/players/154799.png"},{"id":30853,"name":"Kevin Bonifazi","age":26,"number":4,"position":"Defender","photo":"https://media.api-sports.io/football/players/30853.png"},{"id":44871,"name":"A. Hickey","age":20,"number":3,"position":"Defender","photo":"https://media.api-sports.io/football/players/44871.png"},{"id":30498,"name":"L. De Silvestri","age":34,"number":29,"position":"Defender","photo":"https://media.api-sports.io/football/players/30498.png"},{"id":30471,"name":"Mitchell Dijks","age":29,"number":35,"position":"Defender","photo":"https://media.api-sports.io/football/players/30471.png"},{"id":179839,"name":"D. Kasius","age":20,"number":71,"position":"Defender","photo":"https://media.api-sports.io/football/players/179839.png"},{"id":30553,"name":"Charalampos Lykogiannis","age":29,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/30553.png"},{"id":30473,"name":"Ibrahima Mbaye","age":28,"number":15,"position":"Defender","photo":"https://media.api-sports.io/football/players/30473.png"},{"id":1982,"name":"Gary Alexis Medel Soto","age":35,"number":17,"position":"Defender","photo":"https://media.api-sports.io/football/players/1982.png"},{"id":335060,"name":"K. Mercier","age":18,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/335060.png"},{"id":342044,"name":"M. Motolese","age":18,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/342044.png"},{"id":22227,"name":"Bakary Adama Soumaoro","age":30,"number":5,"position":"Defender","photo":"https://media.api-sports.io/football/players/22227.png"},{"id":342043,"name":"R. Stivanello","age":18,"number":31,"position":"Defender","photo":"https://media.api-sports.io/football/players/342043.png"},{"id":951,"name":"M. Aebischer","age":25,"number":20,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/951.png"},{"id":89723,"name":"Andri Fannar Baldursson","age":20,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/89723.png"},{"id":289515,"name":"B. Bartha","age":19,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/289515.png"},{"id":6056,"name":"N. Dom\xednguez","age":24,"number":8,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/6056.png"},{"id":31400,"name":"K. Michael","age":23,"number":16,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31400.png"},{"id":153459,"name":"N. Pyyhti\xe4","age":19,"number":33,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/153459.png"},{"id":37890,"name":"J. Schouten","age":25,"number":30,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/37890.png"},{"id":30483,"name":"Roberto Soriano","age":31,"number":21,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30483.png"},{"id":30484,"name":"Mattias Olof Svanberg","age":23,"number":32,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30484.png"},{"id":182280,"name":"K. Urba\u0144ski","age":18,"number":82,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/182280.png"},{"id":18830,"name":"M. Arnautovi\u0107","age":33,"number":9,"position":"Attacker","photo":"https://media.api-sports.io/football/players/18830.png"},{"id":30437,"name":"Musa Barrow","age":24,"number":99,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30437.png"},{"id":787,"name":"G. Cangiano","age":21,"number":74,"position":"Attacker","photo":"https://media.api-sports.io/football/players/787.png"},{"id":30490,"name":"Nicola Domenico Sansone","age":31,"number":10,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30490.png"},{"id":30487,"name":"Diego Falcinelli","age":31,"number":91,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30487.png"},{"id":31553,"name":"C\xe9sar Alejandro Falletti dos Santos","age":30,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31553.png"},{"id":68410,"name":"Musa Juwara","age":21,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/68410.png"},{"id":50798,"name":"Orji Okwonkwo","age":24,"number":30,"position":"Attacker","photo":"https://media.api-sports.io/football/players/50798.png"},{"id":30488,"name":"Riccardo Orsolini","age":25,"number":7,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30488.png"},{"id":290692,"name":"M. Pagliuca","age":20,"number":44,"position":"Attacker","photo":"https://media.api-sports.io/football/players/290692.png"},{"id":314254,"name":"A. Raimondo","age":18,"number":76,"position":"Attacker","photo":"https://media.api-sports.io/football/players/314254.png"},{"id":30491,"name":"Federico Javier Santander Mereles","age":31,"number":19,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30491.png"},{"id":38713,"name":"S. van Hooijdonk","age":22,"number":20,"position":"Attacker","photo":"https://media.api-sports.io/football/players/38713.png"},{"id":30755,"name":"Emanuel Vignato","age":22,"number":55,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30755.png"}]},"venue":{"id":881,"name":"Stadio Renato Dall\'Ara","address":"Via Andrea Costa, 174","city":"Bologna","capacity":39279,"surface":"grass","image":"https://media.api-sports.io/football/venues/881.png"}},{"team":{"id":502,"name":"Fiorentina","code":"FIO","country":"Italy","founded":1926,"national":false,"logo":"https://media.api-sports.io/football/teams/502.png","players":[{"id":57053,"name":"Michele Cerofolini","age":23,"number":31,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/57053.png"},{"id":31035,"name":"Bart\u0142omiej Dr\u0105gowski","age":25,"number":69,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/31035.png"},{"id":30392,"name":"Simone Ghidotti","age":22,"number":67,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30392.png"},{"id":30494,"name":"A. Rosati","age":39,"number":25,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30494.png"},{"id":30394,"name":"Pietro Terracciano","age":32,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30394.png"},{"id":30396,"name":"Cristiano Biraghi","age":30,"number":3,"position":"Defender","photo":"https://media.api-sports.io/football/players/30396.png"},{"id":7600,"name":"Igor J\xfalio dos Santos de Paulo","age":24,"number":98,"position":"Defender","photo":"https://media.api-sports.io/football/players/7600.png"},{"id":63935,"name":"G. Ferrarini","age":22,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/63935.png"},{"id":342066,"name":"F. Frison","age":20,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/342066.png"},{"id":6000,"name":"Lucas  Mart\xednez Quarta","age":26,"number":2,"position":"Defender","photo":"https://media.api-sports.io/football/players/6000.png"},{"id":2817,"name":"Nikola Milenkovi\u0107","age":25,"number":4,"position":"Defender","photo":"https://media.api-sports.io/football/players/2817.png"},{"id":403,"name":"Matija Nastasi\u0107","age":29,"number":55,"position":"Defender","photo":"https://media.api-sports.io/football/players/403.png"},{"id":31642,"name":"L. Ranieri","age":23,"number":30,"position":"Defender","photo":"https://media.api-sports.io/football/players/31642.png"},{"id":349,"name":"Aleksa Terzi\u0107","age":23,"number":17,"position":"Defender","photo":"https://media.api-sports.io/football/players/349.png"},{"id":31047,"name":"Jacob Vands\xf8 Rasmussen","age":25,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/31047.png"},{"id":31730,"name":"Lorenzo Venuti","age":27,"number":23,"position":"Defender","photo":"https://media.api-sports.io/football/players/31730.png"},{"id":342023,"name":"V. Agostinelli","age":20,"number":20,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/342023.png"},{"id":74,"name":"Sofyan Amrabat","age":26,"number":34,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/74.png"},{"id":302432,"name":"A. Bianco","age":20,"number":42,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/302432.png"},{"id":1638,"name":"Giacomo Bonaventura","age":33,"number":5,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1638.png"},{"id":31615,"name":"Gaetano Castrovilli","age":25,"number":10,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31615.png"},{"id":30532,"name":"Joseph Alfred Duncan","age":29,"number":32,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30532.png"},{"id":22229,"name":"Nanitamo Jonathan Ikon\xe9","age":24,"number":11,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/22229.png"},{"id":106236,"name":"A. Lovisa","age":21,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/106236.png"},{"id":56560,"name":"Y. Maleh","age":24,"number":14,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/56560.png"},{"id":30810,"name":"Rolando Mandragora","age":25,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30810.png"},{"id":30406,"name":"Crist\xf3bal Montiel Rodr\xedguez","age":22,"number":19,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30406.png"},{"id":2560,"name":"Erick Antonio Pulgar Farf\xe1n","age":28,"number":15,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/2560.png"},{"id":30456,"name":"Riccardo Saponara","age":31,"number":8,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30456.png"},{"id":330,"name":"Jos\xe9 Mar\xeda Callej\xf3n Bueno","age":35,"number":7,"position":"Attacker","photo":"https://media.api-sports.io/football/players/330.png"},{"id":342067,"name":"F. Di Stefano","age":19,"number":28,"position":"Attacker","photo":"https://media.api-sports.io/football/players/342067.png"},{"id":342020,"name":"D. Egharevba","age":19,"number":21,"position":"Attacker","photo":"https://media.api-sports.io/football/players/342020.png"},{"id":26315,"name":"Nicol\xe1s Iv\xe1n Gonz\xe1lez","age":24,"number":22,"position":"Attacker","photo":"https://media.api-sports.io/football/players/26315.png"},{"id":30971,"name":"Gabriele Gori","age":23,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30971.png"},{"id":1224,"name":"Aleksandr Kokorin","age":31,"number":91,"position":"Attacker","photo":"https://media.api-sports.io/football/players/1224.png"},{"id":30789,"name":"Christian Michael Kouam\xe9 Kouakou","age":25,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30789.png"},{"id":9938,"name":"Arthur Mendon\xe7a Cabral","age":24,"number":9,"position":"Attacker","photo":"https://media.api-sports.io/football/players/9938.png"},{"id":43096,"name":"Louis Munteanu","age":20,"number":67,"position":"Attacker","photo":"https://media.api-sports.io/football/players/43096.png"},{"id":31507,"name":"Riccardo Sottil","age":23,"number":33,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31507.png"},{"id":194670,"name":"E. To\xe7i","age":19,"number":99,"position":"Attacker","photo":"https://media.api-sports.io/football/players/194670.png"}]},"venue":{"id":902,"name":"Stadio Artemio Franchi","address":"Viale Manfredo Fanti 14","city":"Firenze","capacity":43147,"surface":"grass","image":"https://media.api-sports.io/football/venues/902.png"}},{"team":{"id":503,"name":"Torino","code":"TOR","country":"Italy","founded":1906,"national":false,"logo":"https://media.api-sports.io/football/teams/503.png","players":[{"id":30416,"name":"E. Berisha","age":33,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30416.png"},{"id":30492,"name":"Lucas Gemello","age":22,"number":89,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30492.png"},{"id":342060,"name":"Alberto Milan","age":19,"number":31,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/342060.png"},{"id":31156,"name":"Vanja Milinkovi\u0107 Savi\u0107","age":25,"number":32,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/31156.png"},{"id":2771,"name":"Temitayo Olufisayo Olaoluwa Aina","age":26,"number":34,"position":"Defender","photo":"https://media.api-sports.io/football/players/2771.png"},{"id":302069,"name":"S. Angori","age":19,"number":21,"position":"Defender","photo":"https://media.api-sports.io/football/players/302069.png"},{"id":30496,"name":"C. Ansaldi","age":36,"number":15,"position":"Defender","photo":"https://media.api-sports.io/football/players/30496.png"},{"id":342061,"name":"A. Anton","age":19,"number":78,"position":"Defender","photo":"https://media.api-sports.io/football/players/342061.png"},{"id":30497,"name":"Bremer","age":25,"number":3,"position":"Defender","photo":"https://media.api-sports.io/football/players/30497.png"},{"id":31226,"name":"A. Buongiorno","age":23,"number":99,"position":"Defender","photo":"https://media.api-sports.io/football/players/31226.png"},{"id":264334,"name":"Christian Celesia","age":20,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/264334.png"},{"id":30499,"name":"L\xe9vy Koffi Djidji","age":30,"number":26,"position":"Defender","photo":"https://media.api-sports.io/football/players/30499.png"},{"id":30501,"name":"Armando Izzo","age":30,"number":5,"position":"Defender","photo":"https://media.api-sports.io/football/players/30501.png"},{"id":1631,"name":"Ricardo Iv\xe1n Rodr\xedguez Araya","age":30,"number":13,"position":"Defender","photo":"https://media.api-sports.io/football/players/1631.png"},{"id":30504,"name":"W. Singo","age":22,"number":17,"position":"Defender","photo":"https://media.api-sports.io/football/players/30504.png"},{"id":8586,"name":"M\xebrgim Vojvoda","age":27,"number":27,"position":"Defender","photo":"https://media.api-sports.io/football/players/8586.png"},{"id":128772,"name":"D. Zima","age":22,"number":6,"position":"Defender","photo":"https://media.api-sports.io/football/players/128772.png"},{"id":30479,"name":"S. Edera","age":25,"number":20,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30479.png"},{"id":180455,"name":"M. Garbett","age":20,"number":18,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/180455.png"},{"id":30513,"name":"B. Kone","age":22,"number":25,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30513.png"},{"id":3009,"name":"Karol Linetty","age":27,"number":77,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/3009.png"},{"id":2823,"name":"Sa\u0161a Luki\u0107","age":26,"number":10,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/2823.png"},{"id":30810,"name":"Rolando Mandragora","age":25,"number":38,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30810.png"},{"id":31370,"name":"J. Segre","age":25,"number":6,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31370.png"},{"id":30509,"name":"Andrea Belotti","age":29,"number":9,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30509.png"},{"id":30514,"name":"Vincenzo Millico","age":22,"number":72,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30514.png"},{"id":123,"name":"Pietro Pellegri","age":21,"number":64,"position":"Attacker","photo":"https://media.api-sports.io/football/players/123.png"},{"id":126766,"name":"Nicola Rauti","age":22,"number":23,"position":"Attacker","photo":"https://media.api-sports.io/football/players/126766.png"},{"id":2522,"name":"Arnaldo Antonio Sanabria Ayala","age":26,"number":19,"position":"Attacker","photo":"https://media.api-sports.io/football/players/2522.png"},{"id":282706,"name":"D. Seck","age":21,"number":23,"position":"Attacker","photo":"https://media.api-sports.io/football/players/282706.png"},{"id":334,"name":"Simone Verdi","age":30,"number":24,"position":"Attacker","photo":"https://media.api-sports.io/football/players/334.png"},{"id":30515,"name":"Simone Zaza","age":31,"number":7,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30515.png"}]},"venue":{"id":943,"name":"Stadio Olimpico Grande Torino","address":"Corso Sebastopoli 123, Santa Rita","city":"Torino","capacity":27958,"surface":"grass","image":"https://media.api-sports.io/football/venues/943.png"}},{"team":{"id":504,"name":"Verona","code":"VER","country":"Italy","founded":1903,"national":false,"logo":"https://media.api-sports.io/football/teams/504.png","players":[{"id":30912,"name":"Alessandro Berardi","age":31,"number":22,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30912.png"},{"id":362756,"name":"Elia Boseggia","age":18,"number":74,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/362756.png"},{"id":30913,"name":"Mattia Chiesa","age":22,"number":12,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30913.png"},{"id":60578,"name":"Kaur Kivila","age":19,"number":80,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/60578.png"},{"id":14268,"name":"Ivor Pandur","age":22,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/14268.png"},{"id":350539,"name":"Giacomo Toniolo","age":18,"number":94,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/350539.png"},{"id":126741,"name":"B. Amione","age":20,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/126741.png"},{"id":31099,"name":"N. Casale","age":24,"number":16,"position":"Defender","photo":"https://media.api-sports.io/football/players/31099.png"},{"id":30397,"name":"Federico Ceccherini","age":30,"number":17,"position":"Defender","photo":"https://media.api-sports.io/football/players/30397.png"},{"id":61808,"name":"M. \xc7etin","age":25,"number":15,"position":"Defender","photo":"https://media.api-sports.io/football/players/61808.png"},{"id":342063,"name":"D. Coppola","age":19,"number":42,"position":"Defender","photo":"https://media.api-sports.io/football/players/342063.png"},{"id":30921,"name":"Pawe\u0142 Marek Dawidowicz","age":27,"number":27,"position":"Defender","photo":"https://media.api-sports.io/football/players/30921.png"},{"id":30922,"name":"Marco Davide Faraoni","age":31,"number":5,"position":"Defender","photo":"https://media.api-sports.io/football/players/30922.png"},{"id":30772,"name":"Koray G\xfcnter","age":28,"number":21,"position":"Defender","photo":"https://media.api-sports.io/football/players/30772.png"},{"id":30924,"name":"M. Kumbulla","age":22,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/30924.png"},{"id":30526,"name":"Giangiacomo Magnani","age":27,"number":23,"position":"Defender","photo":"https://media.api-sports.io/football/players/30526.png"},{"id":971,"name":"Panagiotis Retsos","age":24,"number":45,"position":"Defender","photo":"https://media.api-sports.io/football/players/971.png"},{"id":30803,"name":"Anton\xedn Bar\xe1k","age":28,"number":7,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30803.png"},{"id":137384,"name":"Tochi Phil Chukwuani","age":19,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/137384.png"},{"id":46170,"name":"I. Ili\u0107","age":21,"number":14,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/46170.png"},{"id":2822,"name":"D. Lazovi\u0107","age":32,"number":8,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/2822.png"},{"id":265552,"name":"C. Pierobon","age":20,"number":26,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/265552.png"},{"id":30781,"name":"Miguel Veloso","age":36,"number":4,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30781.png"},{"id":40399,"name":"M. Praszelik","age":22,"number":88,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/40399.png"},{"id":30778,"name":"Daniel Sartori Bessa","age":29,"number":24,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30778.png"},{"id":22174,"name":"Adrien Tameze","age":28,"number":61,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/22174.png"},{"id":264472,"name":"F. Terracciano","age":19,"number":97,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/264472.png"},{"id":342013,"name":"Mattia Turra","age":20,"number":63,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/342013.png"},{"id":109806,"name":"David Flakus Bosilj","age":20,"number":32,"position":"Attacker","photo":"https://media.api-sports.io/football/players/109806.png"},{"id":342064,"name":"M. Florio","age":19,"number":71,"position":"Attacker","photo":"https://media.api-sports.io/football/players/342064.png"},{"id":30440,"name":"R. Piccoli","age":21,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30440.png"},{"id":30414,"name":"Giovanni Pablo Simeone","age":27,"number":99,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30414.png"},{"id":30761,"name":"Mariusz Pawe\u0142 St\u0119pi\u0144ski","age":27,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30761.png"},{"id":31692,"name":"M. \u0110uri\u0107","age":32,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31692.png"}]},"venue":{"id":890,"name":"Stadio Marc\'Antonio Bentegodi","address":"Piazzale Olimpia","city":"Verona","capacity":39211,"surface":"grass","image":"https://media.api-sports.io/football/venues/890.png"}},{"team":{"id":505,"name":"Inter","code":"INT","country":"Italy","founded":1908,"national":false,"logo":"https://media.api-sports.io/football/teams/505.png","players":[{"id":30974,"name":"A. Cordaz","age":39,"number":21,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30974.png"},{"id":188,"name":"S. Handanovi\u010d","age":38,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/188.png"},{"id":526,"name":"Andr\xe9 Onana Onana","age":26,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/526.png"},{"id":30765,"name":"Ionu\u021b Andrei Radu","age":25,"number":97,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30765.png"},{"id":336703,"name":"William Rovida","age":19,"number":40,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/336703.png"},{"id":162445,"name":"Filip Stankovi\u0107","age":20,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/162445.png"},{"id":31009,"name":"Alessandro Bastoni","age":23,"number":95,"position":"Defender","photo":"https://media.api-sports.io/football/players/31009.png"},{"id":192,"name":"Dalbert Henrique Chagas Estev\xe3o","age":29,"number":29,"position":"Defender","photo":"https://media.api-sports.io/football/players/192.png"},{"id":162195,"name":"F. Cortinovis","age":20,"number":43,"position":"Defender","photo":"https://media.api-sports.io/football/players/162195.png"},{"id":193,"name":"Danilo D\'Ambrosio","age":34,"number":33,"position":"Defender","photo":"https://media.api-sports.io/football/players/193.png"},{"id":887,"name":"Matteo Darmian","age":33,"number":36,"position":"Defender","photo":"https://media.api-sports.io/football/players/887.png"},{"id":194,"name":"Stefan de Vrij","age":30,"number":6,"position":"Defender","photo":"https://media.api-sports.io/football/players/194.png"},{"id":31010,"name":"Federico Dimarco","age":25,"number":32,"position":"Defender","photo":"https://media.api-sports.io/football/players/31010.png"},{"id":226,"name":"Denzel Justus Morris Dumfries","age":26,"number":2,"position":"Defender","photo":"https://media.api-sports.io/football/players/226.png"},{"id":30422,"name":"Robin Everardus Gosens","age":28,"number":18,"position":"Defender","photo":"https://media.api-sports.io/football/players/30422.png"},{"id":771,"name":"Aleksandar Kolarov","age":37,"number":11,"position":"Defender","photo":"https://media.api-sports.io/football/players/771.png"},{"id":134431,"name":"L. Pirola","age":20,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/134431.png"},{"id":198,"name":"Milan \u0160kriniar","age":27,"number":37,"position":"Defender","photo":"https://media.api-sports.io/football/players/198.png"},{"id":2107,"name":"Z. Vanheusden","age":23,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/2107.png"},{"id":322626,"name":"M. Zanotti","age":19,"number":46,"position":"Defender","photo":"https://media.api-sports.io/football/players/322626.png"},{"id":21004,"name":"L. Agoum\xe9","age":20,"number":18,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/21004.png"},{"id":275776,"name":"K. Asllani","age":20,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/275776.png"},{"id":30558,"name":"Nicol\xf2 Barella","age":25,"number":23,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30558.png"},{"id":201,"name":"Marcelo Brozovi\u0107","age":30,"number":77,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/201.png"},{"id":1640,"name":"Hakan \xc7alhano\u011flu","age":28,"number":20,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1640.png"},{"id":270507,"name":"C. Casadei","age":19,"number":42,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/270507.png"},{"id":1854,"name":"Carlos Joaqu\xedn Correa","age":28,"number":19,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1854.png"},{"id":203,"name":"Roberto Gagliardini","age":28,"number":5,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/203.png"},{"id":25353,"name":"Valentino Lando Lazaro","age":26,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/25353.png"},{"id":1457,"name":"Henrikh Mkhitaryan","age":33,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1457.png"},{"id":161857,"name":"T. Persyn","age":20,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/161857.png"},{"id":336629,"name":"M. Sangalli","age":20,"number":38,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/336629.png"},{"id":211,"name":"Mat\xedas Vecino Falero","age":31,"number":8,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/211.png"},{"id":151,"name":"Arturo Erasmo Vidal Pardo","age":35,"number":22,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/151.png"},{"id":286473,"name":"F. Carboni","age":19,"number":47,"position":"Attacker","photo":"https://media.api-sports.io/football/players/286473.png"},{"id":341644,"name":"D. Curatolo","age":18,"number":41,"position":"Attacker","photo":"https://media.api-sports.io/football/players/341644.png"},{"id":790,"name":"E. D\u017eeko","age":36,"number":9,"position":"Attacker","photo":"https://media.api-sports.io/football/players/790.png"},{"id":907,"name":"Romelu Lukaku Menama","age":29,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/907.png"},{"id":217,"name":"Lautaro Javier Mart\xednez","age":25,"number":10,"position":"Attacker","photo":"https://media.api-sports.io/football/players/217.png"},{"id":31094,"name":"Andrea Pinamonti","age":23,"number":99,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31094.png"},{"id":220,"name":"Eddie Anthony Salcedo Mora","age":21,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/220.png"},{"id":910,"name":"A. S\xe1nchez","age":34,"number":7,"position":"Attacker","photo":"https://media.api-sports.io/football/players/910.png"},{"id":195512,"name":"M. Satriano","age":21,"number":48,"position":"Attacker","photo":"https://media.api-sports.io/football/players/195512.png"}]},"venue":{"id":907,"name":"Stadio Giuseppe Meazza","address":"Via Piccolomini 5","city":"Milano","capacity":80018,"surface":"grass","image":"https://media.api-sports.io/football/venues/907.png"}},{"team":{"id":511,"name":"Empoli","code":"EMP","country":"Italy","founded":1920,"national":false,"logo":"https://media.api-sports.io/football/teams/511.png","players":[{"id":292343,"name":"Valerio Biagini","age":19,"number":38,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/292343.png"},{"id":56780,"name":"Jacopo Furlan","age":29,"number":22,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/56780.png"},{"id":30794,"name":"Samuele Perisan","age":25,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30794.png"},{"id":322632,"name":"Alex Sposito","age":21,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/322632.png"},{"id":50023,"name":"S. Ujkani","age":34,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/50023.png"},{"id":31354,"name":"Guglielmo Vicario","age":26,"number":13,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/31354.png"},{"id":91503,"name":"S. Canestrelli","age":22,"number":4,"position":"Defender","photo":"https://media.api-sports.io/football/players/91503.png"},{"id":128495,"name":"Francesco Donati","age":21,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/128495.png"},{"id":31724,"name":"Riccardo Fiamozzi","age":29,"number":20,"position":"Defender","photo":"https://media.api-sports.io/football/players/31724.png"},{"id":14329,"name":"Ardian Ismajli","age":26,"number":34,"position":"Defender","photo":"https://media.api-sports.io/football/players/14329.png"},{"id":136087,"name":"F. Parisi","age":22,"number":65,"position":"Defender","photo":"https://media.api-sports.io/football/players/136087.png"},{"id":341833,"name":"L. Pezzola","age":20,"number":36,"position":"Defender","photo":"https://media.api-sports.io/football/players/341833.png"},{"id":31547,"name":"Roberto Pirrello","age":26,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/31547.png"},{"id":282412,"name":"A. Rizza","age":19,"number":31,"position":"Defender","photo":"https://media.api-sports.io/football/players/282412.png"},{"id":30450,"name":"Lorenzo Tonelli","age":32,"number":26,"position":"Defender","photo":"https://media.api-sports.io/football/players/30450.png"},{"id":180510,"name":"M. Viti","age":20,"number":42,"position":"Defender","photo":"https://media.api-sports.io/football/players/180510.png"},{"id":56163,"name":"Davide Zappella","age":24,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/56163.png"},{"id":48577,"name":"N. Bajrami","age":23,"number":10,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/48577.png"},{"id":30624,"name":"F. Bandinelli","age":27,"number":25,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30624.png"},{"id":30403,"name":"Marco Benassi","age":28,"number":15,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30403.png"},{"id":31237,"name":"G. Crociata","age":25,"number":14,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31237.png"},{"id":31207,"name":"Samuele Damiani","age":24,"number":21,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31207.png"},{"id":340699,"name":"D. Degli Innocenti","age":19,"number":24,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/340699.png"},{"id":340700,"name":"J. Fazzini","age":19,"number":16,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/340700.png"},{"id":31555,"name":"Nicolas Thibault Haas","age":26,"number":32,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31555.png"},{"id":30932,"name":"Liam Henderson","age":26,"number":8,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30932.png"},{"id":3014,"name":"S. \u017burkowski","age":25,"number":27,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/3014.png"},{"id":31056,"name":"S. Ricci","age":21,"number":28,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31056.png"},{"id":31028,"name":"Leo \u0160tulac","age":28,"number":5,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31028.png"},{"id":288769,"name":"T. Baldanzi","age":19,"number":35,"position":"Attacker","photo":"https://media.api-sports.io/football/players/288769.png"},{"id":30486,"name":"Mattia Destro","age":31,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30486.png"},{"id":287374,"name":"E. Ekong","age":20,"number":17,"position":"Attacker","photo":"https://media.api-sports.io/football/players/287374.png"},{"id":31743,"name":"Andrea La Mantia","age":31,"number":19,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31743.png"},{"id":335213,"name":"Matteo Martini","age":20,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/335213.png"},{"id":31560,"name":"Stefano Moreo","age":29,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31560.png"}]},"venue":{"id":896,"name":"Stadio Carlo Castellani","address":"Viale delle Olimpiadi","city":"Empoli","capacity":16284,"surface":"grass","image":"https://media.api-sports.io/football/venues/896.png"}},{"team":{"id":514,"name":"Salernitana","code":"SAL","country":"Italy","founded":2011,"national":false,"logo":"https://media.api-sports.io/football/teams/514.png","players":[{"id":199210,"name":"Jacopo De Matteis","age":20,"number":71,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/199210.png"},{"id":31473,"name":"V. Fiorillo","age":32,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/31473.png"},{"id":31664,"name":"Alessandro Micai","age":29,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/31664.png"},{"id":282634,"name":"Antonio Russo","age":22,"number":12,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/282634.png"},{"id":31008,"name":"Luigi Sepe","age":31,"number":55,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/31008.png"},{"id":30951,"name":"Luka Bogdan","age":26,"number":26,"position":"Defender","photo":"https://media.api-sports.io/football/players/30951.png"},{"id":351268,"name":"T. De Lorenzo","age":18,"number":38,"position":"Defender","photo":"https://media.api-sports.io/football/players/351268.png"},{"id":768,"name":"F. Fazio","age":35,"number":17,"position":"Defender","photo":"https://media.api-sports.io/football/players/768.png"},{"id":31011,"name":"Riccardo Gagliolo","age":32,"number":31,"position":"Defender","photo":"https://media.api-sports.io/football/players/31011.png"},{"id":31389,"name":"Norbert Gy\xf6mb\xe9r","age":30,"number":23,"position":"Defender","photo":"https://media.api-sports.io/football/players/31389.png"},{"id":31672,"name":"V. Mantovani","age":26,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/31672.png"},{"id":350614,"name":"M. Perrone","age":19,"number":37,"position":"Defender","photo":"https://media.api-sports.io/football/players/350614.png"},{"id":8864,"name":"S. Sy","age":23,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/8864.png"},{"id":31050,"name":"Fr\xe9d\xe9ric Veseli","age":30,"number":5,"position":"Defender","photo":"https://media.api-sports.io/football/players/31050.png"},{"id":39286,"name":"E. Bohinen","age":23,"number":15,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/39286.png"},{"id":31613,"name":"R. Boultam","age":24,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31613.png"},{"id":31053,"name":"Leonardo Capezzi","age":27,"number":28,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31053.png"},{"id":31170,"name":"Michele Cavion","age":28,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31170.png"},{"id":49938,"name":"Joel Chukwuma Obi","age":31,"number":22,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/49938.png"},{"id":1748,"name":"L. Coulibaly","age":26,"number":18,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/1748.png"},{"id":31680,"name":"Francesco Di Tacchio","age":32,"number":14,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31680.png"},{"id":10097,"name":"\xc9derson","age":23,"number":13,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/10097.png"},{"id":283008,"name":"A. Iervolino","age":19,"number":39,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/283008.png"},{"id":2954,"name":"W. Kechrida","age":27,"number":24,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/2954.png"},{"id":280947,"name":"A. Mo\u021boc","age":20,"number":35,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/280947.png"},{"id":30782,"name":"Ivan Radovanovi\u0107","age":34,"number":16,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30782.png"},{"id":515,"name":"F. Rib\xe9ry","age":39,"number":7,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/515.png"},{"id":349460,"name":"Alessandro Russo","age":19,"number":36,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/349460.png"},{"id":31369,"name":"Andrea Schiavone","age":29,"number":8,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31369.png"},{"id":349459,"name":"L. Cannavale","age":20,"number":34,"position":"Attacker","photo":"https://media.api-sports.io/football/players/349459.png"},{"id":56951,"name":"Giuseppe Fella","age":29,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/56951.png"},{"id":352228,"name":"A. Guida","age":20,"number":40,"position":"Attacker","photo":"https://media.api-sports.io/football/players/352228.png"},{"id":201970,"name":"Carmine Iannone","age":21,"number":15,"position":"Attacker","photo":"https://media.api-sports.io/football/players/201970.png"},{"id":15782,"name":"Julian Kristoffersen","age":25,"number":19,"position":"Attacker","photo":"https://media.api-sports.io/football/players/15782.png"},{"id":31685,"name":"Francesco Orlando","age":26,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31685.png"},{"id":31003,"name":"Simeon Tochukwu Nwankwo","age":30,"number":25,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31003.png"},{"id":134432,"name":"Edoardo Vergani","age":21,"number":63,"position":"Attacker","photo":"https://media.api-sports.io/football/players/134432.png"}]},"venue":{"id":933,"name":"Stadio Arechi","address":"Via Salvador Allende","city":"Salerno","capacity":37245,"surface":"grass","image":"https://media.api-sports.io/football/venues/933.png"}},{"team":{"id":515,"name":"Spezia","code":"SPE","country":"Italy","founded":1906,"national":false,"logo":"https://media.api-sports.io/football/teams/515.png","players":[{"id":31037,"name":"Ivan Provedel","age":28,"number":94,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/31037.png"},{"id":224,"name":"Jeroen Zoet","age":31,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/224.png"},{"id":327572,"name":"Petar Zovko","age":20,"number":40,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/327572.png"},{"id":22134,"name":"Kelvin Amian Adou","age":24,"number":27,"position":"Defender","photo":"https://media.api-sports.io/football/players/22134.png"},{"id":30687,"name":"Simone Bastoni","age":26,"number":20,"position":"Defender","photo":"https://media.api-sports.io/football/players/30687.png"},{"id":315249,"name":"N. Bertola","age":19,"number":77,"position":"Defender","photo":"https://media.api-sports.io/football/players/315249.png"},{"id":30824,"name":"Elio Capradossi","age":26,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/30824.png"},{"id":47217,"name":"Salvador Ferrer","age":24,"number":21,"position":"Defender","photo":"https://media.api-sports.io/football/players/47217.png"},{"id":329400,"name":"L. Gabelli","age":20,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/329400.png"},{"id":47985,"name":"Emil Alfons Holm","age":22,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/47985.png"},{"id":31258,"name":"Petko Hristov","age":23,"number":15,"position":"Defender","photo":"https://media.api-sports.io/football/players/31258.png"},{"id":61431,"name":"J. Kiwior","age":22,"number":14,"position":"Defender","photo":"https://media.api-sports.io/football/players/61431.png"},{"id":31045,"name":"Dimitrios Nikolaou","age":24,"number":43,"position":"Defender","photo":"https://media.api-sports.io/football/players/31045.png"},{"id":30448,"name":"Jacopo Sala","age":31,"number":7,"position":"Defender","photo":"https://media.api-sports.io/football/players/30448.png"},{"id":30840,"name":"L. Vignali","age":26,"number":12,"position":"Defender","photo":"https://media.api-sports.io/football/players/30840.png"},{"id":215902,"name":"Kleis Bozhanaj","age":21,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/215902.png"},{"id":10352,"name":"L\xe9o Sena","age":27,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/10352.png"},{"id":89520,"name":"M. Ellertsson","age":20,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/89520.png"},{"id":30836,"name":"G. Maggiore","age":24,"number":25,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30836.png"},{"id":20927,"name":"A. Nguiamba","age":23,"number":39,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/20927.png"},{"id":315250,"name":"N. Pietra","age":19,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/315250.png"},{"id":48129,"name":"A. Sher","age":20,"number":31,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/48129.png"},{"id":30457,"name":"Ognjen Stijepovi\u0107","age":23,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30457.png"},{"id":193870,"name":"Janis Antiste","age":20,"number":22,"position":"Attacker","photo":"https://media.api-sports.io/football/players/193870.png"},{"id":206280,"name":"Leandro M\xe1rio Bald\xe9 Sanca","age":22,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/206280.png"},{"id":340975,"name":"D. Delori\xe8","age":18,"number":76,"position":"Attacker","photo":"https://media.api-sports.io/football/players/340975.png"},{"id":30845,"name":"Emanuel Quartsin Gyasi","age":28,"number":11,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30845.png"},{"id":30999,"name":"Samuel Mr\xe1z","age":25,"number":9,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30999.png"},{"id":31318,"name":"M\'Bala Nzola","age":26,"number":18,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31318.png"},{"id":163338,"name":"Suf Podgoreanu","age":20,"number":17,"position":"Attacker","photo":"https://media.api-sports.io/football/players/163338.png"},{"id":61156,"name":"David Strelec","age":21,"number":44,"position":"Attacker","photo":"https://media.api-sports.io/football/players/61156.png"},{"id":47500,"name":"Daniele Verde","age":26,"number":10,"position":"Attacker","photo":"https://media.api-sports.io/football/players/47500.png"},{"id":281218,"name":"D. Zuppel","age":20,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/281218.png"}]},"venue":{"id":939,"name":"Stadio Alberto Picco","address":"Via Nicol\xf2 Fieschi, 18","city":"La Spezia","capacity":10336,"surface":"artificial turf","image":"https://media.api-sports.io/football/venues/939.png"}},{"team":{"id":520,"name":"Cremonese","code":"CRE","country":"Italy","founded":1903,"national":false,"logo":"https://media.api-sports.io/football/teams/520.png","players":[{"id":364512,"name":"Federico Agazzi","age":null,"number":44,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/364512.png"},{"id":327771,"name":"Dorian Jerzy Ci\u0119\u017ckowski","age":21,"number":22,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/327771.png"},{"id":327773,"name":"Davide Peschieri","age":18,"number":48,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/327773.png"},{"id":30919,"name":"Matteo Bianchetti","age":29,"number":15,"position":"Defender","photo":"https://media.api-sports.io/football/players/30919.png"},{"id":30920,"name":"Alessandro Crescenzi","age":31,"number":23,"position":"Defender","photo":"https://media.api-sports.io/football/players/30920.png"},{"id":56643,"name":"A. Fiordaliso","age":23,"number":2,"position":"Defender","photo":"https://media.api-sports.io/football/players/56643.png"},{"id":282415,"name":"Luca Munaretti","age":20,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/282415.png"},{"id":30427,"name":"C. Okoli","age":21,"number":55,"position":"Defender","photo":"https://media.api-sports.io/football/players/30427.png"},{"id":31421,"name":"Luca Ravanelli","age":25,"number":6,"position":"Defender","photo":"https://media.api-sports.io/football/players/31421.png"},{"id":91358,"name":"E. Valeri","age":24,"number":3,"position":"Defender","photo":"https://media.api-sports.io/football/players/91358.png"},{"id":35544,"name":"J. V\xe1squez","age":24,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/35544.png"},{"id":30831,"name":"Paolo Bartolomei","age":33,"number":16,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30831.png"},{"id":30634,"name":"Cristian Buonaiuto","age":30,"number":10,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30634.png"},{"id":31614,"name":"Michele Castagnetti","age":33,"number":19,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31614.png"},{"id":90398,"name":"Francesco Cerretelli","age":22,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/90398.png"},{"id":56972,"name":"Riccardo Collodel","age":24,"number":5,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/56972.png"},{"id":327772,"name":"D. Frey","age":20,"number":27,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/327772.png"},{"id":281658,"name":"Matteo Ghisolfi","age":20,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/281658.png"},{"id":31619,"name":"Stefano Girelli","age":21,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31619.png"},{"id":289292,"name":"T. Milanese","age":20,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/289292.png"},{"id":30692,"name":"F. Nardi","age":24,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30692.png"},{"id":18128,"name":"D. Politic","age":22,"number":20,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/18128.png"},{"id":324322,"name":"Joshua tenkorang","age":22,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/324322.png"},{"id":31344,"name":"Jaime B\xe1ez St\xe1bile","age":27,"number":7,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31344.png"},{"id":31092,"name":"Daniel Ciofani","age":37,"number":9,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31092.png"},{"id":30939,"name":"S. Di Carmine","age":34,"number":29,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30939.png"},{"id":57016,"name":"Cedric Gondo","age":26,"number":8,"position":"Attacker","photo":"https://media.api-sports.io/football/players/57016.png"},{"id":31629,"name":"Luca Strizzolo","age":30,"number":11,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31629.png"},{"id":56304,"name":"Luca Zanimacchia","age":24,"number":98,"position":"Attacker","photo":"https://media.api-sports.io/football/players/56304.png"},{"id":30686,"name":"Marco Zunno","age":21,"number":99,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30686.png"}]},"venue":{"id":894,"name":"Stadio Giovanni Zini","address":"Via Persico, 19","city":"Cremona","capacity":20034,"surface":"grass","image":"https://media.api-sports.io/football/venues/894.png"}},{"team":{"id":867,"name":"Lecce","code":"LEC","country":"Italy","founded":1908,"national":false,"logo":"https://media.api-sports.io/football/teams/867.png","players":[{"id":31717,"name":"Marco Bleve","age":27,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/31717.png"},{"id":42712,"name":"Alexandru Gabriel Borbei","age":19,"number":12,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/42712.png"},{"id":30391,"name":"F. Brancolini","age":21,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30391.png"},{"id":330720,"name":"Alberto Dima","age":18,"number":32,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/330720.png"},{"id":156619,"name":"Jasper Lauri Petteri Samooja","age":19,"number":35,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/156619.png"},{"id":31384,"name":"Gabriel Vasconcelos","age":30,"number":21,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/31384.png"},{"id":30469,"name":"Arturo Calabresi","age":26,"number":33,"position":"Defender","photo":"https://media.api-sports.io/football/players/30469.png"},{"id":31328,"name":"Kastriot Dermaku","age":30,"number":44,"position":"Defender","photo":"https://media.api-sports.io/football/players/31328.png"},{"id":31517,"name":"G. Frabotta","age":23,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/31517.png"},{"id":31543,"name":"A. Gallo","age":22,"number":25,"position":"Defender","photo":"https://media.api-sports.io/football/players/31543.png"},{"id":127631,"name":"V. Gendrey","age":22,"number":17,"position":"Defender","photo":"https://media.api-sports.io/football/players/127631.png"},{"id":341918,"name":"E. Hasi\u0107","age":19,"number":31,"position":"Defender","photo":"https://media.api-sports.io/football/players/341918.png"},{"id":30862,"name":"Lorenco \u0160imi\u0107","age":26,"number":6,"position":"Defender","photo":"https://media.api-sports.io/football/players/30862.png"},{"id":30622,"name":"A. Tuia","age":32,"number":13,"position":"Defender","photo":"https://media.api-sports.io/football/players/30622.png"},{"id":48352,"name":"J. Bj\xf6rkengren","age":24,"number":23,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/48352.png"},{"id":21384,"name":"Alexis Blin","age":26,"number":29,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/21384.png"},{"id":7712,"name":"M. Hjulmand","age":23,"number":42,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/7712.png"},{"id":32158,"name":"Mario Gargiulo","age":26,"number":8,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/32158.png"},{"id":28744,"name":"\xde. Helgason","age":22,"number":14,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/28744.png"},{"id":31736,"name":"\u017dan Majer","age":30,"number":37,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31736.png"},{"id":180585,"name":"Sergio Maselli","age":21,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/180585.png"},{"id":30633,"name":"Ra\xfal Jos\xe9 Asencio Moraes","age":24,"number":90,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30633.png"},{"id":40624,"name":"Marcin Listkowski","age":24,"number":19,"position":"Attacker","photo":"https://media.api-sports.io/football/players/40624.png"},{"id":91301,"name":"A. Ragusa","age":32,"number":7,"position":"Attacker","photo":"https://media.api-sports.io/football/players/91301.png"},{"id":162029,"name":"Pablo Rodr\xedguez","age":21,"number":99,"position":"Attacker","photo":"https://media.api-sports.io/football/players/162029.png"},{"id":31624,"name":"Gabriel Tadeu Strefezza Rebelato","age":25,"number":27,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31624.png"},{"id":1018,"name":"Assan Torrez Ceesay","age":28,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/1018.png"}]},"venue":{"id":911,"name":"Stadio Comunale Via del Mare","address":"Viale dello Stadio","city":"Lecce","capacity":33876,"surface":"grass","image":"https://media.api-sports.io/football/venues/911.png"}},{"team":{"id":1579,"name":"Monza","code":"MON","country":"Italy","founded":1912,"national":false,"logo":"https://media.api-sports.io/football/teams/1579.png","players":[{"id":30546,"name":"Alessio Cragno","age":28,"number":null,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30546.png"},{"id":30820,"name":"E. Lamanna","age":33,"number":1,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/30820.png"},{"id":308673,"name":"Andrea Sergio Mazza","age":18,"number":62,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/308673.png"},{"id":287079,"name":"Stefano Rubbi","age":20,"number":22,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/287079.png"},{"id":31445,"name":"Daniele Sommariva","age":25,"number":12,"position":"Goalkeeper","photo":"https://media.api-sports.io/football/players/31445.png"},{"id":31542,"name":"G. Bellusci","age":33,"number":6,"position":"Defender","photo":"https://media.api-sports.io/football/players/31542.png"},{"id":30615,"name":"Luca Caldirola","age":31,"number":5,"position":"Defender","photo":"https://media.api-sports.io/football/players/30615.png"},{"id":193270,"name":"A. Carboni","age":21,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/193270.png"},{"id":25911,"name":"Giulio Donati","age":32,"number":2,"position":"Defender","photo":"https://media.api-sports.io/football/players/25911.png"},{"id":10997,"name":"Valentin Ivaylov Antov","age":22,"number":26,"position":"Defender","photo":"https://media.api-sports.io/football/players/10997.png"},{"id":30934,"name":"Luca Marrone","age":32,"number":34,"position":"Defender","photo":"https://media.api-sports.io/football/players/30934.png"},{"id":30994,"name":"Salvatore Andrea Molina","age":30,"number":79,"position":"Defender","photo":"https://media.api-sports.io/football/players/30994.png"},{"id":12774,"name":"G. Paletta","age":36,"number":29,"position":"Defender","photo":"https://media.api-sports.io/football/players/12774.png"},{"id":197,"name":"Andrea Ranocchia","age":34,"number":null,"position":"Defender","photo":"https://media.api-sports.io/football/players/197.png"},{"id":30984,"name":"Mario Sampirisi","age":30,"number":31,"position":"Defender","photo":"https://media.api-sports.io/football/players/30984.png"},{"id":10238,"name":"Carlos Augusto","age":23,"number":30,"position":"Defender","photo":"https://media.api-sports.io/football/players/10238.png"},{"id":30989,"name":"Andrea Barberis","age":29,"number":8,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30989.png"},{"id":161937,"name":"Ronaldo Camar\xe1","age":19,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/161937.png"},{"id":30806,"name":"Marco D\'Alessandro","age":31,"number":77,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30806.png"},{"id":31024,"name":"Jos\xe9 Mach\xedn","age":26,"number":7,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31024.png"},{"id":30780,"name":"Luca Mazzitelli","age":27,"number":4,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30780.png"},{"id":31116,"name":"Tommaso Morosini","age":31,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31116.png"},{"id":30455,"name":"Gast\xf3n Exequiel Ram\xedrez Pereyra","age":32,"number":21,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30455.png"},{"id":30754,"name":"Nicola Rigoni","age":32,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30754.png"},{"id":31026,"name":"Matteo Scozzarella","age":34,"number":23,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/31026.png"},{"id":30535,"name":"Stefano Sensi","age":27,"number":null,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/30535.png"},{"id":325385,"name":"A. Siatounis","age":20,"number":20,"position":"Midfielder","photo":"https://media.api-sports.io/football/players/325385.png"},{"id":30603,"name":"Dany Mota Carvalho","age":24,"number":47,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30603.png"},{"id":31532,"name":"Patrick Ciurria","age":27,"number":84,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31532.png"},{"id":30663,"name":"Davide Djily Diaw","age":30,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30663.png"},{"id":30664,"name":"Mattia Finotto","age":30,"number":11,"position":"Attacker","photo":"https://media.api-sports.io/football/players/30664.png"},{"id":2738,"name":"C. Gytkj\xe6r","age":32,"number":9,"position":"Attacker","photo":"https://media.api-sports.io/football/players/2738.png"},{"id":31503,"name":"Leonardo Mancuso","age":30,"number":11,"position":"Attacker","photo":"https://media.api-sports.io/football/players/31503.png"},{"id":9072,"name":"Mirko Mari\u0107","age":27,"number":null,"position":"Attacker","photo":"https://media.api-sports.io/football/players/9072.png"},{"id":312985,"name":"S. Vignato","age":18,"number":80,"position":"Attacker","photo":"https://media.api-sports.io/football/players/312985.png"}]},"venue":{"id":12086,"name":"U-Power Stadium","address":"Via Franco Tognini","city":"Monza","capacity":18568,"surface":"grass","image":"https://media.api-sports.io/football/venues/12086.png"}}]}');var B3=V.t(V3,2);function U3(n,e){if(1&n){const t=g.EpF();g.TgZ(0,"button",18),g.NdJ("click",function(){g.CHM(t);const o=g.oxw();return g.KtG(o.GenerateData())}),g._uU(1,"Genera estrazione"),g.qZA()}}function j3(n,e){if(1&n){const t=g.EpF();g.TgZ(0,"button",21),g.NdJ("click",function(){g.CHM(t);const o=g.oxw();return g.KtG(o.Elimina())}),g._uU(1,"Elimina estrazione"),g.qZA()}}function G3(n,e){if(1&n&&(g.TgZ(0,"option",22),g._uU(1),g.qZA()),2&n){const t=e.$implicit;g.Q6J("value",t),g.xp6(1),g.Oqu(t)}}function H3(n,e){if(1&n&&(g.TgZ(0,"option",22),g._uU(1),g.qZA()),2&n){const t=e.$implicit;g.Q6J("value",t.nome),g.xp6(1),g.Oqu(t.nome)}}let $3=(()=>{class n{constructor(t){this.firebaseService=t,this.players=[],this.daGenerare=!1,this.creditiSpesi=0,this.roleArr=["Goalkeeper","Defender","Midfielder","Attacker"],this.roleSelected="Goalkeeper",this.estrMancanti=0}ngOnInit(){this.firebaseService.GetSquad().subscribe(t=>{this.squadSub=t,this.squadSelected=t[0].nome}),null===localStorage.getItem("players")||void 0===localStorage.getItem("players")?this.daGenerare=!0:(this.playerArr=JSON.parse(localStorage.getItem("players")),this.selectedPlayer=JSON.parse(localStorage.getItem("selectedPlayer")),this.daGenerare=!1)}Associa(){Aa().fire({title:"Sicuro di voler associare questo gicoatore?",text:"Non potrai tornarnare indietro, l'acquisto non \xe8 rimborsabile",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si,associa",cancelButtonText:"Annulla"}).then(t=>{if(t.isConfirmed){let o;if(o=this.squadSub.find(l=>l.nome==this.squadSelected),o.crediti-this.creditiSpesi<0)Aa().fire("Crediti non sufficienti");else if(!0===this.selectedPlayer.preso)Aa().fire("Giocatore gi\xe0 acquistato");else{var r={};this.playerArr.forEach(l=>{try{if(l.name==JSON.parse(localStorage.getItem("selectedPlayer")).name&&l.team==JSON.parse(localStorage.getItem("selectedPlayer")).team){if(l.preso=!0,this.selectedPlayer.preso=!0,localStorage.setItem("selectedPlayer",JSON.stringify(this.selectedPlayer)),localStorage.setItem("players",JSON.stringify(this.playerArr)),!0===l.preso)throw r;console.log(l)}}catch(c){if(c!==r)throw c}}),o.crediti=o.crediti-this.creditiSpesi,o.players.push(this.selectedPlayer),this.firebaseService.UpdateSquad(o),this.creditiSpesi=0,Aa().fire("Associato!",this.squadSelected+" ha acquistato "+this.selectedPlayer.name+" per "+this.creditiSpesi+" crediti!","success")}}})}SelectRandom(){var t={};this.playerArr=JSON.parse(localStorage.getItem("players")).sort(()=>.5-Math.random());let r=[...this.playerArr.filter(o=>o.position==this.roleSelected)];for(let o=0;o<r.length;o++){if(r.some(l=>!0!==l.estratto&&l.position==this.roleSelected)){localStorage.setItem("selectedPlayer",JSON.stringify(r[o])),this.selectedPlayer=JSON.parse(localStorage.getItem("selectedPlayer")),this.playerArr.forEach(l=>{try{if(l.name==JSON.parse(localStorage.getItem("selectedPlayer")).name&&l.team==JSON.parse(localStorage.getItem("selectedPlayer")).team){if(this.selectedPlayer.estratto=!0,l.estratto=!0,!0===l.estratto)throw t;console.log(l)}}catch(c){if(c!==t)throw c}});break}Aa().fire({icon:"success",title:"Complimenti",text:"Tutti i giocatori "+this.roleSelected+" sono stati estratti!"})}localStorage.setItem("players",JSON.stringify(this.playerArr))}GenerateData(){this.dataTeams=B3,this.dataTeams.teams.forEach(t=>{t.team.players.forEach(r=>{r.team=t.team.name,r.estratto=!1,r.preso=!1,r.logoT=t.team.logo,this.players.push(r)})}),this.daGenerare=!1,localStorage.clear(),localStorage.setItem("players",JSON.stringify(this.players)),this.SelectRandom(),Aa().fire({icon:"success",title:"Estrazione generata",text:"Eliminazione generata con successo!"})}Elimina(){Aa().fire({title:"Sicuro di voler elmminare l'estrazione corrente?",text:"Tutti i giocatori estratti e acquistati saranno riportati allo stato iniziale",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Annulla",confirmButtonText:"Elimina!"}).then(t=>{t.isConfirmed&&(this.daGenerare=!0,localStorage.clear(),Aa().fire("Eliminata!","Estrazione eliminata con successo.","success"))})}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(XN))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-estrazione"]],decls:39,vars:13,consts:[[2,"text-align","start","margin-left","30px"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],[1,"container"],[2,"text-align","center","margin-bottom","20px"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"card"],[1,"card-img"],[2,"display","block","margin-left","auto","margin-right","auto",3,"src"],[1,"card-body"],[1,"d-flex","justify-content-around"],[2,"width","75px","height","75px",3,"src"],[1,"card-footer"],["for","squad"],["id","squad",3,"ngModel","ngModelChange"],["for","crediti"],["type","number","name","crediti","id","crediti","step","1","min","0",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-success",3,"click"],[2,"text-align","end"],["type","button",1,"btn","btn-light",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[3,"value"]],template:function(t,r){1&t&&(g.TgZ(0,"div",0),g.YNc(1,U3,2,0,"button",1),g.YNc(2,j3,2,0,"button",2),g.qZA(),g.TgZ(3,"div",3)(4,"div",4)(5,"select",5),g.NdJ("ngModelChange",function(l){return r.roleSelected=l}),g.YNc(6,G3,2,2,"option",6),g.qZA()(),g.TgZ(7,"div",7)(8,"div",8),g._UZ(9,"img",9),g.qZA(),g.TgZ(10,"div",10)(11,"div",11)(12,"div")(13,"b"),g._uU(14),g.qZA()()(),g.TgZ(15,"div",11)(16,"div"),g._uU(17),g.qZA(),g.TgZ(18,"div"),g._uU(19),g.qZA()(),g.TgZ(20,"div",11)(21,"div"),g._uU(22),g.qZA()(),g.TgZ(23,"div",11)(24,"div"),g._UZ(25,"img",12),g.qZA()()(),g._UZ(26,"div",13),g.TgZ(27,"label",14),g._uU(28,"Squadra:"),g.qZA(),g.TgZ(29,"select",15),g.NdJ("ngModelChange",function(l){return r.squadSelected=l}),g.YNc(30,H3,2,2,"option",6),g.qZA(),g.TgZ(31,"label",16),g._uU(32,"Crediti:"),g.qZA(),g.TgZ(33,"input",17),g.NdJ("ngModelChange",function(l){return r.creditiSpesi=l}),g.qZA(),g.TgZ(34,"button",18),g.NdJ("click",function(){return r.Associa()}),g._uU(35,"Associa"),g.qZA()(),g.TgZ(36,"div",19)(37,"button",20),g.NdJ("click",function(){return r.SelectRandom()}),g._uU(38,"Estrai nuovo"),g.qZA()()()),2&t&&(g.xp6(1),g.Q6J("ngIf",r.daGenerare),g.xp6(1),g.Q6J("ngIf",0==r.daGenerare),g.xp6(3),g.Q6J("ngModel",r.roleSelected),g.xp6(1),g.Q6J("ngForOf",r.roleArr),g.xp6(3),g.Q6J("src",r.selectedPlayer.photo,g.LSH),g.xp6(5),g.Oqu(r.selectedPlayer.name),g.xp6(3),g.hij("Age: ",r.selectedPlayer.age,""),g.xp6(2),g.hij("Role: ",r.selectedPlayer.position,""),g.xp6(3),g.hij("Team: ",r.selectedPlayer.team,""),g.xp6(3),g.Q6J("src",r.selectedPlayer.logoT,g.LSH),g.xp6(4),g.Q6J("ngModel",r.squadSelected),g.xp6(1),g.Q6J("ngForOf",r.squadSub),g.xp6(3),g.Q6J("ngModel",r.creditiSpesi))},dependencies:[oi,_r,Uf,Oy,ea,ad,Rl,Za,Wh,sd],styles:[".card[_ngcontent-%COMP%]{width:300px;height:100%;margin:0 auto;background-color:#000;color:#f0f8ff;font-size:22px}.card-body[_ngcontent-%COMP%]{text-align:center}"]}),n})();const z3=["header"];function W3(n,e){1&n&&g._UZ(0,"app-squadre-gen")}function q3(n,e){1&n&&g._UZ(0,"app-estrazione")}let K3=(()=>{class n{constructor(t){this.switchPage=t,this.title="asta-pixi"}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(ym))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-root"]],viewQuery:function(t,r){if(1&t&&g.Gf(z3,5),2&t){let o;g.iGM(o=g.CRH())&&(r.header=o.first)}},decls:3,vars:2,consts:[[4,"ngIf"]],template:function(t,r){1&t&&(g._UZ(0,"app-header"),g.YNc(1,W3,1,0,"app-squadre-gen",0),g.YNc(2,q3,1,0,"app-estrazione",0)),2&t&&(g.xp6(1),g.Q6J("ngIf",r.switchPage.isGenSquad),g.xp6(1),g.Q6J("ngIf",r.switchPage.isEstraz))},dependencies:[_r,$T,L3,$3]}),n})();V(3673);class tP{constructor(){return(0,Rt.vb)("auth")}}class CM{constructor(e){return e}}const nP="firestore",AM=new g.OlP("angularfire2.firestore-instances");function eL(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new CM(r)}}const tL={provide:class J3{constructor(){return(0,Rt.vb)(nP)}},deps:[[new g.FiY,AM]]},nL={provide:CM,useFactory:function X3(n,e){const t=(0,Rt.JM)(nP,n,e);return t&&new CM(t)},deps:[[new g.FiY,AM],Gd]};let rL=(()=>{class n{constructor(){(0,Au.KN)("angularfire",Rt.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[nL,tL]}),n})();function iL(n,...e){return{ngModule:rL,providers:[{provide:AM,useFactory:eL(n),multi:!0,deps:[g.R0b,g.zs3,Rt.HU,Hd,[new g.FiY,tP],[new g.FiY,Pp],...e]}]}}const oL=(0,Rt.u3)(bF,!0);let sL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n,bootstrap:[K3]}),n.\u0275inj=g.cJS({imports:[vl,Kh,it.hO.initializeApp(Lp_firebaseConfig),RI,cT(()=>YM(Lp_firebase)),iL(()=>oL())]}),n})();(0,g.G48)(),Ho().bootstrapModule(sL).catch(n=>console.error(n))},5867:(yt,Ne,V)=>{"use strict";V.d(Ne,{C6:()=>g.getApps,KN:()=>g.registerVersion,Mq:()=>g.getApp,ZF:()=>g.initializeApp});var g=V(9681);(0,g.registerVersion)("firebase","9.8.4","app")},127:(yt,Ne,V)=>{"use strict";V.d(Ne,{Z:()=>g.Z});var g=V(3942);g.Z.registerVersion("firebase","9.8.4","app-compat")},5881:(yt,Ne,V)=>{"use strict";V.r(Ne);var g=V(5861),H=V(3942),O=V(3673),ce=V(2090),we=(V(9681),V(1877),V(4859));function ge(){return window}function Z(){return(Z=(0,g.Z)(function*(de,q,K){var Ae;const{BuildInfo:Ke}=ge();(0,O.aq)(q.sessionId,"AuthEvent did not contain a session ID");const vt=yield be(q.sessionId),Pe={};return(0,O.ar)()?Pe.ibi=Ke.packageName:(0,O.as)()?Pe.apn=Ke.packageName:(0,O.at)(de,"operation-not-supported-in-this-environment"),Ke.displayName&&(Pe.appDisplayName=Ke.displayName),Pe.sessionId=vt,(0,O.au)(de,K,q.type,void 0,null!==(Ae=q.eventId)&&void 0!==Ae?Ae:void 0,Pe)})).apply(this,arguments)}function ot(){return(ot=(0,g.Z)(function*(de){const{BuildInfo:q}=ge(),K={};(0,O.ar)()?K.iosBundleId=q.packageName:(0,O.as)()?K.androidPackageName=q.packageName:(0,O.at)(de,"operation-not-supported-in-this-environment"),yield(0,O.av)(de,K)})).apply(this,arguments)}function et(){return(et=(0,g.Z)(function*(de,q,K){const{cordova:Ae}=ge();let Ke=()=>{};try{yield new Promise((vt,Pe)=>{let at=null;function Tt(){var At;vt();const pr=null===(At=Ae.plugins.browsertab)||void 0===At?void 0:At.close;"function"==typeof pr&&pr(),"function"==typeof K?.close&&K.close()}function pn(){at||(at=window.setTimeout(()=>{Pe((0,O.aw)(de,"redirect-cancelled-by-user"))},2e3))}function mr(){"visible"===document?.visibilityState&&pn()}q.addPassiveListener(Tt),document.addEventListener("resume",pn,!1),(0,O.as)()&&document.addEventListener("visibilitychange",mr,!1),Ke=()=>{q.removePassiveListener(Tt),document.removeEventListener("resume",pn,!1),document.removeEventListener("visibilitychange",mr,!1),at&&window.clearTimeout(at)}})}finally{Ke()}})).apply(this,arguments)}function be(de){return tt.apply(this,arguments)}function tt(){return(tt=(0,g.Z)(function*(de){const q=Je(de),K=yield crypto.subtle.digest("SHA-256",q);return Array.from(new Uint8Array(K)).map(Ke=>Ke.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Je(de){if((0,O.aq)(/[0-9a-zA-Z]+/.test(de),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(de);const q=new ArrayBuffer(de.length),K=new Uint8Array(q);for(let Ae=0;Ae<de.length;Ae++)K[Ae]=de.charCodeAt(Ae);return K}class Ve extends O.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(q=>{this.resolveInialized=q})}addPassiveListener(q){this.passiveListeners.add(q)}removePassiveListener(q){this.passiveListeners.delete(q)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(q){return this.resolveInialized(),this.passiveListeners.forEach(K=>K(q)),super.onEvent(q)}initialized(){var q=this;return(0,g.Z)(function*(){yield q.initPromise})()}}function B(de){return _e.apply(this,arguments)}function _e(){return(_e=(0,g.Z)(function*(de){const q=yield oe()._get(re(de));return q&&(yield oe()._remove(re(de))),q})).apply(this,arguments)}function te(){const de=[],q="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let K=0;K<20;K++){const Ae=Math.floor(Math.random()*q.length);de.push(q.charAt(Ae))}return de.join("")}function oe(){return(0,O.ay)(O.b)}function re(de){return(0,O.az)("authEvent",de.config.apiKey,de.name)}function Ge(de){if(!de?.includes("?"))return{};const[q,...K]=de.split("?");return(0,ce.zd)(K.join("?"))}function Ze(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.aw)("no-auth-event")}}function Ft(){var de;return(null===(de=self?.location)||void 0===de?void 0:de.protocol)||null}function bn(de=(0,ce.z$)()){return!("file:"!==Ft()&&"ionic:"!==Ft()&&"capacitor:"!==Ft()||!de.toLowerCase().match(/iphone|ipad|ipod|android/))}function Mr(){try{const de=self.localStorage,q=O.aI();if(de)return de.setItem(q,"1"),de.removeItem(q),!function ii(de=(0,ce.z$)()){return function Sr(){return(0,ce.w1)()&&11===document?.documentMode}()||function xn(de=(0,ce.z$)()){return/Edge\/\d+/.test(de)}(de)}()||(0,ce.hl)()}catch{return mi()&&(0,ce.hl)()}return!1}function mi(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Cn(){return(function on(){return"http:"===Ft()||"https:"===Ft()}()||(0,ce.ru)()||bn())&&!function Jr(){return(0,ce.b$)()||(0,ce.UG)()}()&&Mr()&&!mi()}function Ln(){return bn()&&typeof document<"u"}function Lr(){return(Lr=(0,g.Z)(function*(){return!!Ln()&&new Promise(de=>{const q=setTimeout(()=>{de(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(q),de(!0)})})})).apply(this,arguments)}const en={LOCAL:"local",NONE:"none",SESSION:"session"},gr=O.ax,tr="persistence";function sn(de){return kn.apply(this,arguments)}function kn(){return(kn=(0,g.Z)(function*(de){yield de._initializationPromise;const q=Et(),K=O.az(tr,de.config.apiKey,de.name);q&&q.setItem(K,de._getPersistence())})).apply(this,arguments)}function Et(){var de;try{return(null===(de=function Xt(){return typeof window<"u"?window:null}())||void 0===de?void 0:de.sessionStorage)||null}catch{return null}}const qe=O.ax;class pt{constructor(){this.browserResolver=O.ay(O.k),this.cordovaResolver=O.ay(class tn{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aB,this._overrideRedirectResult=O.aC}_initialize(q){var K=this;return(0,g.Z)(function*(){const Ae=q._key();let Ke=K.eventManagers.get(Ae);return Ke||(Ke=new Ve(q),K.eventManagers.set(Ae,Ke),K.attachCallbackListeners(q,Ke)),Ke})()}_openPopup(q){(0,O.at)(q,"operation-not-supported-in-this-environment")}_openRedirect(q,K,Ae,Ke){var vt=this;return(0,g.Z)(function*(){!function Ie(de){var q,K,Ae,Ke,vt,Pe,at,Tt,pn,mr;const At=ge();(0,O.ax)("function"==typeof(null===(q=At?.universalLinks)||void 0===q?void 0:q.subscribe),de,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.ax)(typeof(null===(K=At?.BuildInfo)||void 0===K?void 0:K.packageName)<"u",de,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.ax)("function"==typeof(null===(vt=null===(Ke=null===(Ae=At?.cordova)||void 0===Ae?void 0:Ae.plugins)||void 0===Ke?void 0:Ke.browsertab)||void 0===vt?void 0:vt.openUrl),de,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.ax)("function"==typeof(null===(Tt=null===(at=null===(Pe=At?.cordova)||void 0===Pe?void 0:Pe.plugins)||void 0===at?void 0:at.browsertab)||void 0===Tt?void 0:Tt.isAvailable),de,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.ax)("function"==typeof(null===(mr=null===(pn=At?.cordova)||void 0===pn?void 0:pn.InAppBrowser)||void 0===mr?void 0:mr.open),de,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(q);const Pe=yield vt._initialize(q);yield Pe.initialized(),Pe.resetRedirect(),(0,O.aD)(),yield vt._originValidation(q);const at=function Te(de,q,K=null){return{type:q,eventId:K,urlResponse:null,sessionId:te(),postBody:null,tenantId:de.tenantId,error:(0,O.aw)(de,"no-auth-event")}}(q,Ae,Ke);yield function nt(de,q){return oe()._set(re(de),q)}(q,at);const Tt=yield function X(de,q,K){return Z.apply(this,arguments)}(q,at,K),pn=yield function ze(de){const{cordova:q}=ge();return new Promise(K=>{q.plugins.browsertab.isAvailable(Ae=>{let Ke=null;Ae?q.plugins.browsertab.openUrl(de):Ke=q.InAppBrowser.open(de,(0,O.ap)()?"_blank":"_system","location=yes"),K(Ke)})})}(Tt);return function je(de,q,K){return et.apply(this,arguments)}(q,Pe,pn)})()}_isIframeWebStorageSupported(q,K){throw new Error("Method not implemented.")}_originValidation(q){const K=q._key();return this.originValidationPromises[K]||(this.originValidationPromises[K]=function ae(de){return ot.apply(this,arguments)}(q)),this.originValidationPromises[K]}attachCallbackListeners(q,K){const{universalLinks:Ae,handleOpenURL:Ke,BuildInfo:vt}=ge(),Pe=setTimeout((0,g.Z)(function*(){yield B(q),K.onEvent(Ze())}),500),at=function(){var mr=(0,g.Z)(function*(At){clearTimeout(Pe);const pr=yield B(q);let An=null;pr&&At?.url&&(An=function me(de,q){var K,Ae;const Ke=function fe(de){const q=Ge(de),K=q.link?decodeURIComponent(q.link):void 0,Ae=Ge(K).link,Ke=q.deep_link_id?decodeURIComponent(q.deep_link_id):void 0;return Ge(Ke).link||Ke||Ae||K||de}(q);if(Ke.includes("/__/auth/callback")){const vt=Ge(Ke),Pe=vt.firebaseError?function ve(de){try{return JSON.parse(de)}catch{return null}}(decodeURIComponent(vt.firebaseError)):null,at=null===(Ae=null===(K=Pe?.code)||void 0===K?void 0:K.split("auth/"))||void 0===Ae?void 0:Ae[1],Tt=at?(0,O.aw)(at):null;return Tt?{type:de.type,eventId:de.eventId,tenantId:de.tenantId,error:Tt,urlResponse:null,sessionId:null,postBody:null}:{type:de.type,eventId:de.eventId,tenantId:de.tenantId,sessionId:de.sessionId,urlResponse:Ke,postBody:null}}return null}(pr,At.url)),K.onEvent(An||Ze())});return function(pr){return mr.apply(this,arguments)}}();typeof Ae<"u"&&"function"==typeof Ae.subscribe&&Ae.subscribe(null,at);const Tt=Ke,pn=`${vt.packageName.toLowerCase()}://`;ge().handleOpenURL=function(){var mr=(0,g.Z)(function*(At){if(At.toLowerCase().startsWith(pn)&&at({url:At}),"function"==typeof Tt)try{Tt(At)}catch(pr){console.error(pr)}});return function(At){return mr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aB,this._overrideRedirectResult=O.aC}_initialize(q){var K=this;return(0,g.Z)(function*(){return yield K.selectUnderlyingResolver(),K.assertedUnderlyingResolver._initialize(q)})()}_openPopup(q,K,Ae,Ke){var vt=this;return(0,g.Z)(function*(){return yield vt.selectUnderlyingResolver(),vt.assertedUnderlyingResolver._openPopup(q,K,Ae,Ke)})()}_openRedirect(q,K,Ae,Ke){var vt=this;return(0,g.Z)(function*(){return yield vt.selectUnderlyingResolver(),vt.assertedUnderlyingResolver._openRedirect(q,K,Ae,Ke)})()}_isIframeWebStorageSupported(q,K){this.assertedUnderlyingResolver._isIframeWebStorageSupported(q,K)}_originValidation(q){return this.assertedUnderlyingResolver._originValidation(q)}get _shouldInitProactively(){return Ln()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return qe(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var q=this;return(0,g.Z)(function*(){if(q.underlyingResolver)return;const K=yield function ht(){return Lr.apply(this,arguments)}();q.underlyingResolver=K?q.cordovaResolver:q.browserResolver})()}}function Br(de){return de.unwrap()}function kt(de){return Rn(de)}function Rn(de){const{_tokenResponse:q}=de instanceof ce.ZR?de.customData:de;if(!q)return null;if(!(de instanceof ce.ZR)&&"temporaryProof"in q&&"phoneNumber"in q)return O.P.credentialFromResult(de);const K=q.providerId;if(!K||K===O.o.PASSWORD)return null;let Ae;switch(K){case O.o.GOOGLE:Ae=O.Q;break;case O.o.FACEBOOK:Ae=O.N;break;case O.o.GITHUB:Ae=O.T;break;case O.o.TWITTER:Ae=O.W;break;default:const{oauthIdToken:Ke,oauthAccessToken:vt,oauthTokenSecret:Pe,pendingToken:at,nonce:Tt}=q;return vt||Pe||Ke||at?at?K.startsWith("saml.")?O.aL._create(K,at):O.J._fromParams({providerId:K,signInMethod:K,pendingToken:at,idToken:Ke,accessToken:vt}):new O.U(K).credential({idToken:Ke,accessToken:vt,rawNonce:Tt}):null}return de instanceof ce.ZR?Ae.credentialFromError(de):Ae.credentialFromResult(de)}function wn(de,q){return q.catch(K=>{throw K instanceof ce.ZR&&function Er(de,q){var K,Ae;const Ke=null===(K=q.customData)||void 0===K?void 0:K._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Ae=q)||void 0===Ae?void 0:Ae.code))q.resolver=new W(de,O.an(de,q));else if(Ke){const vt=Rn(q),Pe=q;vt&&(Pe.credential=vt,Pe.tenantId=Ke.tenantId||void 0,Pe.email=Ke.email||void 0,Pe.phoneNumber=Ke.phoneNumber||void 0)}}(de,K),K}).then(K=>{const Ke=K.user;return{operationType:K.operationType,credential:kt(K),additionalUserInfo:O.al(K),user:Y.getOrCreate(Ke)}})}function hn(de,q){return ee.apply(this,arguments)}function ee(){return(ee=(0,g.Z)(function*(de,q){const K=yield q;return{verificationId:K.verificationId,confirm:Ae=>wn(de,K.confirm(Ae))}})).apply(this,arguments)}class W{constructor(q,K){this.resolver=K,this.auth=function gn(de){return de.wrapped()}(q)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(q){return wn(Br(this.auth),this.resolver.resolveSignIn(q))}}class Y{constructor(q){this._delegate=q,this.multiFactor=O.ao(q)}static getOrCreate(q){return Y.USER_MAP.has(q)||Y.USER_MAP.set(q,new Y(q)),Y.USER_MAP.get(q)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(q){return this._delegate.getIdTokenResult(q)}getIdToken(q){return this._delegate.getIdToken(q)}linkAndRetrieveDataWithCredential(q){return this.linkWithCredential(q)}linkWithCredential(q){var K=this;return(0,g.Z)(function*(){return wn(K.auth,O.Z(K._delegate,q))})()}linkWithPhoneNumber(q,K){var Ae=this;return(0,g.Z)(function*(){return hn(Ae.auth,O.l(Ae._delegate,q,K))})()}linkWithPopup(q){var K=this;return(0,g.Z)(function*(){return wn(K.auth,O.d(K._delegate,q,pt))})()}linkWithRedirect(q){var K=this;return(0,g.Z)(function*(){return yield sn(O.aE(K.auth)),O.g(K._delegate,q,pt)})()}reauthenticateAndRetrieveDataWithCredential(q){return this.reauthenticateWithCredential(q)}reauthenticateWithCredential(q){var K=this;return(0,g.Z)(function*(){return wn(K.auth,O._(K._delegate,q))})()}reauthenticateWithPhoneNumber(q,K){return hn(this.auth,O.r(this._delegate,q,K))}reauthenticateWithPopup(q){return wn(this.auth,O.e(this._delegate,q,pt))}reauthenticateWithRedirect(q){var K=this;return(0,g.Z)(function*(){return yield sn(O.aE(K.auth)),O.h(K._delegate,q,pt)})()}sendEmailVerification(q){return O.ab(this._delegate,q)}unlink(q){var K=this;return(0,g.Z)(function*(){return yield O.ak(K._delegate,q),K})()}updateEmail(q){return O.ag(this._delegate,q)}updatePassword(q){return O.ah(this._delegate,q)}updatePhoneNumber(q){return O.u(this._delegate,q)}updateProfile(q){return O.af(this._delegate,q)}verifyBeforeUpdateEmail(q,K){return O.ac(this._delegate,q,K)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Y.USER_MAP=new WeakMap;const ie=O.ax;let $=(()=>{class de{constructor(K,Ae){if(this.app=K,Ae.isInitialized())return this._delegate=Ae.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ke}=K.options;ie(Ke,"invalid-api-key",{appName:K.name}),ie(Ke,"invalid-api-key",{appName:K.name});const vt=typeof window<"u"?pt:void 0;this._delegate=Ae.initialize({options:{persistence:Ye(Ke,K.name),popupRedirectResolver:vt}}),this._delegate._updateErrorMap(O.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Y.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(K){this._delegate.languageCode=K}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(K){this._delegate.tenantId=K}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(K,Ae){O.G(this._delegate,K,Ae)}applyActionCode(K){return O.a2(this._delegate,K)}checkActionCode(K){return O.a3(this._delegate,K)}confirmPasswordReset(K,Ae){return O.a1(this._delegate,K,Ae)}createUserWithEmailAndPassword(K,Ae){var Ke=this;return(0,g.Z)(function*(){return wn(Ke._delegate,O.a5(Ke._delegate,K,Ae))})()}fetchProvidersForEmail(K){return this.fetchSignInMethodsForEmail(K)}fetchSignInMethodsForEmail(K){return O.aa(this._delegate,K)}isSignInWithEmailLink(K){return O.a8(this._delegate,K)}getRedirectResult(){var K=this;return(0,g.Z)(function*(){ie(Cn(),K._delegate,"operation-not-supported-in-this-environment");const Ae=yield O.j(K._delegate,pt);return Ae?wn(K._delegate,Promise.resolve(Ae)):{credential:null,user:null}})()}addFrameworkForLogging(K){!function nn(de,q){(0,O.aE)(de)._logFramework(q)}(this._delegate,K)}onAuthStateChanged(K,Ae,Ke){const{next:vt,error:Pe,complete:at}=Ce(K,Ae,Ke);return this._delegate.onAuthStateChanged(vt,Pe,at)}onIdTokenChanged(K,Ae,Ke){const{next:vt,error:Pe,complete:at}=Ce(K,Ae,Ke);return this._delegate.onIdTokenChanged(vt,Pe,at)}sendSignInLinkToEmail(K,Ae){return O.a7(this._delegate,K,Ae)}sendPasswordResetEmail(K,Ae){return O.a0(this._delegate,K,Ae||void 0)}setPersistence(K){var Ae=this;return(0,g.Z)(function*(){let Ke;switch(function Mt(de,q){gr(Object.values(en).includes(q),de,"invalid-persistence-type"),(0,ce.b$)()?gr(q!==en.SESSION,de,"unsupported-persistence-type"):(0,ce.UG)()?gr(q===en.NONE,de,"unsupported-persistence-type"):mi()?gr(q===en.NONE||q===en.LOCAL&&(0,ce.hl)(),de,"unsupported-persistence-type"):gr(q===en.NONE||Mr(),de,"unsupported-persistence-type")}(Ae._delegate,K),K){case en.SESSION:Ke=O.a;break;case en.LOCAL:Ke=(yield O.ay(O.i)._isAvailable())?O.i:O.b;break;case en.NONE:Ke=O.L;break;default:return O.at("argument-error",{appName:Ae._delegate.name})}return Ae._delegate.setPersistence(Ke)})()}signInAndRetrieveDataWithCredential(K){return this.signInWithCredential(K)}signInAnonymously(){return wn(this._delegate,O.X(this._delegate))}signInWithCredential(K){return wn(this._delegate,O.Y(this._delegate,K))}signInWithCustomToken(K){return wn(this._delegate,O.$(this._delegate,K))}signInWithEmailAndPassword(K,Ae){return wn(this._delegate,O.a6(this._delegate,K,Ae))}signInWithEmailLink(K,Ae){return wn(this._delegate,O.a9(this._delegate,K,Ae))}signInWithPhoneNumber(K,Ae){return hn(this._delegate,O.s(this._delegate,K,Ae))}signInWithPopup(K){var Ae=this;return(0,g.Z)(function*(){return ie(Cn(),Ae._delegate,"operation-not-supported-in-this-environment"),wn(Ae._delegate,O.c(Ae._delegate,K,pt))})()}signInWithRedirect(K){var Ae=this;return(0,g.Z)(function*(){return ie(Cn(),Ae._delegate,"operation-not-supported-in-this-environment"),yield sn(Ae._delegate),O.f(Ae._delegate,K,pt)})()}updateCurrentUser(K){return this._delegate.updateCurrentUser(K)}verifyPasswordResetCode(K){return O.a4(this._delegate,K)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return de.Persistence=en,de})();function Ce(de,q,K){let Ae=de;"function"!=typeof de&&({next:Ae,error:q,complete:K}=de);const Ke=Ae;return{next:Pe=>Ke(Pe&&Y.getOrCreate(Pe)),error:q,complete:K}}function Ye(de,q){const K=function Vr(de,q){const K=Et();if(!K)return[];const Ae=O.az(tr,de,q);switch(K.getItem(Ae)){case en.NONE:return[O.L];case en.LOCAL:return[O.i,O.a];case en.SESSION:return[O.a];default:return[]}}(de,q);if(typeof self<"u"&&!K.includes(O.i)&&K.push(O.i),typeof window<"u")for(const Ae of[O.b,O.a])K.includes(Ae)||K.push(Ae);return K.includes(O.L)||K.push(O.L),K}class st{constructor(){this.providerId="phone",this._delegate=new O.P(Br(H.Z.auth()))}static credential(q,K){return O.P.credential(q,K)}verifyPhoneNumber(q,K){return this._delegate.verifyPhoneNumber(q,K)}unwrap(){return this._delegate}}st.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,st.PROVIDER_ID=O.P.PROVIDER_ID;const Lt=O.ax;class cn{constructor(q,K,Ae=H.Z.app()){var Ke;Lt(null===(Ke=Ae.options)||void 0===Ke?void 0:Ke.apiKey,"invalid-api-key",{appName:Ae.name}),this._delegate=new O.R(q,K,Ae.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Kt(de){de.INTERNAL.registerComponent(new we.wA("auth-compat",q=>{const K=q.getProvider("app-compat").getImmediate(),Ae=q.getProvider("auth");return new $(K,Ae)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.M,FacebookAuthProvider:O.N,GithubAuthProvider:O.T,GoogleAuthProvider:O.Q,OAuthProvider:O.U,SAMLAuthProvider:O.V,PhoneAuthProvider:st,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:cn,TwitterAuthProvider:O.W,Auth:$,AuthCredential:O.H,Error:ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),de.registerVersion("@firebase/auth-compat","0.2.17")}(H.Z)},8306:(yt,Ne,V)=>{"use strict";V.d(Ne,{y:()=>X});var g=V(930),H=V(727),O=V(8822),ce=V(4671);var we=V(2416),ge=V(576),xe=V(2806);let X=(()=>{class ze{constructor(et){et&&(this._subscribe=et)}lift(et){const Ie=new ze;return Ie.source=this,Ie.operator=et,Ie}subscribe(et,Ie,be){const tt=function ot(ze){return ze&&ze instanceof g.Lv||function ae(ze){return ze&&(0,ge.m)(ze.next)&&(0,ge.m)(ze.error)&&(0,ge.m)(ze.complete)}(ze)&&(0,H.Nn)(ze)}(et)?et:new g.Hp(et,Ie,be);return(0,xe.x)(()=>{const{operator:Je,source:Le}=this;tt.add(Je?Je.call(tt,Le):Le?this._subscribe(tt):this._trySubscribe(tt))}),tt}_trySubscribe(et){try{return this._subscribe(et)}catch(Ie){et.error(Ie)}}forEach(et,Ie){return new(Ie=Z(Ie))((be,tt)=>{const Je=new g.Hp({next:Le=>{try{et(Le)}catch(Ve){tt(Ve),Je.unsubscribe()}},error:tt,complete:be});this.subscribe(Je)})}_subscribe(et){var Ie;return null===(Ie=this.source)||void 0===Ie?void 0:Ie.subscribe(et)}[O.L](){return this}pipe(...et){return function De(ze){return 0===ze.length?ce.y:1===ze.length?ze[0]:function(et){return ze.reduce((Ie,be)=>be(Ie),et)}}(et)(this)}toPromise(et){return new(et=Z(et))((Ie,be)=>{let tt;this.subscribe(Je=>tt=Je,Je=>be(Je),()=>Ie(tt))})}}return ze.create=je=>new ze(je),ze})();function Z(ze){var je;return null!==(je=ze??we.v.Promise)&&void 0!==je?je:Promise}},7579:(yt,Ne,V)=>{"use strict";V.d(Ne,{x:()=>we});var g=V(8306),H=V(727);const ce=(0,V(3888).d)(xe=>function(){xe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pe=V(8737),De=V(2806);let we=(()=>{class xe extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const ae=new ge(this,this);return ae.operator=Z,ae}_throwIfClosed(){if(this.closed)throw new ce}next(Z){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ae of this.currentObservers)ae.next(Z)}})}error(Z){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:ae}=this;for(;ae.length;)ae.shift().error(Z)}})}complete(){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:ae,isStopped:ot,observers:ze}=this;return ae||ot?H.Lc:(this.currentObservers=null,ze.push(Z),new H.w0(()=>{this.currentObservers=null,(0,pe.P)(ze,Z)}))}_checkFinalizedStatuses(Z){const{hasError:ae,thrownError:ot,isStopped:ze}=this;ae?Z.error(ot):ze&&Z.complete()}asObservable(){const Z=new g.y;return Z.source=this,Z}}return xe.create=(X,Z)=>new ge(X,Z),xe})();class ge extends we{constructor(X,Z){super(),this.destination=X,this.source=Z}next(X){var Z,ae;null===(ae=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===ae||ae.call(Z,X)}error(X){var Z,ae;null===(ae=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===ae||ae.call(Z,X)}complete(){var X,Z;null===(Z=null===(X=this.destination)||void 0===X?void 0:X.complete)||void 0===Z||Z.call(X)}_subscribe(X){var Z,ae;return null!==(ae=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(X))&&void 0!==ae?ae:H.Lc}}},930:(yt,Ne,V)=>{"use strict";V.d(Ne,{Hp:()=>et,Lv:()=>ae});var g=V(576),H=V(727),O=V(2416),ce=V(7849),pe=V(5032);const De=xe("C",void 0,void 0);function xe(Le,Ve,Te){return{kind:Le,value:Ve,error:Te}}var X=V(3410),Z=V(2806);class ae extends H.w0{constructor(Ve){super(),this.isStopped=!1,Ve?(this.destination=Ve,(0,H.Nn)(Ve)&&Ve.add(this)):this.destination=Je}static create(Ve,Te,nt){return new et(Ve,Te,nt)}next(Ve){this.isStopped?tt(function ge(Le){return xe("N",Le,void 0)}(Ve),this):this._next(Ve)}error(Ve){this.isStopped?tt(function we(Le){return xe("E",void 0,Le)}(Ve),this):(this.isStopped=!0,this._error(Ve))}complete(){this.isStopped?tt(De,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ve){this.destination.next(Ve)}_error(Ve){try{this.destination.error(Ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ot=Function.prototype.bind;function ze(Le,Ve){return ot.call(Le,Ve)}class je{constructor(Ve){this.partialObserver=Ve}next(Ve){const{partialObserver:Te}=this;if(Te.next)try{Te.next(Ve)}catch(nt){Ie(nt)}}error(Ve){const{partialObserver:Te}=this;if(Te.error)try{Te.error(Ve)}catch(nt){Ie(nt)}else Ie(Ve)}complete(){const{partialObserver:Ve}=this;if(Ve.complete)try{Ve.complete()}catch(Te){Ie(Te)}}}class et extends ae{constructor(Ve,Te,nt){let B;if(super(),(0,g.m)(Ve)||!Ve)B={next:Ve??void 0,error:Te??void 0,complete:nt??void 0};else{let _e;this&&O.v.useDeprecatedNextContext?(_e=Object.create(Ve),_e.unsubscribe=()=>this.unsubscribe(),B={next:Ve.next&&ze(Ve.next,_e),error:Ve.error&&ze(Ve.error,_e),complete:Ve.complete&&ze(Ve.complete,_e)}):B=Ve}this.destination=new je(B)}}function Ie(Le){O.v.useDeprecatedSynchronousErrorHandling?(0,Z.O)(Le):(0,ce.h)(Le)}function tt(Le,Ve){const{onStoppedNotification:Te}=O.v;Te&&X.z.setTimeout(()=>Te(Le,Ve))}const Je={closed:!0,next:pe.Z,error:function be(Le){throw Le},complete:pe.Z}},727:(yt,Ne,V)=>{"use strict";V.d(Ne,{Lc:()=>De,w0:()=>pe,Nn:()=>we});var g=V(576);const O=(0,V(3888).d)(xe=>function(Z){xe(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((ae,ot)=>`${ot+1}) ${ae.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var ce=V(8737);class pe{constructor(X){this.initialTeardown=X,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let X;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const ze of Z)ze.remove(this);else Z.remove(this);const{initialTeardown:ae}=this;if((0,g.m)(ae))try{ae()}catch(ze){X=ze instanceof O?ze.errors:[ze]}const{_finalizers:ot}=this;if(ot){this._finalizers=null;for(const ze of ot)try{ge(ze)}catch(je){X=X??[],je instanceof O?X=[...X,...je.errors]:X.push(je)}}if(X)throw new O(X)}}add(X){var Z;if(X&&X!==this)if(this.closed)ge(X);else{if(X instanceof pe){if(X.closed||X._hasParent(this))return;X._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push(X)}}_hasParent(X){const{_parentage:Z}=this;return Z===X||Array.isArray(Z)&&Z.includes(X)}_addParent(X){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(X),Z):Z?[Z,X]:X}_removeParent(X){const{_parentage:Z}=this;Z===X?this._parentage=null:Array.isArray(Z)&&(0,ce.P)(Z,X)}remove(X){const{_finalizers:Z}=this;Z&&(0,ce.P)(Z,X),X instanceof pe&&X._removeParent(this)}}pe.EMPTY=(()=>{const xe=new pe;return xe.closed=!0,xe})();const De=pe.EMPTY;function we(xe){return xe instanceof pe||xe&&"closed"in xe&&(0,g.m)(xe.remove)&&(0,g.m)(xe.add)&&(0,g.m)(xe.unsubscribe)}function ge(xe){(0,g.m)(xe)?xe():xe.unsubscribe()}},2416:(yt,Ne,V)=>{"use strict";V.d(Ne,{v:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(yt,Ne,V)=>{"use strict";V.d(Ne,{E:()=>H});const H=new(V(8306).y)(pe=>pe.complete())},8996:(yt,Ne,V)=>{"use strict";V.d(Ne,{D:()=>Ve});var g=V(8421),H=V(5363),O=V(9468),De=V(8306),ge=V(2202),xe=V(576),X=V(9672);function ae(Te,nt){if(!Te)throw new Error("Iterable cannot be null");return new De.y(B=>{(0,X.f)(B,nt,()=>{const _e=Te[Symbol.asyncIterator]();(0,X.f)(B,nt,()=>{_e.next().then(me=>{me.done?B.complete():B.next(me.value)})},0,!0)})})}var ot=V(3670),ze=V(8239),je=V(1144),et=V(6495),Ie=V(2206),be=V(4532),tt=V(3260);function Ve(Te,nt){return nt?function Le(Te,nt){if(null!=Te){if((0,ot.c)(Te))return function ce(Te,nt){return(0,g.Xf)(Te).pipe((0,O.R)(nt),(0,H.Q)(nt))}(Te,nt);if((0,je.z)(Te))return function we(Te,nt){return new De.y(B=>{let _e=0;return nt.schedule(function(){_e===Te.length?B.complete():(B.next(Te[_e++]),B.closed||this.schedule())})})}(Te,nt);if((0,ze.t)(Te))return function pe(Te,nt){return(0,g.Xf)(Te).pipe((0,O.R)(nt),(0,H.Q)(nt))}(Te,nt);if((0,Ie.D)(Te))return ae(Te,nt);if((0,et.T)(Te))return function Z(Te,nt){return new De.y(B=>{let _e;return(0,X.f)(B,nt,()=>{_e=Te[ge.h](),(0,X.f)(B,nt,()=>{let me,te;try{({value:me,done:te}=_e.next())}catch(oe){return void B.error(oe)}te?B.complete():B.next(me)},0,!0)}),()=>(0,xe.m)(_e?.return)&&_e.return()})}(Te,nt);if((0,tt.L)(Te))return function Je(Te,nt){return ae((0,tt.Q)(Te),nt)}(Te,nt)}throw(0,be.z)(Te)}(Te,nt):(0,g.Xf)(Te)}},8421:(yt,Ne,V)=>{"use strict";V.d(Ne,{Xf:()=>ot});var g=V(655),H=V(1144),O=V(8239),ce=V(8306),pe=V(3670),De=V(2206),we=V(4532),ge=V(6495),xe=V(3260),X=V(576),Z=V(7849),ae=V(8822);function ot(Le){if(Le instanceof ce.y)return Le;if(null!=Le){if((0,pe.c)(Le))return function ze(Le){return new ce.y(Ve=>{const Te=Le[ae.L]();if((0,X.m)(Te.subscribe))return Te.subscribe(Ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Le);if((0,H.z)(Le))return function je(Le){return new ce.y(Ve=>{for(let Te=0;Te<Le.length&&!Ve.closed;Te++)Ve.next(Le[Te]);Ve.complete()})}(Le);if((0,O.t)(Le))return function et(Le){return new ce.y(Ve=>{Le.then(Te=>{Ve.closed||(Ve.next(Te),Ve.complete())},Te=>Ve.error(Te)).then(null,Z.h)})}(Le);if((0,De.D)(Le))return be(Le);if((0,ge.T)(Le))return function Ie(Le){return new ce.y(Ve=>{for(const Te of Le)if(Ve.next(Te),Ve.closed)return;Ve.complete()})}(Le);if((0,xe.L)(Le))return function tt(Le){return be((0,xe.Q)(Le))}(Le)}throw(0,we.z)(Le)}function be(Le){return new ce.y(Ve=>{(function Je(Le,Ve){var Te,nt,B,_e;return(0,g.mG)(this,void 0,void 0,function*(){try{for(Te=(0,g.KL)(Le);!(nt=yield Te.next()).done;)if(Ve.next(nt.value),Ve.closed)return}catch(me){B={error:me}}finally{try{nt&&!nt.done&&(_e=Te.return)&&(yield _e.call(Te))}finally{if(B)throw B.error}}Ve.complete()})})(Le,Ve).catch(Te=>Ve.error(Te))})}},6451:(yt,Ne,V)=>{"use strict";V.d(Ne,{T:()=>De});var g=V(6131),H=V(8421),O=V(515),ce=V(7669),pe=V(8996);function De(...we){const ge=(0,ce.yG)(we),xe=(0,ce._6)(we,1/0),X=we;return X.length?1===X.length?(0,H.Xf)(X[0]):(0,g.J)(xe)((0,pe.D)(X,ge)):O.E}},5403:(yt,Ne,V)=>{"use strict";V.d(Ne,{x:()=>H});var g=V(930);function H(ce,pe,De,we,ge){return new O(ce,pe,De,we,ge)}class O extends g.Lv{constructor(pe,De,we,ge,xe,X){super(pe),this.onFinalize=xe,this.shouldUnsubscribe=X,this._next=De?function(Z){try{De(Z)}catch(ae){pe.error(ae)}}:super._next,this._error=ge?function(Z){try{ge(Z)}catch(ae){pe.error(ae)}finally{this.unsubscribe()}}:super._error,this._complete=we?function(){try{we()}catch(Z){pe.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var pe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:De}=this;super.unsubscribe(),!De&&(null===(pe=this.onFinalize)||void 0===pe||pe.call(this))}}}},4004:(yt,Ne,V)=>{"use strict";V.d(Ne,{U:()=>O});var g=V(4482),H=V(5403);function O(ce,pe){return(0,g.e)((De,we)=>{let ge=0;De.subscribe((0,H.x)(we,xe=>{we.next(ce.call(pe,xe,ge++))}))})}},6131:(yt,Ne,V)=>{"use strict";V.d(Ne,{J:()=>X});var g=V(4004),H=V(8421),O=V(4482),ce=V(9672),pe=V(5403),we=V(576);function ge(Z,ae,ot=1/0){return(0,we.m)(ae)?ge((ze,je)=>(0,g.U)((et,Ie)=>ae(ze,et,je,Ie))((0,H.Xf)(Z(ze,je))),ot):("number"==typeof ae&&(ot=ae),(0,O.e)((ze,je)=>function De(Z,ae,ot,ze,je,et,Ie,be){const tt=[];let Je=0,Le=0,Ve=!1;const Te=()=>{Ve&&!tt.length&&!Je&&ae.complete()},nt=_e=>Je<ze?B(_e):tt.push(_e),B=_e=>{et&&ae.next(_e),Je++;let me=!1;(0,H.Xf)(ot(_e,Le++)).subscribe((0,pe.x)(ae,te=>{je?.(te),et?nt(te):ae.next(te)},()=>{me=!0},void 0,()=>{if(me)try{for(Je--;tt.length&&Je<ze;){const te=tt.shift();Ie?(0,ce.f)(ae,Ie,()=>B(te)):B(te)}Te()}catch(te){ae.error(te)}}))};return Z.subscribe((0,pe.x)(ae,nt,()=>{Ve=!0,Te()})),()=>{be?.()}}(ze,je,Z,ot)))}var xe=V(4671);function X(Z=1/0){return ge(xe.y,Z)}},5363:(yt,Ne,V)=>{"use strict";V.d(Ne,{Q:()=>ce});var g=V(9672),H=V(4482),O=V(5403);function ce(pe,De=0){return(0,H.e)((we,ge)=>{we.subscribe((0,O.x)(ge,xe=>(0,g.f)(ge,pe,()=>ge.next(xe),De),()=>(0,g.f)(ge,pe,()=>ge.complete(),De),xe=>(0,g.f)(ge,pe,()=>ge.error(xe),De)))})}},3099:(yt,Ne,V)=>{"use strict";V.d(Ne,{B:()=>De});var g=V(8996),H=V(5698),O=V(7579),ce=V(930),pe=V(4482);function De(ge={}){const{connector:xe=(()=>new O.x),resetOnError:X=!0,resetOnComplete:Z=!0,resetOnRefCountZero:ae=!0}=ge;return ot=>{let ze=null,je=null,et=null,Ie=0,be=!1,tt=!1;const Je=()=>{je?.unsubscribe(),je=null},Le=()=>{Je(),ze=et=null,be=tt=!1},Ve=()=>{const Te=ze;Le(),Te?.unsubscribe()};return(0,pe.e)((Te,nt)=>{Ie++,!tt&&!be&&Je();const B=et=et??xe();nt.add(()=>{Ie--,0===Ie&&!tt&&!be&&(je=we(Ve,ae))}),B.subscribe(nt),ze||(ze=new ce.Hp({next:_e=>B.next(_e),error:_e=>{tt=!0,Je(),je=we(Le,X,_e),B.error(_e)},complete:()=>{be=!0,Je(),je=we(Le,Z),B.complete()}}),(0,g.D)(Te).subscribe(ze))})(ot)}}function we(ge,xe,...X){return!0===xe?(ge(),null):!1===xe?null:xe(...X).pipe((0,H.q)(1)).subscribe(()=>ge())}},9468:(yt,Ne,V)=>{"use strict";V.d(Ne,{R:()=>H});var g=V(4482);function H(O,ce=0){return(0,g.e)((pe,De)=>{De.add(O.schedule(()=>pe.subscribe(De),ce))})}},5698:(yt,Ne,V)=>{"use strict";V.d(Ne,{q:()=>ce});var g=V(515),H=V(4482),O=V(5403);function ce(pe){return pe<=0?()=>g.E:(0,H.e)((De,we)=>{let ge=0;De.subscribe((0,O.x)(we,xe=>{++ge<=pe&&(we.next(xe),pe<=ge&&we.complete())}))})}},4408:(yt,Ne,V)=>{"use strict";V.d(Ne,{o:()=>pe});var g=V(727);class H extends g.w0{constructor(we,ge){super()}schedule(we,ge=0){return this}}const O={setInterval(De,we,...ge){const{delegate:xe}=O;return xe?.setInterval?xe.setInterval(De,we,...ge):setInterval(De,we,...ge)},clearInterval(De){const{delegate:we}=O;return(we?.clearInterval||clearInterval)(De)},delegate:void 0};var ce=V(8737);class pe extends H{constructor(we,ge){super(we,ge),this.scheduler=we,this.work=ge,this.pending=!1}schedule(we,ge=0){if(this.closed)return this;this.state=we;const xe=this.id,X=this.scheduler;return null!=xe&&(this.id=this.recycleAsyncId(X,xe,ge)),this.pending=!0,this.delay=ge,this.id=this.id||this.requestAsyncId(X,this.id,ge),this}requestAsyncId(we,ge,xe=0){return O.setInterval(we.flush.bind(we,this),xe)}recycleAsyncId(we,ge,xe=0){if(null!=xe&&this.delay===xe&&!1===this.pending)return ge;O.clearInterval(ge)}execute(we,ge){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const xe=this._execute(we,ge);if(xe)return xe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(we,ge){let X,xe=!1;try{this.work(we)}catch(Z){xe=!0,X=Z||new Error("Scheduled action threw falsy error")}if(xe)return this.unsubscribe(),X}unsubscribe(){if(!this.closed){const{id:we,scheduler:ge}=this,{actions:xe}=ge;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(xe,this),null!=we&&(this.id=this.recycleAsyncId(ge,we,null)),this.delay=null,super.unsubscribe()}}}},7565:(yt,Ne,V)=>{"use strict";V.d(Ne,{v:()=>O});var g=V(6063);class H{constructor(pe,De=H.now){this.schedulerActionCtor=pe,this.now=De}schedule(pe,De=0,we){return new this.schedulerActionCtor(this,pe).schedule(we,De)}}H.now=g.l.now;class O extends H{constructor(pe,De=H.now){super(pe,De),this.actions=[],this._active=!1,this._scheduled=void 0}flush(pe){const{actions:De}=this;if(this._active)return void De.push(pe);let we;this._active=!0;do{if(we=pe.execute(pe.state,pe.delay))break}while(pe=De.shift());if(this._active=!1,we){for(;pe=De.shift();)pe.unsubscribe();throw we}}}},4986:(yt,Ne,V)=>{"use strict";V.d(Ne,{z:()=>O});var g=V(4408);const O=new(V(7565).v)(g.o)},6063:(yt,Ne,V)=>{"use strict";V.d(Ne,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},3410:(yt,Ne,V)=>{"use strict";V.d(Ne,{z:()=>g});const g={setTimeout(H,O,...ce){const{delegate:pe}=g;return pe?.setTimeout?pe.setTimeout(H,O,...ce):setTimeout(H,O,...ce)},clearTimeout(H){const{delegate:O}=g;return(O?.clearTimeout||clearTimeout)(H)},delegate:void 0}},2202:(yt,Ne,V)=>{"use strict";V.d(Ne,{h:()=>H});const H=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(yt,Ne,V)=>{"use strict";V.d(Ne,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(yt,Ne,V)=>{"use strict";V.d(Ne,{_6:()=>De,jO:()=>ce,yG:()=>pe});var g=V(576);function O(we){return we[we.length-1]}function ce(we){return(0,g.m)(O(we))?we.pop():void 0}function pe(we){return function H(we){return we&&(0,g.m)(we.schedule)}(O(we))?we.pop():void 0}function De(we,ge){return"number"==typeof O(we)?we.pop():ge}},8737:(yt,Ne,V)=>{"use strict";function g(H,O){if(H){const ce=H.indexOf(O);0<=ce&&H.splice(ce,1)}}V.d(Ne,{P:()=>g})},3888:(yt,Ne,V)=>{"use strict";function g(H){const ce=H(pe=>{Error.call(pe),pe.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}V.d(Ne,{d:()=>g})},2806:(yt,Ne,V)=>{"use strict";V.d(Ne,{O:()=>ce,x:()=>O});var g=V(2416);let H=null;function O(pe){if(g.v.useDeprecatedSynchronousErrorHandling){const De=!H;if(De&&(H={errorThrown:!1,error:null}),pe(),De){const{errorThrown:we,error:ge}=H;if(H=null,we)throw ge}}else pe()}function ce(pe){g.v.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=pe)}},9672:(yt,Ne,V)=>{"use strict";function g(H,O,ce,pe=0,De=!1){const we=O.schedule(function(){ce(),De?H.add(this.schedule(null,pe)):this.unsubscribe()},pe);if(H.add(we),!De)return we}V.d(Ne,{f:()=>g})},4671:(yt,Ne,V)=>{"use strict";function g(H){return H}V.d(Ne,{y:()=>g})},1144:(yt,Ne,V)=>{"use strict";V.d(Ne,{z:()=>g});const g=H=>H&&"number"==typeof H.length&&"function"!=typeof H},2206:(yt,Ne,V)=>{"use strict";V.d(Ne,{D:()=>H});var g=V(576);function H(O){return Symbol.asyncIterator&&(0,g.m)(O?.[Symbol.asyncIterator])}},576:(yt,Ne,V)=>{"use strict";function g(H){return"function"==typeof H}V.d(Ne,{m:()=>g})},3670:(yt,Ne,V)=>{"use strict";V.d(Ne,{c:()=>O});var g=V(8822),H=V(576);function O(ce){return(0,H.m)(ce[g.L])}},6495:(yt,Ne,V)=>{"use strict";V.d(Ne,{T:()=>O});var g=V(2202),H=V(576);function O(ce){return(0,H.m)(ce?.[g.h])}},8239:(yt,Ne,V)=>{"use strict";V.d(Ne,{t:()=>H});var g=V(576);function H(O){return(0,g.m)(O?.then)}},3260:(yt,Ne,V)=>{"use strict";V.d(Ne,{L:()=>ce,Q:()=>O});var g=V(655),H=V(576);function O(pe){return(0,g.FC)(this,arguments,function*(){const we=pe.getReader();try{for(;;){const{value:ge,done:xe}=yield(0,g.qq)(we.read());if(xe)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(ge)}}finally{we.releaseLock()}})}function ce(pe){return(0,H.m)(pe?.getReader)}},4482:(yt,Ne,V)=>{"use strict";V.d(Ne,{e:()=>O});var g=V(576);function O(ce){return pe=>{if(function H(ce){return(0,g.m)(ce?.lift)}(pe))return pe.lift(function(De){try{return ce(De,this)}catch(we){this.error(we)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(yt,Ne,V)=>{"use strict";function g(){}V.d(Ne,{Z:()=>g})},7849:(yt,Ne,V)=>{"use strict";V.d(Ne,{h:()=>O});var g=V(2416),H=V(3410);function O(ce){H.z.setTimeout(()=>{const{onUnhandledError:pe}=g.v;if(!pe)throw ce;pe(ce)})}},4532:(yt,Ne,V)=>{"use strict";function g(H){return new TypeError(`You provided ${null!==H&&"object"==typeof H?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Ne,{z:()=>g})},5226:function(yt){yt.exports=function(){"use strict";const Ne="SweetAlert2:",g=I=>I.charAt(0).toUpperCase()+I.slice(1),H=I=>Array.prototype.slice.call(I),O=I=>{console.warn("".concat(Ne," ").concat("object"==typeof I?I.join(" "):I))},ce=I=>{console.error("".concat(Ne," ").concat(I))},pe=[],we=(I,D)=>{(I=>{pe.includes(I)||(pe.push(I),O(I))})('"'.concat(I,'" is deprecated and will be removed in the next major release. Please use "').concat(D,'" instead.'))},ge=I=>"function"==typeof I?I():I,xe=I=>I&&"function"==typeof I.toPromise,X=I=>xe(I)?I.toPromise():Promise.resolve(I),Z=I=>I&&Promise.resolve(I)===I,ae={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},ot=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],ze={},je=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],et=I=>Object.prototype.hasOwnProperty.call(ae,I),Ie=I=>-1!==ot.indexOf(I),be=I=>ze[I],tt=I=>{et(I)||O('Unknown parameter "'.concat(I,'"'))},Je=I=>{je.includes(I)&&O('The parameter "'.concat(I,'" is incompatible with toasts'))},Le=I=>{be(I)&&we(I,be(I))},nt=I=>{const D={};for(const x in I)D[I[x]]="swal2-"+I[x];return D},B=nt(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","no-war"]),_e=nt(["success","warning","info","question","error"]),me=()=>document.body.querySelector(".".concat(B.container)),te=I=>{const D=me();return D?D.querySelector(I):null},oe=I=>te(".".concat(I)),re=()=>oe(B.popup),ve=()=>oe(B.icon),fe=()=>oe(B.title),Ge=()=>oe(B["html-container"]),_t=()=>oe(B.image),tn=()=>oe(B["progress-steps"]),Bt=()=>oe(B["validation-message"]),Ze=()=>te(".".concat(B.actions," .").concat(B.confirm)),nn=()=>te(".".concat(B.actions," .").concat(B.deny)),un=()=>te(".".concat(B.loader)),$t=()=>te(".".concat(B.actions," .").concat(B.cancel)),Ft=()=>oe(B.actions),on=()=>oe(B.footer),bn=()=>oe(B["timer-progress-bar"]),Jr=()=>oe(B.close),xn=()=>{const I=H(re().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((x,z)=>{const ke=parseInt(x.getAttribute("tabindex")),it=parseInt(z.getAttribute("tabindex"));return ke>it?1:ke<it?-1:0}),D=H(re().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(x=>"-1"!==x.getAttribute("tabindex"));return(I=>{const D=[];for(let x=0;x<I.length;x++)-1===D.indexOf(I[x])&&D.push(I[x]);return D})(I.concat(D)).filter(x=>gn(x))},ii=()=>ht(document.body,B.shown)&&!ht(document.body,B["toast-shown"])&&!ht(document.body,B["no-backdrop"]),Mr=()=>re()&&ht(re(),B.toast),Cn={previousBodyPadding:null},Ln=(I,D)=>{if(I.textContent="",D){const z=(new DOMParser).parseFromString(D,"text/html");H(z.querySelector("head").childNodes).forEach(ke=>{I.appendChild(ke)}),H(z.querySelector("body").childNodes).forEach(ke=>{I.appendChild(ke)})}},ht=(I,D)=>{if(!D)return!1;const x=D.split(/\s+/);for(let z=0;z<x.length;z++)if(!I.classList.contains(x[z]))return!1;return!0},Xt=(I,D,x)=>{if(((I,D)=>{H(I.classList).forEach(x=>{!Object.values(B).includes(x)&&!Object.values(_e).includes(x)&&!Object.values(D.showClass).includes(x)&&I.classList.remove(x)})})(I,D),D.customClass&&D.customClass[x]){if("string"!=typeof D.customClass[x]&&!D.customClass[x].forEach)return O("Invalid type of customClass.".concat(x,'! Expected string or iterable object, got "').concat(typeof D.customClass[x],'"'));Mt(I,D.customClass[x])}},en=(I,D)=>{if(!D)return null;switch(D){case"select":case"textarea":case"file":return I.querySelector(".".concat(B.popup," > .").concat(B[D]));case"checkbox":return I.querySelector(".".concat(B.popup," > .").concat(B.checkbox," input"));case"radio":return I.querySelector(".".concat(B.popup," > .").concat(B.radio," input:checked"))||I.querySelector(".".concat(B.popup," > .").concat(B.radio," input:first-child"));case"range":return I.querySelector(".".concat(B.popup," > .").concat(B.range," input"));default:return I.querySelector(".".concat(B.popup," > .").concat(B.input))}},gr=I=>{if(I.focus(),"file"!==I.type){const D=I.value;I.value="",I.value=D}},tr=(I,D,x)=>{!I||!D||("string"==typeof D&&(D=D.split(/\s+/).filter(Boolean)),D.forEach(z=>{Array.isArray(I)?I.forEach(ke=>{x?ke.classList.add(z):ke.classList.remove(z)}):x?I.classList.add(z):I.classList.remove(z)}))},Mt=(I,D)=>{tr(I,D,!0)},sn=(I,D)=>{tr(I,D,!1)},kn=(I,D)=>{const x=H(I.childNodes);for(let z=0;z<x.length;z++)if(ht(x[z],D))return x[z]},Vr=(I,D,x)=>{x==="".concat(parseInt(x))&&(x=parseInt(x)),x||0===parseInt(x)?I.style[D]="number"==typeof x?"".concat(x,"px"):x:I.style.removeProperty(D)},Et=function(I){I.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},qe=I=>{I.style.display="none"},pt=(I,D,x,z)=>{const ke=I.querySelector(D);ke&&(ke.style[x]=z)},Br=function(I,D){D?Et(I,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):qe(I)},gn=I=>!(!I||!(I.offsetWidth||I.offsetHeight||I.getClientRects().length)),Er=I=>I.scrollHeight>I.clientHeight,Rn=I=>{const D=window.getComputedStyle(I),x=parseFloat(D.getPropertyValue("animation-duration")||"0"),z=parseFloat(D.getPropertyValue("transition-duration")||"0");return x>0||z>0},wn=function(I){let D=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const x=bn();gn(x)&&(D&&(x.style.transition="none",x.style.width="100%"),setTimeout(()=>{x.style.transition="width ".concat(I/1e3,"s linear"),x.style.width="0%"},10))},ee=()=>typeof window>"u"||typeof document>"u",Y={},$=I=>new Promise(D=>{if(!I)return D();const x=window.scrollX,z=window.scrollY;Y.restoreFocusTimeout=setTimeout(()=>{Y.previousActiveElement instanceof HTMLElement?(Y.previousActiveElement.focus(),Y.previousActiveElement=null):document.body&&document.body.focus(),D()},100),window.scrollTo(x,z)}),Ce='\n <div aria-labelledby="'.concat(B.title,'" aria-describedby="').concat(B["html-container"],'" class="').concat(B.popup,'" tabindex="-1">\n   <button type="button" class="').concat(B.close,'"></button>\n   <ul class="').concat(B["progress-steps"],'"></ul>\n   <div class="').concat(B.icon,'"></div>\n   <img class="').concat(B.image,'" />\n   <h2 class="').concat(B.title,'" id="').concat(B.title,'"></h2>\n   <div class="').concat(B["html-container"],'" id="').concat(B["html-container"],'"></div>\n   <input class="').concat(B.input,'" />\n   <input type="file" class="').concat(B.file,'" />\n   <div class="').concat(B.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(B.select,'"></select>\n   <div class="').concat(B.radio,'"></div>\n   <label for="').concat(B.checkbox,'" class="').concat(B.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(B.label,'"></span>\n   </label>\n   <textarea class="').concat(B.textarea,'"></textarea>\n   <div class="').concat(B["validation-message"],'" id="').concat(B["validation-message"],'"></div>\n   <div class="').concat(B.actions,'">\n     <div class="').concat(B.loader,'"></div>\n     <button type="button" class="').concat(B.confirm,'"></button>\n     <button type="button" class="').concat(B.deny,'"></button>\n     <button type="button" class="').concat(B.cancel,'"></button>\n   </div>\n   <div class="').concat(B.footer,'"></div>\n   <div class="').concat(B["timer-progress-bar-container"],'">\n     <div class="').concat(B["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),st=()=>{Y.currentInstance.resetValidationMessage()},de=I=>{const D=(()=>{const I=me();return!!I&&(I.remove(),sn([document.documentElement,document.body],[B["no-backdrop"],B["toast-shown"],B["has-column"]]),!0)})();if(ee())return void ce("SweetAlert2 requires document to initialize");const x=document.createElement("div");x.className=B.container,D&&Mt(x,B["no-transition"]),Ln(x,Ce);const z=(I=>"string"==typeof I?document.querySelector(I):I)(I.target);z.appendChild(x),(I=>{const D=re();D.setAttribute("role",I.toast?"alert":"dialog"),D.setAttribute("aria-live",I.toast?"polite":"assertive"),I.toast||D.setAttribute("aria-modal","true")})(I),(I=>{"rtl"===window.getComputedStyle(I).direction&&Mt(me(),B.rtl)})(z),(()=>{const I=re(),D=kn(I,B.input),x=kn(I,B.file),z=I.querySelector(".".concat(B.range," input")),ke=I.querySelector(".".concat(B.range," output")),it=kn(I,B.select),St=I.querySelector(".".concat(B.checkbox," input")),ar=kn(I,B.textarea);D.oninput=st,x.onchange=st,it.onchange=st,St.onchange=st,ar.oninput=st,z.oninput=()=>{st(),ke.value=z.value},z.onchange=()=>{st(),ke.value=z.value}})()},q=(I,D)=>{I instanceof HTMLElement?D.appendChild(I):"object"==typeof I?K(I,D):I&&Ln(D,I)},K=(I,D)=>{I.jquery?Ae(D,I):Ln(D,I.toString())},Ae=(I,D)=>{if(I.textContent="",0 in D)for(let x=0;x in D;x++)I.appendChild(D[x].cloneNode(!0));else I.appendChild(D.cloneNode(!0))},Ke=(()=>{if(ee())return!1;const I=document.createElement("div"),D={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const x in D)if(Object.prototype.hasOwnProperty.call(D,x)&&typeof I.style[x]<"u")return D[x];return!1})(),Pe=(I,D)=>{const x=Ft(),z=un();D.showConfirmButton||D.showDenyButton||D.showCancelButton?Et(x):qe(x),Xt(x,D,"actions"),function at(I,D,x){const z=Ze(),ke=nn(),it=$t();pn(z,"confirm",x),pn(ke,"deny",x),pn(it,"cancel",x),function Tt(I,D,x,z){if(!z.buttonsStyling)return sn([I,D,x],B.styled);Mt([I,D,x],B.styled),z.confirmButtonColor&&(I.style.backgroundColor=z.confirmButtonColor,Mt(I,B["default-outline"])),z.denyButtonColor&&(D.style.backgroundColor=z.denyButtonColor,Mt(D,B["default-outline"])),z.cancelButtonColor&&(x.style.backgroundColor=z.cancelButtonColor,Mt(x,B["default-outline"]))}(z,ke,it,x),x.reverseButtons&&(x.toast?(I.insertBefore(it,z),I.insertBefore(ke,z)):(I.insertBefore(it,D),I.insertBefore(ke,D),I.insertBefore(z,D)))}(x,z,D),Ln(z,D.loaderHtml),Xt(z,D,"loader")};function pn(I,D,x){Br(I,x["show".concat(g(D),"Button")],"inline-block"),Ln(I,x["".concat(D,"ButtonText")]),I.setAttribute("aria-label",x["".concat(D,"ButtonAriaLabel")]),I.className=B[D],Xt(I,x,"".concat(D,"Button")),Mt(I,x["".concat(D,"ButtonClass")])}const mr=(I,D)=>{const x=me();!x||(function At(I,D){"string"==typeof D?I.style.background=D:D||Mt([document.documentElement,document.body],B["no-backdrop"])}(x,D.backdrop),function pr(I,D){D in B?Mt(I,B[D]):(O('The "position" parameter is not valid, defaulting to "center"'),Mt(I,B.center))}(x,D.position),function An(I,D){if(D&&"string"==typeof D){const x="grow-".concat(D);x in B&&Mt(I,B[x])}}(x,D.grow),Xt(x,D,"container"))};var Pt={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const Ti=["input","file","range","select","radio","checkbox","textarea"],nr=I=>{if(!qn[I.input])return ce('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(I.input,'"'));const D=Gi(I.input),x=qn[I.input](D,I);Et(D),setTimeout(()=>{gr(x)})},Vs=(I,D)=>{const x=en(re(),I);if(x){(I=>{for(let D=0;D<I.attributes.length;D++){const x=I.attributes[D].name;["type","value","style"].includes(x)||I.removeAttribute(x)}})(x);for(const z in D)x.setAttribute(z,D[z])}},ao=I=>{const D=Gi(I.input);"object"==typeof I.customClass&&Mt(D,I.customClass.input)},Qn=(I,D)=>{(!I.placeholder||D.inputPlaceholder)&&(I.placeholder=D.inputPlaceholder)},yi=(I,D,x)=>{if(x.inputLabel){I.id=B.input;const z=document.createElement("label"),ke=B["input-label"];z.setAttribute("for",I.id),z.className=ke,"object"==typeof x.customClass&&Mt(z,x.customClass.inputLabel),z.innerText=x.inputLabel,D.insertAdjacentElement("beforebegin",z)}},Gi=I=>kn(re(),B[I]||B.input),jn=(I,D)=>{["string","number"].includes(typeof D)?I.value="".concat(D):Z(D)||O('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof D,'"'))},qn={};qn.text=qn.email=qn.password=qn.number=qn.tel=qn.url=(I,D)=>(jn(I,D.inputValue),yi(I,I,D),Qn(I,D),I.type=D.input,I),qn.file=(I,D)=>(yi(I,I,D),Qn(I,D),I),qn.range=(I,D)=>{const x=I.querySelector("input"),z=I.querySelector("output");return jn(x,D.inputValue),x.type=D.input,jn(z,D.inputValue),yi(x,I,D),I},qn.select=(I,D)=>{if(I.textContent="",D.inputPlaceholder){const x=document.createElement("option");Ln(x,D.inputPlaceholder),x.value="",x.disabled=!0,x.selected=!0,I.appendChild(x)}return yi(I,I,D),I},qn.radio=I=>(I.textContent="",I),qn.checkbox=(I,D)=>{const x=en(re(),"checkbox");x.value="1",x.id=B.checkbox,x.checked=Boolean(D.inputValue);const z=I.querySelector("span");return Ln(z,D.inputPlaceholder),x},qn.textarea=(I,D)=>{jn(I,D.inputValue),Qn(I,D),yi(I,I,D);return setTimeout(()=>{if("MutationObserver"in window){const z=parseInt(window.getComputedStyle(re()).width);new MutationObserver(()=>{const it=I.offsetWidth+(z=>parseInt(window.getComputedStyle(z).marginLeft)+parseInt(window.getComputedStyle(z).marginRight))(I);re().style.width=it>z?"".concat(it,"px"):null}).observe(I,{attributes:!0,attributeFilter:["style"]})}}),I};const yr=(I,D)=>{const x=Ge();Xt(x,D,"htmlContainer"),D.html?(q(D.html,x),Et(x,"block")):D.text?(x.textContent=D.text,Et(x,"block")):qe(x),((I,D)=>{const x=re(),z=Pt.innerParams.get(I),ke=!z||D.input!==z.input;Ti.forEach(it=>{const St=kn(x,B[it]);Vs(it,D.inputAttributes),St.className=B[it],ke&&qe(St)}),D.input&&(ke&&nr(D),ao(D))})(I,D)},lo=(I,D)=>{for(const x in _e)D.icon!==x&&sn(I,_e[x]);Mt(I,_e[D.icon]),rr(I,D),xa(),Xt(I,D,"icon")},xa=()=>{const I=re(),D=window.getComputedStyle(I).getPropertyValue("background-color"),x=I.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let z=0;z<x.length;z++)x[z].style.backgroundColor=D},oi=(I,D)=>{let z,x=I.innerHTML;D.iconHtml?z=ka(D.iconHtml):"success"===D.icon?(z='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',x=x.replace(/ style=".*?"/g,"")):z="error"===D.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':ka({question:"?",warning:"!",info:"i"}[D.icon]),x.trim()!==z.trim()&&Ln(I,z)},rr=(I,D)=>{if(D.iconColor){I.style.color=D.iconColor,I.style.borderColor=D.iconColor;for(const x of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])pt(I,x,"backgroundColor",D.iconColor);pt(I,".swal2-success-ring","borderColor",D.iconColor)}},ka=I=>'<div class="'.concat(B["icon-content"],'">').concat(I,"</div>"),ul=I=>{const D=document.createElement("li");return Mt(D,B["progress-step"]),Ln(D,I),D},Po=I=>{const D=document.createElement("li");return Mt(D,B["progress-step-line"]),I.progressStepsDistance&&Vr(D,"width",I.progressStepsDistance),D},Na=(I,D)=>{I.className="".concat(B.popup," ").concat(gn(I)?D.showClass.popup:""),D.toast?(Mt([document.documentElement,document.body],B["toast-shown"]),Mt(I,B.toast)):Mt(I,B.modal),Xt(I,D,"popup"),"string"==typeof D.customClass&&Mt(I,D.customClass),D.icon&&Mt(I,B["icon-".concat(D.icon)])},Vu=(I,D)=>{((I,D)=>{const x=me(),z=re();D.toast?(Vr(x,"width",D.width),z.style.width="100%",z.insertBefore(un(),ve())):Vr(z,"width",D.width),Vr(z,"padding",D.padding),D.color&&(z.style.color=D.color),D.background&&(z.style.background=D.background),qe(Bt()),Na(z,D)})(0,D),mr(0,D),((I,D)=>{const x=tn();if(!D.progressSteps||0===D.progressSteps.length)return qe(x);Et(x),x.textContent="",D.currentProgressStep>=D.progressSteps.length&&O("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),D.progressSteps.forEach((z,ke)=>{const it=ul(z);if(x.appendChild(it),ke===D.currentProgressStep&&Mt(it,B["active-progress-step"]),ke!==D.progressSteps.length-1){const St=Po(D);x.appendChild(St)}})})(0,D),((I,D)=>{const x=Pt.innerParams.get(I),z=ve();x&&D.icon===x.icon?(oi(z,D),lo(z,D)):D.icon||D.iconHtml?D.icon&&-1===Object.keys(_e).indexOf(D.icon)?(ce('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(D.icon,'"')),qe(z)):(Et(z),oi(z,D),lo(z,D),Mt(z,D.showClass.icon)):qe(z)})(I,D),((I,D)=>{const x=_t();if(!D.imageUrl)return qe(x);Et(x,""),x.setAttribute("src",D.imageUrl),x.setAttribute("alt",D.imageAlt),Vr(x,"width",D.imageWidth),Vr(x,"height",D.imageHeight),x.className=B.image,Xt(x,D,"image")})(0,D),((I,D)=>{const x=fe();Br(x,D.title||D.titleText,"block"),D.title&&q(D.title,x),D.titleText&&(x.innerText=D.titleText),Xt(x,D,"title")})(0,D),((I,D)=>{const x=Jr();Ln(x,D.closeButtonHtml),Xt(x,D,"closeButton"),Br(x,D.showCloseButton),x.setAttribute("aria-label",D.closeButtonAriaLabel)})(0,D),yr(I,D),Pe(0,D),((I,D)=>{const x=on();Br(x,D.footer),D.footer&&q(D.footer,x),Xt(x,D,"footer")})(0,D),"function"==typeof D.didRender&&D.didRender(re())},Ro=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Us=()=>{H(document.body.children).forEach(D=>{D.hasAttribute("data-previous-aria-hidden")?(D.setAttribute("aria-hidden",D.getAttribute("data-previous-aria-hidden")),D.removeAttribute("data-previous-aria-hidden")):D.removeAttribute("aria-hidden")})},Hi=["swal-title","swal-html","swal-footer"],Mi=I=>{const D={};return H(I.querySelectorAll("swal-param")).forEach(x=>{uo(x,["name","value"]);const z=x.getAttribute("name"),ke=x.getAttribute("value");"boolean"==typeof ae[z]&&"false"===ke&&(D[z]=!1),"object"==typeof ae[z]&&(D[z]=JSON.parse(ke))}),D},$i=I=>{const D={};return H(I.querySelectorAll("swal-button")).forEach(x=>{uo(x,["type","color","aria-label"]);const z=x.getAttribute("type");D["".concat(z,"ButtonText")]=x.innerHTML,D["show".concat(g(z),"Button")]=!0,x.hasAttribute("color")&&(D["".concat(z,"ButtonColor")]=x.getAttribute("color")),x.hasAttribute("aria-label")&&(D["".concat(z,"ButtonAriaLabel")]=x.getAttribute("aria-label"))}),D},Bc=I=>{const D={},x=I.querySelector("swal-image");return x&&(uo(x,["src","width","height","alt"]),x.hasAttribute("src")&&(D.imageUrl=x.getAttribute("src")),x.hasAttribute("width")&&(D.imageWidth=x.getAttribute("width")),x.hasAttribute("height")&&(D.imageHeight=x.getAttribute("height")),x.hasAttribute("alt")&&(D.imageAlt=x.getAttribute("alt"))),D},Zl=I=>{const D={},x=I.querySelector("swal-icon");return x&&(uo(x,["type","color"]),x.hasAttribute("type")&&(D.icon=x.getAttribute("type")),x.hasAttribute("color")&&(D.iconColor=x.getAttribute("color")),D.iconHtml=x.innerHTML),D},Uc=I=>{const D={},x=I.querySelector("swal-input");x&&(uo(x,["type","label","placeholder","value"]),D.input=x.getAttribute("type")||"text",x.hasAttribute("label")&&(D.inputLabel=x.getAttribute("label")),x.hasAttribute("placeholder")&&(D.inputPlaceholder=x.getAttribute("placeholder")),x.hasAttribute("value")&&(D.inputValue=x.getAttribute("value")));const z=I.querySelectorAll("swal-input-option");return z.length&&(D.inputOptions={},H(z).forEach(ke=>{uo(ke,["value"]);const it=ke.getAttribute("value");D.inputOptions[it]=ke.innerHTML})),D},js=(I,D)=>{const x={};for(const z in D){const ke=D[z],it=I.querySelector(ke);it&&(uo(it,[]),x[ke.replace(/^swal-/,"")]=it.innerHTML.trim())}return x},ss=I=>{const D=Hi.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);H(I.children).forEach(x=>{const z=x.tagName.toLowerCase();-1===D.indexOf(z)&&O("Unrecognized element <".concat(z,">"))})},uo=(I,D)=>{H(I.attributes).forEach(x=>{-1===D.indexOf(x.name)&&O(['Unrecognized attribute "'.concat(x.name,'" on <').concat(I.tagName.toLowerCase(),">."),"".concat(D.length?"Allowed attributes are: ".concat(D.join(", ")):"To set the value, use HTML within the element.")])})};var Uu={email:(I,D)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(I)?Promise.resolve():Promise.resolve(D||"Invalid email address"),url:(I,D)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(I)?Promise.resolve():Promise.resolve(D||"Invalid URL")};function co(I){(function jc(I){I.inputValidator||Object.keys(Uu).forEach(D=>{I.input===D&&(I.inputValidator=Uu[D])})})(I),I.showLoaderOnConfirm&&!I.preConfirm&&O("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Yl(I){(!I.target||"string"==typeof I.target&&!document.querySelector(I.target)||"string"!=typeof I.target&&!I.target.appendChild)&&(O('Target parameter is not valid, defaulting to "body"'),I.target="body")}(I),"string"==typeof I.title&&(I.title=I.title.split("\n").join("<br />")),de(I)}class dl{constructor(D,x){this.callback=D,this.remaining=x,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(D){const x=this.running;return x&&this.stop(),this.remaining+=D,x&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Mh=()=>{null===Cn.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Cn.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Cn.previousBodyPadding+(()=>{const I=document.createElement("div");I.className=B["scrollbar-measure"],document.body.appendChild(I);const D=I.getBoundingClientRect().width-I.clientWidth;return document.body.removeChild(I),D})(),"px"))},_i=()=>{const I=navigator.userAgent,D=!!I.match(/iPad/i)||!!I.match(/iPhone/i),x=!!I.match(/WebKit/i);D&&x&&!I.match(/CriOS/i)&&re().scrollHeight>window.innerHeight-44&&(me().style.paddingBottom="".concat(44,"px"))},zi=()=>{const I=me();let D;I.ontouchstart=x=>{D=Wi(x)},I.ontouchmove=x=>{D&&(x.preventDefault(),x.stopPropagation())}},Wi=I=>{const D=I.target,x=me();return!(Oo(I)||ju(I)||D!==x&&(Er(x)||"INPUT"===D.tagName||"TEXTAREA"===D.tagName||Er(Ge())&&Ge().contains(D)))},Oo=I=>I.touches&&I.touches.length&&"stylus"===I.touches[0].touchType,ju=I=>I.touches&&I.touches.length>1,Pa=I=>{const D=me(),x=re();"function"==typeof I.willOpen&&I.willOpen(x);const ke=window.getComputedStyle(document.body).overflowY;Kn(D,x,I),setTimeout(()=>{Gu(D,x)},10),ii()&&(qi(D,I.scrollbarPadding,ke),H(document.body.children).forEach(D=>{D===me()||D.contains(me())||(D.hasAttribute("aria-hidden")&&D.setAttribute("data-previous-aria-hidden",D.getAttribute("aria-hidden")),D.setAttribute("aria-hidden","true"))})),!Mr()&&!Y.previousActiveElement&&(Y.previousActiveElement=document.activeElement),"function"==typeof I.didOpen&&setTimeout(()=>I.didOpen(x)),sn(D,B["no-transition"])},Fo=I=>{const D=re();if(I.target!==D)return;const x=me();D.removeEventListener(Ke,Fo),x.style.overflowY="auto"},Gu=(I,D)=>{Ke&&Rn(D)?(I.style.overflowY="hidden",D.addEventListener(Ke,Fo)):I.style.overflowY="auto"},qi=(I,D,x)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!ht(document.body,B.iosfix)){const D=document.body.scrollTop;document.body.style.top="".concat(-1*D,"px"),Mt(document.body,B.iosfix),zi(),_i()}})(),D&&"hidden"!==x&&Mh(),setTimeout(()=>{I.scrollTop=0})},Kn=(I,D,x)=>{Mt(I,x.showClass.backdrop),D.style.setProperty("opacity","0","important"),Et(D,"grid"),setTimeout(()=>{Mt(D,x.showClass.popup),D.style.removeProperty("opacity")},10),Mt([document.documentElement,document.body],B.shown),x.heightAuto&&x.backdrop&&!x.toast&&Mt([document.documentElement,document.body],B["height-auto"])},Ki=I=>{let D=re();D||new Nr,D=re();const x=un();Mr()?qe(ve()):Hs(D,I),Et(x),D.setAttribute("data-loading","true"),D.setAttribute("aria-busy","true"),D.focus()},Hs=(I,D)=>{const x=Ft(),z=un();!D&&gn(Ze())&&(D=Ze()),Et(x),D&&(qe(D),z.setAttribute("data-button-to-replace",D.className)),z.parentNode.insertBefore(z,D),Mt([I,x],B.loading)},Xl=I=>I.checked?1:0,ls=I=>I.checked?I.value:null,hl=I=>I.files.length?null!==I.getAttribute("multiple")?I.files:I.files[0]:null,pl=(I,D)=>{const x=re(),z=ke=>En[D.input](x,Zi(ke),D);xe(D.inputOptions)||Z(D.inputOptions)?(Ki(Ze()),X(D.inputOptions).then(ke=>{I.hideLoading(),z(ke)})):"object"==typeof D.inputOptions?z(D.inputOptions):ce("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof D.inputOptions))},Gc=(I,D)=>{const x=I.getInput();qe(x),X(D.inputValue).then(z=>{x.value="number"===D.input?parseFloat(z)||0:"".concat(z),Et(x),x.focus(),I.hideLoading()}).catch(z=>{ce("Error in inputValue promise: ".concat(z)),x.value="",Et(x),x.focus(),I.hideLoading()})},En={select:(I,D,x)=>{const z=kn(I,B.select),ke=(it,St,ar)=>{const lr=document.createElement("option");lr.value=ar,Ln(lr,St),lr.selected=us(ar,x.inputValue),it.appendChild(lr)};D.forEach(it=>{const St=it[0],ar=it[1];if(Array.isArray(ar)){const lr=document.createElement("optgroup");lr.label=St,lr.disabled=!1,z.appendChild(lr),ar.forEach(ui=>ke(lr,ui[1],ui[0]))}else ke(z,ar,St)}),z.focus()},radio:(I,D,x)=>{const z=kn(I,B.radio);D.forEach(it=>{const St=it[0],ar=it[1],lr=document.createElement("input"),ui=document.createElement("label");lr.type="radio",lr.name=B.radio,lr.value=St,us(St,x.inputValue)&&(lr.checked=!0);const Yi=document.createElement("span");Ln(Yi,ar),Yi.className=B.label,ui.appendChild(lr),ui.appendChild(Yi),z.appendChild(ui)});const ke=z.querySelectorAll("input");ke.length&&ke[0].focus()}},Zi=I=>{const D=[];return typeof Map<"u"&&I instanceof Map?I.forEach((x,z)=>{let ke=x;"object"==typeof ke&&(ke=Zi(ke)),D.push([z,ke])}):Object.keys(I).forEach(x=>{let z=I[x];"object"==typeof z&&(z=Zi(z)),D.push([x,z])}),D},us=(I,D)=>D&&D.toString()===I.toString();function $s(){const I=Pt.innerParams.get(this);if(!I)return;const D=Pt.domCache.get(this);qe(D.loader),Mr()?I.icon&&Et(ve()):cs(D),sn([D.popup,D.actions],B.loading),D.popup.removeAttribute("aria-busy"),D.popup.removeAttribute("data-loading"),D.confirmButton.disabled=!1,D.denyButton.disabled=!1,D.cancelButton.disabled=!1}const cs=I=>{const D=I.popup.getElementsByClassName(I.loader.getAttribute("data-button-to-replace"));D.length?Et(D[0],"inline-block"):!gn(Ze())&&!gn(nn())&&!gn($t())&&qe(I.actions)};var xi={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const ho=()=>Ze()&&Ze().click(),Vn=I=>{I.keydownTarget&&I.keydownHandlerAdded&&(I.keydownTarget.removeEventListener("keydown",I.keydownHandler,{capture:I.keydownListenerCapture}),I.keydownHandlerAdded=!1)},or=(I,D,x)=>{const z=xn();if(z.length)return(D+=x)===z.length?D=0:-1===D&&(D=z.length-1),z[D].focus();re().focus()},Oa=["ArrowRight","ArrowDown"],Vo=["ArrowLeft","ArrowUp"],zs=(I,D,x)=>{const z=Pt.innerParams.get(I);!z||D.isComposing||229===D.keyCode||(z.stopKeydownPropagation&&D.stopPropagation(),"Enter"===D.key?kr(I,D,z):"Tab"===D.key?Ws(D,z):[...Oa,...Vo].includes(D.key)?po(D.key):"Escape"===D.key&&wt(D,z,x))},kr=(I,D,x)=>{if(ge(x.allowEnterKey)&&D.target&&I.getInput()&&D.target instanceof HTMLElement&&D.target.outerHTML===I.getInput().outerHTML){if(["textarea","file"].includes(x.input))return;ho(),D.preventDefault()}},Ws=(I,D)=>{const x=I.target,z=xn();let ke=-1;for(let it=0;it<z.length;it++)if(x===z[it]){ke=it;break}or(0,ke,I.shiftKey?-1:1),I.stopPropagation(),I.preventDefault()},po=I=>{const D=Ze(),x=nn(),z=$t();if(document.activeElement instanceof HTMLElement&&![D,x,z].includes(document.activeElement))return;const ke=Oa.includes(I)?"nextElementSibling":"previousElementSibling";let it=document.activeElement;for(let St=0;St<Ft().children.length;St++){if(it=it[ke],!it)return;if(it instanceof HTMLButtonElement&&gn(it))break}it instanceof HTMLButtonElement&&it.focus()},wt=(I,D,x)=>{ge(D.allowEscapeKey)&&(I.preventDefault(),x(Ro.esc))};function Bo(I,D,x,z){Mr()?Fa(I,z):($(x).then(()=>Fa(I,z)),Vn(Y)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(D.setAttribute("style","display:none !important"),D.removeAttribute("class"),D.innerHTML=""):D.remove(),ii()&&(null!==Cn.previousBodyPadding&&(document.body.style.paddingRight="".concat(Cn.previousBodyPadding,"px"),Cn.previousBodyPadding=null),(()=>{if(ht(document.body,B.iosfix)){const I=parseInt(document.body.style.top,10);sn(document.body,B.iosfix),document.body.style.top="",document.body.scrollTop=-1*I}})(),Us()),function qs(){sn([document.documentElement,document.body],[B.shown,B["height-auto"],B["no-backdrop"],B["toast-shown"]])}()}function hs(I){I=Zs(I);const D=xi.swalPromiseResolve.get(this),x=fl(this);this.isAwaitingPromise()?I.isDismissed||(Ks(this),D(I)):x&&D(I)}const fl=I=>{const D=re();if(!D)return!1;const x=Pt.innerParams.get(I);if(!x||ht(D,x.hideClass.popup))return!1;sn(D,x.showClass.popup),Mt(D,x.hideClass.popup);const z=me();return sn(z,x.showClass.backdrop),Mt(z,x.hideClass.backdrop),Fe(I,D,x),!0};const Ks=I=>{I.isAwaitingPromise()&&(Pt.awaitingPromise.delete(I),Pt.innerParams.get(I)||I._destroy())},Zs=I=>typeof I>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},I),Fe=(I,D,x)=>{const z=me(),ke=Ke&&Rn(D);"function"==typeof x.willClose&&x.willClose(D),ke?Ut(I,D,z,x.returnFocus,x.didClose):Bo(I,z,x.returnFocus,x.didClose)},Ut=(I,D,x,z,ke)=>{Y.swalCloseEventFinishedCallback=Bo.bind(null,I,x,z,ke),D.addEventListener(Ke,function(it){it.target===D&&(Y.swalCloseEventFinishedCallback(),delete Y.swalCloseEventFinishedCallback)})},Fa=(I,D)=>{setTimeout(()=>{"function"==typeof D&&D.bind(I.params)(),I._destroy()})};function gs(I,D,x){const z=Pt.domCache.get(I);D.forEach(ke=>{z[ke].disabled=x})}function Gn(I,D){if(!I)return!1;if("radio"===I.type){const z=I.parentNode.parentNode.querySelectorAll("input");for(let ke=0;ke<z.length;ke++)z[ke].disabled=D}else I.disabled=D}const ys=I=>{const D={};return Object.keys(I).forEach(x=>{Ie(x)?D[x]=I[x]:O("Invalid parameter to update: ".concat(x))}),D};const jr=I=>{_l(I),delete I.params,delete Y.keydownHandler,delete Y.keydownTarget,delete Y.currentInstance},_l=I=>{I.isAwaitingPromise()?(ai(Pt,I),Pt.awaitingPromise.set(I,!0)):(ai(xi,I),ai(Pt,I))},ai=(I,D)=>{for(const x in I)I[x].delete(D)};var ki=Object.freeze({hideLoading:$s,disableLoading:$s,getInput:function On(I){const D=Pt.innerParams.get(I||this),x=Pt.domCache.get(I||this);return x?en(x.popup,D.input):null},close:hs,isAwaitingPromise:function ps(){return!!Pt.awaitingPromise.get(this)},rejectPromise:function fs(I){const D=xi.swalPromiseReject.get(this);Ks(this),D&&D(I)},handleAwaitingPromise:Ks,closePopup:hs,closeModal:hs,closeToast:hs,enableButtons:function Uo(){gs(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function Ys(){gs(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function vi(){return Gn(this.getInput(),!1)},disableInput:function ms(){return Gn(this.getInput(),!0)},showValidationMessage:function gl(I){const D=Pt.domCache.get(this),x=Pt.innerParams.get(this);Ln(D.validationMessage,I),D.validationMessage.className=B["validation-message"],x.customClass&&x.customClass.validationMessage&&Mt(D.validationMessage,x.customClass.validationMessage),Et(D.validationMessage);const z=this.getInput();z&&(z.setAttribute("aria-invalid",!0),z.setAttribute("aria-describedby",B["validation-message"]),gr(z),Mt(z,B.inputerror))},resetValidationMessage:function Hu(){const I=Pt.domCache.get(this);I.validationMessage&&qe(I.validationMessage);const D=this.getInput();D&&(D.removeAttribute("aria-invalid"),D.removeAttribute("aria-describedby"),sn(D,B.inputerror))},getProgressSteps:function ml(){return Pt.domCache.get(this).progressSteps},update:function yl(I){const D=re(),x=Pt.innerParams.get(this);if(!D||ht(D,x.hideClass.popup))return O("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const z=ys(I),ke=Object.assign({},x,z);Vu(this,ke),Pt.innerParams.set(this,ke),Object.defineProperties(this,{params:{value:Object.assign({},this.params,I),writable:!1,enumerable:!0}})},_destroy:function Ir(){const I=Pt.domCache.get(this),D=Pt.innerParams.get(this);D?(I.popup&&Y.swalCloseEventFinishedCallback&&(Y.swalCloseEventFinishedCallback(),delete Y.swalCloseEventFinishedCallback),"function"==typeof D.didDestroy&&D.didDestroy(),jr(this)):_l(this)}});const tu=(I,D)=>{const x=Pt.innerParams.get(I);if(!x.input)return ce('The "input" parameter is needed to be set when using returnInputValueOn'.concat(g(D)));const z=((I,D)=>{const x=I.getInput();if(!x)return null;switch(D.input){case"checkbox":return Xl(x);case"radio":return ls(x);case"file":return hl(x);default:return D.inputAutoTrim?x.value.trim():x.value}})(I,x);x.inputValidator?Go(I,z,D):I.getInput().checkValidity()?"deny"===D?Qs(I,z):$o(I,z):(I.enableButtons(),I.showValidationMessage(x.validationMessage))},Go=(I,D,x)=>{const z=Pt.innerParams.get(I);I.disableInput(),Promise.resolve().then(()=>X(z.inputValidator(D,z.validationMessage))).then(it=>{I.enableButtons(),I.enableInput(),it?I.showValidationMessage(it):"deny"===x?Qs(I,D):$o(I,D)})},Qs=(I,D)=>{const x=Pt.innerParams.get(I||void 0);x.showLoaderOnDeny&&Ki(nn()),x.preDeny?(Pt.awaitingPromise.set(I||void 0,!0),Promise.resolve().then(()=>X(x.preDeny(D,x.validationMessage))).then(ke=>{!1===ke?(I.hideLoading(),Ks(I)):I.closePopup({isDenied:!0,value:typeof ke>"u"?D:ke})}).catch(ke=>Ho(I||void 0,ke))):I.closePopup({isDenied:!0,value:D})},Va=(I,D)=>{I.closePopup({isConfirmed:!0,value:D})},Ho=(I,D)=>{I.rejectPromise(D)},$o=(I,D)=>{const x=Pt.innerParams.get(I||void 0);x.showLoaderOnConfirm&&Ki(),x.preConfirm?(I.resetValidationMessage(),Pt.awaitingPromise.set(I||void 0,!0),Promise.resolve().then(()=>X(x.preConfirm(D,x.validationMessage))).then(ke=>{gn(Bt())||!1===ke?(I.hideLoading(),Ks(I)):Va(I,typeof ke>"u"?D:ke)}).catch(ke=>Ho(I||void 0,ke))):Va(I,D)},Ni=(I,D,x)=>{D.popup.onclick=()=>{const z=Pt.innerParams.get(I);z&&(vl(z)||z.timer||z.input)||x(Ro.close)}},vl=I=>I.showConfirmButton||I.showDenyButton||I.showCancelButton||I.showCloseButton;let Ua=!1;const bl=I=>{I.popup.onmousedown=()=>{I.container.onmouseup=function(D){I.container.onmouseup=void 0,D.target===I.container&&(Ua=!0)}}},wl=I=>{I.container.onmousedown=()=>{I.popup.onmouseup=function(D){I.popup.onmouseup=void 0,(D.target===I.popup||I.popup.contains(D.target))&&(Ua=!0)}}},El=(I,D,x)=>{D.container.onclick=z=>{const ke=Pt.innerParams.get(I);Ua?Ua=!1:z.target===D.container&&ge(ke.allowOutsideClick)&&x(Ro.backdrop)}},$u=I=>I instanceof Element||(I=>"object"==typeof I&&I.jquery)(I);const zo=()=>{if(Y.timeout)return(()=>{const I=bn(),D=parseInt(window.getComputedStyle(I).width);I.style.removeProperty("transition"),I.style.width="100%";const z=D/parseInt(window.getComputedStyle(I).width)*100;I.style.removeProperty("transition"),I.style.width="".concat(z,"%")})(),Y.timeout.stop()},ja=()=>{if(Y.timeout){const I=Y.timeout.start();return wn(I),I}};let _s=!1;const vs={};const Ga=I=>{for(let D=I.target;D&&D!==document;D=D.parentNode)for(const x in vs){const z=D.getAttribute(x);if(z)return void vs[x].fire({template:z})}};var zu=Object.freeze({isValidParameter:et,isUpdatableParameter:Ie,isDeprecatedParameter:be,argsToParams:I=>{const D={};return"object"!=typeof I[0]||$u(I[0])?["title","html","icon"].forEach((x,z)=>{const ke=I[z];"string"==typeof ke||$u(ke)?D[x]=ke:void 0!==ke&&ce("Unexpected type of ".concat(x,'! Expected "string" or "Element", got ').concat(typeof ke))}):Object.assign(D,I[0]),D},isVisible:()=>gn(re()),clickConfirm:ho,clickDeny:()=>nn()&&nn().click(),clickCancel:()=>$t()&&$t().click(),getContainer:me,getPopup:re,getTitle:fe,getHtmlContainer:Ge,getImage:_t,getIcon:ve,getInputLabel:()=>oe(B["input-label"]),getCloseButton:Jr,getActions:Ft,getConfirmButton:Ze,getDenyButton:nn,getCancelButton:$t,getLoader:un,getFooter:on,getTimerProgressBar:bn,getFocusableElements:xn,getValidationMessage:Bt,isLoading:()=>re().hasAttribute("data-loading"),fire:function Js(){const I=this;for(var D=arguments.length,x=new Array(D),z=0;z<D;z++)x[z]=arguments[z];return new I(...x)},mixin:function Hn(I){return class D extends(this){_main(z,ke){return super._main(z,Object.assign({},I,ke))}}},showLoading:Ki,enableLoading:Ki,getTimerLeft:()=>Y.timeout&&Y.timeout.getTimerLeft(),stopTimer:zo,resumeTimer:ja,toggleTimer:()=>{const I=Y.timeout;return I&&(I.running?zo():ja())},increaseTimer:I=>{if(Y.timeout){const D=Y.timeout.increase(I);return wn(D,!0),D}},isTimerRunning:()=>Y.timeout&&Y.timeout.isRunning(),bindClickHandler:function sr(){vs[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,_s||(document.body.addEventListener("click",Ga),_s=!0)}});let li;class Gr{constructor(){if(typeof window>"u")return;li=this;for(var D=arguments.length,x=new Array(D),z=0;z<D;z++)x[z]=arguments[z];const ke=Object.freeze(this.constructor.argsToParams(x));Object.defineProperties(this,{params:{value:ke,writable:!1,enumerable:!0,configurable:!0}});const it=li._main(li.params);Pt.promise.set(this,it)}_main(D){let x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(I=>{!I.backdrop&&I.allowOutsideClick&&O('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const D in I)tt(D),I.toast&&Je(D),Le(D)})(Object.assign({},x,D)),Y.currentInstance&&(Y.currentInstance._destroy(),ii()&&Us()),Y.currentInstance=li;const z=Dl(D,x);co(z),Object.freeze(z),Y.timeout&&(Y.timeout.stop(),delete Y.timeout),clearTimeout(Y.restoreFocusTimeout);const ke=Ha(li);return Vu(li,z),Pt.innerParams.set(li,z),bs(li,ke,z)}then(D){return Pt.promise.get(this).then(D)}finally(D){return Pt.promise.get(this).finally(D)}}const bs=(I,D,x)=>new Promise((z,ke)=>{const it=St=>{I.closePopup({isDismissed:!0,dismiss:St})};xi.swalPromiseResolve.set(I,z),xi.swalPromiseReject.set(I,ke),D.confirmButton.onclick=()=>(I=>{const D=Pt.innerParams.get(I);I.disableButtons(),D.input?tu(I,"confirm"):$o(I,!0)})(I),D.denyButton.onclick=()=>(I=>{const D=Pt.innerParams.get(I);I.disableButtons(),D.returnInputValueOnDeny?tu(I,"deny"):Qs(I,!1)})(I),D.cancelButton.onclick=()=>((I,D)=>{I.disableButtons(),D(Ro.cancel)})(I,it),D.closeButton.onclick=()=>it(Ro.close),((I,D,x)=>{Pt.innerParams.get(I).toast?Ni(I,D,x):(bl(D),wl(D),El(I,D,x))})(I,D,it),((I,D,x,z)=>{Vn(D),x.toast||(D.keydownHandler=ke=>zs(I,ke,z),D.keydownTarget=x.keydownListenerCapture?window:re(),D.keydownListenerCapture=x.keydownListenerCapture,D.keydownTarget.addEventListener("keydown",D.keydownHandler,{capture:D.keydownListenerCapture}),D.keydownHandlerAdded=!0)})(I,Y,x,it),((I,D)=>{"select"===D.input||"radio"===D.input?pl(I,D):["text","email","number","tel","textarea"].includes(D.input)&&(xe(D.inputValue)||Z(D.inputValue))&&(Ki(Ze()),Gc(I,D))})(I,x),Pa(x),$a(Y,x,it),nu(D,x),setTimeout(()=>{D.container.scrollTop=0})}),Dl=(I,D)=>{const x=(I=>{const D="string"==typeof I.template?document.querySelector(I.template):I.template;if(!D)return{};const x=D.content;return ss(x),Object.assign(Mi(x),$i(x),Bc(x),Zl(x),Uc(x),js(x,Hi))})(I),z=Object.assign({},ae,D,x,I);return z.showClass=Object.assign({},ae.showClass,z.showClass),z.hideClass=Object.assign({},ae.hideClass,z.hideClass),z},Ha=I=>{const D={popup:re(),container:me(),actions:Ft(),confirmButton:Ze(),denyButton:nn(),cancelButton:$t(),loader:un(),closeButton:Jr(),validationMessage:Bt(),progressSteps:tn()};return Pt.domCache.set(I,D),D},$a=(I,D,x)=>{const z=bn();qe(z),D.timer&&(I.timeout=new dl(()=>{x("timer"),delete I.timeout},D.timer),D.timerProgressBar&&(Et(z),Xt(z,D,"timerProgressBar"),setTimeout(()=>{I.timeout&&I.timeout.running&&wn(D.timer)})))},nu=(I,D)=>{if(!D.toast){if(!ge(D.allowEnterKey))return kh();zc(I,D)||or(0,-1,1)}},zc=(I,D)=>D.focusDeny&&gn(I.denyButton)?(I.denyButton.focus(),!0):D.focusCancel&&gn(I.cancelButton)?(I.cancelButton.focus(),!0):!(!D.focusConfirm||!gn(I.confirmButton)||(I.confirmButton.focus(),0)),kh=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)&&Math.random()<.1){const I=document.createElement("div");I.className="leave-russia-now-and-apply-your-skills-to-the-world",Ln(I,'\n      <div>\n        \u0415\u0441\u043b\u0438 \u043c\u044b \u043d\u0435 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043c \u0432\u043e\u0439\u043d\u0443, \u043e\u043d\u0430 \u043f\u0440\u0438\u0434\u0435\u0442 \u0432 \u0434\u043e\u043c <strong>\u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0438\u0437 \u043d\u0430\u0441</strong> \u0438 \u0435\u0451 \u043f\u043e\u0441\u043b\u0435\u0434\u0441\u0442\u0432\u0438\u044f \u0431\u0443\u0434\u0443\u0442 <strong>\u0443\u0436\u0430\u0441\u0430\u044e\u0449\u0438\u043c\u0438</strong>.\n      </div>\n      <div>\n        \u041f\u0443\u0442\u0438\u043d\u0441\u043a\u0438\u0439 \u0440\u0435\u0436\u0438\u043c \u0437\u0430 20 \u0441 \u043b\u0438\u0448\u043d\u0438\u043c \u043b\u0435\u0442 \u0441\u0432\u043e\u0435\u0433\u043e \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043e\u0432\u0430\u043d\u0438\u044f \u0432\u0434\u043e\u043b\u0431\u0438\u043b \u043d\u0430\u043c, \u0447\u0442\u043e \u043c\u044b \u0431\u0435\u0441\u0441\u0438\u043b\u044c\u043d\u044b \u0438 \u043e\u0434\u0438\u043d \u0447\u0435\u043b\u043e\u0432\u0435\u043a \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043d\u0438\u0447\u0435\u0433\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c. <strong>\u042d\u0442\u043e \u043d\u0435 \u0442\u0430\u043a!</strong>\n      </div>\n      <div>\n        \u0412 \u043d\u0438\u0436\u0435\u043f\u0440\u0438\u0432\u0435\u0434\u0451\u043d\u043d\u043e\u043c \u0432\u0438\u0434\u0435\u043e \u043e\u0431\u044a\u044f\u0441\u043d\u044f\u0435\u0442\u0441\u044f \u043a\u0430\u043a \u043a\u0430\u0436\u0434\u044b\u0439 \u0438\u0437 \u043d\u0430\u0441 \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u043c\u043e\u0447\u044c \u0432 \u0442\u043e\u043c, <strong>\u0447\u0442\u043e\u0431\u044b \u044d\u0442\u0430 \u0431\u0435\u0441\u0441\u043c\u044b\u0441\u043b\u0435\u043d\u043d\u0430\u044f \u0438 \u0431\u0435\u0441\u0447\u0435\u043b\u043e\u0432\u0435\u0447\u043d\u0430\u044f \u0432\u043e\u0439\u043d\u0430 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043b\u0430\u0441\u044c</strong>:\n      </div>\n      <iframe width="560" height="315" src="https://www.youtube.com/embed/4CfDhaRkw7I" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n      <div>\n        \u041d\u0435\u0442 \u0432\u043e\u0439\u043d\u0435!\n      </div>\n      ');const D=document.createElement("button");D.innerHTML="&times;",D.onclick=()=>I.remove(),I.appendChild(D),window.addEventListener("load",()=>{setTimeout(()=>{document.body.appendChild(I)},1e3)})}Object.assign(Gr.prototype,ki),Object.assign(Gr,zu),Object.keys(ki).forEach(I=>{Gr[I]=function(){if(li)return li[I](...arguments)}}),Gr.DismissReason=Ro,Gr.version="11.4.20";const Nr=Gr;return Nr.default=Nr,Nr}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(Ne,V){var g=Ne.createElement("style");if(Ne.getElementsByTagName("head")[0].appendChild(g),g.styleSheet)g.styleSheet.disabled||(g.styleSheet.cssText=V);else try{g.innerHTML=V}catch{g.innerText=V}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px hsla(0deg,0%,0%,.075),0 1px 2px hsla(0deg,0%,0%,.075),1px 2px 4px hsla(0deg,0%,0%,.075),1px 3px 8px hsla(0deg,0%,0%,.075),2px 4px 16px hsla(0deg,0%,0%,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:0 0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:0 0;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:0 0;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:0 0;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.leave-russia-now-and-apply-your-skills-to-the-world{display:flex;position:fixed;z-index:1939;top:0;right:0;bottom:0;left:0;flex-direction:column;align-items:center;justify-content:center;padding:25px 0 20px;background:#20232a;color:#fff;text-align:center}.leave-russia-now-and-apply-your-skills-to-the-world div{max-width:560px;margin:10px;line-height:146%}.leave-russia-now-and-apply-your-skills-to-the-world iframe{max-width:100%;max-height:55.5555555556vmin;margin:16px auto}.leave-russia-now-and-apply-your-skills-to-the-world strong{border-bottom:2px dashed #fff}.leave-russia-now-and-apply-your-skills-to-the-world button{display:flex;position:fixed;z-index:1940;top:0;right:0;align-items:center;justify-content:center;width:48px;height:48px;margin-right:10px;margin-bottom:-10px;border:none;background:0 0;color:#aaa;font-size:48px;font-weight:700;cursor:pointer}.leave-russia-now-and-apply-your-skills-to-the-world button:hover{color:#fff}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(yt,Ne,V)=>{"use strict";function ce(te,oe){var re={};for(var ve in te)Object.prototype.hasOwnProperty.call(te,ve)&&oe.indexOf(ve)<0&&(re[ve]=te[ve]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var fe=0;for(ve=Object.getOwnPropertySymbols(te);fe<ve.length;fe++)oe.indexOf(ve[fe])<0&&Object.prototype.propertyIsEnumerable.call(te,ve[fe])&&(re[ve[fe]]=te[ve[fe]])}return re}function ge(te,oe,re,ve){return new(re||(re=Promise))(function(Ge,_t){function tn(nn){try{Ze(ve.next(nn))}catch(Wn){_t(Wn)}}function Bt(nn){try{Ze(ve.throw(nn))}catch(Wn){_t(Wn)}}function Ze(nn){nn.done?Ge(nn.value):function fe(Ge){return Ge instanceof re?Ge:new re(function(_t){_t(Ge)})}(nn.value).then(tn,Bt)}Ze((ve=ve.apply(te,oe||[])).next())})}function Ie(te){return this instanceof Ie?(this.v=te,this):new Ie(te)}function be(te,oe,re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,ve=re.apply(te,oe||[]),Ge=[];return fe={},_t("next"),_t("throw"),_t("return"),fe[Symbol.asyncIterator]=function(){return this},fe;function _t(un){ve[un]&&(fe[un]=function($t){return new Promise(function(Ft,on){Ge.push([un,$t,Ft,on])>1||tn(un,$t)})})}function tn(un,$t){try{!function Bt(un){un.value instanceof Ie?Promise.resolve(un.value.v).then(Ze,nn):Wn(Ge[0][2],un)}(ve[un]($t))}catch(Ft){Wn(Ge[0][3],Ft)}}function Ze(un){tn("next",un)}function nn(un){tn("throw",un)}function Wn(un,$t){un($t),Ge.shift(),Ge.length&&tn(Ge[0][0],Ge[0][1])}}function Je(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var re,oe=te[Symbol.asyncIterator];return oe?oe.call(te):(te=function ae(te){var oe="function"==typeof Symbol&&Symbol.iterator,re=oe&&te[oe],ve=0;if(re)return re.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&ve>=te.length&&(te=void 0),{value:te&&te[ve++],done:!te}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),re={},ve("next"),ve("throw"),ve("return"),re[Symbol.asyncIterator]=function(){return this},re);function ve(Ge){re[Ge]=te[Ge]&&function(_t){return new Promise(function(tn,Bt){!function fe(Ge,_t,tn,Bt){Promise.resolve(Bt).then(function(Ze){Ge({value:Ze,done:tn})},_t)}(tn,Bt,(_t=te[Ge](_t)).done,_t.value)})}}}V.d(Ne,{FC:()=>be,KL:()=>Je,_T:()=>ce,mG:()=>ge,qq:()=>Ie})},4650:(yt,Ne,V)=>{"use strict";V.d(Ne,{$8M:()=>Ku,AFp:()=>p0,AaK:()=>ge,CHM:()=>Fa,CRH:()=>FI,CZH:()=>rh,CqO:()=>yp,D6c:()=>$m,EJc:()=>s1,EpF:()=>Y_,F4k:()=>Gg,FYo:()=>Pv,FiY:()=>ei,G48:()=>Kp,Gf:()=>_m,GfV:()=>wI,Gpc:()=>Z,JOm:()=>da,KtG:()=>gs,LFG:()=>He,LSH:()=>Hf,Lbi:()=>hi,NdJ:()=>J_,OlP:()=>vn,Oqu:()=>Qg,Q6J:()=>To,QGY:()=>Q_,Qsj:()=>bI,R0b:()=>Mo,RDi:()=>hl,Rgc:()=>Yd,SBq:()=>Mp,TTD:()=>Wi,TgZ:()=>mp,X6Q:()=>Fm,Xpm:()=>ie,Y36:()=>ya,YNc:()=>uE,Yjl:()=>de,Yz7:()=>$t,ZZ4:()=>Yp,_Bn:()=>Mv,_UZ:()=>K_,_c5:()=>Hm,_uU:()=>TE,aQg:()=>Gm,cJS:()=>on,cg1:()=>dv,dDg:()=>c1,dqk:()=>qe,eFA:()=>Nm,ekj:()=>Kg,eoX:()=>Mu,g9A:()=>Cm,h0i:()=>Ac,hGG:()=>Qp,hM9:()=>kT,hij:()=>Jg,iGM:()=>Kv,ifc:()=>Et,ip1:()=>h0,kL8:()=>qE,lG2:()=>Kt,lri:()=>Mc,n5z:()=>mo,oAB:()=>Lt,oxw:()=>pE,q4F:()=>Ov,qLn:()=>$f,qOj:()=>j_,qZA:()=>Ug,rWj:()=>iD,sBO:()=>D0,sIi:()=>_c,s_b:()=>Fp,soG:()=>Hp,uIk:()=>bc,vHH:()=>je,vpe:()=>Ca,wAp:()=>Nt,xp6:()=>Jb,zSh:()=>l_,zs3:()=>el});var g=V(7579),H=V(727),O=V(8306),ce=V(6451),pe=V(3099);function De(i){for(let s in i)if(i[s]===De)return s;throw Error("Could not find renamed property on target object.")}function we(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function ge(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ge).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function xe(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const X=De({__forward_ref__:De});function Z(i){return i.__forward_ref__=Z,i.toString=function(){return ge(this())},i}function ae(i){return ot(i)?i():i}function ot(i){return"function"==typeof i&&i.hasOwnProperty(X)&&i.__forward_ref__===Z}class je extends Error{constructor(s,a){super(function et(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}(s,a)),this.code=s}}function Ie(i){return"string"==typeof i?i:null==i?"":String(i)}function Ve(i,s){throw new je(-201,!1)}function Bt(i,s){null==i&&function Ze(i,s,a,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${a} ${u} ${s} <=Actual]`))}(s,i,null,"!=")}function $t(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function on(i){return{providers:i.providers||[],imports:i.imports||[]}}function bn(i){return Jr(i,Mr)||Jr(i,Cn)}function Jr(i,s){return i.hasOwnProperty(s)?i[s]:null}function ii(i){return i&&(i.hasOwnProperty(mi)||i.hasOwnProperty(Ln))?i[mi]:null}const Mr=De({\u0275prov:De}),mi=De({\u0275inj:De}),Cn=De({ngInjectableDef:De}),Ln=De({ngInjectorDef:De});var ht=(()=>((ht=ht||{})[ht.Default=0]="Default",ht[ht.Host=1]="Host",ht[ht.Self=2]="Self",ht[ht.SkipSelf=4]="SkipSelf",ht[ht.Optional=8]="Optional",ht))();let Lr;function en(i){const s=Lr;return Lr=i,s}function gr(i,s,a){const u=bn(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&ht.Optional?null:void 0!==s?s:void Ve(ge(i))}function Mt(i){return{toString:i}.toString()}var sn=(()=>((sn=sn||{})[sn.OnPush=0]="OnPush",sn[sn.Default=1]="Default",sn))(),Et=(()=>{return(i=Et||(Et={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Et;var i})();const qe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),gn={},kt=[],Er=De({\u0275cmp:De}),Rn=De({\u0275dir:De}),wn=De({\u0275pipe:De}),hn=De({\u0275mod:De}),ee=De({\u0275fac:De}),W=De({__NG_ELEMENT_ID__:De});let Y=0;function ie(i){return Mt(()=>{const a=!0===i.standalone,u={},d={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===sn.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||kt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Et.Emulated,id:"c"+Y++,styles:i.styles||kt,_:null,setInput:null,schemas:i.schemas||null,tView:null},h=i.dependencies,y=i.features;return d.inputs=_n(i.inputs,u),d.outputs=_n(i.outputs),y&&y.forEach(b=>b(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(Ce).filter(Ye):null,d.pipeDefs=h?()=>("function"==typeof h?h():h).map(Ae).filter(Ye):null,d})}function Ce(i){return q(i)||K(i)}function Ye(i){return null!==i}const st={};function Lt(i){return Mt(()=>{const s={type:i.type,bootstrap:i.bootstrap||kt,declarations:i.declarations||kt,imports:i.imports||kt,exports:i.exports||kt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(st[i.id]=i.type),s})}function _n(i,s){if(null==i)return gn;const a={};for(const u in i)if(i.hasOwnProperty(u)){let d=i[u],h=d;Array.isArray(d)&&(h=d[1],d=d[0]),a[d]=u,s&&(s[d]=h)}return a}const Kt=ie;function de(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function q(i){return i[Er]||null}function K(i){return i[Rn]||null}function Ae(i){return i[wn]||null}function _r(i){return Array.isArray(i)&&"object"==typeof i[1]}function xr(i){return Array.isArray(i)&&!0===i[1]}function ul(i){return 0!=(8&i.flags)}function Po(i){return 2==(2&i.flags)}function Bs(i){return 1==(1&i.flags)}function si(i){return null!==i.template}function Na(i){return 0!=(256&i[2])}function _i(i,s){return i.hasOwnProperty(ee)?i[ee]:null}class zi{constructor(s,a,u){this.previousValue=s,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function Wi(){return Oo}function Oo(i){return i.type.prototype.ngOnChanges&&(i.setInput=Ql),ju}function ju(){const i=Pa(this),s=i?.current;if(s){const a=i.previous;if(a===gn)i.previous=s;else for(let u in s)a[u]=s[u];i.current=null,this.ngOnChanges(s)}}function Ql(i,s,a,u){const d=Pa(i)||function Fo(i,s){return i[Gs]=s}(i,{previous:gn,current:null}),h=d.current||(d.current={}),y=d.previous,b=this.declaredInputs[a],C=y[b];h[b]=new zi(C&&C.currentValue,s,y===gn),i[u]=s}Wi.ngInherit=!0;const Gs="__ngSimpleChanges__";function Pa(i){return i[Gs]||null}let ls;function hl(i){ls=i}function En(i){return!!i.listen}const $s={createRenderer:(i,s)=>{throw new Error("Renderer3 disabled")}};function On(i){for(;Array.isArray(i);)i=i[0];return i}function ho(i,s){return On(s[i])}function ir(i,s){return On(s[i.index])}function Vn(i,s){return i.data[s]}function or(i,s){const a=s[i];return _r(a)?a:a[0]}function Oa(i){return 4==(4&i[2])}function Vo(i){return 64==(64&i[2])}function kr(i,s){return null==s?null:i[s]}function Ws(i){i[18]=0}function po(i,s){i[5]+=s;let a=i,u=i[3];for(;null!==u&&(1===s&&1===a[5]||-1===s&&0===a[5]);)u[5]+=s,a=u,u=u[3]}const wt={lFrame:Ua(null),bindingsEnabled:!0};function fs(){return wt.bindingsEnabled}function Fe(){return wt.lFrame.lView}function Ut(){return wt.lFrame.tView}function Fa(i){return wt.lFrame.contextLView=i,i[8]}function gs(i){return wt.lFrame.contextLView=null,i}function Gn(){let i=Uo();for(;null!==i&&64===i.type;)i=i.parent;return i}function Uo(){return wt.lFrame.currentTNode}function vi(i,s){const a=wt.lFrame;a.currentTNode=i,a.isParent=s}function ms(){return wt.lFrame.isParent}function ai(){return wt.lFrame.bindingIndex++}function La(i,s){const a=wt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Go(s)}function Go(i){wt.lFrame.currentDirectiveIndex=i}function Va(){return wt.lFrame.currentQueryIndex}function Ho(i){wt.lFrame.currentQueryIndex=i}function $o(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Ba(i,s,a){if(a&ht.SkipSelf){let d=s,h=i;for(;!(d=d.parent,null!==d||a&ht.Host||(d=$o(h),null===d||(h=h[15],10&d.type))););if(null===d)return!1;s=d,i=h}const u=wt.lFrame=vl();return u.currentTNode=s,u.lView=i,!0}function Ni(i){const s=vl(),a=i[1];wt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function vl(){const i=wt.lFrame,s=null===i?null:i.child;return null===s?Ua(i):s}function Ua(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function bl(){const i=wt.lFrame;return wt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const wl=bl;function El(){const i=bl();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Xr(){return wt.lFrame.selectedIndex}function Js(i){wt.lFrame.selectedIndex=i}function Hn(){const i=wt.lFrame;return Vn(i.tView,i.selectedIndex)}function _s(i,s){for(let a=s.directiveStart,u=s.directiveEnd;a<u;a++){const h=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:b,ngAfterViewInit:C,ngAfterViewChecked:M,ngOnDestroy:R}=h;y&&(i.contentHooks||(i.contentHooks=[])).push(-a,y),b&&((i.contentHooks||(i.contentHooks=[])).push(a,b),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,b)),C&&(i.viewHooks||(i.viewHooks=[])).push(-a,C),M&&((i.viewHooks||(i.viewHooks=[])).push(a,M),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,M)),null!=R&&(i.destroyHooks||(i.destroyHooks=[])).push(a,R)}}function vs(i,s,a){zu(i,s,3,a)}function sr(i,s,a,u){(3&i[2])===a&&zu(i,s,a,u)}function Ga(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function zu(i,s,a,u){const h=u??-1,y=s.length-1;let b=0;for(let C=void 0!==u?65535&i[18]:0;C<y;C++)if("number"==typeof s[C+1]){if(b=s[C],null!=u&&b>=u)break}else s[C]<0&&(i[18]+=65536),(b<h||-1==h)&&(li(i,a,s,C),i[18]=(4294901760&i[18])+C+2),C++}function li(i,s,a,u){const d=a[u]<0,h=a[u+1],b=i[d?-a[u]:a[u]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{h.call(b)}finally{}}}else try{h.call(b)}finally{}}class bs{constructor(s,a,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function D(i,s,a){const u=En(i);let d=0;for(;d<a.length;){const h=a[d];if("number"==typeof h){if(0!==h)break;d++;const y=a[d++],b=a[d++],C=a[d++];u?i.setAttribute(s,b,C,y):s.setAttributeNS(y,b,C)}else{const y=h,b=a[++d];z(y)?u&&i.setProperty(s,y,b):u?i.setAttribute(s,y,b):s.setAttribute(y,b),d++}}return d}function x(i){return 3===i||4===i||6===i}function z(i){return 64===i.charCodeAt(0)}function ke(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let u=0;u<s.length;u++){const d=s[u];"number"==typeof d?a=d:0===a||it(i,a,d,null,-1===a||2===a?s[++u]:null)}}return i}function it(i,s,a,u,d){let h=0,y=i.length;if(-1===s)y=-1;else for(;h<i.length;){const b=i[h++];if("number"==typeof b){if(b===s){y=-1;break}if(b>s){y=h-1;break}}}for(;h<i.length;){const b=i[h];if("number"==typeof b)break;if(b===a){if(null===u)return void(null!==d&&(i[h+1]=d));if(u===i[h+1])return void(i[h+2]=d)}h++,null!==u&&h++,null!==d&&h++}-1!==y&&(i.splice(y,0,s),h=y+1),i.splice(h++,0,a),null!==u&&i.splice(h++,0,u),null!==d&&i.splice(h++,0,d)}function St(i){return-1!==i}function ar(i){return 32767&i}function ui(i,s){let a=function lr(i){return i>>16}(i),u=s;for(;a>0;)u=u[15],a--;return u}let Yi=!0;function ru(i){const s=Yi;return Yi=i,s}let go=0;const Jn={};function ws(i,s){const a=za(i,s);if(-1!==a)return a;const u=s[1];u.firstCreatePass&&(i.injectorIndex=s.length,Qi(u.data,i),Qi(s,null),Qi(u.blueprint,null));const d=Wa(i,s),h=i.injectorIndex;if(St(d)){const y=ar(d),b=ui(d,s),C=b[1].data;for(let M=0;M<8;M++)s[h+M]=b[y+M]|C[y+M]}return s[h+8]=d,h}function Qi(i,s){i.push(0,0,0,0,0,0,0,0,s)}function za(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Wa(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,u=null,d=s;for(;null!==d;){if(u=Es(d),null===u)return-1;if(a++,d=d[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function Wo(i,s,a){!function Nn(i,s,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(W)&&(u=a[W]),null==u&&(u=a[W]=go++);const d=255&u;s.data[i+(d>>5)]|=1<<d}(i,s,a)}function Ji(i,s,a){if(a&ht.Optional)return i;Ve()}function Hr(i,s,a,u){if(a&ht.Optional&&void 0===u&&(u=null),0==(a&(ht.Self|ht.Host))){const d=i[9],h=en(void 0);try{return d?d.get(s,u,a&ht.Optional):gr(s,u,a&ht.Optional)}finally{en(h)}}return Ji(u,0,a)}function ou(i,s,a,u=ht.Default,d){if(null!==i){if(1024&s[2]){const y=function Af(i,s,a,u,d){let h=i,y=s;for(;null!==h&&null!==y&&1024&y[2]&&!(256&y[2]);){const b=Wc(h,y,a,u|ht.Self,Jn);if(b!==Jn)return b;let C=h.parent;if(!C){const M=y[21];if(M){const R=M.get(a,Jn,u);if(R!==Jn)return R}C=Es(y),y=y[15]}h=C}return d}(i,s,a,u,Jn);if(y!==Jn)return y}const h=Wc(i,s,a,u,Jn);if(h!==Jn)return h}return Hr(s,a,u,d)}function Wc(i,s,a,u,d){const h=function ea(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(W)?i[W]:void 0;return"number"==typeof s?s>=0?255&s:vr:s}(a);if("function"==typeof h){if(!Ba(s,i,u))return u&ht.Host?Ji(d,0,u):Hr(s,a,u,d);try{const y=h(u);if(null!=y||u&ht.Optional)return y;Ve()}finally{wl()}}else if("number"==typeof h){let y=null,b=za(i,s),C=-1,M=u&ht.Host?s[16][6]:null;for((-1===b||u&ht.SkipSelf)&&(C=-1===b?Wa(i,s):s[b+8],-1!==C&&bi(u,!1)?(y=s[1],b=ar(C),s=ui(C,s)):b=-1);-1!==b;){const R=s[1];if(qc(h,b,R.data)){const U=Cf(b,s,a,y,u,M);if(U!==Jn)return U}C=s[b+8],-1!==C&&bi(u,s[1].data[b+8]===M)&&qc(h,b,s)?(y=R,b=ar(C),s=ui(C,s)):b=-1}}return d}function Cf(i,s,a,u,d,h){const y=s[1],b=y.data[i+8],R=Cl(b,y,a,null==u?Po(b)&&Yi:u!=y&&0!=(3&b.type),d&ht.Host&&h===b);return null!==R?Al(s,y,R,b):Jn}function Cl(i,s,a,u,d){const h=i.providerIndexes,y=s.data,b=1048575&h,C=i.directiveStart,R=h>>20,Q=d?b+R:i.directiveEnd;for(let le=u?b:b+R;le<Q;le++){const Me=y[le];if(le<C&&a===Me||le>=C&&Me.type===a)return le}if(d){const le=y[C];if(le&&si(le)&&le.type===a)return C}return null}function Al(i,s,a,u){let d=i[a];const h=s.data;if(function Dl(i){return i instanceof bs}(d)){const y=d;y.resolving&&function tt(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new je(-200,`Circular dependency in DI detected for ${i}${a}`)}(function be(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Ie(i)}(h[a]));const b=ru(y.canSeeViewProviders);y.resolving=!0;const C=y.injectImpl?en(y.injectImpl):null;Ba(i,u,ht.Default);try{d=i[a]=y.factory(void 0,h,i,u),s.firstCreatePass&&a>=u.directiveStart&&function fo(i,s,a){const{ngOnChanges:u,ngOnInit:d,ngDoCheck:h}=s.type.prototype;if(u){const y=Oo(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,y)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),h&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,h),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,h))}(a,h[a],s)}finally{null!==C&&en(C),ru(b),y.resolving=!1,wl()}}return d}function qc(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function bi(i,s){return!(i&ht.Self||i&ht.Host&&s)}class ta{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,u){return ou(this._tNode,this._lView,s,u,a)}}function vr(){return new ta(Gn(),Fe())}function mo(i){return Mt(()=>{const s=i.prototype.constructor,a=s[ee]||Tl(s),u=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==u;){const h=d[ee]||Tl(d);if(h&&h!==a)return h;d=Object.getPrototypeOf(d)}return h=>new h})}function Tl(i){return ot(i)?()=>{const s=Tl(ae(i));return s&&s()}:_i(i)}function Es(i){const s=i[1],a=s.type;return 2===a?s.declTNode:1===a?i[6]:null}function Ku(i){return function qu(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const u=a.length;let d=0;for(;d<u;){const h=a[d];if(x(h))break;if(0===h)d+=2;else if("number"==typeof h)for(d++;d<u&&"string"==typeof a[d];)d++;else{if(h===s)return a[d+1];d+=2}}}return null}(Gn(),i)}const ra="__parameters__";function qa(i,s,a){return Mt(()=>{const u=function Zu(i){return function(...a){if(i){const u=i(...a);for(const d in u)this[d]=u[d]}}}(s);function d(...h){if(this instanceof d)return u.apply(this,h),this;const y=new d(...h);return b.annotation=y,b;function b(C,M,R){const U=C.hasOwnProperty(ra)?C[ra]:Object.defineProperty(C,ra,{value:[]})[ra];for(;U.length<=R;)U.push(null);return(U[R]=U[R]||[]).push(y),C}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class vn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=$t({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ur(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let u=i[a];Array.isArray(u)?(s===i&&(s=i.slice(0,a)),ur(u,s)):s!==i&&s.push(u)}return s}function Fn(i,s){i.forEach(a=>Array.isArray(a)?Fn(a,s):s(a))}function qo(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function oa(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function $r(i,s,a){let u=aa(i,s);return u>=0?i[1|u]=a:(u=~u,function Ju(i,s,a,u){let d=i.length;if(d==s)i.push(a,u);else if(1===d)i.push(u,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=u}}(i,u,s,a)),u}function Xc(i,s){const a=aa(i,s);if(a>=0)return i[1|a]}function aa(i,s){return function Ya(i,s,a){let u=0,d=i.length>>a;for(;d!==u;){const h=u+(d-u>>1),y=i[h<<a];if(s===y)return h<<a;y>s?d=h:u=h+1}return~(d<<a)}(i,s,1)}const As={},la="__NG_DI_FLAG__",ua="ngTempTokenPath",T=/\n/gm,G="__source";let ne;function he(i){const s=ne;return ne=i,s}function Re(i,s=ht.Default){if(void 0===ne)throw new je(-203,!1);return null===ne?gr(i,void 0,s):ne.get(i,s&ht.Optional?null:void 0,s)}function He(i,s=ht.Default){return(function Xt(){return Lr}()||Re)(ae(i),s)}function Ot(i){const s=[];for(let a=0;a<i.length;a++){const u=ae(i[a]);if(Array.isArray(u)){if(0===u.length)throw new je(900,!1);let d,h=ht.Default;for(let y=0;y<u.length;y++){const b=u[y],C=Pr(b);"number"==typeof C?-1===C?d=b.token:h|=C:d=b}s.push(He(d,h))}else s.push(He(u))}return s}function It(i,s){return i[la]=s,i.prototype[la]=s,i}function Pr(i){return i[la]}const ei=It(qa("Optional"),8),_o=It(qa("SkipSelf"),4);class tc{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Nl(i){return i instanceof tc?i.changingThisBreaksApplicationSecurity:i}const Zt=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,bo=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var zr=(()=>((zr=zr||{})[zr.NONE=0]="NONE",zr[zr.HTML=1]="HTML",zr[zr.STYLE=2]="STYLE",zr[zr.SCRIPT=3]="SCRIPT",zr[zr.URL=4]="URL",zr[zr.RESOURCE_URL=5]="RESOURCE_URL",zr))();function Hf(i){const s=function Kh(){const i=Fe();return i&&i[12]}();return s?s.sanitize(zr.URL,i)||"":function nc(i,s){const a=function v(i){return i instanceof tc&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?Nl(i):function wo(i){return(i=String(i)).match(Zt)||i.match(bo)?i:"unsafe:"+i}(Ie(i))}function xb(i){return i.ngOriginalError}class $f{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&xb(s);for(;a&&xb(a);)a=xb(a);return a||null}}const zf=new Map;let Ja=0;const Uy="__ngContext__";function Rt(i,s){_r(s)?(i[Uy]=s[20],function vC(i){zf.set(i[20],i)}(s)):i[Uy]=s}function Wf(i){const s=i[Uy];return"number"==typeof s?function cd(i){return zf.get(i)||null}(s):s||null}function qf(i){const s=Wf(i);return s?_r(s)?s:s.lView:null}const bC=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(qe))();var da=(()=>((da=da||{})[da.Important=1]="Important",da[da.DashCase=2]="DashCase",da))();function ac(i,s){return undefined(i,s)}function qr(i){const s=i[3];return xr(s)?s[3]:s}function $y(i){return fa(i[13])}function pa(i){return fa(i[4])}function fa(i){for(;null!==i&&!xr(i);)i=i[4];return i}function hd(i,s,a,u,d){if(null!=u){let h,y=!1;xr(u)?h=u:_r(u)&&(y=!0,u=u[0]);const b=On(u);0===i&&null!==a?null==d?Wy(s,a,b):Xa(s,a,b,d||null,!0):1===i&&null!==a?Xa(s,a,b,d||null,!0):2===i?function tg(i,s,a){const u=Qh(i,s);u&&function Hb(i,s,a,u){En(i)?i.removeChild(s,a,u):s.removeChild(a)}(i,u,s,a)}(s,b,y):3===i&&s.destroyNode(b),null!=h&&function xC(i,s,a,u,d){const h=a[7];h!==On(a)&&hd(s,i,u,h,d);for(let b=10;b<a.length;b++){const C=a[b];tp(C[1],C,i,s,u,h)}}(s,i,h,a,d)}}function Kr(i,s,a){if(En(i))return i.createElement(s,a);{const u=null!==a?function Xl(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(a):null;return null===u?i.createElement(s):i.createElementNS(u,s)}}function Yf(i,s){const a=i[9],u=a.indexOf(s),d=s[3];512&s[2]&&(s[2]&=-513,po(d,-1)),a.splice(u,1)}function pd(i,s){if(i.length<=10)return;const a=10+s,u=i[a];if(u){const d=u[17];null!==d&&d!==i&&Yf(d,u),s>0&&(i[a-1][4]=u[4]);const h=oa(i,10+s);!function Ub(i,s){tp(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const y=h[19];null!==y&&y.detachView(h[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function uc(i,s){if(!(128&s[2])){const a=s[11];En(a)&&a.destroyNode&&tp(i,s,a,3,null,null),function AC(i){let s=i[13];if(!s)return zy(i[1],i);for(;s;){let a=null;if(_r(s))a=s[13];else{const u=s[10];u&&(a=u)}if(!a){for(;s&&!s[4]&&s!==i;)_r(s)&&zy(s[1],s),s=s[3];null===s&&(s=i),_r(s)&&zy(s[1],s),a=s&&s[4]}s=a}}(s)}}function zy(i,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function SC(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let u=0;u<a.length;u+=2){const d=s[a[u]];if(!(d instanceof bs)){const h=a[u+1];if(Array.isArray(h))for(let y=0;y<h.length;y+=2){const b=d[h[y]],C=h[y+1];try{C.call(b)}finally{}}else try{h.call(d)}finally{}}}}(i,s),function Yh(i,s){const a=i.cleanup,u=s[7];let d=-1;if(null!==a)for(let h=0;h<a.length-1;h+=2)if("string"==typeof a[h]){const y=a[h+1],b="function"==typeof y?y(s):On(s[y]),C=u[d=a[h+2]],M=a[h+3];"boolean"==typeof M?b.removeEventListener(a[h],C,M):M>=0?u[d=M]():u[d=-M].unsubscribe(),h+=2}else{const y=u[d=a[h+1]];a[h].call(y)}if(null!==u){for(let h=d+1;h<u.length;h++)u[h]();s[7]=null}}(i,s),1===s[1].type&&En(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&xr(s[3])){a!==s[3]&&Yf(a,s);const u=s[19];null!==u&&u.detachView(i)}!function Vy(i){zf.delete(i[20])}(s)}}function Gb(i,s,a){return function fd(i,s,a){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return a[0];if(2&u.flags){const d=i.data[u.directiveStart].encapsulation;if(d===Et.None||d===Et.Emulated)return null}return ir(u,a)}(i,s.parent,a)}function Xa(i,s,a,u,d){En(i)?i.insertBefore(s,a,u,d):(Ky(s)?s.content:s).insertBefore(a,u,d)}function Wy(i,s,a){En(i)?i.appendChild(s,a):(Ky(s)?s.content:s).appendChild(a)}function qy(i,s,a,u,d){null!==u?Xa(i,s,a,u,d):Wy(i,s,a)}function Ky(i){return"TEMPLATE"===i.tagName&&void 0!==i.content}function Qh(i,s){return En(i)?i.parentNode(s):s.parentNode}let Yy=function Qf(i,s,a){return 40&i.type?ir(i,a):null};function eg(i,s,a,u){const d=Gb(i,u,s),h=s[11],b=function Zy(i,s,a){return Yy(i,s,a)}(u.parent||s[6],u,s);if(null!=d)if(Array.isArray(a))for(let C=0;C<a.length;C++)qy(h,d,a[C],b,!1);else qy(h,d,a,b,!1)}function Jh(i,s){if(null!==s){const a=s.type;if(3&a)return ir(s,i);if(4&a)return Xh(-1,i[s.index]);if(8&a){const u=s.child;if(null!==u)return Jh(i,u);{const d=i[s.index];return xr(d)?Xh(-1,d):On(d)}}if(32&a)return ac(s,i)()||On(i[s.index]);{const u=zb(i,s);return null!==u?Array.isArray(u)?u[0]:Jh(qr(i[16]),u):Jh(i,s.next)}}return null}function zb(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Xh(i,s){const a=10+i+1;if(a<s.length){const u=s[a],d=u[1].firstChild;if(null!==d)return Jh(u,d)}return s[7]}function ep(i,s,a,u,d,h,y){for(;null!=a;){const b=u[a.index],C=a.type;if(y&&0===s&&(b&&Rt(On(b),u),a.flags|=4),64!=(64&a.flags))if(8&C)ep(i,s,a.child,u,d,h,!1),hd(s,i,d,b,h);else if(32&C){const M=ac(a,u);let R;for(;R=M();)hd(s,i,d,R,h);hd(s,i,d,b,h)}else 16&C?Qy(i,s,u,a,d,h):hd(s,i,d,b,h);a=y?a.projectionNext:a.next}}function tp(i,s,a,u,d,h){ep(a,u,i.firstChild,s,d,h,!1)}function Qy(i,s,a,u,d,h){const y=a[16],C=y[6].projection[u.projection];if(Array.isArray(C))for(let M=0;M<C.length;M++)hd(s,i,d,C[M],h);else ep(i,s,C,y[3],d,h,!0)}function Wb(i,s,a){En(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function ng(i,s,a){En(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function Jy(i,s,a){let u=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const h=s.length;if(d+h===u||i.charCodeAt(d+h)<=32)return d}a=d+1}}const qb="ng-template";function PC(i,s,a){let u=0;for(;u<i.length;){let d=i[u++];if(a&&"class"===d){if(d=i[u],-1!==Jy(d.toLowerCase(),s,0))return!0}else if(1===d){for(;u<i.length&&"string"==typeof(d=i[u++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function Kb(i){return 4===i.type&&i.value!==qb}function RC(i,s,a){return s===(4!==i.type||a?i.value:qb)}function OC(i,s,a){let u=4;const d=i.attrs||[],h=function LC(i){for(let s=0;s<i.length;s++)if(x(i[s]))return s;return i.length}(d);let y=!1;for(let b=0;b<s.length;b++){const C=s[b];if("number"!=typeof C){if(!y)if(4&u){if(u=2|1&u,""!==C&&!RC(i,C,a)||""===C&&1===s.length){if(Ss(u))return!1;y=!0}}else{const M=8&u?C:s[++b];if(8&u&&null!==i.attrs){if(!PC(i.attrs,M,a)){if(Ss(u))return!1;y=!0}continue}const U=Zb(8&u?"class":C,d,Kb(i),a);if(-1===U){if(Ss(u))return!1;y=!0;continue}if(""!==M){let Q;Q=U>h?"":d[U+1].toLowerCase();const le=8&u?Q:null;if(le&&-1!==Jy(le,M,0)||2&u&&M!==Q){if(Ss(u))return!1;y=!0}}}}else{if(!y&&!Ss(u)&&!Ss(C))return!1;if(y&&Ss(C))continue;y=!1,u=C|1&u}}return Ss(u)||y}function Ss(i){return 0==(1&i)}function Zb(i,s,a,u){if(null===s)return-1;let d=0;if(u||!a){let h=!1;for(;d<s.length;){const y=s[d];if(y===i)return d;if(3===y||6===y)h=!0;else{if(1===y||2===y){let b=s[++d];for(;"string"==typeof b;)b=s[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=h?1:2}return-1}return function mu(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const u=i[a];if("number"==typeof u)return-1;if(u===s)return a;a++}return-1}(s,i)}function Yb(i,s,a=!1){for(let u=0;u<s.length;u++)if(OC(i,s[u],a))return!0;return!1}function Qb(i,s){return i?":not("+s.trim()+")":s}function VC(i){let s=i[0],a=1,u=2,d="",h=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&u){const b=i[++a];d+="["+y+(b.length>0?'="'+b+'"':"")+"]"}else 8&u?d+="."+y:4&u&&(d+=" "+y);else""!==d&&!Ss(y)&&(s+=Qb(h,d),d=""),u=y,h=h||!Ss(u);a++}return""!==d&&(s+=Qb(h,d)),s}const zt={};function Jb(i){Xb(Ut(),Fe(),Xr()+i,!1)}function Xb(i,s,a,u){if(!u)if(3==(3&s[2])){const h=i.preOrderCheckHooks;null!==h&&vs(s,h,a)}else{const h=i.preOrderHooks;null!==h&&sr(s,h,0,a)}Js(a)}const r_=new vn("ENVIRONMENT_INITIALIZER"),i_=new vn("INJECTOR_DEF_TYPES");function HC(...i){return{\u0275providers:o_(0,i)}}function o_(i,...s){const a=[],u=new Set;let d;return Fn(s,h=>{const y=h;ig(y,a,[],u)&&(d||(d=[]),d.push(y))}),void 0!==d&&s_(d,a),a}function s_(i,s){for(let a=0;a<i.length;a++){const{providers:d}=i[a];Fn(d,h=>{s.push(h)})}}function ig(i,s,a,u){if(!(i=ae(i)))return!1;let d=null,h=ii(i);const y=!h&&q(i);if(h||y){if(y&&!y.standalone)return!1;d=i}else{const C=i.ngModule;if(h=ii(C),!h)return!1;d=C}const b=u.has(d);if(y){if(b)return!1;if(u.add(d),y.dependencies){const C="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const M of C)ig(M,s,a,u)}}else{if(!h)return!1;{if(null!=h.imports&&!b){let M;u.add(d);try{Fn(h.imports,R=>{ig(R,s,a,u)&&(M||(M=[]),M.push(R))})}finally{}void 0!==M&&s_(M,s)}if(!b){const M=_i(d)||(()=>new d);s.push({provide:d,useFactory:M,deps:kt},{provide:i_,useValue:d,multi:!0},{provide:r_,useValue:()=>He(d),multi:!0})}const C=h.providers;null==C||b||Fn(C,R=>{s.push(R)})}}return d!==i&&void 0!==i.providers}const nw=De({provide:String,useValue:De});function og(i){return null!==i&&"object"==typeof i&&nw in i}function Wt(i){return"function"==typeof i}const Bn=new vn("INJECTOR",-1);class sg{get(s,a=As){if(a===As){const u=new Error(`NullInjectorError: No provider for ${ge(s)}!`);throw u.name="NullInjectorError",u}return a}}const l_=new vn("Set Injector scope."),_u={},rw={};let Xn;function rn(){return void 0===Xn&&(Xn=new sg),Xn}class ti{}class iw extends ti{constructor(s,a,u,d){super(),this.parent=a,this.source=u,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,c_(s,y=>this.processProvider(y)),this.records.set(Bn,md(void 0,this)),d.has("environment")&&this.records.set(ti,md(void 0,this));const h=this.records.get(l_);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(i_.multi,kt,ht.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}get(s,a=As,u=ht.Default){this.assertNotDestroyed();const d=he(this),h=en(void 0);try{if(!(u&ht.SkipSelf)){let b=this.records.get(s);if(void 0===b){const C=function u_(i){return"function"==typeof i||"object"==typeof i&&i instanceof vn}(s)&&bn(s);b=C&&this.injectableDefInScope(C)?md(np(s),_u):null,this.records.set(s,b)}if(null!=b)return this.hydrate(s,b)}return(u&ht.Self?rn():this.parent).get(s,a=u&ht.Optional&&a===As?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[ua]=y[ua]||[]).unshift(ge(s)),d)throw y;return function wi(i,s,a,u){const d=i[ua];throw s[G]&&d.unshift(s[G]),i.message=function cu(i,s,a,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let d=ge(s);if(Array.isArray(s))d=s.map(ge).join(" -> ");else if("object"==typeof s){let h=[];for(let y in s)if(s.hasOwnProperty(y)){let b=s[y];h.push(y+":"+("string"==typeof b?JSON.stringify(b):ge(b)))}d=`{${h.join(", ")}}`}return`${a}${u?"("+u+")":""}[${d}]: ${i.replace(T,"\n  ")}`}("\n"+i.message,d,a,u),i.ngTokenPath=d,i[ua]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{en(h),he(d)}}resolveInjectorInitializers(){const s=he(this),a=en(void 0);try{const u=this.get(r_.multi,kt,ht.Self);for(const d of u)d()}finally{he(s),en(a)}}toString(){const s=[],a=this.records;for(const u of a.keys())s.push(ge(u));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new je(205,!1)}processProvider(s){let a=Wt(s=ae(s))?s:ae(s&&s.provide);const u=function $C(i){return og(i)?md(void 0,i.useValue):md(ow(i),_u)}(s);if(Wt(s)||!0!==s.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=md(void 0,_u,!0),d.factory=()=>Ot(d.multi),this.records.set(a,d)),a=s,d.multi.push(s)}this.records.set(a,u)}hydrate(s,a){return a.value===_u&&(a.value=rw,a.value=a.factory()),"object"==typeof a.value&&a.value&&function cc(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=ae(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function np(i){const s=bn(i),a=null!==s?s.factory:_i(i);if(null!==a)return a;if(i instanceof vn)throw new je(204,!1);if(i instanceof Function)return function Ms(i){const s=i.length;if(s>0)throw function Ka(i,s){const a=[];for(let u=0;u<i;u++)a.push(s);return a}(s,"?"),new je(204,!1);const a=function Sr(i){const s=i&&(i[Mr]||i[Cn]);if(s){const a=function xn(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new je(204,!1)}function ow(i,s,a){let u;if(Wt(i)){const d=ae(i);return _i(d)||np(d)}if(og(i))u=()=>ae(i.useValue);else if(function In(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...Ot(i.deps||[]));else if(function Pn(i){return!(!i||!i.useExisting)}(i))u=()=>He(ae(i.useExisting));else{const d=ae(i&&(i.useClass||i.provide));if(!function sw(i){return!!i.deps}(i))return _i(d)||np(d);u=()=>new d(...Ot(i.deps))}return u}function md(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function rp(i){return!!i.\u0275providers}function c_(i,s){for(const a of i)Array.isArray(a)?c_(a,s):rp(a)?c_(a.\u0275providers,s):s(a)}function aw(i,s=null,a=null,u){const d=d_(i,s,a,u);return d.resolveInjectorInitializers(),d}function d_(i,s=null,a=null,u,d=new Set){const h=[a||kt,HC(i)];return u=u||("object"==typeof i?void 0:ge(i)),new iw(h,s||rn(),u||null,d)}let el=(()=>{class i{static create(a,u){if(Array.isArray(a))return aw({name:""},u,a,"");{const d=a.name??"";return aw({name:d},a.parent,a.providers,d)}}}return i.THROW_IF_NOT_FOUND=As,i.NULL=new sg,i.\u0275prov=$t({token:i,providedIn:"any",factory:()=>He(Bn)}),i.__NG_ELEMENT_ID__=-1,i})();function ya(i,s=ht.Default){const a=Fe();return null===a?He(i,s):ou(Gn(),a,ae(i),s)}function Bl(i,s){return i<<17|s<<2}function no(i){return i>>17&32767}function sp(i){return 2|i}function Ko(i){return(131068&i)>>2}function I_(i,s){return-131069&i|s<<2}function D_(i){return 1|i}function Td(i,s){const a=i.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const d=a[u],h=a[u+1];if(-1!==h){const y=i.data[h];Ho(d),y.contentQueries(2,s[h],h)}}}function fc(i,s,a,u,d,h,y,b,C,M,R){const U=s.blueprint.slice();return U[0]=d,U[2]=76|u,(null!==R||i&&1024&i[2])&&(U[2]|=1024),Ws(U),U[3]=U[15]=i,U[8]=a,U[10]=y||i&&i[10],U[11]=b||i&&i[11],U[12]=C||i&&i[12]||null,U[9]=M||i&&i[9]||null,U[6]=h,U[20]=function Fl(){return Ja++}(),U[21]=R,U[16]=2==s.type?i[16]:U,U}function xs(i,s,a,u,d){let h=i.data[s];if(null===h)h=function bg(i,s,a,u,d){const h=Uo(),y=ms(),C=i.data[s]=function nA(i,s,a,u,d,h){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?h:h&&h.parent,a,s,u,d);return null===i.firstChild&&(i.firstChild=C),null!==h&&(y?null==h.child&&null!==C.parent&&(h.child=C):null===h.next&&(h.next=C)),C}(i,s,a,u,d),function jo(){return wt.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=a,h.value=u,h.attrs=d;const y=function Ys(){const i=wt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();h.injectorIndex=null===y?-1:y.injectorIndex}return vi(h,!0),h}function Zo(i,s,a,u){if(0===a)return-1;const d=s.length;for(let h=0;h<a;h++)s.push(u),i.blueprint.push(u),i.data.push(null);return d}function gc(i,s,a){Ni(s);try{const u=i.viewQuery;null!==u&&kg(1,u,a);const d=i.template;null!==d&&up(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Td(i,s),i.staticViewQueries&&kg(2,i.viewQuery,a);const h=i.components;null!==h&&function kw(i,s){for(let a=0;a<s.length;a++)fA(i,s[a])}(s,h)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[2]&=-5,El()}}function ba(i,s,a,u){const d=s[2];if(128!=(128&d)){Ni(s);try{Ws(s),function _l(i){return wt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&up(i,s,a,2,u);const y=3==(3&d);if(y){const M=i.preOrderCheckHooks;null!==M&&vs(s,M,null)}else{const M=i.preOrderHooks;null!==M&&sr(s,M,0,null),Ga(s,0)}if(function hA(i){for(let s=$y(i);null!==s;s=pa(s)){if(!s[2])continue;const a=s[9];for(let u=0;u<a.length;u++){const d=a[u],h=d[3];0==(512&d[2])&&po(h,1),d[2]|=512}}}(s),function dA(i){for(let s=$y(i);null!==s;s=pa(s))for(let a=10;a<s.length;a++){const u=s[a],d=u[1];Vo(u)&&ba(d,u,d.template,u[8])}}(s),null!==i.contentQueries&&Td(i,s),y){const M=i.contentCheckHooks;null!==M&&vs(s,M)}else{const M=i.contentHooks;null!==M&&sr(s,M,1),Ga(s,1)}!function va(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const d=a[u];if(d<0)Js(~d);else{const h=d,y=a[++u],b=a[++u];La(y,h),b(2,s[h])}}}finally{Js(-1)}}(i,s);const b=i.components;null!==b&&function M_(i,s){for(let a=0;a<s.length;a++)pA(i,s[a])}(s,b);const C=i.viewQuery;if(null!==C&&kg(2,C,u),y){const M=i.viewCheckHooks;null!==M&&vs(s,M)}else{const M=i.viewHooks;null!==M&&sr(s,M,2),Ga(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,po(s[3],-1))}finally{El()}}}function Nw(i,s,a,u){const d=s[10],y=Oa(s);try{!y&&d.begin&&d.begin(),y&&gc(i,s,u),ba(i,s,a,u)}finally{!y&&d.end&&d.end()}}function up(i,s,a,u,d){const h=Xr(),y=2&u;try{Js(-1),y&&s.length>22&&Xb(i,s,22,!1),a(u,d)}finally{Js(h)}}function x_(i,s,a){!fs()||(function Bw(i,s,a,u){const d=a.directiveStart,h=a.directiveEnd;i.firstCreatePass||ws(a,s),Rt(u,s);const y=a.initialInputs;for(let b=d;b<h;b++){const C=i.data[b],M=si(C);M&&$w(s,a,C);const R=Al(s,i,b,a);Rt(R,s),null!==y&&zw(0,b-d,R,C,0,y),M&&(or(a.index,s)[8]=R)}}(i,s,a,ir(a,s)),128==(128&a.flags)&&function sA(i,s,a){const u=a.directiveStart,d=a.directiveEnd,h=a.index,y=function tu(){return wt.lFrame.currentDirectiveIndex}();try{Js(h);for(let b=u;b<d;b++){const C=i.data[b],M=s[b];Go(b),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&Uw(C,M)}}finally{Js(-1),Go(y)}}(i,s,a))}function k_(i,s,a=ir){const u=s.localNames;if(null!==u){let d=s.index+1;for(let h=0;h<u.length;h+=2){const y=u[h+1],b=-1===y?a(s,i):i[y];i[d++]=b}}}function Rw(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=wg(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function wg(i,s,a,u,d,h,y,b,C,M){const R=22+u,U=R+d,Q=function eA(i,s){const a=[];for(let u=0;u<s;u++)a.push(u<i?null:zt);return a}(R,U),le="function"==typeof M?M():M;return Q[1]={type:i,blueprint:Q,template:a,queries:null,viewQuery:b,declTNode:s,data:Q.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:C,consts:le,incompleteFirstPass:!1}}function Fw(i,s,a,u){const d=qw(s);null===a?d.push(u):(d.push(a),i.firstCreatePass&&Ng(i).push(u,d.length-1))}function Lw(i,s,a){for(let u in i)if(i.hasOwnProperty(u)){const d=i[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(s,d):a[u]=[s,d]}return a}function R_(i,s,a,u){let d=!1;if(fs()){const h=function jw(i,s,a){const u=i.directiveRegistry;let d=null;if(u)for(let h=0;h<u.length;h++){const y=u[h];Yb(a,y.selectors,!1)&&(d||(d=[]),Wo(ws(a,s),i,y.type),si(y)?(Cg(i,a),d.unshift(y)):d.push(y))}return d}(i,s,a),y=null===u?null:{"":-1};if(null!==h){d=!0,Gw(a,i.data.length,h.length);for(let R=0;R<h.length;R++){const U=h[R];U.providersResolver&&U.providersResolver(U)}let b=!1,C=!1,M=Zo(i,s,h.length,null);for(let R=0;R<h.length;R++){const U=h[R];a.mergedAttrs=ke(a.mergedAttrs,U.hostAttrs),Hw(i,a,s,M,U),lA(M,U,y),null!==U.contentQueries&&(a.flags|=8),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(a.flags|=128);const Q=U.type.prototype;!b&&(Q.ngOnChanges||Q.ngOnInit||Q.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),b=!0),!C&&(Q.ngOnChanges||Q.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),C=!0),M++}!function rA(i,s){const u=s.directiveEnd,d=i.data,h=s.attrs,y=[];let b=null,C=null;for(let M=s.directiveStart;M<u;M++){const R=d[M],U=R.inputs,Q=null===h||Kb(s)?null:uA(U,h);y.push(Q),b=Lw(U,M,b),C=Lw(R.outputs,M,C)}null!==b&&(b.hasOwnProperty("class")&&(s.flags|=16),b.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=b,s.outputs=C}(i,a)}y&&function aA(i,s,a){if(s){const u=i.localNames=[];for(let d=0;d<s.length;d+=2){const h=a[s[d+1]];if(null==h)throw new je(-301,!1);u.push(s[d],h)}}}(a,u,y)}return a.mergedAttrs=ke(a.mergedAttrs,a.attrs),d}function Dg(i,s,a,u,d,h){const y=h.hostBindings;if(y){let b=i.hostBindingOpCodes;null===b&&(b=i.hostBindingOpCodes=[]);const C=~s.index;(function Vw(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(b)!=C&&b.push(C),b.push(u,d,y)}}function Uw(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Cg(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function lA(i,s,a){if(a){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)a[s.exportAs[u]]=i;si(s)&&(a[""]=i)}}function Gw(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function Hw(i,s,a,u,d){i.data[u]=d;const h=d.factory||(d.factory=_i(d.type)),y=new bs(h,si(d),ya);i.blueprint[u]=y,a[u]=y,Dg(i,s,0,u,Zo(i,a,d.hostVars,zt),d)}function $w(i,s,a){const u=ir(s,i),d=Rw(a),h=i[10],y=Tg(i,fc(i,d,null,a.onPush?32:16,u,s,h,h.createRenderer(u,a),null,null,null));i[s.index]=y}function Qo(i,s,a,u,d,h){const y=ir(i,s);!function cp(i,s,a,u,d,h,y){if(null==h)En(i)?i.removeAttribute(s,d,a):s.removeAttribute(d);else{const b=null==y?Ie(h):y(h,u||"",d);En(i)?i.setAttribute(s,d,b,a):a?s.setAttributeNS(a,d,b):s.setAttribute(d,b)}}(s[11],y,h,i.value,a,u,d)}function zw(i,s,a,u,d,h){const y=h[s];if(null!==y){const b=u.setInput;for(let C=0;C<y.length;){const M=y[C++],R=y[C++],U=y[C++];null!==b?u.setInput(a,U,M,R):a[R]=U}}}function uA(i,s){let a=null,u=0;for(;u<s.length;){const d=s[u];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],s[u+1])),u+=2}else u+=2;else u+=4}return a}function Ag(i,s,a,u){return new Array(i,!0,!1,s,null,0,u,a,null,null)}function pA(i,s){const a=or(s,i);if(Vo(a)){const u=a[1];48&a[2]?ba(u,a,u.template,a[8]):a[5]>0&&O_(a)}}function O_(i){for(let u=$y(i);null!==u;u=pa(u))for(let d=10;d<u.length;d++){const h=u[d];if(512&h[2]){const y=h[1];ba(y,h,y.template,h[8])}else h[5]>0&&O_(h)}const a=i[1].components;if(null!==a)for(let u=0;u<a.length;u++){const d=or(a[u],i);Vo(d)&&d[5]>0&&O_(d)}}function fA(i,s){const a=or(s,i),u=a[1];(function gA(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(u,a),gc(u,a,a[8])}function Tg(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Sg(i){for(;i;){i[2]|=32;const s=qr(i);if(Na(i)&&!s)return i;i=s}return null}function Ww(i){!function Mg(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],u=qf(a);if(null!==u){const d=u[1];Nw(d,u,d.template,a)}}}(i[8])}function kg(i,s,a){Ho(0),s(i,a)}const _A=(()=>Promise.resolve(null))();function qw(i){return i[7]||(i[7]=[])}function Ng(i){return i.cleanup||(i.cleanup=[])}function Kw(i,s){const a=i[9],u=a?a.get($f,null):null;u&&u.handleError(s)}function Zw(i,s,a,u,d){for(let h=0;h<a.length;){const y=a[h++],b=a[h++],C=s[y],M=i.data[y];null!==M.setInput?M.setInput(C,d,u,b):C[b]=d}}function tl(i,s,a){const u=ho(s,i);!function Zf(i,s,a){En(i)?i.setValue(s,a):s.textContent=a}(i[11],u,a)}function wa(i,s,a){let u=a?i.styles:null,d=a?i.classes:null,h=0;if(null!==s)for(let y=0;y<s.length;y++){const b=s[y];"number"==typeof b?h=b:1==h?d=xe(d,b):2==h&&(u=xe(u,b+": "+s[++y]+";"))}a?i.styles=u:i.stylesWithoutHost=u,a?i.classes=d:i.classesWithoutHost=d}function U_(){const i=Gn();_s(Fe()[1],i)}function j_(i){let s=function Og(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const u=[i];for(;s;){let d;if(si(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new je(903,!1);d=s.\u0275dir}if(d){if(a){u.push(d);const y=i;y.inputs=G_(i.inputs),y.declaredInputs=G_(i.declaredInputs),y.outputs=G_(i.outputs);const b=d.hostBindings;b&&H_(i,b);const C=d.viewQuery,M=d.contentQueries;if(C&&CA(i,C),M&&AA(i,M),we(i.inputs,d.inputs),we(i.declaredInputs,d.declaredInputs),we(i.outputs,d.outputs),si(d)&&d.data.animation){const R=i.data;R.animation=(R.animation||[]).concat(d.data.animation)}}const h=d.features;if(h)for(let y=0;y<h.length;y++){const b=h[y];b&&b.ngInherit&&b(i),b===j_&&(a=!1)}}s=Object.getPrototypeOf(s)}!function fp(i){let s=0,a=null;for(let u=i.length-1;u>=0;u--){const d=i[u];d.hostVars=s+=d.hostVars,d.hostAttrs=ke(d.hostAttrs,a=ke(a,d.hostAttrs))}}(u)}function G_(i){return i===gn?{}:i===kt?[]:i}function CA(i,s){const a=i.viewQuery;i.viewQuery=a?(u,d)=>{s(u,d),a(u,d)}:s}function AA(i,s){const a=i.contentQueries;i.contentQueries=a?(u,d,h)=>{s(u,d,h),a(u,d,h)}:s}function H_(i,s){const a=i.hostBindings;i.hostBindings=a?(u,d)=>{s(u,d),a(u,d)}:s}let Fg=null;function yc(){if(!Fg){const i=qe.Symbol;if(i&&i.iterator)Fg=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const u=s[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Fg=u)}}}return Fg}function _c(i){return!!kd(i)&&(Array.isArray(i)||!(i instanceof Map)&&yc()in i)}function kd(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Ri(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function bc(i,s,a,u){const d=Fe();return Ri(d,ai(),s)&&(Ut(),Qo(Hn(),d,i,s,a,u)),bc}function uE(i,s,a,u,d,h,y,b){const C=Fe(),M=Ut(),R=i+22,U=M.firstCreatePass?function lE(i,s,a,u,d,h,y,b,C){const M=s.consts,R=xs(s,i,4,y||null,kr(M,b));R_(s,a,R,kr(M,C)),_s(s,R);const U=R.tViews=wg(2,R,u,d,h,s.directiveRegistry,s.pipeRegistry,null,s.schemas,M);return null!==s.queries&&(s.queries.template(s,R),U.queries=s.queries.embeddedTView(R)),R}(R,M,C,s,a,u,d,h,y):M.data[R];vi(U,!1);const Q=C[11].createComment("");eg(M,C,Q,U),Rt(Q,C),Tg(C,C[R]=Ag(Q,C,Q,U)),Bs(U)&&x_(M,C,U),null!=y&&k_(C,U,b)}function To(i,s,a){const u=Fe();return Ri(u,ai(),s)&&function Yo(i,s,a,u,d,h,y,b){const C=ir(s,a);let R,M=s.inputs;!b&&null!=M&&(R=M[u])?(Zw(i,a,R,u,d),Po(s)&&function Eg(i,s){const a=or(s,i);16&a[2]||(a[2]|=32)}(a,s.index)):3&s.type&&(u=function iA(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),d=null!=y?y(d,s.value||"",u):d,En(h)?h.setProperty(C,u,d):z(u)||(C.setProperty?C.setProperty(u,d):C[u]=d))}(Ut(),Hn(),u,i,s,u[11],a,!1),To}function Bg(i,s,a,u,d){const y=d?"class":"style";Zw(i,a,s.inputs[y],y,u)}function mp(i,s,a,u){const d=Fe(),h=Ut(),y=22+i,b=d[11],C=d[y]=Kr(b,s,function Xs(){return wt.lFrame.currentNamespace}()),M=h.firstCreatePass?function MA(i,s,a,u,d,h,y){const b=s.consts,M=xs(s,i,2,d,kr(b,h));return R_(s,a,M,kr(b,y)),null!==M.attrs&&wa(M,M.attrs,!1),null!==M.mergedAttrs&&wa(M,M.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,M),M}(y,h,d,0,s,a,u):h.data[y];vi(M,!0);const R=M.mergedAttrs;null!==R&&D(b,C,R);const U=M.classes;null!==U&&ng(b,C,U);const Q=M.styles;return null!==Q&&Wb(b,C,Q),64!=(64&M.flags)&&eg(h,d,C,M),0===function hs(){return wt.lFrame.elementDepthCount}()&&Rt(C,d),function ps(){wt.lFrame.elementDepthCount++}(),Bs(M)&&(x_(h,d,M),function Pw(i,s,a){if(ul(s)){const d=s.directiveEnd;for(let h=s.directiveStart;h<d;h++){const y=i.data[h];y.contentQueries&&y.contentQueries(1,a[h],h)}}}(h,M,d)),null!==u&&k_(d,M),mp}function Ug(){let i=Gn();ms()?function gl(){wt.lFrame.isParent=!1}():(i=i.parent,vi(i,!1));const s=i;!function fl(){wt.lFrame.elementDepthCount--}();const a=Ut();return a.firstCreatePass&&(_s(a,i),ul(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function zc(i){return 0!=(16&i.flags)}(s)&&Bg(a,s,Fe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function kh(i){return 0!=(32&i.flags)}(s)&&Bg(a,s,Fe(),s.stylesWithoutHost,!1),Ug}function K_(i,s,a,u){return mp(i,s,a,u),Ug(),K_}function Y_(){return Fe()}function Q_(i){return!!i&&"function"==typeof i.then}function Gg(i){return!!i&&"function"==typeof i.subscribe}const yp=Gg;function J_(i,s,a,u){const d=Fe(),h=Ut(),y=Gn();return function dE(i,s,a,u,d,h,y,b){const C=Bs(u),R=i.firstCreatePass&&Ng(i),U=s[8],Q=qw(s);let le=!0;if(3&u.type||b){const rt=ir(u,s),ft=b?b(rt):rt,xt=Q.length,Ue=b?Ct=>b(On(Ct[u.index])):u.index;if(En(a)){let Ct=null;if(!b&&C&&(Ct=function kA(i,s,a,u){const d=i.cleanup;if(null!=d)for(let h=0;h<d.length-1;h+=2){const y=d[h];if(y===a&&d[h+1]===u){const b=s[7],C=d[h+2];return b.length>C?b[C]:null}"string"==typeof y&&(h+=2)}return null}(i,s,d,u.index)),null!==Ct)(Ct.__ngLastListenerFn__||Ct).__ngNextListenerFn__=h,Ct.__ngLastListenerFn__=h,le=!1;else{h=$g(u,s,U,h,!1);const yn=a.listen(ft,d,h);Q.push(h,yn),R&&R.push(d,Ue,xt,xt+1)}}else h=$g(u,s,U,h,!0),ft.addEventListener(d,h,y),Q.push(h),R&&R.push(d,Ue,xt,y)}else h=$g(u,s,U,h,!1);const Me=u.outputs;let We;if(le&&null!==Me&&(We=Me[d])){const rt=We.length;if(rt)for(let ft=0;ft<rt;ft+=2){const Yn=s[We[ft]][We[ft+1]].subscribe(h),Wl=Q.length;Q.push(h,Yn),R&&R.push(d,u.index,Wl,-(Wl+1))}}}(h,d,d[11],y,i,s,!!a,u),J_}function hE(i,s,a,u){try{return!1!==a(u)}catch(d){return Kw(i,d),!1}}function $g(i,s,a,u,d){return function h(y){if(y===Function)return u;Sg(2&i.flags?or(i.index,s):s);let C=hE(s,0,u,y),M=h.__ngNextListenerFn__;for(;M;)C=hE(s,0,M,y)&&C,M=M.__ngNextListenerFn__;return d&&!1===C&&(y.preventDefault(),y.returnValue=!1),C}}function pE(i=1){return function Il(i){return(wt.lFrame.contextLView=function $u(i,s){for(;i>0;)s=s[15],i--;return s}(i,wt.lFrame.contextLView))[8]}(i)}function vp(i,s,a,u,d){const h=i[a+1],y=null===s;let b=u?no(h):Ko(h),C=!1;for(;0!==b&&(!1===C||y);){const R=i[b+1];nv(i[b],s)&&(C=!0,i[b+1]=u?D_(R):sp(R)),b=u?no(R):Ko(R)}C&&(i[a+1]=u?sp(h):D_(h))}function nv(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&aa(i,s)>=0}function Kg(i,s){return function es(i,s,a,u){const d=Fe(),h=Ut(),y=function ki(i){const s=wt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);h.firstUpdatePass&&function IE(i,s,a,u){const d=i.data;if(null===d[a+1]){const h=d[Xr()],y=function EE(i,s){return s>=i.expandoStartIndex}(i,a);(function AE(i,s){return 0!=(i.flags&(s?16:32))})(h,u)&&null===s&&!y&&(s=!1),s=function LA(i,s,a,u){const d=function Qs(i){const s=wt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let h=u?s.residualClasses:s.residualStyles;if(null===d)0===(u?s.classBindings:s.styleBindings)&&(a=jd(a=wp(null,i,s,a,u),s.attrs,u),h=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==d)if(a=wp(d,i,s,a,u),null===h){let C=function Zg(i,s,a){const u=a?s.classBindings:s.styleBindings;if(0!==Ko(u))return i[no(u)]}(i,s,u);void 0!==C&&Array.isArray(C)&&(C=wp(null,i,s,C[1],u),C=jd(C,s.attrs,u),function Yg(i,s,a,u){i[no(a?s.classBindings:s.styleBindings)]=u}(i,s,u,C))}else h=function bp(i,s,a){let u;const d=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<d;h++)u=jd(u,i[h].hostAttrs,a);return jd(u,s.attrs,a)}(i,s,u)}return void 0!==h&&(u?s.residualClasses=h:s.residualStyles=h),a}(d,h,s,u),function yE(i,s,a,u,d,h){let y=h?s.classBindings:s.styleBindings,b=no(y),C=Ko(y);i[u]=a;let R,M=!1;if(Array.isArray(a)){const U=a;R=U[1],(null===R||aa(U,R)>0)&&(M=!0)}else R=a;if(d)if(0!==C){const Q=no(i[b+1]);i[u+1]=Bl(Q,b),0!==Q&&(i[Q+1]=I_(i[Q+1],u)),i[b+1]=function qC(i,s){return 131071&i|s<<17}(i[b+1],u)}else i[u+1]=Bl(b,0),0!==b&&(i[b+1]=I_(i[b+1],u)),b=u;else i[u+1]=Bl(C,0),0===b?b=u:i[C+1]=I_(i[C+1],u),C=u;M&&(i[u+1]=sp(i[u+1])),vp(i,R,u,!0),vp(i,R,u,!1),function _E(i,s,a,u,d){const h=d?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof s&&aa(h,s)>=0&&(a[u+1]=D_(a[u+1]))}(s,R,i,u,h),y=Bl(b,C),h?s.classBindings=y:s.styleBindings=y}(d,h,s,a,y,u)}}(h,i,y,u),s!==zt&&Ri(d,y,s)&&function lv(i,s,a,u,d,h,y,b){if(!(3&s.type))return;const C=i.data,M=C[b+1];Ep(function ap(i){return 1==(1&i)}(M)?Ps(C,s,a,d,Ko(M),y):void 0)||(Ep(h)||function bd(i){return 2==(2&i)}(M)&&(h=Ps(C,null,a,d,b,y)),function kC(i,s,a,u,d){const h=En(i);if(s)d?h?i.addClass(a,u):a.classList.add(u):h?i.removeClass(a,u):a.classList.remove(u);else{let y=-1===u.indexOf("-")?void 0:da.DashCase;if(null==d)h?i.removeStyle(a,u,y):a.style.removeProperty(u);else{const b="string"==typeof d&&d.endsWith("!important");b&&(d=d.slice(0,-10),y|=da.Important),h?i.setStyle(a,u,d,y):a.style.setProperty(u,d,b?"important":"")}}}(u,y,ho(Xr(),a),d,h))}(h,h.data[Xr()],d,d[11],i,d[y+1]=function VA(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=ge(Nl(i)))),i}(s,a),u,y)}(i,s,null,!0),Kg}function wp(i,s,a,u,d){let h=null;const y=a.directiveEnd;let b=a.directiveStylingLast;for(-1===b?b=a.directiveStart:b++;b<y&&(h=s[b],u=jd(u,h.hostAttrs,d),h!==i);)b++;return null!==i&&(a.directiveStylingLast=b),u}function jd(i,s,a){const u=a?1:2;let d=-1;if(null!==s)for(let h=0;h<s.length;h++){const y=s[h];"number"==typeof y?d=y:d===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),$r(i,y,!!a||s[++h]))}return void 0===i?null:i}function Ps(i,s,a,u,d,h){const y=null===s;let b;for(;d>0;){const C=i[d],M=Array.isArray(C),R=M?C[1]:C,U=null===R;let Q=a[d+1];Q===zt&&(Q=U?kt:void 0);let le=U?Xc(Q,u):R===u?Q:void 0;if(M&&!Ep(le)&&(le=Xc(C,u)),Ep(le)&&(b=le,y))return b;const Me=i[d+1];d=y?no(Me):Ko(Me)}if(null!==s){let C=h?s.residualClasses:s.residualStyles;null!=C&&(b=Xc(C,u))}return b}function Ep(i){return void 0!==i}function TE(i,s=""){const a=Fe(),u=Ut(),d=i+22,h=u.firstCreatePass?xs(u,d,1,s,null):u.data[d],y=a[d]=function lc(i,s){return En(i)?i.createText(s):i.createTextNode(s)}(a[11],s);eg(u,a,y,h),vi(h,!1)}function Qg(i){return Jg("",i,""),Qg}function Jg(i,s,a){const u=Fe(),d=function Pd(i,s,a,u){return Ri(i,ai(),a)?s+Ie(a)+u:zt}(u,i,s,a);return d!==zt&&tl(u,Xr(),d),Jg}const Cc=void 0;var tT=["en",[["a","p"],["AM","PM"],Cc],[["AM","PM"],Cc,Cc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Cc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Cc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Cc,"{1} 'at' {0}",Cc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function eT(i){const a=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let Ip={};function dv(i){const s=function nT(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=hv(s);if(a)return a;const u=s.split("-")[0];if(a=hv(u),a)return a;if("en"===u)return tT;throw new je(701,!1)}function qE(i){return dv(i)[Nt.PluralCase]}function hv(i){return i in Ip||(Ip[i]=qe.ng&&qe.ng.common&&qe.ng.common.locales&&qe.ng.common.locales[i]),Ip[i]}var Nt=(()=>((Nt=Nt||{})[Nt.LocaleId=0]="LocaleId",Nt[Nt.DayPeriodsFormat=1]="DayPeriodsFormat",Nt[Nt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Nt[Nt.DaysFormat=3]="DaysFormat",Nt[Nt.DaysStandalone=4]="DaysStandalone",Nt[Nt.MonthsFormat=5]="MonthsFormat",Nt[Nt.MonthsStandalone=6]="MonthsStandalone",Nt[Nt.Eras=7]="Eras",Nt[Nt.FirstDayOfWeek=8]="FirstDayOfWeek",Nt[Nt.WeekendRange=9]="WeekendRange",Nt[Nt.DateFormat=10]="DateFormat",Nt[Nt.TimeFormat=11]="TimeFormat",Nt[Nt.DateTimeFormat=12]="DateTimeFormat",Nt[Nt.NumberSymbols=13]="NumberSymbols",Nt[Nt.NumberFormats=14]="NumberFormats",Nt[Nt.CurrencyCode=15]="CurrencyCode",Nt[Nt.CurrencySymbol=16]="CurrencySymbol",Nt[Nt.CurrencyName=17]="CurrencyName",Nt[Nt.Currencies=18]="Currencies",Nt[Nt.Directionality=19]="Directionality",Nt[Nt.PluralCase=20]="PluralCase",Nt[Nt.ExtraData=21]="ExtraData",Nt))();const Dr="en-US";let KE=Dr;function Tp(i,s,a,u,d){if(i=ae(i),Array.isArray(i))for(let h=0;h<i.length;h++)Tp(i[h],s,a,u,d);else{const h=Ut(),y=Fe();let b=Wt(i)?i:ae(i.provide),C=ow(i);const M=Gn(),R=1048575&M.providerIndexes,U=M.directiveStart,Q=M.providerIndexes>>20;if(Wt(i)||!i.multi){const le=new bs(C,d,ya),Me=Av(b,s,d?R:R+Q,U);-1===Me?(Wo(ws(M,y),h,b),Cv(h,i,s.length),s.push(b),M.directiveStart++,M.directiveEnd++,d&&(M.providerIndexes+=1048576),a.push(le),y.push(le)):(a[Me]=le,y[Me]=le)}else{const le=Av(b,s,R+Q,U),Me=Av(b,s,R,R+Q),We=le>=0&&a[le],rt=Me>=0&&a[Me];if(d&&!rt||!d&&!We){Wo(ws(M,y),h,b);const ft=function Sv(i,s,a,u,d){const h=new bs(i,a,ya);return h.multi=[],h.index=s,h.componentProviders=0,_I(h,d,u&&!a),h}(d?Tv:um,a.length,d,u,C);!d&&rt&&(a[Me].providerFactory=ft),Cv(h,i,s.length,0),s.push(b),M.directiveStart++,M.directiveEnd++,d&&(M.providerIndexes+=1048576),a.push(ft),y.push(ft)}else Cv(h,i,le>-1?le:Me,_I(a[d?Me:le],C,!d&&u));!d&&u&&rt&&a[Me].componentProviders++}}}function Cv(i,s,a,u){const d=Wt(s),h=function yu(i){return!!i.useClass}(s);if(d||h){const C=(h?ae(s.useClass):s).prototype.ngOnDestroy;if(C){const M=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const R=M.indexOf(a);-1===R?M.push(a,[u,C]):M[R+1].push(u,C)}else M.push(a,C)}}}function _I(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Av(i,s,a,u){for(let d=a;d<u;d++)if(s[d]===i)return d;return-1}function um(i,s,a,u){return Sp(this.multi,[])}function Tv(i,s,a,u){const d=this.multi;let h;if(this.providerFactory){const y=this.providerFactory.componentProviders,b=Al(a,a[1],this.providerFactory.index,u);h=b.slice(0,y),Sp(d,h);for(let C=y;C<b.length;C++)h.push(b[C])}else h=[],Sp(d,h);return h}function Sp(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function Mv(i,s=[]){return a=>{a.providersResolver=(u,d)=>function yI(i,s,a){const u=Ut();if(u.firstCreatePass){const d=si(i);Tp(a,u.data,u.blueprint,d,!0),Tp(s,u.data,u.blueprint,d,!1)}}(u,d?d(i):i,s)}}class DT{resolveComponentFactory(s){throw function IT(i){const s=Error(`No component factory found for ${ge(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let cm=(()=>{class i{}return i.NULL=new DT,i})();class Ac{}class vI{}function TT(){return qd(Gn(),Fe())}function qd(i,s){return new Mp(ir(i,s))}let Mp=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=TT,i})();function ST(i){return i instanceof Mp?i.nativeElement:i}class Pv{}let bI=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function MT(){const i=Fe(),a=or(Gn().index,i);return function Rv(i){return i[11]}(_r(a)?a:i)}(),i})(),xT=(()=>{class i{}return i.\u0275prov=$t({token:i,providedIn:"root",factory:()=>null}),i})();class wI{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Ov=new wI("14.0.4"),dm={};function xp(i,s,a,u,d=!1){for(;null!==a;){const h=s[a.index];if(null!==h&&u.push(On(h)),xr(h))for(let b=10;b<h.length;b++){const C=h[b],M=C[1].firstChild;null!==M&&xp(C[1],C,M,u)}const y=a.type;if(8&y)xp(i,s,a.child,u);else if(32&y){const b=ac(a,s);let C;for(;C=b();)u.push(C)}else if(16&y){const b=zb(s,a);if(Array.isArray(b))u.push(...b);else{const C=qr(s[16]);xp(C[1],C,b,u,!0)}}a=d?a.projectionNext:a.next}return u}class Kd{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return xp(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(xr(s)){const a=s[8],u=a?a.indexOf(this):-1;u>-1&&(pd(s,u),oa(a,u))}this._attachedToViewContainer=!1}uc(this._lView[1],this._lView)}onDestroy(s){Fw(this._lView[1],this._lView,null,s)}markForCheck(){Sg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function xg(i,s,a){const u=s[10];u.begin&&u.begin();try{ba(i,s,i.template,a)}catch(d){throw Kw(s,d),d}finally{u.end&&u.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function CC(i,s){tp(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new je(902,!1);this._appRef=s}}class EI extends Kd{constructor(s){super(s),this._view=s}detectChanges(){Ww(this._view)}checkNoChanges(){}get context(){return null}}class II extends cm{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=q(s);return new kp(a,this.ngModule)}}function DI(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class JM{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,u){const d=this.injector.get(s,dm,u);return d!==dm||a===dm?d:this.parentInjector.get(s,a,u)}}class kp extends vI{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function rg(i){return i.map(VC).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return DI(this.componentDef.inputs)}get outputs(){return DI(this.componentDef.outputs)}create(s,a,u,d){let h=(d=d||this.ngModule)instanceof ti?d:d?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const y=h?new JM(s,h):s,b=y.get(Pv,$s),C=y.get(xT,null),M=b.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",U=u?function N_(i,s,a){if(En(i))return i.selectRootElement(s,a===Et.ShadowDom);let u="string"==typeof s?i.querySelector(s):s;return u.textContent="",u}(M,u,this.componentDef.encapsulation):Kr(b.createRenderer(null,this.componentDef),R,function QM(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(R)),Q=this.componentDef.onPush?288:272,le=function pp(i,s){return{components:[],scheduler:i||bC,clean:_A,playerHandler:s||null,flags:0}}(),Me=wg(0,null,null,1,0,null,null,null,null,null),We=fc(null,Me,le,Q,null,null,b,M,C,y,null);let rt,ft;Ni(We);try{const xt=function B_(i,s,a,u,d,h){const y=a[1];a[22]=i;const C=xs(y,22,2,"#host",null),M=C.mergedAttrs=s.hostAttrs;null!==M&&(wa(C,M,!0),null!==i&&(D(d,i,M),null!==C.classes&&ng(d,i,C.classes),null!==C.styles&&Wb(d,i,C.styles)));const R=u.createRenderer(i,s),U=fc(a,Rw(s),null,s.onPush?32:16,a[22],C,u,R,h||null,null,null);return y.firstCreatePass&&(Wo(ws(C,a),y,s.type),Cg(y,C),Gw(C,a.length,1)),Tg(a,U),a[22]=U}(U,this.componentDef,We,b,M);if(U)if(u)D(M,U,["ng-version",Ov.full]);else{const{attrs:Ue,classes:Ct}=function gd(i){const s=[],a=[];let u=1,d=2;for(;u<i.length;){let h=i[u];if("string"==typeof h)2===d?""!==h&&s.push(h,i[++u]):8===d&&a.push(h);else{if(!Ss(d))break;d=h}u++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);Ue&&D(M,U,Ue),Ct&&Ct.length>0&&ng(M,U,Ct.join(" "))}if(ft=Vn(Me,22),void 0!==a){const Ue=ft.projection=[];for(let Ct=0;Ct<this.ngContentSelectors.length;Ct++){const yn=a[Ct];Ue.push(null!=yn?Array.from(yn):null)}}rt=function xd(i,s,a,u,d){const h=a[1],y=function Ig(i,s,a){const u=Gn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Hw(i,u,s,Zo(i,s,1,null),a));const d=Al(s,i,u.directiveStart,u);Rt(d,s);const h=ir(u,s);return h&&Rt(h,s),d}(h,a,s);if(u.components.push(y),i[8]=y,null!==d)for(const C of d)C(y,s);if(s.contentQueries){const C=Gn();s.contentQueries(1,y,C.directiveStart)}const b=Gn();return!h.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Js(b.index),Dg(a[1],b,0,b.directiveStart,b.directiveEnd,s),Uw(s,y)),y}(xt,this.componentDef,We,le,[U_]),gc(Me,We,null)}finally{El()}return new CI(this.componentType,rt,qd(ft,We),We,ft)}}class CI extends class AT{}{constructor(s,a,u,d,h){super(),this.location=u,this._rootLView=d,this._tNode=h,this.instance=a,this.hostView=this.changeDetectorRef=new EI(d),this.componentType=s}get injector(){return new ta(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function kT(i,s){return new Fv(i,s??null)}class Fv extends Ac{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new II(this);const u=function Ke(i,s){const a=i[hn]||null;if(!a&&!0===s)throw new Error(`Type ${ge(i)} does not have '\u0275mod' property.`);return a}(s);this._bootstrapComponents=function Do(i){return i instanceof Function?i():i}(u.bootstrap),this._r3Injector=d_(s,a,[{provide:Ac,useValue:this},{provide:cm,useValue:this.componentFactoryResolver}],ge(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(s)}get(s,a=el.THROW_IF_NOT_FOUND,u=ht.Default){return s===el||s===Ac||s===Bn?this:this._r3Injector.get(s,a,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Np extends class CT{}{constructor(s){super(),this.moduleType=s}create(s){return new Fv(this.moduleType,s)}}function mm(i){return s=>{setTimeout(i,void 0,s)}}const Ca=class MI extends g.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,u){let d=s,h=a||(()=>null),y=u;if(s&&"object"==typeof s){const C=s;d=C.next?.bind(C),h=C.error?.bind(C),y=C.complete?.bind(C)}this.__isAsync&&(h=mm(h),d&&(d=mm(d)),y&&(y=mm(y)));const b=super.subscribe({next:d,error:h,complete:y});return s instanceof H.w0&&s.add(b),b}};function Rp(){return this._results[yc()]()}class Gv{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=yc(),u=Gv.prototype;u[a]||(u[a]=Rp)}get changes(){return this._changes||(this._changes=new Ca)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const u=this;u.dirty=!1;const d=ur(s);(this._changesDetected=!function Jc(i,s,a){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let d=i[u],h=s[u];if(a&&(d=a(d),h=a(h)),h!==d)return!1}return!0}(u._results,d,a))&&(u._results=d,u.length=d.length,u.last=d[this.length-1],u.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Yd=(()=>{class i{}return i.__NG_ELEMENT_ID__=xI,i})();const BT=Yd,UT=class extends BT{constructor(s,a,u){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(s,a){const u=this._declarationTContainer.tViews,d=fc(this._declarationLView,u,s,16,null,u.declTNode,null,null,null,null,a||null);d[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(d[19]=y.createEmbeddedView(u)),gc(u,d,s),new Kd(d)}};function xI(){return Op(Gn(),Fe())}function Op(i,s){return 4&i.type?new UT(s,i,qd(i,s)):null}let Fp=(()=>{class i{}return i.__NG_ELEMENT_ID__=jT,i})();function jT(){return NI(Gn(),Fe())}const GT=Fp,kI=class extends GT{constructor(s,a,u){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=u}get element(){return qd(this._hostTNode,this._hostLView)}get injector(){return new ta(this._hostTNode,this._hostLView)}get parentInjector(){const s=Wa(this._hostTNode,this._hostLView);if(St(s)){const a=ui(s,this._hostLView),u=ar(s);return new ta(a[1].data[u+8],a)}return new ta(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Hv(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,u){let d,h;"number"==typeof u?d=u:null!=u&&(d=u.index,h=u.injector);const y=s.createEmbeddedView(a||{},h);return this.insert(y,d),y}createComponent(s,a,u,d,h){const y=s&&!function Ds(i){return"function"==typeof i}(s);let b;if(y)b=a;else{const U=a||{};b=U.index,u=U.injector,d=U.projectableNodes,h=U.environmentInjector||U.ngModuleRef}const C=y?s:new kp(q(s)),M=u||this.parentInjector;if(!h&&null==C.ngModule){const Q=(y?M:this.parentInjector).get(ti,null);Q&&(h=Q)}const R=C.create(M,d,void 0,h);return this.insert(R.hostView,b),R}insert(s,a){const u=s._lView,d=u[1];if(function zs(i){return xr(i[3])}(u)){const R=this.indexOf(s);if(-1!==R)this.detach(R);else{const U=u[3],Q=new kI(U,U[6],U[3]);Q.detach(Q.indexOf(s))}}const h=this._adjustIndex(a),y=this._lContainer;!function TC(i,s,a,u){const d=10+u,h=a.length;u>0&&(a[d-1][4]=s),u<h-10?(s[4]=a[d],qo(a,10+u,s)):(a.push(s),s[4]=null),s[3]=a;const y=s[17];null!==y&&a!==y&&function jb(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(y,s);const b=s[19];null!==b&&b.insertView(i),s[2]|=64}(d,u,y,h);const b=Xh(h,y),C=u[11],M=Qh(C,y[7]);return null!==M&&function DC(i,s,a,u,d,h){u[0]=d,u[6]=s,tp(i,u,a,1,d,h)}(d,y[6],C,u,M,b),s.attachToViewContainerRef(),qo($v(y),h,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Hv(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),u=pd(this._lContainer,a);u&&(oa($v(this._lContainer),a),uc(u[1],u))}detach(s){const a=this._adjustIndex(s,-1),u=pd(this._lContainer,a);return u&&null!=oa($v(this._lContainer),a)?new Kd(u):null}_adjustIndex(s,a=0){return s??this.length+a}};function Hv(i){return i[8]}function $v(i){return i[8]||(i[8]=[])}function NI(i,s){let a;const u=s[i.index];if(xr(u))a=u;else{let d;if(8&i.type)d=On(u);else{const h=s[11];d=h.createComment("");const y=ir(i,s);Xa(h,Qh(h,y),d,function $b(i,s){return En(i)?i.nextSibling(s):s.nextSibling}(h,y),!1)}s[i.index]=a=Ag(u,s,d,i),Tg(s,a)}return new kI(a,i,s)}class zv{constructor(s){this.queryList=s,this.matches=null}clone(){return new zv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wv{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const u=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let h=0;h<u;h++){const y=a.getByIndex(h);d.push(this.queries[y.indexInDeclarationView].clone())}return new Wv(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Vp(s,a).matches&&this.queries[a].setDirty()}}class RI{constructor(s,a,u=null){this.predicate=s,this.flags=a,this.read=u}}class Lp{constructor(s=[]){this.queries=s}elementStart(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let u=0;u<this.length;u++){const d=null!==a?a.length:0,h=this.getByIndex(u).embeddedTView(s,d);h&&(h.indexInDeclarationView=u,null!==a?a.push(h):a=[h])}return null!==a?new Lp(a):null}template(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class ym{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new ym(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let d=0;d<u.length;d++){const h=u[d];this.matchTNodeWithReadOption(s,a,$T(a,h)),this.matchTNodeWithReadOption(s,a,Cl(a,s,h,!1,!1))}else u===Yd?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Cl(a,s,u,!1,!1))}matchTNodeWithReadOption(s,a,u){if(null!==u){const d=this.metadata.read;if(null!==d)if(d===Mp||d===Fp||d===Yd&&4&a.type)this.addMatch(a.index,-2);else{const h=Cl(a,s,d,!1,!1);null!==h&&this.addMatch(a.index,h)}else this.addMatch(a.index,u)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function $T(i,s){const a=i.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===s)return a[u+1];return null}function WT(i,s,a,u){return-1===a?function zT(i,s){return 11&i.type?qd(i,s):4&i.type?Op(i,s):null}(s,i):-2===a?function Aa(i,s,a){return a===Mp?qd(s,i):a===Yd?Op(s,i):a===Fp?NI(s,i):void 0}(i,s,u):Al(i,i[1],a,s)}function OI(i,s,a,u){const d=s[19].queries[u];if(null===d.matches){const h=i.data,y=a.matches,b=[];for(let C=0;C<y.length;C+=2){const M=y[C];b.push(M<0?null:WT(s,h[M],y[C+1],a.metadata.read))}d.matches=b}return d.matches}function qv(i,s,a,u){const d=i.queries.getByIndex(a),h=d.matches;if(null!==h){const y=OI(i,s,d,a);for(let b=0;b<h.length;b+=2){const C=h[b];if(C>0)u.push(y[b/2]);else{const M=h[b+1],R=s[-C];for(let U=10;U<R.length;U++){const Q=R[U];Q[17]===Q[3]&&qv(Q[1],Q,M,u)}if(null!==R[9]){const U=R[9];for(let Q=0;Q<U.length;Q++){const le=U[Q];qv(le[1],le,M,u)}}}}}return u}function Kv(i){const s=Fe(),a=Ut(),u=Va();Ho(u+1);const d=Vp(a,u);if(i.dirty&&Oa(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const h=d.crossesNgTemplate?qv(a,s,u,[]):OI(a,s,d,u);i.reset(h,ST),i.notifyOnChanges()}return!0}return!1}function _m(i,s,a){const u=Ut();u.firstCreatePass&&(function vm(i,s,a){null===i.queries&&(i.queries=new Lp),i.queries.track(new ym(s,a))}(u,new RI(i,s,a),-1),2==(2&s)&&(u.staticViewQueries=!0)),function gt(i,s,a){const u=new Gv(4==(4&a));Fw(i,s,u,u.destroy),null===s[19]&&(s[19]=new Wv),s[19].queries.push(new zv(u))}(u,Fe(),s)}function FI(){return function Hl(i,s){return i[19].queries[s].queryList}(Fe(),Va())}function Vp(i,s){return i.queries.getByIndex(s)}function Dm(...i){}const h0=new vn("Application Initializer");let rh=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Dm,this.reject=Dm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,d)=>{this.resolve=u,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const h=this.appInits[d]();if(Q_(h))a.push(h);else if(yp(h)){const y=new Promise((b,C)=>{h.subscribe({complete:b,error:C})});a.push(y)}}Promise.all(a).then(()=>{u()}).catch(d=>{this.reject(d)}),0===a.length&&u(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(He(h0,8))},i.\u0275prov=$t({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const p0=new vn("AppId",{providedIn:"root",factory:function KI(){return`${Gp()}${Gp()}${Gp()}`}});function Gp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Cm=new vn("Platform Initializer"),hi=new vn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ci=new vn("appBootstrapListener"),Hp=new vn("LocaleId",{providedIn:"root",factory:()=>function bt(i,s=ht.Default){return He(i,s)}(Hp,ht.Optional|ht.SkipSelf)||function o1(){return typeof $localize<"u"&&$localize.locale||Dr}()}),s1=new vn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),Am=(()=>Promise.resolve(0))();function $p(i){typeof Zone>"u"?Am.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Mo{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ca(!1),this.onMicrotaskEmpty=new Ca(!1),this.onStable=new Ca(!1),this.onError=new Ca(!1),typeof Zone>"u")throw new je(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!u&&a,d.shouldCoalesceRunChangeDetection=u,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function g0(){let i=qe.requestAnimationFrame,s=qe.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function nD(i){const s=()=>{!function tD(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(qe,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Tm(i),i.isCheckStableRunning=!0,Sc(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Tm(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,d,h,y,b)=>{try{return zp(i),a.invokeTask(d,h,y,b)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&s(),rD(i)}},onInvoke:(a,u,d,h,y,b,C)=>{try{return zp(i),a.invoke(d,h,y,b,C)}finally{i.shouldCoalesceRunChangeDetection&&s(),rD(i)}},onHasTask:(a,u,d,h)=>{a.hasTask(d,h),u===d&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,Tm(i),Sc(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(a,u,d,h)=>(a.handleError(d,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Mo.isInAngularZone())throw new je(909,!1)}static assertNotInAngularZone(){if(Mo.isInAngularZone())throw new je(909,!1)}run(s,a,u){return this._inner.run(s,a,u)}runTask(s,a,u,d){const h=this._inner,y=h.scheduleEventTask("NgZoneEvent: "+d,s,l1,Dm,Dm);try{return h.runTask(y,a,u)}finally{h.cancelTask(y)}}runGuarded(s,a,u){return this._inner.runGuarded(s,a,u)}runOutsideAngular(s){return this._outer.run(s)}}const l1={};function Sc(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Tm(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function zp(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function rD(i){i._nesting--,Sc(i)}class u1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ca,this.onMicrotaskEmpty=new Ca,this.onStable=new Ca,this.onError=new Ca}run(s,a,u){return s.apply(a,u)}runGuarded(s,a,u){return s.apply(a,u)}runOutsideAngular(s){return s()}runTask(s,a,u,d){return s.apply(a,u)}}const Mc=new vn(""),iD=new vn("");let ih,c1=(()=>{class i{constructor(a,u,d){this._ngZone=a,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ih||(function oD(i){ih=i}(d),d.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Mo.assertNotInAngularZone(),$p(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$p(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,d){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==h),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:h,updateCb:d})}whenStable(a,u,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(He(Mo),He(Mu),He(iD))},i.\u0275prov=$t({token:i,factory:i.\u0275fac}),i})(),Mu=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return ih?.findTestabilityInTree(this,a,u)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=$t({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),$l=null;const oh=new vn("AllowMultipleToken"),Sm=new vn("PlatformDestroyListeners");function Nm(i,s,a=[]){const u=`Platform: ${s}`,d=new vn(u);return(h=[])=>{let y=xc();if(!y||y.injector.get(oh,!1)){const b=[...a,...h,{provide:d,useValue:!0}];i?i(b):function m0(i){if($l&&!$l.get(oh,!1))throw new je(400,!1);$l=i;const s=i.get(b0);(function y0(i){const s=i.get(Cm,null);s&&s.forEach(a=>a())})(i)}(function Pm(i=[],s){return el.create({name:s,providers:[{provide:l_,useValue:"platform"},{provide:Sm,useValue:new Set([()=>$l=null])},...i]})}(b,u))}return function _0(i){const s=xc();if(!s)throw new je(401,!1);return s}()}}function xc(){return $l?.get(b0)??null}let b0=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const d=function w0(i,s){let a;return a="noop"===i?new u1:("zone.js"===i?void 0:i)||new Mo(s),a}(u?.ngZone,function lD(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(u)),h=[{provide:Mo,useValue:d}];return d.run(()=>{const y=el.create({providers:h,parent:this.injector,name:a.moduleType.name}),b=a.create(y),C=b.injector.get($f,null);if(!C)throw new je(402,!1);return d.runOutsideAngular(()=>{const M=d.onError.subscribe({next:R=>{C.handleError(R)}});b.onDestroy(()=>{qp(this._modules,b),M.unsubscribe()})}),function Wp(i,s,a){try{const u=a();return Q_(u)?u.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(C,d,()=>{const M=b.injector.get(rh);return M.runInitializers(),M.donePromise.then(()=>(function pv(i){Bt(i,"Expected localeId to be defined"),"string"==typeof i&&(KE=i.toLowerCase().replace(/_/g,"-"))}(b.injector.get(Hp,Dr)||Dr),this._moduleDoBootstrap(b),b))})})}bootstrapModule(a,u=[]){const d=Rm({},u);return function sD(i,s,a){const u=new Np(a);return Promise.resolve(u)}(0,0,a).then(h=>this.bootstrapModuleFactory(h,d))}_moduleDoBootstrap(a){const u=a.injector.get(Om);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>u.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new je(403,!1);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new je(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(Sm,null);a&&(a.forEach(u=>u()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(He(el))},i.\u0275prov=$t({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function Rm(i,s){return Array.isArray(s)?s.reduce(Rm,i):{...i,...s}}let Om=(()=>{class i{constructor(a,u,d){this._zone=a,this._injector=u,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new O.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),y=new O.y(b=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{Mo.assertNotInAngularZone(),$p(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Mo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{C.unsubscribe(),M.unsubscribe()}});this.isStable=(0,ce.T)(h,y.pipe((0,pe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,u){const d=a instanceof vI;if(!this._injector.get(rh).done)throw!d&&function Jd(i){const s=q(i)||K(i)||Ae(i);return null!==s&&s.standalone}(a),new je(405,false);let y;y=d?a:this._injector.get(cm).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const b=function xm(i){return i.isBoundToModule}(y)?void 0:this._injector.get(Ac),M=y.create(el.NULL,[],u||y.selector,b),R=M.location.nativeElement,U=M.injector.get(Mc,null);return U?.registerApplication(R),M.onDestroy(()=>{this.detachView(M.hostView),qp(this.components,M),U?.unregisterApplication(R)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new je(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;qp(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Ci,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>qp(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new je(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(He(Mo),He(el),He($f))},i.\u0275prov=$t({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function qp(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let sh=!0,I0=!1;function Fm(){return I0=!0,sh}function Kp(){if(I0)throw new Error("Cannot enable prod mode after platform setup.");sh=!1}let D0=(()=>{class i{}return i.__NG_ELEMENT_ID__=lh,i})();function lh(i){return function C0(i,s,a){if(Po(i)&&!a){const u=or(i.index,s);return new Kd(u,u)}return 47&i.type?new Kd(s[16],s):null}(Gn(),Fe(),16==(16&i))}class zl{constructor(){}supports(s){return _c(s)}create(s){return new fD(s)}}const pD=(i,s)=>s;class fD{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||pD}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,u=this._removalsHead,d=0,h=null;for(;a||u;){const y=!u||a&&a.currentIndex<yD(u,d,h)?a:u,b=yD(y,d,h),C=y.currentIndex;if(y===u)d--,u=u._nextRemoved;else if(a=a._next,null==y.previousIndex)d++;else{h||(h=[]);const M=b-d,R=C-d;if(M!=R){for(let Q=0;Q<M;Q++){const le=Q<h.length?h[Q]:h[Q]=0,Me=le+Q;R<=Me&&Me<M&&(h[Q]=le+1)}h[y.previousIndex]=R-M}}b!==C&&s(y,b,C)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!_c(s))throw new je(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,h,y,a=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let b=0;b<this.length;b++)h=s[b],y=this._trackByFn(b,h),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,h,y,b)),Object.is(a.item,h)||this._addIdentityChange(a,h)):(a=this._mismatch(a,h,y,b),u=!0),a=a._next}else d=0,function W_(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[yc()]();let u;for(;!(u=a.next()).done;)s(u.value)}}(s,b=>{y=this._trackByFn(d,b),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,b,y,d)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,y,d),u=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,u,d){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,h,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,h,d)):s=this._addAfter(new gD(a,u),h,d),s}_verifyReinsertion(s,a,u,d){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?s=this._reinsertAfter(h,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,h=s._nextRemoved;return null===d?this._removalsHead=h:d._nextRemoved=h,null===h?this._removalsTail=d:h._prevRemoved=d,this._insertAfter(s,a,u),this._addToMoves(s,u),s}_moveAfter(s,a,u){return this._unlink(s),this._insertAfter(s,a,u),this._addToMoves(s,u),s}_addAfter(s,a,u){return this._insertAfter(s,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,u){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new mD),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,u=s._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mD),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class gD{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class dh{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const a=s._prevDup,u=s._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class mD{constructor(){this.map=new Map}put(s){const a=s.trackById;let u=this.map.get(a);u||(u=new dh,this.map.set(a,u)),u.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yD(i,s,a){const u=i.previousIndex;if(null===u)return u;let d=0;return a&&u<a.length&&(d=a[u]),u+s+d}class S0{constructor(){}supports(s){return s instanceof Map||kd(s)}create(){return new f1}}class f1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||kd(s)))throw new je(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const h=this._getOrCreateRecordForKey(d,u);a=this._insertBeforeOrAppend(a,h)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const u=s._prev;return a._next=s,a._prev=u,s._prev=a,u&&(u._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const h=d._prev,y=d._next;return h&&(h._next=y),y&&(y._prev=h),d._next=null,d._prev=null,d}const u=new _D(s);return this._records.set(s,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(u=>a(s[u],u))}}class _D{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function M0(){return new Yp([new zl])}let Yp=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(null!=u){const d=u.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||M0()),deps:[[i,new _o,new ei]]}}find(a){const u=this.factories.find(d=>d.supports(a));if(null!=u)return u;throw new je(901,!1)}}return i.\u0275prov=$t({token:i,providedIn:"root",factory:M0}),i})();function x0(){return new Gm([new S0])}let Gm=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(u){const d=u.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||x0()),deps:[[i,new _o,new ei]]}}find(a){const u=this.factories.find(d=>d.supports(a));if(u)return u;throw new je(901,!1)}}return i.\u0275prov=$t({token:i,providedIn:"root",factory:x0}),i})();const Hm=Nm(null,"core",[]);let Qp=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(He(Om))},i.\u0275mod=Lt({type:i}),i.\u0275inj=on({}),i})();function $m(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},3942:(yt,Ne,V)=>{"use strict";V.d(Ne,{Z:()=>je});var g=V(2090),H=V(4859),O=V(9681),ce=V(1877);class pe{constructor(Ie,be){this._delegate=Ie,this.firebase=be,(0,O._addComponent)(Ie,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=Ie.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this._delegate.automaticDataCollectionEnabled=Ie}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ie=>{this._delegate.checkDestroyed(),Ie()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(Ie,be=O._DEFAULT_ENTRY_NAME){var tt;this._delegate.checkDestroyed();const Je=this._delegate.container.getProvider(Ie);return!Je.isInitialized()&&"EXPLICIT"===(null===(tt=Je.getComponent())||void 0===tt?void 0:tt.instantiationMode)&&Je.initialize(),Je.getImmediate({identifier:be})}_removeServiceInstance(Ie,be=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ie).clearInstance(be)}_addComponent(Ie){(0,O._addComponent)(this._delegate,Ie)}_addOrOverwriteComponent(Ie){(0,O._addOrOverwriteComponent)(this._delegate,Ie)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const we=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),X=function xe(){const et=function ge(et){const Ie={},be={__esModule:!0,initializeApp:function Le(B,_e={}){const me=O.initializeApp(B,_e);if((0,g.r3)(Ie,me.name))return Ie[me.name];const te=new et(me,be);return Ie[me.name]=te,te},app:Je,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function Te(B){const _e=B.name,me=_e.replace("-compat","");if(O._registerComponent(B)&&"PUBLIC"===B.type){const te=(oe=Je())=>{if("function"!=typeof oe[me])throw we.create("invalid-app-argument",{appName:_e});return oe[me]()};void 0!==B.serviceProps&&(0,g.ZB)(te,B.serviceProps),be[me]=te,et.prototype[me]=function(...oe){return this._getService.bind(this,_e).apply(this,B.multipleInstances?oe:[])}}return"PUBLIC"===B.type?be[me]:null},removeApp:function tt(B){delete Ie[B]},useAsService:function nt(B,_e){return"serverAuth"===_e?null:_e},modularAPIs:O}};function Je(B){if(!(0,g.r3)(Ie,B=B||O._DEFAULT_ENTRY_NAME))throw we.create("no-app",{appName:B});return Ie[B]}return be.default=be,Object.defineProperty(be,"apps",{get:function Ve(){return Object.keys(Ie).map(B=>Ie[B])}}),Je.App=et,be}(pe);return et.INTERNAL=Object.assign(Object.assign({},et.INTERNAL),{createFirebaseNamespace:xe,extendNamespace:function Ie(be){(0,g.ZB)(et,be)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),et}(),Z=new ce.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const et=self.firebase.SDK_VERSION;et&&et.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const je=X;!function ze(et){(0,O.registerVersion)("@firebase/app-compat","0.1.28",et)}()},9681:(yt,Ne,V)=>{"use strict";V.r(Ne),V.d(Ne,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>Mr,_DEFAULT_ENTRY_NAME:()=>Bt,_addComponent:()=>un,_addOrOverwriteComponent:()=>$t,_apps:()=>nn,_clearComponents:()=>Jr,_components:()=>Wn,_getProvider:()=>on,_registerComponent:()=>Ft,_removeServiceInstance:()=>bn,deleteApp:()=>ht,getApp:()=>Cn,getApps:()=>Ln,initializeApp:()=>mi,onLog:()=>en,registerVersion:()=>Xt,setLogLevel:()=>gr});var g=V(5861),H=V(4859),O=V(1877),ce=V(2090),pe=V(8766);class De{constructor($){this.container=$}getPlatformInfoString(){return this.container.getProviders().map(Ce=>{if(function we(ie){return"VERSION"===ie.getComponent()?.type}(Ce)){const Ye=Ce.getImmediate();return`${Ye.library}/${Ye.version}`}return null}).filter(Ce=>Ce).join(" ")}}const ge="@firebase/app",X=new O.Yd("@firebase/app"),Bt="[DEFAULT]",Ze={[ge]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},nn=new Map,Wn=new Map;function un(ie,$){try{ie.container.addComponent($)}catch(Ce){X.debug(`Component ${$.name} failed to register with FirebaseApp ${ie.name}`,Ce)}}function $t(ie,$){ie.container.addOrOverwriteComponent($)}function Ft(ie){const $=ie.name;if(Wn.has($))return X.debug(`There were multiple attempts to register component ${$}.`),!1;Wn.set($,ie);for(const Ce of nn.values())un(Ce,ie);return!0}function on(ie,$){const Ce=ie.container.getProvider("heartbeat").getImmediate({optional:!0});return Ce&&Ce.triggerHeartbeat(),ie.container.getProvider($)}function bn(ie,$,Ce=Bt){on(ie,$).clearInstance(Ce)}function Jr(){Wn.clear()}const xn=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class ii{constructor($,Ce,Ye){this._isDeleted=!1,this._options=Object.assign({},$),this._config=Object.assign({},Ce),this._name=Ce.name,this._automaticDataCollectionEnabled=Ce.automaticDataCollectionEnabled,this._container=Ye,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled($){this.checkDestroyed(),this._automaticDataCollectionEnabled=$}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted($){this._isDeleted=$}checkDestroyed(){if(this.isDeleted)throw xn.create("app-deleted",{appName:this._name})}}const Mr="9.8.4";function mi(ie,$={}){"object"!=typeof $&&($={name:$});const Ce=Object.assign({name:Bt,automaticDataCollectionEnabled:!1},$),Ye=Ce.name;if("string"!=typeof Ye||!Ye)throw xn.create("bad-app-name",{appName:String(Ye)});const st=nn.get(Ye);if(st){if((0,ce.vZ)(ie,st.options)&&(0,ce.vZ)(Ce,st.config))return st;throw xn.create("duplicate-app",{appName:Ye})}const Lt=new H.H0(Ye);for(const _n of Wn.values())Lt.addComponent(_n);const cn=new ii(ie,Ce,Lt);return nn.set(Ye,cn),cn}function Cn(ie=Bt){const $=nn.get(ie);if(!$)throw xn.create("no-app",{appName:ie});return $}function Ln(){return Array.from(nn.values())}function ht(ie){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,g.Z)(function*(ie){const $=ie.name;nn.has($)&&(nn.delete($),yield Promise.all(ie.container.getProviders().map(Ce=>Ce.delete())),ie.isDeleted=!0)})).apply(this,arguments)}function Xt(ie,$,Ce){var Ye;let st=null!==(Ye=Ze[ie])&&void 0!==Ye?Ye:ie;Ce&&(st+=`-${Ce}`);const Lt=st.match(/\s|\//),cn=$.match(/\s|\//);if(Lt||cn){const _n=[`Unable to register library "${st}" with version "${$}":`];return Lt&&_n.push(`library name "${st}" contains illegal characters (whitespace or "/")`),Lt&&cn&&_n.push("and"),cn&&_n.push(`version name "${$}" contains illegal characters (whitespace or "/")`),void X.warn(_n.join(" "))}Ft(new H.wA(`${st}-version`,()=>({library:st,version:$}),"VERSION"))}function en(ie,$){if(null!==ie&&"function"!=typeof ie)throw xn.create("invalid-log-argument");(0,O.Am)(ie,$)}function gr(ie){(0,O.Ub)(ie)}const sn="firebase-heartbeat-store";let kn=null;function Vr(){return kn||(kn=(0,pe.X3)("firebase-heartbeat-database",1,{upgrade:(ie,$)=>{0===$&&ie.createObjectStore(sn)}}).catch(ie=>{throw xn.create("storage-open",{originalErrorMessage:ie.message})})),kn}function qe(){return(qe=(0,g.Z)(function*(ie){var $;try{return(yield Vr()).transaction(sn).objectStore(sn).get(gn(ie))}catch(Ce){throw xn.create("storage-get",{originalErrorMessage:null===($=Ce)||void 0===$?void 0:$.message})}})).apply(this,arguments)}function pt(ie,$){return Br.apply(this,arguments)}function Br(){return(Br=(0,g.Z)(function*(ie,$){var Ce;try{const st=(yield Vr()).transaction(sn,"readwrite");return yield st.objectStore(sn).put($,gn(ie)),st.done}catch(Ye){throw xn.create("storage-set",{originalErrorMessage:null===(Ce=Ye)||void 0===Ce?void 0:Ce.message})}})).apply(this,arguments)}function gn(ie){return`${ie.name}!${ie.options.appId}`}class Rn{constructor($){this.container=$,this._heartbeatsCache=null;const Ce=this.container.getProvider("app").getImmediate();this._storage=new ee(Ce),this._heartbeatsCachePromise=this._storage.read().then(Ye=>(this._heartbeatsCache=Ye,Ye))}triggerHeartbeat(){var $=this;return(0,g.Z)(function*(){const Ye=$.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),st=wn();if(null===$._heartbeatsCache&&($._heartbeatsCache=yield $._heartbeatsCachePromise),$._heartbeatsCache.lastSentHeartbeatDate!==st&&!$._heartbeatsCache.heartbeats.some(Lt=>Lt.date===st))return $._heartbeatsCache.heartbeats.push({date:st,agent:Ye}),$._heartbeatsCache.heartbeats=$._heartbeatsCache.heartbeats.filter(Lt=>{const cn=new Date(Lt.date).valueOf();return Date.now()-cn<=2592e6}),$._storage.overwrite($._heartbeatsCache)})()}getHeartbeatsHeader(){var $=this;return(0,g.Z)(function*(){if(null===$._heartbeatsCache&&(yield $._heartbeatsCachePromise),null===$._heartbeatsCache||0===$._heartbeatsCache.heartbeats.length)return"";const Ce=wn(),{heartbeatsToSend:Ye,unsentEntries:st}=function hn(ie,$=1024){const Ce=[];let Ye=ie.slice();for(const st of ie){const Lt=Ce.find(cn=>cn.agent===st.agent);if(Lt){if(Lt.dates.push(st.date),W(Ce)>$){Lt.dates.pop();break}}else if(Ce.push({agent:st.agent,dates:[st.date]}),W(Ce)>$){Ce.pop();break}Ye=Ye.slice(1)}return{heartbeatsToSend:Ce,unsentEntries:Ye}}($._heartbeatsCache.heartbeats),Lt=(0,ce.L)(JSON.stringify({version:2,heartbeats:Ye}));return $._heartbeatsCache.lastSentHeartbeatDate=Ce,st.length>0?($._heartbeatsCache.heartbeats=st,yield $._storage.overwrite($._heartbeatsCache)):($._heartbeatsCache.heartbeats=[],$._storage.overwrite($._heartbeatsCache)),Lt})()}}function wn(){return(new Date).toISOString().substring(0,10)}class ee{constructor($){this.app=$,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var $=this;return(0,g.Z)(function*(){return(yield $._canUseIndexedDBPromise)&&(yield function Et(ie){return qe.apply(this,arguments)}($.app))||{heartbeats:[]}})()}overwrite($){var Ce=this;return(0,g.Z)(function*(){var Ye;if(yield Ce._canUseIndexedDBPromise){const Lt=yield Ce.read();return pt(Ce.app,{lastSentHeartbeatDate:null!==(Ye=$.lastSentHeartbeatDate)&&void 0!==Ye?Ye:Lt.lastSentHeartbeatDate,heartbeats:$.heartbeats})}})()}add($){var Ce=this;return(0,g.Z)(function*(){var Ye;if(yield Ce._canUseIndexedDBPromise){const Lt=yield Ce.read();return pt(Ce.app,{lastSentHeartbeatDate:null!==(Ye=$.lastSentHeartbeatDate)&&void 0!==Ye?Ye:Lt.lastSentHeartbeatDate,heartbeats:[...Lt.heartbeats,...$.heartbeats]})}})()}}function W(ie){return(0,ce.L)(JSON.stringify({version:2,heartbeats:ie})).length}!function Y(ie){Ft(new H.wA("platform-logger",$=>new De($),"PRIVATE")),Ft(new H.wA("heartbeat",$=>new Rn($),"PRIVATE")),Xt(ge,"0.7.27",ie),Xt(ge,"0.7.27","esm2017"),Xt("fire-js","")}("")},4859:(yt,Ne,V)=>{"use strict";V.d(Ne,{H0:()=>ge,wA:()=>O,zt:()=>pe});var g=V(5861),H=V(2090);class O{constructor(X,Z,ae){this.name=X,this.instanceFactory=Z,this.type=ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(X){return this.instantiationMode=X,this}setMultipleInstances(X){return this.multipleInstances=X,this}setServiceProps(X){return this.serviceProps=X,this}setInstanceCreatedCallback(X){return this.onInstanceCreated=X,this}}const ce="[DEFAULT]";class pe{constructor(X,Z){this.name=X,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(X){const Z=this.normalizeInstanceIdentifier(X);if(!this.instancesDeferred.has(Z)){const ae=new H.BH;if(this.instancesDeferred.set(Z,ae),this.isInitialized(Z)||this.shouldAutoInitialize())try{const ot=this.getOrInitializeService({instanceIdentifier:Z});ot&&ae.resolve(ot)}catch{}}return this.instancesDeferred.get(Z).promise}getImmediate(X){var Z;const ae=this.normalizeInstanceIdentifier(X?.identifier),ot=null!==(Z=X?.optional)&&void 0!==Z&&Z;if(!this.isInitialized(ae)&&!this.shouldAutoInitialize()){if(ot)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ae})}catch(ze){if(ot)return null;throw ze}}getComponent(){return this.component}setComponent(X){if(X.name!==this.name)throw Error(`Mismatching Component ${X.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=X,this.shouldAutoInitialize()){if(function we(xe){return"EAGER"===xe.instantiationMode}(X))try{this.getOrInitializeService({instanceIdentifier:ce})}catch{}for(const[Z,ae]of this.instancesDeferred.entries()){const ot=this.normalizeInstanceIdentifier(Z);try{const ze=this.getOrInitializeService({instanceIdentifier:ot});ae.resolve(ze)}catch{}}}}clearInstance(X=ce){this.instancesDeferred.delete(X),this.instancesOptions.delete(X),this.instances.delete(X)}delete(){var X=this;return(0,g.Z)(function*(){const Z=Array.from(X.instances.values());yield Promise.all([...Z.filter(ae=>"INTERNAL"in ae).map(ae=>ae.INTERNAL.delete()),...Z.filter(ae=>"_delete"in ae).map(ae=>ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(X=ce){return this.instances.has(X)}getOptions(X=ce){return this.instancesOptions.get(X)||{}}initialize(X={}){const{options:Z={}}=X,ae=this.normalizeInstanceIdentifier(X.instanceIdentifier);if(this.isInitialized(ae))throw Error(`${this.name}(${ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ot=this.getOrInitializeService({instanceIdentifier:ae,options:Z});for(const[ze,je]of this.instancesDeferred.entries())ae===this.normalizeInstanceIdentifier(ze)&&je.resolve(ot);return ot}onInit(X,Z){var ae;const ot=this.normalizeInstanceIdentifier(Z),ze=null!==(ae=this.onInitCallbacks.get(ot))&&void 0!==ae?ae:new Set;ze.add(X),this.onInitCallbacks.set(ot,ze);const je=this.instances.get(ot);return je&&X(je,ot),()=>{ze.delete(X)}}invokeOnInitCallbacks(X,Z){const ae=this.onInitCallbacks.get(Z);if(ae)for(const ot of ae)try{ot(X,Z)}catch{}}getOrInitializeService({instanceIdentifier:X,options:Z={}}){let ae=this.instances.get(X);if(!ae&&this.component&&(ae=this.component.instanceFactory(this.container,{instanceIdentifier:(xe=X,xe===ce?void 0:xe),options:Z}),this.instances.set(X,ae),this.instancesOptions.set(X,Z),this.invokeOnInitCallbacks(ae,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,ae)}catch{}var xe;return ae||null}normalizeInstanceIdentifier(X=ce){return this.component?this.component.multipleInstances?X:ce:X}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ge{constructor(X){this.name=X,this.providers=new Map}addComponent(X){const Z=this.getProvider(X.name);if(Z.isComponentSet())throw new Error(`Component ${X.name} has already been registered with ${this.name}`);Z.setComponent(X)}addOrOverwriteComponent(X){this.getProvider(X.name).isComponentSet()&&this.providers.delete(X.name),this.addComponent(X)}getProvider(X){if(this.providers.has(X))return this.providers.get(X);const Z=new pe(X,this);return this.providers.set(X,Z),Z}getProviders(){return Array.from(this.providers.values())}}},1877:(yt,Ne,V)=>{"use strict";V.d(Ne,{Am:()=>xe,Ub:()=>ge,Yd:()=>we,in:()=>H});const g=[];var H=(()=>{return(X=H||(H={}))[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",H;var X})();const O={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},ce=H.INFO,pe={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},De=(X,Z,...ae)=>{if(Z<X.logLevel)return;const ot=(new Date).toISOString(),ze=pe[Z];if(!ze)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[ze](`[${ot}]  ${X.name}:`,...ae)};class we{constructor(Z){this.name=Z,this._logLevel=ce,this._logHandler=De,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in H))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?O[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...Z),this._logHandler(this,H.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...Z),this._logHandler(this,H.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,H.INFO,...Z),this._logHandler(this,H.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,H.WARN,...Z),this._logHandler(this,H.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...Z),this._logHandler(this,H.ERROR,...Z)}}function ge(X){g.forEach(Z=>{Z.setLogLevel(X)})}function xe(X,Z){for(const ae of g){let ot=null;Z&&Z.level&&(ot=O[Z.level]),ae.userLogHandler=null===X?null:(ze,je,...et)=>{const Ie=et.map(be=>{if(null==be)return null;if("string"==typeof be)return be;if("number"==typeof be||"boolean"==typeof be)return be.toString();if(be instanceof Error)return be.message;try{return JSON.stringify(be)}catch{return null}}).filter(be=>be).join(" ");je>=(ot??ze.logLevel)&&X({level:H[je].toLowerCase(),message:Ie,args:et,type:ze.name})}}}},8766:(yt,Ne,V)=>{"use strict";V.d(Ne,{Lj:()=>Le,X3:()=>Je});var g=V(5861);let O,ce;const we=new WeakMap,ge=new WeakMap,xe=new WeakMap,X=new WeakMap,Z=new WeakMap;let ze={get(_e,me,te){if(_e instanceof IDBTransaction){if("done"===me)return ge.get(_e);if("objectStoreNames"===me)return _e.objectStoreNames||xe.get(_e);if("store"===me)return te.objectStoreNames[1]?void 0:te.objectStore(te.objectStoreNames[0])}return be(_e[me])},set:(_e,me,te)=>(_e[me]=te,!0),has:(_e,me)=>_e instanceof IDBTransaction&&("done"===me||"store"===me)||me in _e};function Ie(_e){return"function"==typeof _e?function et(_e){return _e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function De(){return ce||(ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_e)?function(...me){return _e.apply(tt(this),me),be(we.get(this))}:function(...me){return be(_e.apply(tt(this),me))}:function(me,...te){const oe=_e.call(tt(this),me,...te);return xe.set(oe,me.sort?me.sort():[me]),be(oe)}}(_e):(_e instanceof IDBTransaction&&function ot(_e){if(ge.has(_e))return;const me=new Promise((te,oe)=>{const re=()=>{_e.removeEventListener("complete",ve),_e.removeEventListener("error",fe),_e.removeEventListener("abort",fe)},ve=()=>{te(),re()},fe=()=>{oe(_e.error||new DOMException("AbortError","AbortError")),re()};_e.addEventListener("complete",ve),_e.addEventListener("error",fe),_e.addEventListener("abort",fe)});ge.set(_e,me)}(_e),((_e,me)=>me.some(te=>_e instanceof te))(_e,function pe(){return O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_e,ze):_e)}function be(_e){if(_e instanceof IDBRequest)return function ae(_e){const me=new Promise((te,oe)=>{const re=()=>{_e.removeEventListener("success",ve),_e.removeEventListener("error",fe)},ve=()=>{te(be(_e.result)),re()},fe=()=>{oe(_e.error),re()};_e.addEventListener("success",ve),_e.addEventListener("error",fe)});return me.then(te=>{te instanceof IDBCursor&&we.set(te,_e)}).catch(()=>{}),Z.set(me,_e),me}(_e);if(X.has(_e))return X.get(_e);const me=Ie(_e);return me!==_e&&(X.set(_e,me),Z.set(me,_e)),me}const tt=_e=>Z.get(_e);function Je(_e,me,{blocked:te,upgrade:oe,blocking:re,terminated:ve}={}){const fe=indexedDB.open(_e,me),Ge=be(fe);return oe&&fe.addEventListener("upgradeneeded",_t=>{oe(be(fe.result),_t.oldVersion,_t.newVersion,be(fe.transaction))}),te&&fe.addEventListener("blocked",()=>te()),Ge.then(_t=>{ve&&_t.addEventListener("close",()=>ve()),re&&_t.addEventListener("versionchange",()=>re())}).catch(()=>{}),Ge}function Le(_e,{blocked:me}={}){const te=indexedDB.deleteDatabase(_e);return me&&te.addEventListener("blocked",()=>me()),be(te).then(()=>{})}const Ve=["get","getKey","getAll","getAllKeys","count"],Te=["put","add","delete","clear"],nt=new Map;function B(_e,me){if(!(_e instanceof IDBDatabase)||me in _e||"string"!=typeof me)return;if(nt.get(me))return nt.get(me);const te=me.replace(/FromIndex$/,""),oe=me!==te,re=Te.includes(te);if(!(te in(oe?IDBIndex:IDBObjectStore).prototype)||!re&&!Ve.includes(te))return;const ve=function(){var fe=(0,g.Z)(function*(Ge,..._t){const tn=this.transaction(Ge,re?"readwrite":"readonly");let Bt=tn.store;return oe&&(Bt=Bt.index(_t.shift())),(yield Promise.all([Bt[te](..._t),re&&tn.done]))[0]});return function(_t){return fe.apply(this,arguments)}}();return nt.set(me,ve),ve}!function je(_e){ze=_e(ze)}(_e=>({..._e,get:(me,te,oe)=>B(me,te)||_e.get(me,te,oe),has:(me,te)=>!!B(me,te)||_e.has(me,te)}))},5861:(yt,Ne,V)=>{"use strict";function g(O,ce,pe,De,we,ge,xe){try{var X=O[ge](xe),Z=X.value}catch(ae){return void pe(ae)}X.done?ce(Z):Promise.resolve(Z).then(De,we)}function H(O){return function(){var ce=this,pe=arguments;return new Promise(function(De,we){var ge=O.apply(ce,pe);function xe(Z){g(ge,De,we,xe,X,"next",Z)}function X(Z){g(ge,De,we,xe,X,"throw",Z)}xe(void 0)})}}V.d(Ne,{Z:()=>H})}},yt=>{yt(yt.s=8721)}]);